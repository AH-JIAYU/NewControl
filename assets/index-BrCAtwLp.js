
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as ce,a as fe}from"./index-cmnQJw7N.js";import{f as _e,r as c,p as X,aD as h,h as v,aE as be,o as n,c as y,ai as k,a as t,w as l,i as u,l as i,a0 as C,a1 as w,b as r,A as f,ay as R,ao as Ve,aC as E,az as Y,a2 as Z,an as ge,x as ye,ar as xe,as as Ie,B as ee,_ as ke,d as le}from"./index-CTklHSgw.js";import{a as U}from"./menu-sGXqquFs.js";const _=x=>(xe("data-v-84ca276a"),x=x(),Ie(),x),he={class:"absolute-container"},Ce={class:"page-main"},we=_(()=>f("span",{class:"label-tip"},"即 name ，系统唯一",-1)),Ee={class:"label-tip"},Ue=_(()=>f("span",{class:"label-tip"},"请勿在带有参数的路由地址上开启该设置",-1)),Be={class:"label-tip"},Se={class:"label-tip"},Ne=_(()=>f("span",{class:"label-tip"},"当缓存规则为“始终缓存”时生效",-1)),Oe=_(()=>f("span",{class:"label-tip"},"如果子路由不在导航显示，则需要设置高亮的上级路由地址",-1)),Me=_(()=>f("span",{class:"label-tip"},"不宜设置太长，建议控制在4个字符内",-1)),Re=_(()=>f("span",{class:"label-tip"},"请设置 http/https 开头的完整外链地址",-1)),Le=_(()=>f("span",{class:"label-tip"},"请勿与外链同时设置，同时设置时，本设置会失效",-1)),$e=_(()=>f("span",{class:"label-tip"},"请设置有效的长度单位，例如：px/em/rem等",-1)),ae=_e({name:"PagesExampleMenuDetail",__name:"index",props:["id","parentId"],setup(x,{expose:te}){const L=x,B=c(!1),I=c(),S=c(!1),$=c(),e=c({id:L.id??"",parentId:L.parentId??"",path:"",redirect:"",name:"",component:"",sort:"",grade:"",navigation:"",meta:{title:"",icon:"",activeIcon:"",defaultOpened:!1,alwaysOpened:!1,permanent:!1,auth:[],auths:[],menu:!0,breadcrumb:!0,activeMenu:"",cache:[],noCache:[],badge:"",newWindow:!1,link:"",iframe:"",copyright:!1,paddingBottom:"0px"}}),oe=c({path:[{required:!0,message:"请输入路由地址",trigger:"blur"}],"meta.title":[{required:!0,message:"请输入显示名称",trigger:"blur"}]});X(()=>{U.list({type:"flat"}).then(m=>{$.value=m.data}),e.value.id!==""&&ne()});function ne(){B.value=!0,e.value.id&&U.detail(e.value.id).then(m=>{B.value=!1,e.value.id=m.data.id,e.value.parentId=m.data.parentId,e.value.path=m.data.path,e.value.redirect=m.data.redirect,e.value.name=m.data.name,e.value.component=m.data.component,Object.assign(e.value.meta,m.data.meta)})}const V=c(""),N=c(!1),D=c();function ue(m){typeof e.value.meta.cache=="object"&&e.value.meta.cache.splice(e.value.meta.cache.indexOf(m),1)}function de(){N.value=!0,Z(()=>{D.value.input.focus()})}function F(){V.value&&typeof e.value.meta.cache=="object"&&(e.value.meta.cache.includes(V.value)?h.warning("规则已存在"):e.value.meta.cache.push(V.value)),N.value=!1,V.value=""}const g=c(""),O=c(!1),T=c();function pe(m){e.value.meta.noCache.splice(e.value.meta.noCache.indexOf(m),1)}function re(){O.value=!0,Z(()=>{T.value.input.focus()})}function j(){g.value&&(e.value.meta.noCache.includes(g.value)?h.warning("规则已存在"):e.value.meta.noCache.push(g.value)),O.value=!1,g.value=""}return X(()=>{S.value=!e.value.id&&!e.value.parentId}),te({submit(){return new Promise(m=>{e.value.id===""?I.value&&I.value.validate(o=>{o&&U.create(e.value).then(()=>{h.success({message:"1模拟新增成功",center:!0}),m()})}):I.value&&I.value.validate(o=>{o&&U.edit(e.value).then(()=>{h.success({message:"1模拟编辑成功",center:!0}),m()})})})}}),(m,o)=>{const P=ge,q=v("el-option"),W=v("el-select"),d=v("ElFormItem"),p=v("ElCol"),s=v("ElInput"),M=v("ElLink"),z=v("ElRow"),K=ce,b=v("ElSwitch"),A=ye,H=v("ElTooltip"),G=v("ElTag"),J=v("ElButton"),Q=v("ElSpace"),ie=fe,me=v("ElForm"),se=be("loading");return n(),y("div",he,[k((n(),y("div",Ce,[t(me,{ref_key:"formRef",ref:I,model:e.value,rules:oe.value,"label-position":"top"},{default:l(()=>[t(ie,{"right-side-width":"500px","hide-right-side-toggle":"",style:{"padding-bottom":"100px"}},{default:l(()=>[e.value.parentId||S.value?(n(),u(P,{key:0,title:"基础配置",content:"标准路由配置，包含 path/redirect/name/component"})):i("",!0),e.value.parentId||S.value?(n(),u(z,{key:1,gutter:30,style:{padding:"20px"}},{default:l(()=>[t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"菜单等级"},{default:l(()=>[t(W,{modelValue:e.value.grade,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value.grade=a),clear:"","value-key":"",placeholder:"",clearable:"",filterable:""},{default:l(()=>[(n(),y(C,null,w(4,a=>t(q,{key:a,label:a,value:a},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"父级导航"},{default:l(()=>[t(W,{modelValue:e.value.parentId,"onUpdate:modelValue":o[1]||(o[1]=a=>e.value.parentId=a),clear:"","value-key":"",placeholder:"",clearable:"",filterable:""},{default:l(()=>[(n(!0),y(C,null,w($.value,a=>(n(),u(q,{key:a.id,label:a.meta.title,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"排序",prop:"redirect"},{default:l(()=>[t(s,{modelValue:e.value.sort,"onUpdate:modelValue":o[2]||(o[2]=a=>e.value.sort=a),clearable:"",placeholder:"请输入排序"},null,8,["modelValue"])]),_:1})]),_:1}),e.value.parentId?(n(),u(p,{key:0,xl:12,lg:24},{default:l(()=>[t(d,{label:"路由地址",prop:"path"},{default:l(()=>[t(s,{modelValue:e.value.path,"onUpdate:modelValue":o[3]||(o[3]=a=>e.value.path=a),clearable:"",placeholder:"请输入路由地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:1,xl:12,lg:24},{default:l(()=>[t(d,{label:"重定向",prop:"redirect"},{default:l(()=>[t(s,{modelValue:e.value.redirect,"onUpdate:modelValue":o[4]||(o[4]=a=>e.value.redirect=a),clearable:"",placeholder:"请输入重定向地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:2,xl:12,lg:24},{default:l(()=>[t(d,{prop:"name"},{label:l(()=>[r(" 路由命名 "),we]),default:l(()=>[t(s,{modelValue:e.value.name,"onUpdate:modelValue":o[5]||(o[5]=a=>e.value.name=a),clearable:"",placeholder:"请输入路由命名"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:3,xl:12,lg:24},{default:l(()=>[t(d,{prop:"component"},{label:l(()=>[r(" 组件路径 "),f("span",Ee,[r(" 顶级路由请设置“"),t(M,{type:"primary",underline:!1,onClick:o[6]||(o[6]=R(a=>e.value.component="Layout",["prevent"]))},{default:l(()=>[r("Layout ")]),_:1}),r("”，中间层级路由无需设置 ")])]),default:l(()=>[t(s,{modelValue:e.value.component,"onUpdate:modelValue":o[7]||(o[7]=a=>e.value.component=a),clearable:"",placeholder:"请输入完整组件路径"},Ve({_:2},[e.value.component!=="Layout"?{name:"prepend",fn:l(()=>[r(" /src/views/ ")]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1})):i("",!0)]),_:1})):i("",!0),t(P,{title:"扩展配置"}),t(z,{gutter:30,style:{padding:"20px"}},{default:l(()=>[t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"显示名称",prop:"meta.title"},{default:l(()=>[t(s,{modelValue:e.value.meta.title,"onUpdate:modelValue":o[8]||(o[8]=a=>e.value.meta.title=a),clearable:"",placeholder:"请输入显示名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"默认图标",prop:"meta.icon"},{default:l(()=>[t(K,{modelValue:e.value.meta.icon,"onUpdate:modelValue":o[9]||(o[9]=a=>e.value.meta.icon=a)},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{xl:12,lg:24},{default:l(()=>[t(d,{label:"激活图标",prop:"meta.activeIcon"},{default:l(()=>[t(K,{modelValue:e.value.meta.activeIcon,"onUpdate:modelValue":o[10]||(o[10]=a=>e.value.meta.activeIcon=a)},null,8,["modelValue"])]),_:1})]),_:1}),e.value.parentId?(n(),u(p,{key:0,xl:12,lg:24},{default:l(()=>[t(d,{label:"默认展开",prop:"meta.defaultOpened"},{default:l(()=>[t(b,{modelValue:e.value.meta.defaultOpened,"onUpdate:modelValue":o[11]||(o[11]=a=>e.value.meta.defaultOpened=a),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:1,xl:12,lg:24},{default:l(()=>[t(d,{label:"始终展开",prop:"meta.alwaysOpened"},{default:l(()=>[t(b,{modelValue:e.value.meta.alwaysOpened,"onUpdate:modelValue":o[12]||(o[12]=a=>e.value.meta.alwaysOpened=a),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:2,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.permanent"},{label:l(()=>[r(" 常驻标签页 "),Ue]),default:l(()=>[t(b,{modelValue:e.value.meta.permanent,"onUpdate:modelValue":o[13]||(o[13]=a=>e.value.meta.permanent=a),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:3,xl:12,lg:24},{default:l(()=>[t(d,{label:"在导航显示",prop:"meta.menu"},{default:l(()=>[t(b,{modelValue:e.value.meta.menu,"onUpdate:modelValue":o[14]||(o[14]=a=>e.value.meta.menu=a),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:4,xl:12,lg:24},{default:l(()=>[t(d,{label:"在面包屑显示",prop:"meta.breadcrumb"},{default:l(()=>[t(b,{modelValue:e.value.meta.breadcrumb,"onUpdate:modelValue":o[15]||(o[15]=a=>e.value.meta.breadcrumb=a),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:5,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.cache"},{label:l(()=>[r(" 缓存规则 "),t(H,{content:"当跳转到设置的路由时，则会对当前路由进行缓存",placement:"top"},{default:l(()=>[t(A,{name:"i-ri:question-line"})]),_:1}),k(f("span",Be,[r("切换为"),t(M,{type:"primary",underline:!1,onClick:o[16]||(o[16]=R(a=>e.value.meta.cache=!0,["prevent"]))},{default:l(()=>[r("始终缓存")]),_:1})],512),[[E,typeof e.value.meta.cache=="object"]]),k(f("span",Se,[r("切换为"),t(M,{type:"primary",underline:!1,onClick:o[17]||(o[17]=R(a=>e.value.meta.cache=[],["prevent"]))},{default:l(()=>[r("规则模式")]),_:1})],512),[[E,typeof e.value.meta.cache=="boolean"]])]),default:l(()=>[k(t(Q,null,{default:l(()=>[(n(!0),y(C,null,w(e.value.meta.cache,a=>(n(),u(G,{key:a,size:"large",closable:"","disable-transitions":!1,onClose:ve=>ue(a)},{default:l(()=>[r(ee(a),1)]),_:2},1032,["onClose"]))),128)),N.value?(n(),u(s,{key:0,ref_key:"InputCacheRef",ref:D,modelValue:V.value,"onUpdate:modelValue":o[18]||(o[18]=a=>V.value=a),style:{width:"200px"},onKeyup:Y(F,["enter"]),onBlur:F},null,8,["modelValue"])):(n(),u(J,{key:1,onClick:de},{default:l(()=>[r(" 新增 ")]),_:1}))]),_:1},512),[[E,typeof e.value.meta.cache=="object"]]),k(f("div",null," 始终缓存 ",512),[[E,typeof e.value.meta.cache=="boolean"]])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:6,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.noCache"},{label:l(()=>[r(" 不缓存规则 "),t(H,{content:"当跳转到设置的路由时，则会对当前路由取消缓存",placement:"top"},{default:l(()=>[t(A,{name:"i-ri:question-line"})]),_:1}),Ne]),default:l(()=>[t(Q,null,{default:l(()=>[(n(!0),y(C,null,w(e.value.meta.noCache,a=>(n(),u(G,{key:a,size:"large",closable:"","disable-transitions":!1,onClose:ve=>pe(a)},{default:l(()=>[r(ee(a),1)]),_:2},1032,["onClose"]))),128)),O.value?(n(),u(s,{key:0,ref_key:"InputNoCacheRef",ref:T,modelValue:g.value,"onUpdate:modelValue":o[19]||(o[19]=a=>g.value=a),style:{width:"200px"},onKeyup:Y(j,["enter"]),onBlur:j},null,8,["modelValue"])):(n(),u(J,{key:1,onClick:re},{default:l(()=>[r(" 新增 ")]),_:1}))]),_:1})]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:7,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.activeMenu"},{label:l(()=>[r(" 高亮导航 "),Oe]),default:l(()=>[t(s,{modelValue:e.value.meta.activeMenu,"onUpdate:modelValue":o[20]||(o[20]=a=>e.value.meta.activeMenu=a),clearable:"",placeholder:"请输入高亮导航的完整路由地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:8,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.badge"},{label:l(()=>[r(" 徽标 "),Me]),default:l(()=>[t(s,{modelValue:e.value.meta.badge,"onUpdate:modelValue":o[21]||(o[21]=a=>e.value.meta.badge=a),clearable:"",placeholder:"请输入徽标显示内容"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:9,xl:12,lg:24},{default:l(()=>[t(d,{label:"新窗口打开",prop:"meta.newWindow"},{default:l(()=>[t(b,{modelValue:e.value.meta.newWindow,"onUpdate:modelValue":o[22]||(o[22]=a=>e.value.meta.newWindow=a),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:10,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.link"},{label:l(()=>[r(" 访问外链 "),Re]),default:l(()=>[t(s,{modelValue:e.value.meta.link,"onUpdate:modelValue":o[23]||(o[23]=a=>e.value.meta.link=a),clearable:"",placeholder:"请输入网址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:11,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.iframe"},{label:l(()=>[r(" 内嵌网页 "),Le]),default:l(()=>[t(s,{modelValue:e.value.meta.iframe,"onUpdate:modelValue":o[24]||(o[24]=a=>e.value.meta.iframe=a),clearable:"",placeholder:"请输入网址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:12,xl:12,lg:24},{default:l(()=>[t(d,{label:"底部版权",prop:"meta.copyright"},{default:l(()=>[t(b,{modelValue:e.value.meta.copyright,"onUpdate:modelValue":o[25]||(o[25]=a=>e.value.meta.copyright=a),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(n(),u(p,{key:13,xl:12,lg:24},{default:l(()=>[t(d,{prop:"meta.paddingBottom"},{label:l(()=>[r(" 底部填充高度 "),$e]),default:l(()=>[t(s,{modelValue:e.value.meta.paddingBottom,"onUpdate:modelValue":o[26]||(o[26]=a=>e.value.meta.paddingBottom=a),clearable:"",placeholder:"请输入显示名称"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1})]),_:1},8,["model","rules"])])),[[se,B.value]])])}}});typeof le=="function"&&le(ae);const je=ke(ae,[["__scopeId","data-v-84ca276a"]]);export{je as default};
