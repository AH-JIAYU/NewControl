
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{f as u,g as V,r as $,B as w,i as c,ap as D,o as s,c as M,a as l,w as t,b as d,ai as N,j as r,q as k,D as p,n as f,N as S,aF as U,ao as j,J as A,e as F,_ as H,d as C}from"./index-DsJuNEqK.js";import R from"./index-D1W8U3BN.js";import"./index-CJKGFRjN.js";import"./index-D720C594.js";import"./menu-tfPYhZTz.js";import"./useTabbar-CX9nppby.js";const E={list:()=>u.get("tenantMenu/list",{baseURL:"/mock/"}),detail:o=>u.get("menu/detail",{params:{id:o},baseURL:"/mock/"}),create:o=>u.post("menu/insert/insertMenu",o),edit:o=>u.post("menu/update/updateMenu",o),delete:o=>u.delete(`menu/delete/deleteMenu/${o}`)},q=["title"],J=["title"],G={style:{display:"flex","justify-content":"center"}},P=V({name:"PagesExampleMenuList",__name:"list",setup(o){const a=$({loading:!1,tableAutoHeight:!0,dataList:[],formModeProps:{visible:!1,id:"",parentId:""}});w(()=>{_()});function _(){a.value.loading=!0,E.list().then(n=>{a.value.loading=!1,a.value.dataList=n.data})}function g(n){a.value.formModeProps.id="",a.value.formModeProps.parentId=n.id??"",a.value.formModeProps.visible=!0}function x(n){a.value.formModeProps.id=n.id??"",a.value.formModeProps.parentId="",a.value.formModeProps.visible=!0}function L(n){U.confirm(`确认删除「${n.meta.title}」吗？`,"确认信息").then(()=>{E.delete(n.id).then(()=>{_(),j.success({message:"删除成功",center:!0})})}).catch(()=>{})}return(n,h)=>{const v=A,m=c("ElButton"),B=c("ElSpace"),i=c("ElTableColumn"),b=c("ElTag"),I=c("ElTable"),z=F,T=D("loading");return s(),M("div",{class:S({"absolute-container":a.value.tableAutoHeight})},[l(z,null,{default:t(()=>[l(B,null,{default:t(()=>[l(m,{type:"primary",size:"default",onClick:g},{icon:t(()=>[l(v,{name:"i-ep:plus"})]),default:t(()=>[d(" 新增主导航 ")]),_:1})]),_:1}),N((s(),r(I,{class:"mt-4",data:a.value.dataList,"row-key":"id",stripe:"","highlight-current-row":"","default-expand-all":"",border:"",height:"100%"},{default:t(()=>[l(i,{prop:"meta.title",label:"标题","min-width":"200",fixed:"left"}),l(i,{label:"路由",width:"200"},{default:t(({row:e})=>[k("span",{title:e.path},p(e.path),9,q)]),_:1}),l(i,{label:"页面组件",width:"200"},{default:t(({row:e})=>[e.component==="Layout"?(s(),r(b,{key:0},{default:t(()=>[d(" Layout ")]),_:1})):(s(),M("span",{key:1,title:e.component},p(e.component),9,J))]),_:1}),l(i,{label:"图标",width:"90",align:"center"},{default:t(({row:e})=>[k("div",G,[e.meta.icon?(s(),r(v,{key:0,name:e.meta.icon,size:24},null,8,["name"])):f("",!0)])]),_:1}),l(i,{label:"激活图标",width:"90",align:"center"},{default:t(({row:e})=>[e.meta.activeIcon?(s(),r(v,{key:0,name:e.meta.activeIcon,size:24},null,8,["name"])):f("",!0)]),_:1}),l(i,{label:"菜单",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.menu=="boolean"?(s(),r(b,{key:0,type:e.meta.menu?"success":"danger"},{default:t(()=>[d(p(e.meta.menu?"显示":"隐藏"),1)]),_:2},1032,["type"])):f("",!0)]),_:1}),l(i,{label:"面包屑",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.breadcrumb=="boolean"?(s(),r(b,{key:0,type:e.meta.breadcrumb?"success":"danger"},{default:t(()=>[d(p(e.meta.breadcrumb?"显示":"隐藏"),1)]),_:2},1032,["type"])):f("",!0)]),_:1}),l(i,{label:"操作",width:"250",align:"center",fixed:"right"},{default:t(e=>[l(m,{type:"info",size:"small",plain:"",onClick:y=>g(e.row)},{default:t(()=>[d(" 新增导航 ")]),_:2},1032,["onClick"]),l(m,{type:"primary",size:"small",plain:"",onClick:y=>x(e.row)},{default:t(()=>[d(" 编辑 ")]),_:2},1032,["onClick"]),l(m,{type:"danger",size:"small",plain:"",onClick:y=>L(e.row)},{default:t(()=>[d(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[T,a.value.loading]])]),_:1}),l(R,{id:a.value.formModeProps.id,modelValue:a.value.formModeProps.visible,"onUpdate:modelValue":h[0]||(h[0]=e=>a.value.formModeProps.visible=e),"parent-id":a.value.formModeProps.parentId,onSuccess:_},null,8,["id","modelValue","parent-id"])],2)}}});typeof C=="function"&&C(P);const Z=H(P,[["__scopeId","data-v-8311effc"]]);export{Z as default};
