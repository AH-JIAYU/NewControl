
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{f as L,r as T,p as V,h as r,aE as w,o as i,c as h,a as l,w as t,b as s,ai as D,i as d,A as y,B as u,l as m,M as $,aF as S,aD as N,x as A,e as F,_ as H,d as M}from"./index-b9-Qwvd3.js";import j from"./index-CggExlDO.js";import{a as k}from"./menu-BEWG5_yh.js";import"./index-2vIJPnHe.js";import"./index-D4z2P44r.js";import"./useTabbar-CR34tQS_.js";const U=["title"],q=["title"],G={style:{display:"flex","justify-content":"center"}},E=L({name:"PagesExampleMenuList",__name:"list",setup(J){const a=T({loading:!1,tableAutoHeight:!0,dataList:[],formModeProps:{visible:!1,id:"",parentId:""}});V(()=>{p()});function p(){a.value.loading=!0,k.list({type:"normal"}).then(o=>{a.value.loading=!1,a.value.dataList=o.data})}function v(o){a.value.formModeProps.id="",a.value.formModeProps.parentId=o.id??"",a.value.formModeProps.visible=!0}function C(o){a.value.formModeProps.id=o.id??"",a.value.formModeProps.parentId="",a.value.formModeProps.visible=!0}function P(o){S.confirm(`确认删除「${o.meta.title}」吗？`,"确认信息").then(()=>{k.delete(o.id).then(()=>{p(),N.success({message:"模拟删除成功",center:!0})})}).catch(()=>{})}return(o,b)=>{const f=A,c=r("ElButton"),x=r("ElSpace"),n=r("ElTableColumn"),_=r("ElTag"),B=r("ElTable"),I=F,z=w("loading");return i(),h("div",{class:$({"absolute-container":a.value.tableAutoHeight})},[l(I,null,{default:t(()=>[l(x,null,{default:t(()=>[l(c,{type:"primary",size:"default",onClick:v},{icon:t(()=>[l(f,{name:"i-ep:plus"})]),default:t(()=>[s(" 新增主导航 ")]),_:1})]),_:1}),D((i(),d(B,{class:"mt-4",data:a.value.dataList,"row-key":"id",stripe:"","highlight-current-row":"","default-expand-all":"",border:"",height:"100%"},{default:t(()=>[l(n,{prop:"meta.title",label:"标题","min-width":"200",fixed:"left"}),l(n,{label:"路由",width:"200"},{default:t(({row:e})=>[y("span",{title:e.path},u(e.path),9,U)]),_:1}),l(n,{label:"页面组件",width:"200"},{default:t(({row:e})=>[e.component==="Layout"?(i(),d(_,{key:0},{default:t(()=>[s(" Layout ")]),_:1})):(i(),h("span",{key:1,title:e.component},u(e.component),9,q))]),_:1}),l(n,{label:"图标",width:"90",align:"center"},{default:t(({row:e})=>[y("div",G,[e.meta.icon?(i(),d(f,{key:0,name:e.meta.icon,size:24},null,8,["name"])):m("",!0)])]),_:1}),l(n,{label:"激活图标",width:"90",align:"center"},{default:t(({row:e})=>[e.meta.activeIcon?(i(),d(f,{key:0,name:e.meta.activeIcon,size:24},null,8,["name"])):m("",!0)]),_:1}),l(n,{label:"菜单",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.menu=="boolean"?(i(),d(_,{key:0,type:e.meta.menu?"success":"danger"},{default:t(()=>[s(u(e.meta.menu?"显示":"隐藏"),1)]),_:2},1032,["type"])):m("",!0)]),_:1}),l(n,{label:"面包屑",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.breadcrumb=="boolean"?(i(),d(_,{key:0,type:e.meta.breadcrumb?"success":"danger"},{default:t(()=>[s(u(e.meta.breadcrumb?"显示":"隐藏"),1)]),_:2},1032,["type"])):m("",!0)]),_:1}),l(n,{label:"操作",width:"250",align:"center",fixed:"right"},{default:t(e=>[l(c,{type:"info",size:"small",plain:"",onClick:g=>v(e.row)},{default:t(()=>[s(" 新增导航 ")]),_:2},1032,["onClick"]),l(c,{type:"primary",size:"small",plain:"",onClick:g=>C(e.row)},{default:t(()=>[s(" 编辑 ")]),_:2},1032,["onClick"]),l(c,{type:"danger",size:"small",plain:"",onClick:g=>P(e.row)},{default:t(()=>[s(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[z,a.value.loading]])]),_:1}),l(j,{id:a.value.formModeProps.id,modelValue:a.value.formModeProps.visible,"onUpdate:modelValue":b[0]||(b[0]=e=>a.value.formModeProps.visible=e),"parent-id":a.value.formModeProps.parentId,onSuccess:p},null,8,["id","modelValue","parent-id"])],2)}}});typeof M=="function"&&M(E);const Y=H(E,[["__scopeId","data-v-58ec0f59"]]);export{Y as default};
