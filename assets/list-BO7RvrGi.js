
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as O}from"./index-CXHOK3rl.js";import{f as D,g as Q,r as g,B as W,Z as w,i,ap as X,o as f,c as Y,q as r,a,w as n,ai as h,j as L,D as m,aE as k,b as ee,l as p,J as ae,aA as te,aB as oe,_ as ne,d as z}from"./index-CqCdPddg.js";import{u as ie}from"./usePagination-BbGoEmz_.js";const B={list:()=>D.get("dict/get/getDict"),itemList:d=>D.get(`/dict/get/getDictDataSourceByDictId/${d}`)},le=d=>(te("data-v-968e0b58"),d=d(),oe(),d),se={class:"absolute-container"},ce={class:"page-main"},re={class:"custom-tree-node"},de=["title"],ue={class:"code"},pe={class:"dictionary-container"},_e={class:"dictionary-container"},ge=le(()=>r("div",{class:"empty"}," 请在左侧新增或选择一个字典 ",-1)),he=[ge],x=Q({name:"PagesExampleDictionary",__name:"list",setup(d){const v=g(),c=g({search:"",tree:[],currentNode:void 0,currentData:void 0,dialog:{visible:!1,parentId:"",id:""},row:"",loading:!1}),{pagination:l,onSizeChange:N,onCurrentChange:T,onSortChange:V}=ie();l.value.size=20,l.value.sizes=[20,50,100];const P=g(),t=g({loading:!1,search:{dictionaryId:"",title:""},dataList:[],selectionDataList:[],row:"",dialog:{visible:!1,id:""}});function y(){c.value.loading=!0,t.value.search.dictionaryId="",B.list().then(e=>{c.value.tree=e.data.catalogueList,c.value.loading=!1})}W(()=>{y()}),w(()=>c.value.search,e=>{v.value.filter(e)});function R(e,o){return e?o.label.includes(e):!0}function G(e){l.value.page=1,t.value.search.dictionaryId=e.id}w(()=>t.value.search.dictionaryId,()=>{u()});function u(){t.value.loading=!0,B.itemList(t.value.search.dictionaryId).then(e=>{t.value.loading=!1,t.value.dataList=e.data,t.value.dataList.forEach(o=>{o.enableLoading=!1}),l.value.total=e.data.length})}function U(e){N(e).then(()=>u())}function $(e=1){T(e).then(()=>u())}function j({prop:e,order:o}){V(e,o).then(()=>u())}return(e,o)=>{const b=ae,E=i("ElButton"),q=i("ElButtonGroup"),C=i("ElInput"),A=i("ElTree"),F=i("ElScrollbar"),J=i("ElSpace"),_=i("ElTableColumn"),M=i("ElTag"),Z=i("ElTable"),H=i("ElPagination"),K=O,I=X("loading");return f(),Y("div",se,[r("div",ce,[a(K,{"hide-left-side-toggle":""},{leftSide:n(()=>[a(q,{class:"btns"},{default:n(()=>[a(E,{class:"add",onClick:y},{icon:n(()=>[a(b,{name:"i-ep:refresh"})]),_:1})]),_:1}),a(C,{modelValue:c.value.search,"onUpdate:modelValue":o[0]||(o[0]=s=>c.value.search=s),placeholder:"请输入关键词筛选字典",clearable:"",class:"search"},null,8,["modelValue"]),a(F,{class:"tree"},{default:n(()=>[h((f(),L(A,{ref_key:"dictionaryRef",ref:v,data:c.value.tree,"filter-node-method":R,"default-expand-all":"",onNodeClick:G},{default:n(({node:s,data:S})=>[r("div",re,[r("div",{class:"label",title:s.label},m(S.chineseName),9,de),r("div",ue,m(S.englishName),1)])]),_:1},8,["data","filter-node-method"])),[[I,c.value.loading]])]),_:1})]),default:n(()=>[h(r("div",pe,[a(J,{wrap:""},{default:n(()=>[a(C,{modelValue:t.value.search.title,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.search.title=s),placeholder:"请输入关键词筛选字典项",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),a(E,{onClick:u},{icon:n(()=>[a(b,{name:"i-ep:search"})]),_:1})]),_:1}),h((f(),L(Z,{ref_key:"dictionaryItemRef",ref:P,data:t.value.dataList,stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:j,onSelectionChange:o[2]||(o[2]=s=>t.value.selectionDataList=s)},{default:n(()=>[a(_,{type:"selection",align:"center",fixed:""}),a(_,{prop:"chineseName",label:"中文名称"}),a(_,{prop:"englishName",label:"英文名称"}),a(_,{label:"键值",align:"center",width:"150"},{default:n(s=>[a(M,{type:"info"},{default:n(()=>[ee(m(s.row.id),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[I,t.value.loading]]),a(H,{"current-page":p(l).page,total:p(l).total,"page-size":p(l).size,"page-sizes":p(l).sizes,layout:p(l).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:U,onCurrentChange:$},null,8,["current-page","total","page-size","page-sizes","layout"])],512),[[k,t.value.search.dictionaryId]]),h(r("div",_e,he,512),[[k,!t.value.search.dictionaryId]])]),_:1})])])}}});typeof z=="function"&&z(x);const ye=ne(x,[["__scopeId","data-v-968e0b58"]]);export{ye as default};
