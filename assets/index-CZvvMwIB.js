
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as E,_ as ye,b as xe}from"./menu-BuXABFQe.js";import{f as ke,K as he,B as Ie,r as f,s as le,h as m,ap as Ce,o,c as x,ai as I,a,w as l,b as u,i as d,l as i,a1 as w,a2 as U,q as v,aA as T,aq as Ee,aE as B,aB as ae,a3 as te,ao as S,an as we,z as Ue,at as Be,au as Se,I as ne,_ as Me,d as oe}from"./index-DliMWqTD.js";import{u as Ne}from"./useTabbar-Cl3ye03o.js";const _=k=>(Be("data-v-9f2dcdf9"),k=k(),Se(),k),Oe={class:"absolute-container"},Re={class:"page-main"},Le=_(()=>v("span",{class:"label-tip"},"即 name ，系统唯一",-1)),Te={class:"label-tip"},ze={style:{display:"flex"}},De=_(()=>v("span",{class:"label-tip"},"请勿在带有参数的路由地址上开启该设置",-1)),Fe={class:"label-tip"},$e={class:"label-tip"},qe=_(()=>v("span",{class:"label-tip"},"当缓存规则为“始终缓存”时生效",-1)),je=_(()=>v("span",{class:"label-tip"},"如果子路由不在导航显示，则需要设置高亮的上级路由地址",-1)),Ae=_(()=>v("span",{class:"label-tip"},"不宜设置太长，建议控制在4个字符内",-1)),Ke=_(()=>v("span",{class:"label-tip"},"请设置 http/https 开头的完整外链地址",-1)),Pe=_(()=>v("span",{class:"label-tip"},"请勿与外链同时设置，同时设置时，本设置会失效",-1)),We=_(()=>v("span",{class:"label-tip"},"请设置有效的长度单位，例如：px/em/rem等",-1)),ue=ke({name:"PagesExampleMenuDetail",__name:"index",props:["id","parentId"],setup(k){const z=k,de=he(),pe=Ne(),D=Ie(),M=f(!1),h=f(),N=f(!1),F=f([]),e=f({id:z.id??"",parentId:z.parentId??"",path:"",redirect:"",name:"",component:"",sort:"",grade:"",navigation:"",meta:{title:"",icon:"",activeIcon:"",defaultOpened:!1,alwaysOpened:!1,permanent:!1,auth:[],auths:[],menu:!0,breadcrumb:!0,activeMenu:"",cache:[],noCache:[],badge:"",newWindow:!1,link:"",iframe:"",copyright:!1,paddingBottom:"0px"}}),re=f({path:[{required:!0,message:"请输入路由地址",trigger:"blur"}],"meta.title":[{required:!0,message:"请输入显示名称",trigger:"blur"}]});le(()=>{E.list({type:"normal"}).then(s=>{F.value=s.data}),e.value.id!==""&&ie()});function ie(){M.value=!0,e.value.id&&E.detail(e.value.id).then(s=>{M.value=!1,e.value.id=s.data.id,e.value.parentId=s.data.parentId,e.value.path=s.data.path,e.value.redirect=s.data.redirect,e.value.name=s.data.name,e.value.component=s.data.component,Object.assign(e.value.meta,s.data.meta)})}const g=f(""),O=f(!1),$=f();function se(s){typeof e.value.meta.cache=="object"&&e.value.meta.cache.splice(e.value.meta.cache.indexOf(s),1)}function me(){O.value=!0,te(()=>{$.value.input.focus()})}function q(){g.value&&typeof e.value.meta.cache=="object"&&(e.value.meta.cache.includes(g.value)?S.warning("规则已存在"):e.value.meta.cache.push(g.value)),O.value=!1,g.value=""}const V=f(""),R=f(!1),j=f();function ce(s){e.value.meta.noCache.splice(e.value.meta.noCache.indexOf(s),1)}function ve(){R.value=!0,te(()=>{j.value.input.focus()})}function A(){V.value&&(e.value.meta.noCache.includes(V.value)?S.warning("规则已存在"):e.value.meta.noCache.push(V.value)),R.value=!1,V.value=""}le(()=>{N.value=!e.value.id&&!e.value.parentId});function K(){e.value.id===""?h.value&&h.value.validate(s=>{s&&E.create(e.value).then(()=>{S.success({message:"模拟新增成功",center:!0}),L()})}):h.value&&h.value.validate(s=>{s&&E.edit(e.value).then(()=>{S.success({message:"模拟编辑成功",center:!0}),L()})})}function P(){L()}function L(){D.settings.tabbar.enable&&D.settings.tabbar.mergeTabsBy!=="activeMenu"?pe.close({name:"pagesExampleGeneralMenuList"}):de.push({name:"pagesExampleGeneralMenuList"})}return(s,n)=>{const W=we,G=m("el-option"),H=m("el-select"),p=m("ElFormItem"),r=m("ElCol"),c=m("ElInput"),C=m("ElLink"),J=m("ElRow"),Q=ye,b=m("ElSwitch"),X=Ue,Y=m("ElTooltip"),Z=m("ElTag"),y=m("ElButton"),ee=m("ElSpace"),fe=xe,_e=m("el-form-item"),be=m("ElForm"),ge=Ce("loading");return o(),x("div",Oe,[I((o(),x("div",Re,[a(be,{ref_key:"formRef",ref:h,model:e.value,rules:re.value,"label-position":"top"},{footer:l(()=>[a(y,{size:"large",onClick:P},{default:l(()=>[u(" 取消 ")]),_:1}),a(y,{type:"primary",size:"large",onClick:K},{default:l(()=>[u(" 确定 ")]),_:1})]),default:l(()=>[a(fe,{"right-side-width":"500px","hide-right-side-toggle":""},{default:l(()=>[e.value.parentId||N.value?(o(),d(W,{key:0,title:"基础配置",content:"标准路由配置，包含 path/redirect/name/component"})):i("",!0),e.value.parentId||N.value?(o(),d(J,{key:1,gutter:30,style:{padding:"20px"}},{default:l(()=>[a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"菜单等级"},{default:l(()=>[a(H,{modelValue:e.value.grade,"onUpdate:modelValue":n[0]||(n[0]=t=>e.value.grade=t),clear:"","value-key":"",placeholder:"",clearable:"",filterable:""},{default:l(()=>[(o(),x(w,null,U(4,t=>a(G,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"父级导航"},{default:l(()=>[a(H,{modelValue:e.value.parentId,"onUpdate:modelValue":n[1]||(n[1]=t=>e.value.parentId=t),clear:"","value-key":"",placeholder:"",clearable:"",filterable:""},{default:l(()=>[(o(!0),x(w,null,U(F.value,t=>(o(),d(G,{key:t.id,label:t.meta.title,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"排序",prop:"redirect"},{default:l(()=>[a(c,{modelValue:e.value.sort,"onUpdate:modelValue":n[2]||(n[2]=t=>e.value.sort=t),clearable:"",placeholder:"请输入排序"},null,8,["modelValue"])]),_:1})]),_:1}),e.value.parentId?(o(),d(r,{key:0,xl:12,lg:24},{default:l(()=>[a(p,{label:"路由地址",prop:"path"},{default:l(()=>[a(c,{modelValue:e.value.path,"onUpdate:modelValue":n[3]||(n[3]=t=>e.value.path=t),clearable:"",placeholder:"请输入路由地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:1,xl:12,lg:24},{default:l(()=>[a(p,{label:"重定向",prop:"redirect"},{default:l(()=>[a(c,{modelValue:e.value.redirect,"onUpdate:modelValue":n[4]||(n[4]=t=>e.value.redirect=t),clearable:"",placeholder:"请输入重定向地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:2,xl:12,lg:24},{default:l(()=>[a(p,{prop:"name"},{label:l(()=>[u(" 路由命名 "),Le]),default:l(()=>[a(c,{modelValue:e.value.name,"onUpdate:modelValue":n[5]||(n[5]=t=>e.value.name=t),clearable:"",placeholder:"请输入路由命名"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:3,xl:12,lg:24},{default:l(()=>[a(p,{prop:"component"},{label:l(()=>[u(" 组件路径 "),v("span",Te,[u(" 顶级路由请设置“"),a(C,{type:"primary",underline:!1,onClick:n[6]||(n[6]=T(t=>e.value.component="Layout",["prevent"]))},{default:l(()=>[u("Layout ")]),_:1}),u("”，中间层级路由无需设置 ")])]),default:l(()=>[a(c,{modelValue:e.value.component,"onUpdate:modelValue":n[7]||(n[7]=t=>e.value.component=t),clearable:"",placeholder:"请输入完整组件路径"},Ee({_:2},[e.value.component!=="Layout"?{name:"prepend",fn:l(()=>[u(" /src/views/ ")]),key:"0"}:void 0]),1032,["modelValue"])]),_:1})]),_:1})):i("",!0)]),_:1})):i("",!0),a(W,{title:"扩展配置"},{content:l(()=>[v("div",ze,[u(" 框架扩展配置，详细配置介绍请查看"),a(C,{type:"primary",href:"https://fantastic-admin.gitee.io/guide/router.html#%E5%AF%BC%E8%88%AA%E9%85%8D%E7%BD%AE",target:"_blank"},{default:l(()=>[u(" 框架文档 ")]),_:1})])]),_:1}),a(J,{gutter:30,style:{padding:"20px"}},{default:l(()=>[a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"显示名称",prop:"meta.title"},{default:l(()=>[a(c,{modelValue:e.value.meta.title,"onUpdate:modelValue":n[8]||(n[8]=t=>e.value.meta.title=t),clearable:"",placeholder:"请输入显示名称"},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"默认图标",prop:"meta.icon"},{default:l(()=>[a(Q,{modelValue:e.value.meta.icon,"onUpdate:modelValue":n[9]||(n[9]=t=>e.value.meta.icon=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{xl:12,lg:24},{default:l(()=>[a(p,{label:"激活图标",prop:"meta.activeIcon"},{default:l(()=>[a(Q,{modelValue:e.value.meta.activeIcon,"onUpdate:modelValue":n[10]||(n[10]=t=>e.value.meta.activeIcon=t)},null,8,["modelValue"])]),_:1})]),_:1}),e.value.parentId?(o(),d(r,{key:0,xl:12,lg:24},{default:l(()=>[a(p,{label:"默认展开",prop:"meta.defaultOpened"},{default:l(()=>[a(b,{modelValue:e.value.meta.defaultOpened,"onUpdate:modelValue":n[11]||(n[11]=t=>e.value.meta.defaultOpened=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:1,xl:12,lg:24},{default:l(()=>[a(p,{label:"始终展开",prop:"meta.alwaysOpened"},{default:l(()=>[a(b,{modelValue:e.value.meta.alwaysOpened,"onUpdate:modelValue":n[12]||(n[12]=t=>e.value.meta.alwaysOpened=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:2,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.permanent"},{label:l(()=>[u(" 常驻标签页 "),De]),default:l(()=>[a(b,{modelValue:e.value.meta.permanent,"onUpdate:modelValue":n[13]||(n[13]=t=>e.value.meta.permanent=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:3,xl:12,lg:24},{default:l(()=>[a(p,{label:"在导航显示",prop:"meta.menu"},{default:l(()=>[a(b,{modelValue:e.value.meta.menu,"onUpdate:modelValue":n[14]||(n[14]=t=>e.value.meta.menu=t),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:4,xl:12,lg:24},{default:l(()=>[a(p,{label:"在面包屑显示",prop:"meta.breadcrumb"},{default:l(()=>[a(b,{modelValue:e.value.meta.breadcrumb,"onUpdate:modelValue":n[15]||(n[15]=t=>e.value.meta.breadcrumb=t),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:5,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.cache"},{label:l(()=>[u(" 缓存规则 "),a(Y,{content:"当跳转到设置的路由时，则会对当前路由进行缓存",placement:"top"},{default:l(()=>[a(X,{name:"i-ri:question-line"})]),_:1}),I(v("span",Fe,[u("切换为"),a(C,{type:"primary",underline:!1,onClick:n[16]||(n[16]=T(t=>e.value.meta.cache=!0,["prevent"]))},{default:l(()=>[u("始终缓存")]),_:1})],512),[[B,typeof e.value.meta.cache=="object"]]),I(v("span",$e,[u("切换为"),a(C,{type:"primary",underline:!1,onClick:n[17]||(n[17]=T(t=>e.value.meta.cache=[],["prevent"]))},{default:l(()=>[u("规则模式")]),_:1})],512),[[B,typeof e.value.meta.cache=="boolean"]])]),default:l(()=>[I(a(ee,null,{default:l(()=>[(o(!0),x(w,null,U(e.value.meta.cache,t=>(o(),d(Z,{key:t,size:"large",closable:"","disable-transitions":!1,onClose:Ve=>se(t)},{default:l(()=>[u(ne(t),1)]),_:2},1032,["onClose"]))),128)),O.value?(o(),d(c,{key:0,ref_key:"InputCacheRef",ref:$,modelValue:g.value,"onUpdate:modelValue":n[18]||(n[18]=t=>g.value=t),style:{width:"200px"},onKeyup:ae(q,["enter"]),onBlur:q},null,8,["modelValue"])):(o(),d(y,{key:1,onClick:me},{default:l(()=>[u(" 新增 ")]),_:1}))]),_:1},512),[[B,typeof e.value.meta.cache=="object"]]),I(v("div",null," 始终缓存 ",512),[[B,typeof e.value.meta.cache=="boolean"]])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:6,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.noCache"},{label:l(()=>[u(" 不缓存规则 "),a(Y,{content:"当跳转到设置的路由时，则会对当前路由取消缓存",placement:"top"},{default:l(()=>[a(X,{name:"i-ri:question-line"})]),_:1}),qe]),default:l(()=>[a(ee,null,{default:l(()=>[(o(!0),x(w,null,U(e.value.meta.noCache,t=>(o(),d(Z,{key:t,size:"large",closable:"","disable-transitions":!1,onClose:Ve=>ce(t)},{default:l(()=>[u(ne(t),1)]),_:2},1032,["onClose"]))),128)),R.value?(o(),d(c,{key:0,ref_key:"InputNoCacheRef",ref:j,modelValue:V.value,"onUpdate:modelValue":n[19]||(n[19]=t=>V.value=t),style:{width:"200px"},onKeyup:ae(A,["enter"]),onBlur:A},null,8,["modelValue"])):(o(),d(y,{key:1,onClick:ve},{default:l(()=>[u(" 新增 ")]),_:1}))]),_:1})]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:7,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.activeMenu"},{label:l(()=>[u(" 高亮导航 "),je]),default:l(()=>[a(c,{modelValue:e.value.meta.activeMenu,"onUpdate:modelValue":n[20]||(n[20]=t=>e.value.meta.activeMenu=t),clearable:"",placeholder:"请输入高亮导航的完整路由地址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:8,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.badge"},{label:l(()=>[u(" 徽标 "),Ae]),default:l(()=>[a(c,{modelValue:e.value.meta.badge,"onUpdate:modelValue":n[21]||(n[21]=t=>e.value.meta.badge=t),clearable:"",placeholder:"请输入徽标显示内容"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:9,xl:12,lg:24},{default:l(()=>[a(p,{label:"新窗口打开",prop:"meta.newWindow"},{default:l(()=>[a(b,{modelValue:e.value.meta.newWindow,"onUpdate:modelValue":n[22]||(n[22]=t=>e.value.meta.newWindow=t),"inline-prompt":"","active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:10,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.link"},{label:l(()=>[u(" 访问外链 "),Ke]),default:l(()=>[a(c,{modelValue:e.value.meta.link,"onUpdate:modelValue":n[23]||(n[23]=t=>e.value.meta.link=t),clearable:"",placeholder:"请输入网址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:11,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.iframe"},{label:l(()=>[u(" 内嵌网页 "),Pe]),default:l(()=>[a(c,{modelValue:e.value.meta.iframe,"onUpdate:modelValue":n[24]||(n[24]=t=>e.value.meta.iframe=t),clearable:"",placeholder:"请输入网址"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:12,xl:12,lg:24},{default:l(()=>[a(p,{label:"底部版权",prop:"meta.copyright"},{default:l(()=>[a(b,{modelValue:e.value.meta.copyright,"onUpdate:modelValue":n[25]||(n[25]=t=>e.value.meta.copyright=t),"inline-prompt":"","active-text":"显示","inactive-text":"隐藏"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0),e.value.parentId?(o(),d(r,{key:13,xl:12,lg:24},{default:l(()=>[a(p,{prop:"meta.paddingBottom"},{label:l(()=>[u(" 底部填充高度 "),We]),default:l(()=>[a(c,{modelValue:e.value.meta.paddingBottom,"onUpdate:modelValue":n[26]||(n[26]=t=>e.value.meta.paddingBottom=t),clearable:"",placeholder:"请输入显示名称"},null,8,["modelValue"])]),_:1})]),_:1})):i("",!0)]),_:1})]),_:1}),a(_e,null,{default:l(()=>[a(y,{type:"primary",size:"large",onClick:K},{default:l(()=>[u(" 提交 ")]),_:1}),a(y,{size:"large",onClick:P},{default:l(()=>[u(" 取消 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])])),[[ge,M.value]])])}}});typeof oe=="function"&&oe(ue);const Qe=Me(ue,[["__scopeId","data-v-9f2dcdf9"]]);export{Qe as default};
