
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{f as u,g as B,m as V,u as D,r as c,h as F,i as r,o as _,c as L,a as o,w as n,b as v,l as a,j as M,n as S,ai as E}from"./index-0FEud4J9.js";const k={list:l=>u.get("setting/questionnaire_library/list",{params:l,baseURL:"/mock/"}),create:l=>u.post("setting/questionnaire_library/create",l,{baseURL:"/mock/"}),edit:l=>u.post("setting/questionnaire_library/edit",l,{baseURL:"/mock/"}),update:l=>u.post("setting/questionnaire_library/edit",l,{baseURL:"/mock/"}),delete:l=>u.post("setting/questionnaire_library/delete",l)},z=B({__name:"index",props:V(["id","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:V(["success"],["update:modelValue"]),setup(l,{emit:w}){const i=l,I=w,m=D(l,"modelValue"),U=c(),e=c({status:2,isDefault:2}),C=c({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]}),N=F(()=>(e.value={},i.id&&(e.value=JSON.parse(i.row)),i.id===""?"新增":"编辑"));async function q(){if(i.id){const{data:f,status:t}=await k.edit(e.value);t===1&&E.success({message:"编辑成功",center:!0})}else{const{data:f,status:t}=await k.create(e.value);t===1&&E.success({message:"新增成功",center:!0})}p(),I("success")}function p(){m.value=!1,e.value={}}return(f,t)=>{const g=r("ElInput"),d=r("ElFormItem"),b=r("ElSwitch"),x=r("ElForm"),y=r("ElButton"),R=r("ElDialog");return _(),L("div",null,[o(R,{modelValue:m.value,"onUpdate:modelValue":t[4]||(t[4]=s=>m.value=s),title:a(N),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},{footer:n(()=>[o(y,{size:"large",onClick:p},{default:n(()=>[v(" 取消 ")]),_:1}),o(y,{type:"primary",size:"large",onClick:q},{default:n(()=>[v(" 确定 ")]),_:1})]),default:n(()=>[o(x,{ref_key:"formRef",ref:U,model:a(e),rules:a(C),"label-width":"120px","label-suffix":"："},{default:n(()=>[o(d,{label:"名称",prop:"categoryName"},{default:n(()=>[o(g,{modelValue:a(e).categoryName,"onUpdate:modelValue":t[0]||(t[0]=s=>a(e).categoryName=s),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(d,{label:"国家",prop:"countryId"},{default:n(()=>[o(g,{modelValue:a(e).countryId,"onUpdate:modelValue":t[1]||(t[1]=s=>a(e).countryId=s),placeholder:"请输入国家"},null,8,["modelValue"])]),_:1}),o(d,{label:"状态"},{default:n(()=>[o(b,{modelValue:a(e).status,"onUpdate:modelValue":t[2]||(t[2]=s=>a(e).status=s),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1}),a(e).projectProblemCategoryId?S("",!0):(_(),M(d,{key:0,label:"默认"},{default:n(()=>[o(b,{modelValue:a(e).isDefault,"onUpdate:modelValue":t[3]||(t[3]=s=>a(e).isDefault=s),"active-value":1,"inactive-value":2,placeholder:"请输入默认"},null,8,["modelValue"])]),_:1}))]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{z as _,k as a};
