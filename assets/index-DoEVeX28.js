
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{b4 as zt,b5 as Lt,b6 as Dt,b7 as $t,b8 as Kt,b9 as Ut,ba as Yt,a1 as nt,b2 as Gt,bb as qt,bc as Zt,bd as Xt,I as Jt,be as Qt,bf as en,T as tn,aJ as ot,bg as nn,bh as on,bi as an,bj as ln,bk as sn,bl as rn,bm as cn,bn as un,bo as dn,h as ve,bp as fn,j as De,n as Pe,c as ie,q as re,bq as mn,br as pn,bs as hn,bt as vn,ax as bn,bu as gn,b as at,a as Ie,bv as Cn,bw as kn,g as lt,bx as xn,by as yn,bz as Sn,bA as Mn,bB as Bn,bC as wn,bD as Pn,bE as In,bF as Wn,bG as Rn,bH as En,ac as Tn,bI as Nn,bJ as On,H as jn,aL as _n,bK as Vn,bL as An,bM as Fn,bN as Hn,bO as zn,v as st,bP as Ln,bQ as Dn,bR as $n,bS as Kn,E as Un,bT as Yn,bU as Gn,bV as qn,bW as Zn,bX as Xn,m as Jn,k as Qn,a3 as it,N as We,G as eo,aC as to,bY as no,bZ as oo,F as ao,aq as rt,b_ as lo,b$ as so,B as $e,c0 as io,c1 as ro,c2 as co,c3 as uo,aI as ct,c4 as fo,o as Q,aB as ut,$ as mo,c5 as po,aA as dt,c6 as ho,a0 as vo,c7 as bo,r as Re,c8 as go,c9 as Co,a2 as ft,z as ko,i as xo,ap as yo,aw as So,ca as Mo,cb as Bo,cc as wo,cd as Po,ce as Io,cf as Wo,cg as Ro,ad as mt,ch as Eo,ci as To,cj as No,D as Ke,ck as Oo,af as jo,cl as _o,cm as Vo,cn as Ao,co as Fo,cp as Ho,cq as zo,l as B,cr as Lo,cs as Do,ct as pt,u as $o,cu as Ko,O as Uo,cv as Yo,cw as Go,cx as qo,cy as Zo,cz as Xo,aj as Jo,aE as ht,cA as Qo,cB as ea,Z as Ue,ag as ta,cC as na,cD as oa,cE as aa,w as vt,cF as la,ai as bt,av as sa,cG as ia,au as de,cH as ra,cI as ca,b3 as ua,cJ as da,s as fa,K as ma,t as pa,L as ha,Y as va,x as ba,ar as et,aD as we,U as tt,J as ga,_ as Ca}from"./index-CqCdPddg.js";import{S as ka}from"./sortable.esm-BS5toX6s.js";import{c as xa}from"./index-ZYb0toAT.js";import ya from"./moreAction-CKjjbQUe.js";import{u as Sa}from"./useTabbar-DmZAYkIP.js";import{u as Ma}from"./useMainPage-B4eTVt4R.js";import"./HDropdown-BzHJiv6j.js";import"./HTooltip.vue_vue_type_script_setup_true_lang-CXPJYy3S.js";/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ba=()=>{},wa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:zt,BaseTransitionPropsValidators:Lt,Comment:Dt,DeprecationTypes:$t,EffectScope:Kt,ErrorCodes:Ut,ErrorTypeStrings:Yt,Fragment:nt,KeepAlive:Gt,ReactiveEffect:qt,Static:Zt,Suspense:Xt,Teleport:Jt,Text:Qt,TrackOpTypes:en,Transition:tn,TransitionGroup:ot,TriggerOpTypes:nn,VueElement:on,assertNumber:an,callWithAsyncErrorHandling:ln,callWithErrorHandling:sn,camelize:rn,capitalize:cn,cloneVNode:un,compatUtils:dn,compile:Ba,computed:ve,createApp:fn,createBlock:De,createCommentVNode:Pe,createElementBlock:ie,createElementVNode:re,createHydrationRenderer:mn,createPropsRestProxy:pn,createRenderer:hn,createSSRApp:vn,createSlots:bn,createStaticVNode:gn,createTextVNode:at,createVNode:Ie,customRef:Cn,defineAsyncComponent:kn,defineComponent:lt,defineCustomElement:xn,defineEmits:yn,defineExpose:Sn,defineModel:Mn,defineOptions:Bn,defineProps:wn,defineSSRCustomElement:Pn,defineSlots:In,devtools:Wn,effect:Rn,effectScope:En,getCurrentInstance:Tn,getCurrentScope:Nn,getTransitionRawChildren:On,guardReactiveProps:jn,h:_n,handleError:Vn,hasInjectionContext:An,hydrate:Fn,initCustomFormatter:Hn,initDirectivesForSSR:zn,inject:st,isMemoSame:Ln,isProxy:Dn,isReactive:$n,isReadonly:Kn,isRef:Un,isRuntimeOnly:Yn,isShallow:Gn,isVNode:qn,markRaw:Zn,mergeDefaults:Xn,mergeModels:Jn,mergeProps:Qn,nextTick:it,normalizeClass:We,normalizeProps:eo,normalizeStyle:to,onActivated:no,onBeforeMount:oo,onBeforeUnmount:ao,onBeforeUpdate:rt,onDeactivated:lo,onErrorCaptured:so,onMounted:$e,onRenderTracked:io,onRenderTriggered:ro,onScopeDispose:co,onServerPrefetch:uo,onUnmounted:ct,onUpdated:fo,openBlock:Q,popScopeId:ut,provide:mo,proxyRefs:po,pushScopeId:dt,queuePostFlushCb:ho,reactive:vo,readonly:bo,ref:Re,registerRuntimeCompiler:go,render:Co,renderList:ft,renderSlot:ko,resolveComponent:xo,resolveDirective:yo,resolveDynamicComponent:So,resolveFilter:Mo,resolveTransitionHooks:Bo,setBlockTracking:wo,setDevtoolsHook:Po,setTransitionHooks:Io,shallowReactive:Wo,shallowReadonly:Ro,shallowRef:mt,ssrContextKey:Eo,ssrUtils:To,stop:No,toDisplayString:Ke,toHandlerKey:Oo,toHandlers:jo,toRaw:_o,toRef:Vo,toRefs:Ao,toValue:Fo,transformVNodeArgs:Ho,triggerRef:zo,unref:B,useAttrs:Lo,useCssModule:Do,useCssVars:pt,useModel:$o,useSSRContext:Ko,useSlots:Uo,useTransitionState:Yo,vModelCheckbox:Go,vModelDynamic:qo,vModelRadio:Zo,vModelSelect:Xo,vModelText:Jo,vShow:ht,version:Qo,warn:ea,watch:Ue,watchEffect:ta,watchPostEffect:na,watchSyncEffect:oa,withAsyncContext:aa,withCtx:vt,withDefaults:la,withDirectives:bt,withKeys:sa,withMemo:ia,withModifiers:de,withScopeId:ra},Symbol.toStringTag,{value:"Module"}));var Ye={exports:{}};const Pa=ca(wa);(function(fe,Ee){(function(j,e){e(Ee,Pa)})(ua,function(j,e){let b=null;function V(){return b!==null}function Te(t){b&&K(),b=t}function Ne(t){t===b&&(b=null)}function K(){b&&(b.closeMenu(),b=null)}const z={defaultDirection:"br",defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:{x:0,y:10}};function I(t,n){let l=t.offsetTop;return t.offsetParent!=null&&t.offsetParent!=n&&(l-=t.offsetParent.scrollTop,l+=I(t.offsetParent,n)),l}function q(t,n){let l=t.offsetLeft;return t.offsetParent!=null&&t.offsetParent!=n&&(l-=t.offsetParent.scrollLeft,l+=q(t.offsetParent,n)),l}function ae(t,n,l,d){return{x:q(t,d)+n,y:I(t,d)+l}}const le="mx-menu-default-container",ee="mx-menu-container-";let Oe=0;function be(t){const{getContainer:n,zIndex:l}=t;if(n){const h=typeof n=="function"?n():n;if(h){let C=h.getAttribute("id");return C||(C=ee+Oe++,h.setAttribute("id",C)),{eleId:C,container:h,isNew:!1}}}let d=document.getElementById(le);return d||(d=document.createElement("div"),d.setAttribute("id",le),d.setAttribute("class","mx-menu-ghost-host fullscreen"),document.body.appendChild(d)),d.style.zIndex=(l==null?void 0:l.toString())||z.defaultZindex.toString(),{eleId:le,container:d,isNew:!0}}function ce(t){return typeof t=="number"?`${t}px`:t}const A=e.defineComponent({props:{vnode:{type:null},data:{type:null,default:null}},setup(t){const{vnode:n,data:l}=e.toRefs(t);return()=>typeof n.value=="function"?n.value(l.value):n.value}}),se=(t,n)=>{const l=t.__vccOpts||t;for(const[d,h]of n)l[d]=h;return l},je={},_e={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},Ve=[e.createElementVNode("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1)];function Ae(t,n){return e.openBlock(),e.createElementBlock("svg",_e,Ve)}const ge=se(je,[["render",Ae]]),m={},i={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},w=[e.createElementVNode("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1)];function r(t,n){return e.openBlock(),e.createElementBlock("svg",i,w)}const L=se(m,[["render",r]]),te={class:"mx-item-row"},Ce=["xlink:href"],U={key:1,class:"label"},gt={class:"mx-item-row"},Ct={class:"mx-shortcut"},ke=e.defineComponent({__name:"ContextMenuItem",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1},rawMenuItem:{type:Object,default:void 0}},emits:["click","subMenuOpen","subMenuClose"],setup(t,{expose:n,emit:l}){const d=t,h=l,{clickHandler:C,clickClose:W,clickableWhenHasChildren:O,disabled:S,hidden:k,label:o,icon:s,iconFontClass:H,showRightArrow:E,shortcut:D,hasChildren:P}=e.toRefs(d),v=e.ref(!1),c=e.ref(!1),p=e.ref(),g=e.inject("globalHasSlot"),x=e.inject("globalRenderSlot"),R=e.inject("globalTheme"),Y=e.inject("globalIconFontClass"),G=e.inject("globalMenuTransitionProps"),Z=e.inject("globalClickCloseClassName"),ne=e.inject("globalIgnoreClickClassName"),f=e.inject("globalCloseMenu"),M=e.inject("menuContext"),$={showSubMenu:()=>v.value?(M.markActiveMenuItem($,!0),!0):P.value?(X(),!0):!1,isDisabledOrHidden:()=>S.value||k.value,getElement:()=>p.value,focus:()=>c.value=!0,blur:()=>c.value=!1,click:oe};e.onMounted(()=>{M.isMenuItemDataCollectedFlag()?e.nextTick(()=>{let u=0;const _=M.getElement();if(_){let a=0;for(let y=0;y<_.children.length;y++){const T=_.children[y];if(T.getAttribute("data-type")==="ContextMenuItem"){if(T===p.value){u=a;break}a++}}}M.addChildMenuItem($,u)}):M.addChildMenuItem($)}),e.onBeforeUnmount(()=>{M.removeChildMenuItem($)});function oe(u){if(!S.value){if(u){const _=u.target;if(_.classList.contains("mx-context-no-clickable")||ne&&_.classList.contains(ne))return;if(Z&&_.classList.contains(Z)){u.stopPropagation(),f(d.rawMenuItem);return}}P.value?O.value?(typeof C.value=="function"&&C.value(u),h("click",u)):v.value||X():(typeof C.value=="function"&&C.value(u),h("click",u),W.value&&f(d.rawMenuItem))}}function X(u){c.value=!1,M.checkCloseOtherSubMenuTimeOut()||M.closeOtherSubMenu(),S.value||(M.markActiveMenuItem($),P.value&&(u||M.markThisOpenedByKeyBoard(),M.addOpenedSubMenu(()=>{c.value=!1,v.value=!1,h("subMenuClose")}),v.value=!0,h("subMenuOpen")))}function F(){return{disabled:S.value,label:o.value,icon:s.value,iconFontClass:H.value,showRightArrow:E.value,clickClose:W.value,clickableWhenHasChildren:O.value,shortcut:D.value,theme:R,isOpen:v,hasChildren:P,onClick:oe,onMouseEnter:X,closeMenu:f}}return n({showSubMenu:v,keyBoardFocusMenu:c}),(u,_)=>e.unref(k)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:"mx-context-menu-item-wrapper",ref_key:"menuItemRef",ref:p,"data-type":"ContextMenuItem"},[e.unref(g)("itemRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemRender",F())},null,8,["vnode"])):t.customRender?(e.openBlock(),e.createBlock(e.unref(A),{key:1,vnode:t.customRender,data:F()},null,8,["vnode","data"])):(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(["mx-context-menu-item",e.unref(S)?"disabled":"",c.value?"keyboard-focus":"",t.customClass?" "+t.customClass:"",v.value?"open":""]),onClick:oe,onMouseenter:X},[e.renderSlot(u.$slots,"default",{},()=>[e.createElementVNode("div",te,[e.createElementVNode("div",{class:e.normalizeClass(["mx-icon-placeholder",t.preserveIconWidth?"preserve-width":""])},[e.renderSlot(u.$slots,"icon",{},()=>[e.unref(g)("itemIconRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemIconRender",F())},null,8,["vnode"])):typeof t.svgIcon=="string"&&t.svgIcon?(e.openBlock(),e.createElementBlock("svg",e.mergeProps({key:1,class:"icon svg"},t.svgProps),[e.createElementVNode("use",{"xlink:href":t.svgIcon},null,8,Ce)],16)):typeof e.unref(s)!="string"?(e.openBlock(),e.createBlock(e.unref(A),{key:2,vnode:e.unref(s),data:e.unref(s)},null,8,["vnode","data"])):typeof e.unref(s)=="string"&&e.unref(s)!==""?(e.openBlock(),e.createElementBlock("i",{key:3,class:e.normalizeClass(e.unref(s)+" icon "+e.unref(H)+" "+e.unref(Y))},null,2)):e.createCommentVNode("",!0)]),t.checked?e.renderSlot(u.$slots,"check",{key:0},()=>[e.unref(g)("itemCheckRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemCheckRender",F())},null,8,["vnode"])):e.createCommentVNode("",!0),e.createVNode(ge)]):e.createCommentVNode("",!0)],2),e.renderSlot(u.$slots,"label",{},()=>[e.unref(g)("itemLabelRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemLabelRender",F())},null,8,["vnode"])):typeof e.unref(o)=="string"?(e.openBlock(),e.createElementBlock("span",U,e.toDisplayString(e.unref(o)),1)):(e.openBlock(),e.createBlock(e.unref(A),{key:2,vnode:e.unref(o),data:e.unref(o)},null,8,["vnode","data"]))])]),e.createElementVNode("div",gt,[e.unref(D)?e.renderSlot(u.$slots,"shortcut",{key:0},()=>[e.unref(g)("itemShortcutRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemShortcutRender",F())},null,8,["vnode"])):e.createCommentVNode("",!0),e.createElementVNode("span",Ct,e.toDisplayString(e.unref(D)),1)]):e.createCommentVNode("",!0),e.unref(E)?e.renderSlot(u.$slots,"rightArrow",{key:1},()=>[e.unref(g)("itemRightArrowRender")?(e.openBlock(),e.createBlock(e.unref(A),{key:0,vnode:()=>e.unref(x)("itemRightArrowRender",F())},null,8,["vnode"])):e.createCommentVNode("",!0),e.createVNode(L)]):e.createCommentVNode("",!0)])])],34)),e.unref(G)?(e.openBlock(),e.createBlock(e.Transition,e.normalizeProps(e.mergeProps({key:3},e.unref(G))),{default:e.withCtx(()=>[v.value?e.renderSlot(u.$slots,"submenu",{key:0}):e.createCommentVNode("",!0)]),_:3},16)):v.value?e.renderSlot(u.$slots,"submenu",{key:4}):e.createCommentVNode("",!0)],512))}}),kt=e.defineComponent({name:"ContextMenuSperator",components:{VNodeRender:A},setup(){const t=e.inject("globalHasSlot"),n=e.inject("globalRenderSlot");return{globalHasSlot:t,globalRenderSlot:n}}}),xt={key:1,class:"mx-context-menu-item-sperator mx-context-no-clickable"};function yt(t,n,l,d,h,C){const W=e.resolveComponent("VNodeRender");return t.globalHasSlot("separatorRender")?(e.openBlock(),e.createBlock(W,{key:0,vnode:()=>t.globalRenderSlot("separatorRender",{})},null,8,["vnode"])):(e.openBlock(),e.createElementBlock("div",xt))}const xe=se(kt,[["render",yt]]),St=e.defineComponent({name:"ContextSubMenu",components:{ContextMenuItem:ke,ContextMenuSeparator:xe,ContextMenuIconRight:L},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0},direction:{type:String,default:"br"}},setup(t){const n=e.inject("menuContext"),l=e.inject("globalOptions"),d=e.inject("globalHasSlot"),h=e.inject("globalRenderSlot"),C=e.inject("globalTheme"),{zIndex:W,getParentWidth:O,getParentHeight:S}=n,{adjustPosition:k}=e.toRefs(t),o=e.ref(),s=e.ref(),H=e.ref(),E=[],D=e.inject("globalSetCurrentSubMenu"),P=[];let v=null,c=0;function p(){v&&v.blur()}function g(a,y){if(a){for(let T=y!==void 0?y:0;T<P.length;T++)if(!P[T].isDisabledOrHidden()){x(T);break}}else for(let T=y!==void 0?y:P.length-1;T>=0;T--)if(!P[T].isDisabledOrHidden()){x(T);break}}function x(a){if(v&&p(),a!==void 0&&(v=P[Math.max(0,Math.min(a,P.length-1))]),!!v&&(v.focus(),F.value)){const y=v.getElement();y&&(f.value=Math.min(Math.max(-M.value,-y.offsetTop-y.offsetHeight+_.value),0))}}function R(){D(Y)}const Y={isTopLevel:()=>n.getParentContext()===null,closeSelfAndActiveParent:()=>{const a=ne.getParentContext();if(a){a.closeOtherSubMenu();const y=a.getSubMenuInstanceContext();if(y)return y.focusCurrentItem(),!0}return!1},closeCurrentSubMenu:()=>{var a;return(a=ne.getParentContext())==null?void 0:a.closeOtherSubMenu()},moveCurrentItemFirst:()=>g(!0),moveCurrentItemLast:()=>g(!1),moveCurrentItemDown:()=>g(!0,v?P.indexOf(v)+1:0),moveCurrentItemUp:()=>g(!1,v?P.indexOf(v)-1:0),focusCurrentItem:()=>x(),openCurrentItemSubMenu:()=>v?v==null?void 0:v.showSubMenu():!1,triggerCurrentItemClick:a=>v==null?void 0:v.click(a)};let G=!1,Z=!1;const ne={zIndex:W+1,container:n.container,adjustPadding:l.adjustPadding||z.defaultAdjustPadding,getParentWidth:()=>{var a;return((a=o.value)==null?void 0:a.offsetWidth)||0},getParentHeight:()=>{var a;return((a=o.value)==null?void 0:a.offsetHeight)||0},getParentX:()=>u.value.x,getParentY:()=>u.value.y,getParentAbsX:()=>o.value?q(o.value,n.container):0,getParentAbsY:()=>o.value?I(o.value,n.container):0,getPositon:()=>[0,0],addOpenedSubMenu(a){E.push(a)},closeOtherSubMenu(){E.forEach(a=>a()),E.splice(0,E.length),D(Y)},checkCloseOtherSubMenuTimeOut(){return c?(clearTimeout(c),c=0,!0):!1},closeOtherSubMenuWithTimeOut(){c=setTimeout(()=>{c=0,this.closeOtherSubMenu()},200)},addChildMenuItem:(a,y)=>{y===void 0?P.push(a):P.splice(y,0,a)},removeChildMenuItem:a=>{P.splice(P.indexOf(a),1)},markActiveMenuItem:(a,y=!1)=>{p(),v=a,y&&x()},markThisOpenedByKeyBoard:()=>{G=!0},isOpenedByKeyBoardFlag:()=>G?(G=!1,!0):!1,isMenuItemDataCollectedFlag:()=>Z,getElement:()=>o.value||null,getParentContext:()=>n,getSubMenuInstanceContext:()=>Y};e.provide("menuContext",ne);const f=e.ref(0),M=e.ref(0);function $(a){a?f.value=Math.min(Math.max(f.value-50,-M.value),0):f.value=Math.min(f.value+50,0)}function oe(a){a.preventDefault(),a.stopPropagation(),$(a.deltaY>0)}function X(a){l.mouseScroll&&(a.preventDefault(),a.stopPropagation(),$(a.deltaY>0))}const F=e.ref(!1),u=e.ref({x:0,y:0}),_=e.ref(0);return e.onMounted(()=>{const a=n.getPositon();u.value={x:a[0]??l.xOffset??0,y:a[1]??l.yOffset??0},D(Y),e.nextTick(()=>{var y,T;const N=o.value;if(N&&s.value){const{container:J}=n,ue=(O==null?void 0:O())??0,Se=(S==null?void 0:S())??0,Me=typeof n.adjustPadding=="number"?n.adjustPadding:((y=n.adjustPadding)==null?void 0:y.x)??0,Be=typeof n.adjustPadding=="number"?n.adjustPadding:((T=n.adjustPadding)==null?void 0:T.y)??0,me=Se>0?Be:0,Vt=document.documentElement.scrollHeight,At=document.documentElement.scrollWidth,Ft=Math.min(At,J.offsetWidth),He=Math.min(Vt,J.offsetHeight);let ze=q(N,J),Le=I(N,J);t.direction.includes("l")?u.value.x-=N.offsetWidth+Me:t.direction.includes("r")?u.value.x+=ue+Me:(u.value.x+=ue/2,u.value.x-=(N.offsetWidth+Me)/2),t.direction.includes("t")?u.value.y-=N.offsetHeight+Be*2:t.direction.includes("b")?u.value.y-=Be:u.value.y-=(N.offsetHeight+Be)/2,k.value&&e.nextTick(()=>{ze=q(N,J),Le=I(N,J);const Ht=ze+N.offsetWidth-Ft,Qe=Le+N.offsetHeight+me*2-He;if(F.value=Qe>0,M.value=N.offsetHeight-He+me*2,Ht>0){const pe=ue+N.offsetWidth-Me,he=ze;pe>he?u.value.x-=he:u.value.x-=pe}if(F.value){const pe=Qe,he=Le;pe>he?u.value.y-=he-me:u.value.y-=pe-me,_.value=He-me*2}else _.value=0})}N==null||N.focus({preventScroll:!0}),n.isOpenedByKeyBoardFlag()&&g(!0),Z=!0})}),{menu:o,scroll:s,options:l,zIndex:W,constOptions:z,scrollValue:f,upScrollButton:H,overflow:F,position:u,scrollHeight:M,maxHeight:_,globalHasSlot:d,globalRenderSlot:h,globalTheme:C,onScroll:$,onSubMenuBodyClick:R,onMouseWhell:X,onMouseWhellMx:oe,solveNumberOrStringSize:ce}}}),Mt={key:0,class:"mx-context-menu-updown placeholder"},Bt={key:1,class:"mx-context-menu-updown placeholder"},wt={class:"mx-context-menu-scroll",ref:"scroll"};function Pt(t,n,l,d,h,C){const W=e.resolveComponent("ContextMenuSeparator"),O=e.resolveComponent("ContextSubMenu",!0),S=e.resolveComponent("ContextMenuItem"),k=e.resolveComponent("ContextMenuIconRight");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass("mx-context-menu "+(t.options.customClass?t.options.customClass:"")+" "+t.globalTheme),style:e.normalizeStyle({maxWidth:t.maxWidth?t.solveNumberOrStringSize(t.maxWidth):`${t.constOptions.defaultMaxWidth}px`,minWidth:t.minWidth?t.solveNumberOrStringSize(t.minWidth):`${t.constOptions.defaultMinWidth}px`,maxHeight:t.overflow&&t.maxHeight>0?`${t.maxHeight}px`:void 0,zIndex:t.zIndex,left:`${t.position.x}px`,top:`${t.position.y}px`}),"data-type":"ContextSubMenu",onClick:n[4]||(n[4]=(...o)=>t.onSubMenuBodyClick&&t.onSubMenuBodyClick(...o)),onWheel:n[5]||(n[5]=(...o)=>t.onMouseWhell&&t.onMouseWhell(...o))},[e.createElementVNode("div",{class:e.normalizeClass(["mx-context-menu-items"]),ref:"menu",style:e.normalizeStyle({top:`${t.scrollValue}px`})},[e.renderSlot(t.$slots,"default",{},()=>[t.overflow&&t.options.updownButtonSpaceholder?(e.openBlock(),e.createElementBlock("div",Mt)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,(o,s)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:s},[o.hidden!==!0&&o.divided==="up"?(e.openBlock(),e.createBlock(W,{key:0})):e.createCommentVNode("",!0),o.hidden!==!0&&o.divided==="self"?(e.openBlock(),e.createBlock(W,{key:1})):(e.openBlock(),e.createBlock(S,{key:2,clickHandler:o.onClick?H=>o.onClick(H):void 0,disabled:o.disabled,hidden:o.hidden,icon:o.icon,iconFontClass:o.iconFontClass,svgIcon:o.svgIcon,svgProps:o.svgProps,label:o.label,customRender:o.customRender,customClass:o.customClass,checked:o.checked,shortcut:o.shortcut,clickClose:o.clickClose,clickableWhenHasChildren:o.clickableWhenHasChildren,preserveIconWidth:o.preserveIconWidth!==void 0?o.preserveIconWidth:t.options.preserveIconWidth,showRightArrow:o.children&&o.children.length>0,hasChildren:o.children&&o.children.length>0,rawMenuItem:o,onSubMenuOpen:o.onSubMenuOpen,onSubMenuClose:o.onSubMenuClose},e.createSlots({_:2},[o.children&&o.children.length>0?{name:"submenu",fn:e.withCtx(()=>[e.createVNode(O,{items:o.children,maxWidth:o.maxWidth,minWidth:o.minWidth,adjustPosition:o.adjustSubMenuPosition!==void 0?o.adjustSubMenuPosition:t.options.adjustPosition,direction:o.direction!==void 0?o.direction:t.options.direction},null,8,["items","maxWidth","minWidth","adjustPosition","direction"])]),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","rawMenuItem","onSubMenuOpen","onSubMenuClose"])),o.hidden!==!0&&(o.divided==="down"||o.divided===!0)?(e.openBlock(),e.createBlock(W,{key:3})):e.createCommentVNode("",!0)],64))),128)),t.overflow&&t.options.updownButtonSpaceholder?(e.openBlock(),e.createElementBlock("div",Bt)):e.createCommentVNode("",!0)])],4),e.createElementVNode("div",wt,[e.withDirectives(e.createElementVNode("div",{ref:"upScrollButton",class:e.normalizeClass("mx-context-menu-updown mx-context-no-clickable up"+(t.overflow&&t.scrollValue<0?"":" disabled")),onClick:n[0]||(n[0]=o=>t.onScroll(!1)),onWheel:n[1]||(n[1]=(...o)=>t.onMouseWhellMx&&t.onMouseWhellMx(...o))},[e.createVNode(k)],34),[[e.vShow,t.overflow]]),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass("mx-context-menu-updown mx-context-no-clickable down"+(t.overflow&&t.scrollValue>-t.scrollHeight?"":" disabled")),onClick:n[2]||(n[2]=o=>t.onScroll(!0)),onWheel:n[3]||(n[3]=(...o)=>t.onMouseWhellMx&&t.onMouseWhellMx(...o))},[e.createVNode(k)],34),[[e.vShow,t.overflow]])],512)],38)}const ye=se(St,[["render",Pt]]),It={class:"mx-menu-ghost-host"},qe=e.defineComponent({__name:"ContextSubMenuWrapper",props:{options:{type:Object,default:null},show:{type:Object,default:null},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},emits:["close","closeAnimFinished"],setup(t,{expose:n,emit:l}){var d,h,C,W,O;const S=t,k=l,o=e.useSlots(),{options:s,show:H,container:E}=e.toRefs(S);e.onMounted(()=>{H.value&&v()}),e.onBeforeUnmount(()=>{x()}),e.watch(H,f=>{f?v():x()});const D={closeMenu:c,isClosed:p};let P=!1;function v(){g(),Te(D)}function c(f){P=!0,k("close",f),s.value.menuTransitionProps||k("closeAnimFinished"),Ne(D)}function p(){return P}function g(){setTimeout(()=>{document.addEventListener("click",Z,!0),document.addEventListener("contextmenu",Z,!0),document.addEventListener("scroll",G,!0),!S.isFullScreenContainer&&E.value&&E.value.addEventListener("scroll",G,!0),s.value.keyboardControl!==!1&&document.addEventListener("keydown",Y)},50)}function x(){document.removeEventListener("contextmenu",Z,!0),document.removeEventListener("click",Z,!0),document.removeEventListener("scroll",G,!0),!S.isFullScreenContainer&&E.value&&E.value.removeEventListener("scroll",G,!0),s.value.keyboardControl!==!1&&document.removeEventListener("keydown",Y)}const R=e.ref();e.provide("globalSetCurrentSubMenu",f=>R.value=f);function Y(f){var M,$,oe,X,F,u,_,a,y,T,N,J,ue;let Se=!0;switch(f.key){case"Escape":{((M=R.value)==null?void 0:M.isTopLevel())===!1?($=R.value)==null||$.closeCurrentSubMenu():c();break}case"ArrowDown":(oe=R.value)==null||oe.moveCurrentItemDown();break;case"ArrowUp":(X=R.value)==null||X.moveCurrentItemUp();break;case"Home":(F=R.value)==null||F.moveCurrentItemFirst();break;case"End":(u=R.value)==null||u.moveCurrentItemLast();break;case"ArrowLeft":{(_=R.value)!=null&&_.closeSelfAndActiveParent()||(y=(a=s.value).onKeyFocusMoveLeft)==null||y.call(a);break}case"ArrowRight":(T=R.value)!=null&&T.openCurrentItemSubMenu()||(J=(N=s.value).onKeyFocusMoveRight)==null||J.call(N);break;case"Enter":(ue=R.value)==null||ue.triggerCurrentItemClick(f);break;default:Se=!1;break}Se&&R.value&&(f.stopPropagation(),f.preventDefault())}function G(){s.value.closeWhenScroll!==!1&&c()}function Z(f){ne(f.target)}function ne(f){for(;f;){if(f.classList&&f.classList.contains("mx-menu-host"))return;f=f.parentNode}s.value.clickCloseOnOutside!==!1&&(x(),c())}return e.provide("globalOptions",s.value),e.provide("globalCloseMenu",c),e.provide("globalTheme",((d=s.value)==null?void 0:d.theme)||"light"),e.provide("globalIsFullScreenContainer",S.isFullScreenContainer),e.provide("globalClickCloseClassName",(h=s.value)==null?void 0:h.clickCloseClassName),e.provide("globalIgnoreClickClassName",(C=s.value)==null?void 0:C.ignoreClickClassName),e.provide("globalIconFontClass",((W=s.value)==null?void 0:W.iconFontClass)||"iconfont"),e.provide("globalMenuTransitionProps",(O=s.value)==null?void 0:O.menuTransitionProps),e.provide("globalHasSlot",f=>o[f]!==void 0),e.provide("globalRenderSlot",(f,M)=>e.renderSlot(o,f,{...M},()=>[e.h("span","Render slot failed")],!1)),e.provide("menuContext",{zIndex:s.value.zIndex||z.defaultZindex,container:E.value,adjustPadding:{x:0,y:0},getParentAbsY:()=>s.value.x,getParentAbsX:()=>s.value.y,getParentX:()=>0,getParentY:()=>0,getParentWidth:()=>0,getParentHeight:()=>0,getPositon:()=>[s.value.x,s.value.y],closeOtherSubMenuWithTimeOut:()=>{},checkCloseOtherSubMenuTimeOut:()=>!1,addOpenedSubMenu:()=>{},closeOtherSubMenu:()=>{},getParentContext:()=>null,getSubMenuInstanceContext:()=>null,getElement:()=>null,addChildMenuItem:()=>{},removeChildMenuItem:()=>{},markActiveMenuItem:()=>{},markThisOpenedByKeyBoard:()=>{},isOpenedByKeyBoardFlag:()=>!1,isMenuItemDataCollectedFlag:()=>!1}),n(D),(f,M)=>(e.openBlock(),e.createElementBlock("div",It,[e.unref(s).menuTransitionProps?(e.openBlock(),e.createBlock(e.Transition,e.mergeProps({key:0,appear:""},e.unref(s).menuTransitionProps,{onAfterLeave:M[0]||(M[0]=$=>k("closeAnimFinished"))}),{default:e.withCtx(()=>[e.unref(H)?(e.openBlock(),e.createBlock(ye,{key:0,class:"mx-menu-host",items:e.unref(s).items,adjustPosition:e.unref(s).adjustPosition,maxWidth:e.unref(s).maxWidth||e.unref(z).defaultMaxWidth,minWidth:e.unref(s).minWidth||e.unref(z).defaultMinWidth,direction:e.unref(s).direction||e.unref(z).defaultDirection},{default:e.withCtx(()=>[e.renderSlot(f.$slots,"default")]),_:3},8,["items","adjustPosition","maxWidth","minWidth","direction"])):e.createCommentVNode("",!0)]),_:3},16)):e.unref(H)?(e.openBlock(),e.createBlock(ye,{key:1,class:"mx-menu-host",items:e.unref(s).items,adjustPosition:e.unref(s).adjustPosition,maxWidth:e.unref(s).maxWidth||e.unref(z).defaultMaxWidth,minWidth:e.unref(s).minWidth||e.unref(z).defaultMinWidth,direction:e.unref(s).direction||e.unref(z).defaultDirection},{default:e.withCtx(()=>[e.renderSlot(f.$slots,"default")]),_:3},8,["items","adjustPosition","maxWidth","minWidth","direction"])):e.createCommentVNode("",!0)]))}}),Ze=e.defineComponent({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup(t,n){const{options:l,show:d}=e.toRefs(t);return n.expose({closeMenu:()=>n.emit("update:show",!1),isClosed:()=>!d.value}),()=>{const{isNew:h,container:C,eleId:W}=be(l.value);return[e.h(e.Teleport,{to:`#${W}`},[e.h(qe,{options:l,show:d,container:C,isFullScreenContainer:!h,onClose:O=>{var S,k;n.emit("update:show",!1),n.emit("close"),(k=(S=l.value).onClose)==null||k.call(S,O)}},n.slots)])]}}}),Xe=e.defineComponent({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup(t,n){const l=e.inject("globalOptions"),{adjustSubMenuPosition:d,maxWidth:h,minWidth:C}=e.toRefs(t),W=typeof d.value<"u"?d.value:l.adjustPosition;return()=>e.h(ke,{...t,showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:typeof n.slots.default!==void 0},n.slots.default?{submenu:()=>e.h(ye,{maxWidth:h.value,minWidth:C.value,adjustPosition:W},{default:n.slots.default})}:void 0)}});function Wt(t,n,l,d){const h=e.ref(!0),C=e.h(qe,{options:t,show:h,container:n,isFullScreenContainer:!l,onCloseAnimFinished:()=>{e.render(null,n)},onClose:W=>{var O;(O=t.onClose)==null||O.call(t,W),h.value=!1}},d);return e.render(C,n),C.component}function Je(t,n){const l=be(t);return Wt(t,l.container,l.isNew,n).exposed}const Fe={install(t){t.config.globalProperties.$contextmenu=Je,t.component("ContextMenu",Ze),t.component("ContextMenuItem",ke),t.component("ContextMenuGroup",Xe),t.component("ContextMenuSperator",xe),t.component("ContextMenuSeparator",xe),t.component("ContextSubMenu",ye)},showContextMenu(t,n){return Je(t,n)},isAnyContextMenuOpen(){return V()},closeContextMenu:K,transformMenuPosition:ae},Rt={},Et={class:"mx-menu-bar-icon-menu",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},Tt=[e.createElementVNode("path",{d:"M133.310936 296.552327l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949 0-19.781623-15.997312-35.950949-35.950949-35.950949L133.310936 224.650428c-19.781623 0-35.950949 16.169326-35.950949 35.950949C97.359987 280.383 113.529313 296.552327 133.310936 296.552327z"},null,-1),e.createElementVNode("path",{d:"M890.51705 476.135058 133.310936 476.135058c-19.781623 0-35.950949 16.169326-35.950949 35.950949 0 19.781623 16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949C926.467999 492.304384 910.298673 476.135058 890.51705 476.135058z"},null,-1),e.createElementVNode("path",{d:"M890.51705 727.447673 133.310936 727.447673c-19.781623 0-35.950949 15.997312-35.950949 35.950949s16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-15.997312 35.950949-35.950949S910.298673 727.447673 890.51705 727.447673z"},null,-1)];function Nt(t,n){return e.openBlock(),e.createElementBlock("svg",Et,Tt)}const Ot=se(Rt,[["render",Nt]]),jt=["onClick","onMouseenter"],_t=e.defineComponent({__name:"MenuBar",props:{options:{type:Object,default:null}},setup(t){const n=t,l=e.ref(),d=e.ref(!1),h=e.ref([]),C=e.ref(null);function W(){d.value=!0}function O(){d.value=!1}e.onMounted(()=>{h.value=n.options.items||[]}),e.watch(()=>n.options,()=>{h.value=n.options.items||[]});let S=null,k=-1;function o(){k<h.value.length-1?k++:k=0,E(k,h.value[k])}function s(){k>0?k--:k=h.value.length-1,E(k,h.value[k])}function H(c){const p=n.options.barPopDirection??"bl";let g=0,x=0;return p.startsWith("b")?x=I(c)+c.offsetHeight:p.startsWith("t")?x=I(c):x=I(c)+c.offsetHeight/2,p.endsWith("l")?g=q(c):p.startsWith("r")?g=q(c)+c.offsetWidth:g=q(c)+c.offsetWidth/2,{x:g,y:x}}function E(c,p){var g;if(k=c,!p.children)return;S&&(S.closeMenu(),S=null,d.value=!0),C.value=p;const x=(g=l.value)==null?void 0:g.children[c];if(x){const{x:R,y:Y}=H(x);S=Fe.showContextMenu({...n.options,items:p.children,x:R,y:Y,onKeyFocusMoveLeft(){s()},onKeyFocusMoveRight(){o()},onClose(){C.value==p&&(d.value=!1,C.value=null)}})}}function D(){k=0;const c=l.value;if(c){const{x:p,y:g}=H(c);S=Fe.showContextMenu({...n.options,x:p,y:g})}}function P(c,p){p?(d.value=!0,E(c,p),p.onClick&&(p.clickableWhenHasChildren===!0&&p.children&&p.children.length>0||!p.children||p.children.length===0)&&p.onClick()):D()}function v(c,p){d.value&&E(c,p)}return(c,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["mx-menu-bar",t.options.theme??"",t.options.mini?"mini":""]),onFocus:W,onBlur:O},[e.renderSlot(c.$slots,"prefix"),t.options.mini?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"menuBarContent",ref:l,class:"mx-menu-bar-content"},[e.createElementVNode("div",{class:"mx-menu-bar-item",onClick:p[0]||(p[0]=g=>P(0,null))},[e.createVNode(Ot)])],512)):(e.openBlock(),e.createElementBlock("div",{key:1,ref_key:"menuBarContent",ref:l,class:"mx-menu-bar-content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(g,x)=>(e.openBlock(),e.createElementBlock("div",{key:x,class:e.normalizeClass(["mx-menu-bar-item",g==C.value?"active":""]),onClick:R=>P(x,g),onMouseenter:R=>v(x,g)},e.toDisplayString(g.label),43,jt))),128))],512)),e.renderSlot(c.$slots,"suffix")],34))}});j.ContextMenu=Ze,j.ContextMenuGroup=Xe,j.ContextMenuItem=ke,j.ContextMenuSeparator=xe,j.MenuBar=_t,j.default=Fe,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(Ye,Ye.exports);var Ia=Ye.exports;const Wa=da(Ia),Ge=fe=>(dt("data-v-b32747cb"),fe=fe(),ut(),fe),Ra={class:"tabbar-container"},Ea=["data-index","title","onClick","onContextmenu"],Ta=Ge(()=>re("div",{class:"tab-dividers"},null,-1)),Na=Ge(()=>re("div",{class:"tab-background"},null,-1)),Oa={class:"tab-content"},ja={key:0,class:"action-icon"},_a={key:1,class:"action-icon"},Va=Ge(()=>re("div",{class:"drag-handle"},null,-1)),Aa=lt({name:"Tabbar",__name:"index",setup(fe){pt(m=>({"06c8827f":B(Oe),"06fbebe3":B(be)}));const Ee=fa(),j=ma(),e=pa(),b=ha(),V=Sa(),Te=Ma(),Ne=xa({reactive:!0}),{t:K}=va(),z=st(ba,Function,!0),I=ve(()=>V.getId()),q=ve(()=>b.list.length>1&&(V.checkCloseOtherSide()||V.checkCloseLeftSide()||V.checkCloseRightSide())),ae=Re(),le=Re(),ee=mt([]);rt(()=>{ee.value=[]});const Oe=ve(()=>{var i,w;const m=b.list.findIndex(r=>r.tabId===I.value);return e.settings.app.direction==="ltr"?`${((i=ee.value.find(r=>Number.parseInt(r.dataset.index)===m))==null?void 0:i.offsetLeft)||0}px`:`${ae.value.offsetWidth-(((w=ee.value.find(r=>Number.parseInt(r.dataset.index)===m))==null?void 0:w.getBoundingClientRect().right)||0)}px`}),be=ve(()=>{var i;const m=b.list.findIndex(w=>w.tabId===I.value);return`${((i=ee.value.find(w=>Number.parseInt(w.dataset.index)===m))==null?void 0:i.offsetWidth)||0}px`}),ce=Re(!1);let A;$e(()=>{A=new ka(le.value.$el,{animation:200,ghostClass:"tab-ghost",draggable:".tab",handle:".drag-handle",filter:".no-drag",onStart:()=>{ce.value=!0},onEnd:()=>{ce.value=!1},onUpdate:m=>{m.newIndex!==void 0&&m.oldIndex!==void 0&&b.sort(m.newIndex,m.oldIndex)}})}),Ue([()=>e.mode,()=>e.settings.app.direction],m=>{it(()=>{A==null||A.option("disabled",m[0]==="mobile"||m[1]==="rtl")})},{immediate:!0}),Ue(()=>Ee,m=>{e.settings.tabbar.enable&&b.add(m).then(()=>{const i=b.list.findIndex(w=>w.tabId===I.value);i!==-1&&(Ve(ee.value[i].offsetLeft),se())})},{immediate:!0,deep:!0});function se(){le.value.$el.clientWidth>ae.value.clientWidth&&!we.local.has("tabbarScrollTip")&&(we.local.set("tabbarScrollTip",""),tt.info("标签栏数量超过展示区域范围，可以将鼠标移到标签栏上，通过鼠标滚轮滑动浏览",{title:"温馨提示",duration:5e3,closable:!0,zIndex:2e3}))}function je(){we.local.has("tabbarMaximizeTip")||(we.local.set("tabbarMaximizeTip",""),tt.info("可以通过双击标签栏进行最大化操作",{title:"温馨提示",duration:5e3,closable:!0,zIndex:2e3}))}function _e(m){(m.deltaY||m.detail!==0)&&ae.value.scrollBy({left:(m.deltaY||m.detail)>0?50:-50})}function Ve(m){ae.value.scrollTo({left:m-50,behavior:"smooth"})}function Ae(m,i){m.preventDefault(),Wa.showContextMenu({x:m.x,y:m.y,zIndex:1050,iconFontClass:"",customClass:"contextmenu-custom",items:[{label:K("app.tabbar.reload"),icon:"i-ri:refresh-line",disabled:i.tabId!==I.value,onClick:()=>Te.reload()},{label:K("app.tabbar.close"),icon:"i-ri:close-line",disabled:b.list.length<=1||i.isPin||i.isPermanent,divided:!0,onClick:()=>{V.closeById(i.tabId)}},{label:i.isPin?K("app.tabbar.unpin"):K("app.tabbar.pin"),icon:i.isPin?"i-lucide:pin-off":"i-lucide:pin",disabled:i.fullPath===e.settings.home.fullPath||i.isPermanent,onClick:()=>{i.isPin?b.unPin(i.tabId):b.pin(i.tabId)}},{label:K("app.tabbar.maximize"),icon:"i-ri:picture-in-picture-exit-line",onClick:()=>{i.tabId!==I.value&&j.push(i.fullPath),je(),e.setMainPageMaximize()}},{label:K("app.tabbar.newWindow"),icon:"i-ci:window",divided:!0,onClick:()=>{const w=j.resolve(i.fullPath);window.open(w.href,"_blank")}},{label:K("app.tabbar.closeOtherSide"),disabled:!V.checkCloseOtherSide(i.tabId),onClick:()=>{V.closeOtherSide(i.tabId)}},{label:K("app.tabbar.closeLeftSide"),disabled:!V.checkCloseLeftSide(i.tabId),onClick:()=>{V.closeLeftSide(i.tabId)}},{label:K("app.tabbar.closeRightSide"),disabled:!V.checkCloseRightSide(i.tabId),onClick:()=>{V.closeRightSide(i.tabId)}}]})}function ge(m,i,w){let r;return!m&&i||m&&!w?r=i:m&&w&&(r=w),r}return $e(()=>{et("alt+left,alt+right,alt+w,alt+1,alt+2,alt+3,alt+4,alt+5,alt+6,alt+7,alt+8,alt+9,alt+0",(m,i)=>{var w,r;if(e.settings.tabbar.enable&&e.settings.tabbar.enableHotkeys)switch(m.preventDefault(),i.key){case"alt+left":if(b.list[0].tabId!==I.value){const L=b.list.findIndex(te=>te.tabId===I.value);j.push(b.list[L-1].fullPath)}break;case"alt+right":if(((w=b.list.at(-1))==null?void 0:w.tabId)!==I.value){const L=b.list.findIndex(te=>te.tabId===I.value);j.push(b.list[L+1].fullPath)}break;case"alt+w":V.closeById(I.value);break;case"alt+1":case"alt+2":case"alt+3":case"alt+4":case"alt+5":case"alt+6":case"alt+7":case"alt+8":case"alt+9":{const L=Number(i.key.split("+")[1]);(r=b.list[L-1])!=null&&r.fullPath&&j.push(b.list[L-1].fullPath);break}case"alt+0":j.push(b.list[b.list.length-1].fullPath);break}})}),ct(()=>{et.unbind("alt+q,alt+e,alt+w,alt+1,alt+2,alt+3,alt+4,alt+5,alt+6,alt+7,alt+8,alt+9,alt+0")}),(m,i)=>{const w=ga;return Q(),ie("div",Ra,[re("div",{ref_key:"tabsRef",ref:ae,class:We(["tabs",{"tabs-ontop":B(e).settings.topbar.switchTabbarAndToolbar,[`tabs-${B(e).settings.tabbar.style}`]:B(e).settings.tabbar.style!==""}]),onWheel:de(_e,["prevent"])},[Ie(ot,{ref_key:"tabContainerRef",ref:le,name:B(ce)?void 0:"tabbar",tag:"div",class:We(["tab-container",{dragging:B(ce)}])},{default:vt(()=>[(Q(!0),ie(nt,null,ft(B(b).list,(r,L)=>{var te,Ce;return Q(),ie("div",{key:B(e).settings.tabbar.mergeTabsBy==="routeName"&&r.routeName?r.routeName:r.tabId,ref_for:!0,ref_key:"tabRef",ref:ee,"data-index":L,class:We(["tab",{"tab-ontop":B(e).settings.topbar.switchTabbarAndToolbar,actived:r.tabId===B(I),"no-drag":r.isPermanent||r.isPin}]),title:((te=r.customTitleList.find(U=>U.fullPath===r.fullPath))==null?void 0:te.title)||B(z)(r.i18n,r.title),onClick:U=>B(j).push(r.fullPath),onDblclick:i[2]||(i[2]=U=>B(e).setMainPageMaximize()),onContextmenu:U=>Ae(U,r)},[Ta,Na,re("div",Oa,[(Q(),ie("div",{key:r.tabId,class:"title"},[B(e).settings.tabbar.enableIcon&&ge(r.tabId===B(I),r.icon,r.activeIcon)?(Q(),De(w,{key:0,name:ge(r.tabId===B(I),r.icon,r.activeIcon),class:"icon"},null,8,["name"])):Pe("",!0),at(" "+Ke(((Ce=r.customTitleList.find(U=>U.fullPath===r.fullPath))==null?void 0:Ce.title)||B(z)(r.i18n,r.title)),1)])),!r.isPermanent&&r.isPin?(Q(),ie("div",ja,[Ie(w,{name:"i-ri:pushpin-2-fill",onClick:de(U=>B(b).unPin(r.tabId),["stop"]),onDblclick:i[0]||(i[0]=de(()=>{},["stop"]))},null,8,["onClick"])])):!r.isPermanent&&B(b).list.length>1?(Q(),ie("div",_a,[Ie(w,{name:"i-ri:close-fill",onClick:de(U=>B(V).closeById(r.tabId),["stop"]),onDblclick:i[1]||(i[1]=de(()=>{},["stop"]))},null,8,["onClick"])])):Pe("",!0),bt(re("div",{class:"hotkey-number"},Ke(L+1),513),[[ht,B(Ne).alt&&L<9]]),Va])],42,Ea)}),128))]),_:1},8,["name","class"])],34),B(q)?(Q(),De(ya,{key:0,class:"more-action"})):Pe("",!0)])}}}),Ya=Ca(Aa,[["__scopeId","data-v-b32747cb"]]);export{Ya as default};
