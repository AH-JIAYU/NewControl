
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as _}from"./setting_basisDictionary-DSGbpPQM.js";import{g as B,m as N,u as D,h as M,r as g,B as U,i as d,o as q,j as F,w as s,a,b as I,l as o,ao as b,_ as R}from"./index-CqCdPddg.js";const S=B({__name:"index",props:N({dictionaryId:{default:""},id:{default:""},tree:{},row:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:N(["success"],["update:modelValue"]),setup(v,{emit:E}){const u=v,V=E,c=D(v,"modelValue"),y=M(()=>u.id===""?"新增字典项":"编辑字典项"),r=g(),e=g({id:u.id,parentId:null,catalogueId:u.dictionaryId,englishName:"",chineseName:"",code:"",remark:""}),C=g({catalogueId:[{required:!0,message:"请选择所属字典"}],chineseName:[{required:!0,message:"请输入字典项名称"}],englishName:[{required:!0,message:"请输入字典项英文名称"}],code:[{required:!0,message:"请输入字典项键值"}]});U(()=>{if(u.id!==""){const{englishName:n,chineseName:l,catalogueId:p}=JSON.parse(u.row);e.value.catalogueId=p,e.value.chineseName=l,e.value.englishName=n}});function k(){e.value.id===""?r.value&&r.value.validate(n=>{n&&_.itemCreate(e.value).then(()=>{b.success({message:"新增成功",center:!0}),V("success"),m()})}):r.value&&r.value.validate(n=>{n&&_.itemEdit(e.value).then(()=>{b.success({message:"编辑成功",center:!0}),V("success"),m()})})}function m(){c.value=!1}return(n,l)=>{const p=d("ElCascader"),i=d("ElFormItem"),f=d("ElInput"),w=d("ElForm"),h=d("ElButton"),x=d("ElDialog");return q(),F(x,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=t=>c.value=t),title:o(y),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:m},{footer:s(()=>[a(h,{size:"large",onClick:m},{default:s(()=>[I(" 取消 ")]),_:1}),a(h,{type:"primary",size:"large",onClick:k},{default:s(()=>[I(" 确定 ")]),_:1})]),default:s(()=>[a(w,{ref_key:"formRef",ref:r,model:o(e),rules:o(C),"label-width":"100px"},{default:s(()=>[a(i,{label:"所属字典"},{default:s(()=>[a(p,{modelValue:o(e).catalogueId,"onUpdate:modelValue":l[0]||(l[0]=t=>o(e).catalogueId=t),options:n.tree,props:{value:"id",label:"chineseName",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),a(i,{label:"字典项名称",prop:"chineseName"},{default:s(()=>[a(f,{modelValue:o(e).chineseName,"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).chineseName=t),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{label:"英文名称",prop:"englishName"},{default:s(()=>[a(f,{modelValue:o(e).englishName,"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).englishName=t),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{label:"字典项键值",prop:"code"},{default:s(()=>[a(f,{modelValue:o(e).code,"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).code=t),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),J=R(S,[["__scopeId","data-v-dbc1d846"]]);export{J as default};
