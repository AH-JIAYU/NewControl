
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{r as w,h as i,g as V,cw as M,y as j,ak as D,q as P,a1 as U,be as v,cr as q,cF as F,cq as K,ct as L,cu as O,a4 as A,cx as b,m as H,u as R,o as y,j as h,w as z,F as g,n as G,Q as k,l as Q,M as J}from"./index-8VIcFXwB.js";import{s as W}from"./use-resolve-button-type-D2xOgJfk.js";function X(l,a,t){let o=w(t==null?void 0:t.value),n=i(()=>l.value!==void 0);return[i(()=>n.value?l.value:o.value),function(s){return n.value||(o.value=s),a==null?void 0:a(s)}]}function Y(l){var a,t;let o=(a=l==null?void 0:l.form)!=null?a:l.closest("form");if(o){for(let n of o.elements)if(n!==l&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(t=o.requestSubmit)==null||t.call(o)}}let Z=Symbol("GroupContext"),ee=V({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(l,{emit:a,attrs:t,slots:o,expose:n}){var s;let C=(s=l.id)!=null?s:`headlessui-switch-${M()}`,r=j(Z,null),[d,m]=X(i(()=>l.modelValue),e=>a("update:modelValue",e),i(()=>l.defaultChecked));function p(){m(!d.value)}let I=w(null),c=r===null?I:r.switchRef,S=W(i(()=>({as:l.as,type:t.type})),c);n({el:c,$el:c});function x(e){e.preventDefault(),p()}function $(e){e.key===b.Space?(e.preventDefault(),p()):e.key===b.Enter&&Y(e.currentTarget)}function B(e){e.preventDefault()}let f=i(()=>{var e,u;return(u=(e=D(c))==null?void 0:e.closest)==null?void 0:u.call(e,"form")});return P(()=>{U([f],()=>{if(!f.value||l.defaultChecked===void 0)return;function e(){m(l.defaultChecked)}return f.value.addEventListener("reset",e),()=>{var u;(u=f.value)==null||u.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{name:e,value:u,form:N,...T}=l,_={checked:d.value},E={id:C,ref:c,role:"switch",type:S.value,tabIndex:0,"aria-checked":d.value,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:x,onKeyup:$,onKeypress:B};return v(A,[e!=null&&d.value!=null?v(q,F({features:K.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:d.value,form:N,name:e,value:u})):null,L({ourProps:E,theirProps:{...t,...O(T,["modelValue","defaultChecked"])},slot:_,attrs:t,slots:o,name:"Switch"})])}}});const le={class:"absolute inset-0 h-full w-full flex items-center justify-center"},ne=V({__name:"HToggle",props:H({disabled:{type:Boolean,default:!1},onIcon:{},offIcon:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=R(l,"modelValue");return(t,o)=>{const n=J;return y(),h(Q(ee),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s),disabled:t.disabled,class:k(["relative h-5 w-10 inline-flex flex-shrink-0 cursor-pointer border-2 border-transparent rounded-full p-0 vertical-middle disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",[a.value?"bg-ui-primary":"bg-stone-3 dark:bg-stone-7"]])},{default:z(()=>[g("span",{class:k(["pointer-events-none relative inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition-margin duration-200 ease-in-out dark:bg-dark",[a.value?"ms-5":"ms-0"]])},[g("span",le,[a.value&&t.onIcon||!a.value&&t.offIcon?(y(),h(n,{key:0,name:a.value?t.onIcon:t.offIcon,class:"h-3 w-3 text-stone-7 dark:text-stone-3"},null,8,["name"])):G("",!0)])],2)]),_:1},8,["modelValue","disabled","class"])}}});export{ne as _};
