
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{cI as Ov,cK as Tv}from"./index-CS0OZ-B6.js";var ub={410:(wt,he,Pe)=>{var Oe,Re,le;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(Kt){Re=[Pe(50),Pe(316)],Oe=Kt,le=typeof Oe=="function"?Oe.apply(he,Re):Oe,le!==void 0&&(wt.exports=le)})(function(Kt,ut){var Ct=Array.prototype.slice;function q(U,$,Q){return Q.length<=4?U.call($,Q[0],Q[1],Q[2],Q[3]):U.apply($,Q)}function yt(U,$){return Ct.call(U,$)}function Y(U,$){return U==null?!1:(Kt.isArray($)||($=yt(arguments,1)),Kt.all($,function(Q){return Q in U}))}var st=function(){var U=!1,$=-1;function Q(){$++,U=!0,Kt.defer(function(){U=!1})}return function(){return U||Q(),$}}();function k(){this.registeredObjects=[],this.cidIndexes=[]}k.prototype={isRegistered:function(U){return U&&U.cid?this.registeredObjects[U.cid]:Kt.contains(this.registeredObjects,U)},register:function(U){return this.isRegistered(U)?!1:(U&&U.cid?(this.registeredObjects[U.cid]=U,this.cidIndexes.push(U.cid)):this.registeredObjects.push(U),!0)},unregister:function(U){if(this.isRegistered(U)){if(U&&U.cid)delete this.registeredObjects[U.cid],this.cidIndexes.splice(Kt.indexOf(this.cidIndexes,U.cid),1);else{var $=Kt.indexOf(this.registeredObjects,U);this.registeredObjects.splice($,1)}return!0}return!1},get:function(){return Kt.map(this.cidIndexes,function(U){return this.registeredObjects[U]},this).concat(this.registeredObjects)}};function H(U,$,Q,J){for(var Tt=0,et=$.length,_t;Tt<et;Tt++)if(_t=$[Tt],!!_t){if(U==="on"){if(!J.objectRegistry.register(_t))continue}else if(!J.objectRegistry.unregister(_t))continue;Kt.isFunction(_t[U])&&_t[U]("all",Q,J)}}function ft(U,$){var Q=$.type,J=$.undoTypes,Tt=!J[Q]||J[Q][U];Kt.isFunction(Tt)&&Tt($.object,$.before,$.after,$.options)}function ht(U,$,Q,J,Tt){if(!(Q.isCurrentlyUndoRedoing||U==="undo"&&Q.pointer===-1||U==="redo"&&Q.pointer===Q.length-1)){Q.isCurrentlyUndoRedoing=!0;var et,_t,G=U==="undo";for(Tt?_t=G&&Q.pointer===Q.length-1||!G&&Q.pointer===-1?Kt.clone(Q.models):Ct.apply(Q.models,G?[0,Q.pointer]:[Q.pointer,Q.length-1]):(et=Q.at(G?Q.pointer:Q.pointer+1),_t=J?Q.where({magicFusionIndex:et.get("magicFusionIndex")}):[et]),Q.pointer+=(G?-1:1)*_t.length;et=G?_t.pop():_t.shift();)et[U]();Q.isCurrentlyUndoRedoing=!1,$.trigger(U,$)}}function dt(U,$){var Q=U.condition,J=typeof Q;return J==="function"?!!q(Q,U,$):J==="boolean"?Q:!0}function B(U,$,Q,J){if(U.track&&!U.isCurrentlyUndoRedoing&&$ in J&&dt(J[$],Q)){var Tt=q(J[$].on,J[$],Q),et;if(Y(Tt,"object","before","after")){if(Tt.type=$,Tt.magicFusionIndex=st(),Tt.undoTypes=J,U.pointer<U.length-1)for(var et=U.length-U.pointer-1;et--;)U.pop();U.pointer=U.length,U.add(Tt),U.length>U.maximumStackLength&&(U.shift(),U.pointer--)}}}var V={add:{undo:function(U,$,Q,J){U.remove(Q,J)},redo:function(U,$,Q,J){J.index&&(J.at=J.index),U.add(Q,J)},on:function(U,$,Q){return{object:$,before:void 0,after:U,options:Kt.clone(Q)}}},remove:{undo:function(U,$,Q,J){"index"in J&&(J.at=J.index),U.add($,J)},redo:function(U,$,Q,J){U.remove($,J)},on:function(U,$,Q){return{object:$,before:U,after:void 0,options:Kt.clone(Q)}}},change:{undo:function(U,$,Q,J){Kt.isEmpty($)?Kt.each(Kt.keys(Q),U.unset,U):(U.set($),J&&J.unsetData&&J.unsetData.before&&J.unsetData.before.length&&Kt.each(J.unsetData.before,U.unset,U))},redo:function(U,$,Q,J){Kt.isEmpty(Q)?Kt.each(Kt.keys($),U.unset,U):(U.set(Q),J&&J.unsetData&&J.unsetData.after&&J.unsetData.after.length&&Kt.each(J.unsetData.after,U.unset,U))},on:function(U,$){var Q=U.changedAttributes(),J=Kt.keys(Q),Tt=Kt.pick(U.previousAttributes(),J),et=Kt.keys(Tt),_t=($||($={})).unsetData={after:[],before:[]};return J.length!=et.length&&(J.length>et.length?Kt.each(J,function(G){G in Tt||_t.before.push(G)},this):Kt.each(et,function(G){G in Q||_t.after.push(G)})),{object:U,before:Tt,after:Q,options:Kt.clone($)}}},reset:{undo:function(U,$,Q){U.reset($)},redo:function(U,$,Q){U.reset(Q)},on:function(U,$){return{object:U,before:$.previousModels,after:Kt.clone(U.models)}}}};function I(){}I.prototype=V;function N(U,$,Q,J){if(typeof $=="object")return Kt.each($,function(Tt,et){U===2?N(U,Tt,Q,J):N(U,et,Tt,Q)});switch(U){case 0:Y(Q,"undo","redo","on")&&Kt.all(Kt.pick(Q,"undo","redo","on"),Kt.isFunction)&&(J[$]=Q);break;case 1:J[$]&&Kt.isObject(Q)&&(J[$]=Kt.extend({},J[$],Q));break;case 2:delete J[$];break}return this}var W=ut.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(U){ft("undo",this.attributes)},redo:function(U){ft("redo",this.attributes)}}),R=ut.Collection.extend({model:W,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(U){this.maximumStackLength=U}}),F=ut.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(U){this.stack=new R,this.objectRegistry=new k,this.undoTypes=new I,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function($,Q){this.stack.setMaxLength(Q)},this),U&&U.track&&this.startTracking(),U&&U.register&&(Kt.isArray(U.register)||Kt.isArguments(U.register)?q(this.register,this,U.register):this.register(U.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(U){B(this.stack,U,yt(arguments,1),this.undoTypes)},register:function(){H("on",arguments,this._addToStack,this)},unregister:function(){H("off",arguments,this._addToStack,this)},unregisterAll:function(){q(this.unregister,this,this.objectRegistry.get())},undo:function(U){ht("undo",this,this.stack,U)},undoAll:function(){ht("undo",this,this.stack,!1,!0)},redo:function(U){ht("redo",this,this.stack,U)},redoAll:function(){ht("redo",this,this.stack,!1,!0)},isAvailable:function(U){var $=this.stack,Q=$.length;switch(U){case"undo":return Q>0&&$.pointer>-1;case"redo":return Q>0&&$.pointer<Q-1;default:return!1}},merge:function(U){for(var $=Kt.isArray(U)?U:yt(arguments),Q;Q=$.pop();)Q instanceof F&&Q.stack instanceof R&&(Q.stack=this.stack)},addUndoType:function(U,$){N(0,U,$,this.undoTypes)},changeUndoType:function(U,$){N(1,U,$,this.undoTypes)},removeUndoType:function(U){N(2,U,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return Kt.extend(F,{defaults:function(U){Kt.extend(F.prototype.defaults,U)},addUndoType:function(U,$){N(0,U,$,V)},changeUndoType:function(U,$){N(1,U,$,V)},removeUndoType:function(U){N(2,U,void 0,V)}}),ut.UndoManager=F})},316:(wt,he,Pe)=>{var Oe,Re;(function(le){var Kt=typeof self=="object"&&self.self===self&&self||typeof Pe.g=="object"&&Pe.g.global===Pe.g&&Pe.g;Oe=[Pe(50),Pe(895),he],Re=(function(ut,Ct,q){Kt.Backbone=le(Kt,q,ut,Ct)}).apply(he,Oe),Re!==void 0&&(wt.exports=Re)})(function(le,Kt,ut,Ct){var q=le.Backbone,yt=Array.prototype.slice;Kt.VERSION="1.4.1",Kt.$=Ct,Kt.noConflict=function(){return le.Backbone=q,this},Kt.emulateHTTP=!1,Kt.emulateJSON=!1;var Y=Kt.Events={},st=/\s+/,k,H=function(nt,Et,qt,me,Le){var lt=0,ue;if(qt&&typeof qt=="object")for(me!==void 0&&("context"in Le)&&Le.context===void 0&&(Le.context=me),ue=ut.keys(qt);lt<ue.length;lt++)Et=H(nt,Et,ue[lt],qt[ue[lt]],Le);else if(qt&&st.test(qt))for(ue=qt.split(st);lt<ue.length;lt++)Et=nt(Et,ue[lt],me,Le);else Et=nt(Et,qt,me,Le);return Et};Y.on=function(nt,Et,qt){if(this._events=H(ft,this._events||{},nt,Et,{context:qt,ctx:this,listening:k}),k){var me=this._listeners||(this._listeners={});me[k.id]=k,k.interop=!1}return this},Y.listenTo=function(nt,Et,qt){if(!nt)return this;var me=nt._listenId||(nt._listenId=ut.uniqueId("l")),Le=this._listeningTo||(this._listeningTo={}),lt=k=Le[me];lt||(this._listenId||(this._listenId=ut.uniqueId("l")),lt=k=Le[me]=new N(this,nt));var ue=ht(nt,Et,qt,this);if(k=void 0,ue)throw ue;return lt.interop&&lt.on(Et,qt),this};var ft=function(nt,Et,qt,me){if(qt){var Le=nt[Et]||(nt[Et]=[]),lt=me.context,ue=me.ctx,se=me.listening;se&&se.count++,Le.push({callback:qt,context:lt,ctx:lt||ue,listening:se})}return nt},ht=function(nt,Et,qt,me){try{nt.on(Et,qt,me)}catch(Le){return Le}};Y.off=function(nt,Et,qt){return this._events?(this._events=H(dt,this._events,nt,Et,{context:qt,listeners:this._listeners}),this):this},Y.stopListening=function(nt,Et,qt){var me=this._listeningTo;if(!me)return this;for(var Le=nt?[nt._listenId]:ut.keys(me),lt=0;lt<Le.length;lt++){var ue=me[Le[lt]];if(!ue)break;ue.obj.off(Et,qt,this),ue.interop&&ue.off(Et,qt)}return ut.isEmpty(me)&&(this._listeningTo=void 0),this};var dt=function(nt,Et,qt,me){if(nt){var Le=me.context,lt=me.listeners,ue=0,se;if(!Et&&!Le&&!qt){for(se=ut.keys(lt);ue<se.length;ue++)lt[se[ue]].cleanup();return}for(se=Et?[Et]:ut.keys(nt);ue<se.length;ue++){Et=se[ue];var nr=nt[Et];if(!nr)break;for(var vr=[],Qe=0;Qe<nr.length;Qe++){var Ir=nr[Qe];if(qt&&qt!==Ir.callback&&qt!==Ir.callback._callback||Le&&Le!==Ir.context)vr.push(Ir);else{var rn=Ir.listening;rn&&rn.off(Et,qt)}}vr.length?nt[Et]=vr:delete nt[Et]}return nt}};Y.once=function(nt,Et,qt){var me=H(B,{},nt,Et,this.off.bind(this));return typeof nt=="string"&&qt==null&&(Et=void 0),this.on(me,Et,qt)},Y.listenToOnce=function(nt,Et,qt){var me=H(B,{},Et,qt,this.stopListening.bind(this,nt));return this.listenTo(nt,me)};var B=function(nt,Et,qt,me){if(qt){var Le=nt[Et]=ut.once(function(){me(Et,Le),qt.apply(this,arguments)});Le._callback=qt}return nt};Y.trigger=function(nt){if(!this._events)return this;for(var Et=Math.max(0,arguments.length-1),qt=Array(Et),me=0;me<Et;me++)qt[me]=arguments[me+1];return H(V,this._events,nt,void 0,qt),this};var V=function(nt,Et,qt,me){if(nt){var Le=nt[Et],lt=nt.all;Le&&lt&&(lt=lt.slice()),Le&&I(Le,me),lt&&I(lt,[Et].concat(me))}return nt},I=function(nt,Et){var qt,me=-1,Le=nt.length,lt=Et[0],ue=Et[1],se=Et[2];switch(Et.length){case 0:for(;++me<Le;)(qt=nt[me]).callback.call(qt.ctx);return;case 1:for(;++me<Le;)(qt=nt[me]).callback.call(qt.ctx,lt);return;case 2:for(;++me<Le;)(qt=nt[me]).callback.call(qt.ctx,lt,ue);return;case 3:for(;++me<Le;)(qt=nt[me]).callback.call(qt.ctx,lt,ue,se);return;default:for(;++me<Le;)(qt=nt[me]).callback.apply(qt.ctx,Et);return}},N=function(nt,Et){this.id=nt._listenId,this.listener=nt,this.obj=Et,this.interop=!0,this.count=0,this._events=void 0};N.prototype.on=Y.on,N.prototype.off=function(nt,Et){var qt;this.interop?(this._events=H(dt,this._events,nt,Et,{context:void 0,listeners:void 0}),qt=!this._events):(this.count--,qt=this.count===0),qt&&this.cleanup()},N.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Y.bind=Y.on,Y.unbind=Y.off,ut.extend(Kt,Y);var W=Kt.Model=function(nt,Et){var qt=nt||{};Et||(Et={}),this.preinitialize.apply(this,arguments),this.cid=ut.uniqueId(this.cidPrefix),this.attributes={},Et.collection&&(this.collection=Et.collection),Et.parse&&(qt=this.parse(qt,Et)||{});var me=ut.result(this,"defaults");qt=ut.defaults(ut.extend({},me,qt),me),this.set(qt,Et),this.changed={},this.initialize.apply(this,arguments)};ut.extend(W.prototype,Y,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(nt){return ut.clone(this.attributes)},sync:function(){return Kt.sync.apply(this,arguments)},get:function(nt){return this.attributes[nt]},escape:function(nt){return ut.escape(this.get(nt))},has:function(nt){return this.get(nt)!=null},matches:function(nt){return!!ut.iteratee(nt,this)(this.attributes)},set:function(nt,Et,qt){if(nt==null)return this;var me;if(typeof nt=="object"?(me=nt,qt=Et):(me={})[nt]=Et,qt||(qt={}),!this._validate(me,qt))return!1;var Le=qt.unset,lt=qt.silent,ue=[],se=this._changing;this._changing=!0,se||(this._previousAttributes=ut.clone(this.attributes),this.changed={});var nr=this.attributes,vr=this.changed,Qe=this._previousAttributes;for(var Ir in me)Et=me[Ir],ut.isEqual(nr[Ir],Et)||ue.push(Ir),ut.isEqual(Qe[Ir],Et)?delete vr[Ir]:vr[Ir]=Et,Le?delete nr[Ir]:nr[Ir]=Et;if(this.idAttribute in me){var rn=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,rn,qt)}if(!lt){ue.length&&(this._pending=qt);for(var vt=0;vt<ue.length;vt++)this.trigger("change:"+ue[vt],this,nr[ue[vt]],qt)}if(se)return this;if(!lt)for(;this._pending;)qt=this._pending,this._pending=!1,this.trigger("change",this,qt);return this._pending=!1,this._changing=!1,this},unset:function(nt,Et){return this.set(nt,void 0,ut.extend({},Et,{unset:!0}))},clear:function(nt){var Et={};for(var qt in this.attributes)Et[qt]=void 0;return this.set(Et,ut.extend({},nt,{unset:!0}))},hasChanged:function(nt){return nt==null?!ut.isEmpty(this.changed):ut.has(this.changed,nt)},changedAttributes:function(nt){if(!nt)return this.hasChanged()?ut.clone(this.changed):!1;var Et=this._changing?this._previousAttributes:this.attributes,qt={},me;for(var Le in nt){var lt=nt[Le];ut.isEqual(Et[Le],lt)||(qt[Le]=lt,me=!0)}return me?qt:!1},previous:function(nt){return nt==null||!this._previousAttributes?null:this._previousAttributes[nt]},previousAttributes:function(){return ut.clone(this._previousAttributes)},fetch:function(nt){nt=ut.extend({parse:!0},nt);var Et=this,qt=nt.success;return nt.success=function(me){var Le=nt.parse?Et.parse(me,nt):me;if(!Et.set(Le,nt))return!1;qt&&qt.call(nt.context,Et,me,nt),Et.trigger("sync",Et,me,nt)},Je(this,nt),this.sync("read",this,nt)},save:function(nt,Et,qt){var me;nt==null||typeof nt=="object"?(me=nt,qt=Et):(me={})[nt]=Et,qt=ut.extend({validate:!0,parse:!0},qt);var Le=qt.wait;if(me&&!Le){if(!this.set(me,qt))return!1}else if(!this._validate(me,qt))return!1;var lt=this,ue=qt.success,se=this.attributes;qt.success=function(Qe){lt.attributes=se;var Ir=qt.parse?lt.parse(Qe,qt):Qe;if(Le&&(Ir=ut.extend({},me,Ir)),Ir&&!lt.set(Ir,qt))return!1;ue&&ue.call(qt.context,lt,Qe,qt),lt.trigger("sync",lt,Qe,qt)},Je(this,qt),me&&Le&&(this.attributes=ut.extend({},se,me));var nr=this.isNew()?"create":qt.patch?"patch":"update";nr==="patch"&&!qt.attrs&&(qt.attrs=me);var vr=this.sync(nr,this,qt);return this.attributes=se,vr},destroy:function(nt){nt=nt?ut.clone(nt):{};var Et=this,qt=nt.success,me=nt.wait,Le=function(){Et.stopListening(),Et.trigger("destroy",Et,Et.collection,nt)};nt.success=function(ue){me&&Le(),qt&&qt.call(nt.context,Et,ue,nt),Et.isNew()||Et.trigger("sync",Et,ue,nt)};var lt=!1;return this.isNew()?ut.defer(nt.success):(Je(this,nt),lt=this.sync("delete",this,nt)),me||Le(),lt},url:function(){var nt=ut.result(this,"urlRoot")||ut.result(this.collection,"url")||Vr();if(this.isNew())return nt;var Et=this.get(this.idAttribute);return nt.replace(/[^\/]$/,"$&/")+encodeURIComponent(Et)},parse:function(nt,Et){return nt},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(nt){return this._validate({},ut.extend({},nt,{validate:!0}))},_validate:function(nt,Et){if(!Et.validate||!this.validate)return!0;nt=ut.extend({},this.attributes,nt);var qt=this.validationError=this.validate(nt,Et)||null;return qt?(this.trigger("invalid",this,qt,ut.extend(Et,{validationError:qt})),!1):!0}});var R=Kt.Collection=function(nt,Et){Et||(Et={}),this.preinitialize.apply(this,arguments),Et.model&&(this.model=Et.model),Et.comparator!==void 0&&(this.comparator=Et.comparator),this._reset(),this.initialize.apply(this,arguments),nt&&this.reset(nt,ut.extend({silent:!0},Et))},F={add:!0,remove:!0,merge:!0},U={add:!0,remove:!1},$=function(nt,Et,qt){qt=Math.min(Math.max(qt,0),nt.length);var me=Array(nt.length-qt),Le=Et.length,lt;for(lt=0;lt<me.length;lt++)me[lt]=nt[lt+qt];for(lt=0;lt<Le;lt++)nt[lt+qt]=Et[lt];for(lt=0;lt<me.length;lt++)nt[lt+Le+qt]=me[lt]};ut.extend(R.prototype,Y,{model:W,preinitialize:function(){},initialize:function(){},toJSON:function(nt){return this.map(function(Et){return Et.toJSON(nt)})},sync:function(){return Kt.sync.apply(this,arguments)},add:function(nt,Et){return this.set(nt,ut.extend({merge:!1},Et,U))},remove:function(nt,Et){Et=ut.extend({},Et);var qt=!ut.isArray(nt);nt=qt?[nt]:nt.slice();var me=this._removeModels(nt,Et);return!Et.silent&&me.length&&(Et.changes={added:[],merged:[],removed:me},this.trigger("update",this,Et)),qt?me[0]:me},set:function(nt,Et){if(nt!=null){Et=ut.extend({},F,Et),Et.parse&&!this._isModel(nt)&&(nt=this.parse(nt,Et)||[]);var qt=!ut.isArray(nt);nt=qt?[nt]:nt.slice();var me=Et.at;me!=null&&(me=+me),me>this.length&&(me=this.length),me<0&&(me+=this.length+1);var Le=[],lt=[],ue=[],se=[],nr={},vr=Et.add,Qe=Et.merge,Ir=Et.remove,rn=!1,vt=this.comparator&&me==null&&Et.sort!==!1,Wt=ut.isString(this.comparator)?this.comparator:null,fe,Vt;for(Vt=0;Vt<nt.length;Vt++){fe=nt[Vt];var Ce=this.get(fe);if(Ce){if(Qe&&fe!==Ce){var Yt=this._isModel(fe)?fe.attributes:fe;Et.parse&&(Yt=Ce.parse(Yt,Et)),Ce.set(Yt,Et),ue.push(Ce),vt&&!rn&&(rn=Ce.hasChanged(Wt))}nr[Ce.cid]||(nr[Ce.cid]=!0,Le.push(Ce)),nt[Vt]=Ce}else vr&&(fe=nt[Vt]=this._prepareModel(fe,Et),fe&&(lt.push(fe),this._addReference(fe,Et),nr[fe.cid]=!0,Le.push(fe)))}if(Ir){for(Vt=0;Vt<this.length;Vt++)fe=this.models[Vt],nr[fe.cid]||se.push(fe);se.length&&this._removeModels(se,Et)}var pr=!1,dr=!vt&&vr&&Ir;if(Le.length&&dr?(pr=this.length!==Le.length||ut.some(this.models,function(on,Kr){return on!==Le[Kr]}),this.models.length=0,$(this.models,Le,0),this.length=this.models.length):lt.length&&(vt&&(rn=!0),$(this.models,lt,me??this.length),this.length=this.models.length),rn&&this.sort({silent:!0}),!Et.silent){for(Vt=0;Vt<lt.length;Vt++)me!=null&&(Et.index=me+Vt),fe=lt[Vt],fe.trigger("add",fe,this,Et);(rn||pr)&&this.trigger("sort",this,Et),(lt.length||se.length||ue.length)&&(Et.changes={added:lt,removed:se,merged:ue},this.trigger("update",this,Et))}return qt?nt[0]:nt}},reset:function(nt,Et){Et=Et?ut.clone(Et):{};for(var qt=0;qt<this.models.length;qt++)this._removeReference(this.models[qt],Et);return Et.previousModels=this.models,this._reset(),nt=this.add(nt,ut.extend({silent:!0},Et)),Et.silent||this.trigger("reset",this,Et),nt},push:function(nt,Et){return this.add(nt,ut.extend({at:this.length},Et))},pop:function(nt){var Et=this.at(this.length-1);return this.remove(Et,nt)},unshift:function(nt,Et){return this.add(nt,ut.extend({at:0},Et))},shift:function(nt){var Et=this.at(0);return this.remove(Et,nt)},slice:function(){return yt.apply(this.models,arguments)},get:function(nt){if(nt!=null)return this._byId[nt]||this._byId[this.modelId(this._isModel(nt)?nt.attributes:nt,nt.idAttribute)]||nt.cid&&this._byId[nt.cid]},has:function(nt){return this.get(nt)!=null},at:function(nt){return nt<0&&(nt+=this.length),this.models[nt]},where:function(nt,Et){return this[Et?"find":"filter"](nt)},findWhere:function(nt){return this.where(nt,!0)},sort:function(nt){var Et=this.comparator;if(!Et)throw new Error("Cannot sort a set without a comparator");nt||(nt={});var qt=Et.length;return ut.isFunction(Et)&&(Et=Et.bind(this)),qt===1||ut.isString(Et)?this.models=this.sortBy(Et):this.models.sort(Et),nt.silent||this.trigger("sort",this,nt),this},pluck:function(nt){return this.map(nt+"")},fetch:function(nt){nt=ut.extend({parse:!0},nt);var Et=nt.success,qt=this;return nt.success=function(me){var Le=nt.reset?"reset":"set";qt[Le](me,nt),Et&&Et.call(nt.context,qt,me,nt),qt.trigger("sync",qt,me,nt)},Je(this,nt),this.sync("read",this,nt)},create:function(nt,Et){Et=Et?ut.clone(Et):{};var qt=Et.wait;if(nt=this._prepareModel(nt,Et),!nt)return!1;qt||this.add(nt,Et);var me=this,Le=Et.success;return Et.success=function(lt,ue,se){qt&&me.add(lt,se),Le&&Le.call(se.context,lt,ue,se)},nt.save(null,Et),nt},parse:function(nt,Et){return nt},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(nt,Et){return nt[Et||this.model.prototype.idAttribute||"id"]},values:function(){return new J(this,Tt)},keys:function(){return new J(this,et)},entries:function(){return new J(this,_t)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(nt,Et){if(this._isModel(nt))return nt.collection||(nt.collection=this),nt;Et=Et?ut.clone(Et):{},Et.collection=this;var qt;return this.model.prototype?qt=new this.model(nt,Et):qt=this.model(nt,Et),qt.validationError?(this.trigger("invalid",this,qt.validationError,Et),!1):qt},_removeModels:function(nt,Et){for(var qt=[],me=0;me<nt.length;me++){var Le=this.get(nt[me]);if(Le){var lt=this.indexOf(Le);this.models.splice(lt,1),this.length--,delete this._byId[Le.cid];var ue=this.modelId(Le.attributes,Le.idAttribute);ue!=null&&delete this._byId[ue],Et.silent||(Et.index=lt,Le.trigger("remove",Le,this,Et)),qt.push(Le),this._removeReference(Le,Et)}}return qt},_isModel:function(nt){return nt instanceof W},_addReference:function(nt,Et){this._byId[nt.cid]=nt;var qt=this.modelId(nt.attributes,nt.idAttribute);qt!=null&&(this._byId[qt]=nt),nt.on("all",this._onModelEvent,this)},_removeReference:function(nt,Et){delete this._byId[nt.cid];var qt=this.modelId(nt.attributes,nt.idAttribute);qt!=null&&delete this._byId[qt],this===nt.collection&&delete nt.collection,nt.off("all",this._onModelEvent,this)},_onModelEvent:function(nt,Et,qt,me){if(Et){if((nt==="add"||nt==="remove")&&qt!==this)return;if(nt==="destroy"&&this.remove(Et,me),nt==="changeId"){var Le=this.modelId(Et.previousAttributes(),Et.idAttribute),lt=this.modelId(Et.attributes,Et.idAttribute);Le!=null&&delete this._byId[Le],lt!=null&&(this._byId[lt]=Et)}}this.trigger.apply(this,arguments)}});var Q=typeof Symbol=="function"&&Symbol.iterator;Q&&(R.prototype[Q]=R.prototype.values);var J=function(nt,Et){this._collection=nt,this._kind=Et,this._index=0},Tt=1,et=2,_t=3;Q&&(J.prototype[Q]=function(){return this}),J.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var nt=this._collection.at(this._index);this._index++;var Et;if(this._kind===Tt)Et=nt;else{var qt=this._collection.modelId(nt.attributes,nt.idAttribute);this._kind===et?Et=qt:Et=[qt,nt]}return{value:Et,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var G=Kt.View=function(nt){this.cid=ut.uniqueId("view"),this.preinitialize.apply(this,arguments),ut.extend(this,ut.pick(nt,$t)),this._ensureElement(),this.initialize.apply(this,arguments)},Ft=/^(\S+)\s*(.*)$/,$t=["model","collection","el","id","attributes","className","tagName","events"];ut.extend(G.prototype,Y,{tagName:"div",$:function(nt){return this.$el.find(nt)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(nt){return this.undelegateEvents(),this._setElement(nt),this.delegateEvents(),this},_setElement:function(nt){this.$el=nt instanceof Kt.$?nt:Kt.$(nt),this.el=this.$el[0]},delegateEvents:function(nt){if(nt||(nt=ut.result(this,"events")),!nt)return this;this.undelegateEvents();for(var Et in nt){var qt=nt[Et];if(ut.isFunction(qt)||(qt=this[qt]),!!qt){var me=Et.match(Ft);this.delegate(me[1],me[2],qt.bind(this))}}return this},delegate:function(nt,Et,qt){return this.$el.on(nt+".delegateEvents"+this.cid,Et,qt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(nt,Et,qt){return this.$el.off(nt+".delegateEvents"+this.cid,Et,qt),this},_createElement:function(nt){return document.createElement(nt)},_ensureElement:function(){if(this.el)this.setElement(ut.result(this,"el"));else{var nt=ut.extend({},ut.result(this,"attributes"));this.id&&(nt.id=ut.result(this,"id")),this.className&&(nt.class=ut.result(this,"className")),this.setElement(this._createElement(ut.result(this,"tagName"))),this._setAttributes(nt)}},_setAttributes:function(nt){this.$el.attr(nt)}});var Lt=function(nt,Et,qt,me){switch(Et){case 1:return function(){return nt[qt](this[me])};case 2:return function(Le){return nt[qt](this[me],Le)};case 3:return function(Le,lt){return nt[qt](this[me],bt(Le,this),lt)};case 4:return function(Le,lt,ue){return nt[qt](this[me],bt(Le,this),lt,ue)};default:return function(){var Le=yt.call(arguments);return Le.unshift(this[me]),nt[qt].apply(nt,Le)}}},ve=function(nt,Et,qt,me){ut.each(qt,function(Le,lt){Et[lt]&&(nt.prototype[lt]=Lt(Et,Le,lt,me))})},bt=function(nt,Et){return ut.isFunction(nt)?nt:ut.isObject(nt)&&!Et._isModel(nt)?jt(nt):ut.isString(nt)?function(qt){return qt.get(nt)}:nt},jt=function(nt){var Et=ut.matches(nt);return function(qt){return Et(qt.attributes)}},Rt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Xt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};ut.each([[R,Rt,"models"],[W,Xt,"attributes"]],function(nt){var Et=nt[0],qt=nt[1],me=nt[2];Et.mixin=function(Le){var lt=ut.reduce(ut.functions(Le),function(ue,se){return ue[se]=0,ue},{});ve(Et,Le,lt,me)},ve(Et,ut,qt,me)}),Kt.sync=function(nt,Et,qt){var me=Ht[nt];ut.defaults(qt||(qt={}),{emulateHTTP:Kt.emulateHTTP,emulateJSON:Kt.emulateJSON});var Le={type:me,dataType:"json"};if(qt.url||(Le.url=ut.result(Et,"url")||Vr()),qt.data==null&&Et&&(nt==="create"||nt==="update"||nt==="patch")&&(Le.contentType="application/json",Le.data=JSON.stringify(qt.attrs||Et.toJSON(qt))),qt.emulateJSON&&(Le.contentType="application/x-www-form-urlencoded",Le.data=Le.data?{model:Le.data}:{}),qt.emulateHTTP&&(me==="PUT"||me==="DELETE"||me==="PATCH")){Le.type="POST",qt.emulateJSON&&(Le.data._method=me);var lt=qt.beforeSend;qt.beforeSend=function(nr){if(nr.setRequestHeader("X-HTTP-Method-Override",me),lt)return lt.apply(this,arguments)}}Le.type!=="GET"&&!qt.emulateJSON&&(Le.processData=!1);var ue=qt.error;qt.error=function(nr,vr,Qe){qt.textStatus=vr,qt.errorThrown=Qe,ue&&ue.call(qt.context,nr,vr,Qe)};var se=qt.xhr=Kt.ajax(ut.extend(Le,qt));return Et.trigger("request",Et,se,qt),se};var Ht={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};Kt.ajax=function(){return Kt.$.ajax.apply(Kt.$,arguments)};var It=Kt.Router=function(nt){nt||(nt={}),this.preinitialize.apply(this,arguments),nt.routes&&(this.routes=nt.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},St=/\((.*?)\)/g,Bt=/(\(\?)?:\w+/g,Me=/\*\w+/g,pe=/[\-{}\[\]+?.,\\\^$|#\s]/g;ut.extend(It.prototype,Y,{preinitialize:function(){},initialize:function(){},route:function(nt,Et,qt){ut.isRegExp(nt)||(nt=this._routeToRegExp(nt)),ut.isFunction(Et)&&(qt=Et,Et=""),qt||(qt=this[Et]);var me=this;return Kt.history.route(nt,function(Le){var lt=me._extractParameters(nt,Le);me.execute(qt,lt,Et)!==!1&&(me.trigger.apply(me,["route:"+Et].concat(lt)),me.trigger("route",Et,lt),Kt.history.trigger("route",me,Et,lt))}),this},execute:function(nt,Et,qt){nt&&nt.apply(this,Et)},navigate:function(nt,Et){return Kt.history.navigate(nt,Et),this},_bindRoutes:function(){if(this.routes){this.routes=ut.result(this,"routes");for(var nt,Et=ut.keys(this.routes);(nt=Et.pop())!=null;)this.route(nt,this.routes[nt])}},_routeToRegExp:function(nt){return nt=nt.replace(pe,"\\$&").replace(St,"(?:$1)?").replace(Bt,function(Et,qt){return qt?Et:"([^/?]+)"}).replace(Me,"([^?]*?)"),new RegExp("^"+nt+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(nt,Et){var qt=nt.exec(Et).slice(1);return ut.map(qt,function(me,Le){return Le===qt.length-1?me||null:me?decodeURIComponent(me):null})}});var Ae=Kt.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ir=/^[#\/]|\s+$/g,Or=/^\/+|\/+$/g,Nr=/#.*$/;Ae.started=!1,ut.extend(Ae.prototype,Y,{interval:50,atRoot:function(){var nt=this.location.pathname.replace(/[^\/]$/,"$&/");return nt===this.root&&!this.getSearch()},matchRoot:function(){var nt=this.decodeFragment(this.location.pathname),Et=nt.slice(0,this.root.length-1)+"/";return Et===this.root},decodeFragment:function(nt){return decodeURI(nt.replace(/%25/g,"%2525"))},getSearch:function(){var nt=this.location.href.replace(/#.*/,"").match(/\?.+/);return nt?nt[0]:""},getHash:function(nt){var Et=(nt||this).location.href.match(/#(.*)$/);return Et?Et[1]:""},getPath:function(){var nt=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return nt.charAt(0)==="/"?nt.slice(1):nt},getFragment:function(nt){return nt==null&&(this._usePushState||!this._wantsHashChange?nt=this.getPath():nt=this.getHash()),nt.replace(ir,"")},start:function(nt){if(Ae.started)throw new Error("Backbone.history has already been started");if(Ae.started=!0,this.options=ut.extend({root:"/"},this.options,nt),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Or,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var Et=this.root.slice(0,-1)||"/";return this.location.replace(Et+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var qt=document.body,me=qt.insertBefore(this.iframe,qt.firstChild).contentWindow;me.document.open(),me.document.close(),me.location.hash="#"+this.fragment}var Le=window.addEventListener||function(lt,ue){return attachEvent("on"+lt,ue)};if(this._usePushState?Le("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Le("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var nt=window.removeEventListener||function(Et,qt){return detachEvent("on"+Et,qt)};this._usePushState?nt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&nt("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Ae.started=!1},route:function(nt,Et){this.handlers.unshift({route:nt,callback:Et})},checkUrl:function(nt){var Et=this.getFragment();if(Et===this.fragment&&this.iframe&&(Et=this.getHash(this.iframe.contentWindow)),Et===this.fragment)return!1;this.iframe&&this.navigate(Et),this.loadUrl()},loadUrl:function(nt){return this.matchRoot()?(nt=this.fragment=this.getFragment(nt),ut.some(this.handlers,function(Et){if(Et.route.test(nt))return Et.callback(nt),!0})):!1},navigate:function(nt,Et){if(!Ae.started)return!1;(!Et||Et===!0)&&(Et={trigger:!!Et}),nt=this.getFragment(nt||"");var qt=this.root;(nt===""||nt.charAt(0)==="?")&&(qt=qt.slice(0,-1)||"/");var me=qt+nt;nt=nt.replace(Nr,"");var Le=this.decodeFragment(nt);if(this.fragment!==Le){if(this.fragment=Le,this._usePushState)this.history[Et.replace?"replaceState":"pushState"]({},document.title,me);else if(this._wantsHashChange){if(this._updateHash(this.location,nt,Et.replace),this.iframe&&nt!==this.getHash(this.iframe.contentWindow)){var lt=this.iframe.contentWindow;Et.replace||(lt.document.open(),lt.document.close()),this._updateHash(lt.location,nt,Et.replace)}}else return this.location.assign(me);if(Et.trigger)return this.loadUrl(nt)}},_updateHash:function(nt,Et,qt){if(qt){var me=nt.href.replace(/(javascript:|#).*$/,"");nt.replace(me+"#"+Et)}else nt.hash="#"+Et}}),Kt.history=new Ae;var Dr=function(nt,Et){var qt=this,me;return nt&&ut.has(nt,"constructor")?me=nt.constructor:me=function(){return qt.apply(this,arguments)},ut.extend(me,qt,Et),me.prototype=ut.create(qt.prototype,nt),me.prototype.constructor=me,me.__super__=qt.prototype,me};W.extend=R.extend=It.extend=G.extend=Ae.extend=Dr;var Vr=function(){throw new Error('A "url" property or function must be specified')},Je=function(nt,Et){var qt=Et.error;Et.error=function(me){qt&&qt.call(Et.context,nt,me,Et),nt.trigger("error",nt,me,Et)}};return Kt})},210:(wt,he,Pe)=>{(function(Oe){Oe(Pe(631))})(function(Oe){Oe.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(le,Kt){return/^[;{}]$/.test(Kt)}}),Oe.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(le,Kt,ut,Ct){return this.jsonMode?/^[\[,{]$/.test(Kt)||/^}/.test(ut):Kt==";"&&Ct.lexical&&Ct.lexical.type==")"?!1:/^[;{}]$/.test(Kt)&&!/^;/.test(ut)}});var Re=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;Oe.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(le,Kt,ut,Ct){var q=!1;return this.configuration=="html"&&(q=Ct.context?Re.test(Ct.context.tagName):!1),!q&&(le=="tag"&&/>$/.test(Kt)&&Ct.context||/^</.test(ut))}}),Oe.defineExtension("commentRange",function(le,Kt,ut){var Ct=this,q=Oe.innerMode(Ct.getMode(),Ct.getTokenAt(Kt).state).mode;Ct.operation(function(){if(le)Ct.replaceRange(q.commentEnd,ut),Ct.replaceRange(q.commentStart,Kt),Kt.line==ut.line&&Kt.ch==ut.ch&&Ct.setCursor(Kt.line,Kt.ch+q.commentStart.length);else{var yt=Ct.getRange(Kt,ut),Y=yt.indexOf(q.commentStart),st=yt.lastIndexOf(q.commentEnd);Y>-1&&st>-1&&st>Y&&(yt=yt.substr(0,Y)+yt.substring(Y+q.commentStart.length,st)+yt.substr(st+q.commentEnd.length)),Ct.replaceRange(yt,Kt,ut)}})}),Oe.defineExtension("autoIndentRange",function(le,Kt){var ut=this;this.operation(function(){for(var Ct=le.line;Ct<=Kt.line;Ct++)ut.indentLine(Ct,"smart")})}),Oe.defineExtension("autoFormatRange",function(le,Kt){var ut=this,Ct=ut.getMode(),q=ut.getRange(le,Kt).split(`
`),yt=Oe.copyState(Ct,ut.getTokenAt(le).state),Y=ut.getOption("tabSize"),st="",k=0,H=le.ch===0;function ft(){st+=`
`,H=!0,++k}for(var ht=0;ht<q.length;++ht){for(var dt=new Oe.StringStream(q[ht],Y);!dt.eol();){var B=Oe.innerMode(Ct,yt),V=Ct.token(dt,yt),I=dt.current();dt.start=dt.pos,(!H||/\S/.test(I))&&(st+=I,H=!1),!H&&B.mode.newlineAfterToken&&B.mode.newlineAfterToken(V,I,dt.string.slice(dt.pos)||q[ht+1]||"",B.state)&&ft()}!dt.pos&&Ct.blankLine&&Ct.blankLine(yt),!H&&ht<q.length-1&&ft()}ut.operation(function(){ut.replaceRange(st,le,Kt);for(var N=le.line+1,W=le.line+k;N<=W;++N)ut.indentLine(N,"smart");ut.setSelection(le,ut.getCursor(!1))})})})},631:function(wt){(function(he,Pe){wt.exports=Pe()})(this,function(){var he=navigator.userAgent,Pe=navigator.platform,Oe=/gecko\/\d/i.test(he),Re=/MSIE \d/.test(he),le=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(he),Kt=/Edge\/(\d+)/.exec(he),ut=Re||le||Kt,Ct=ut&&(Re?document.documentMode||6:+(Kt||le)[1]),q=!Kt&&/WebKit\//.test(he),yt=q&&/Qt\/\d+\.\d+/.test(he),Y=!Kt&&/Chrome\/(\d+)/.exec(he),st=Y&&+Y[1],k=/Opera\//.test(he),H=/Apple Computer/.test(navigator.vendor),ft=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(he),ht=/PhantomJS/.test(he),dt=H&&(/Mobile\/\w+/.test(he)||navigator.maxTouchPoints>2),B=/Android/.test(he),V=dt||B||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(he),I=dt||/Mac/.test(Pe),N=/\bCrOS\b/.test(he),W=/win/i.test(Pe),R=k&&he.match(/Version\/(\d*\.\d*)/);R&&(R=Number(R[1])),R&&R>=15&&(k=!1,q=!0);var F=I&&(yt||k&&(R==null||R<12.11)),U=Oe||ut&&Ct>=9;function $(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}var Q=function(c,d){var b=c.className,y=$(d).exec(b);if(y){var x=b.slice(y.index+y[0].length);c.className=b.slice(0,y.index)+(x?y[1]+x:"")}};function J(c){for(var d=c.childNodes.length;d>0;--d)c.removeChild(c.firstChild);return c}function Tt(c,d){return J(c).appendChild(d)}function et(c,d,b,y){var x=document.createElement(c);if(b&&(x.className=b),y&&(x.style.cssText=y),typeof d=="string")x.appendChild(document.createTextNode(d));else if(d)for(var M=0;M<d.length;++M)x.appendChild(d[M]);return x}function _t(c,d,b,y){var x=et(c,d,b,y);return x.setAttribute("role","presentation"),x}var G;document.createRange?G=function(c,d,b,y){var x=document.createRange();return x.setEnd(y||c,b),x.setStart(c,d),x}:G=function(c,d,b){var y=document.body.createTextRange();try{y.moveToElementText(c.parentNode)}catch{return y}return y.collapse(!0),y.moveEnd("character",b),y.moveStart("character",d),y};function Ft(c,d){if(d.nodeType==3&&(d=d.parentNode),c.contains)return c.contains(d);do if(d.nodeType==11&&(d=d.host),d==c)return!0;while(d=d.parentNode)}function $t(c){var d;try{d=c.activeElement}catch{d=c.body||null}for(;d&&d.shadowRoot&&d.shadowRoot.activeElement;)d=d.shadowRoot.activeElement;return d}function Lt(c,d){var b=c.className;$(d).test(b)||(c.className+=(b?" ":"")+d)}function ve(c,d){for(var b=c.split(" "),y=0;y<b.length;y++)b[y]&&!$(b[y]).test(d)&&(d+=" "+b[y]);return d}var bt=function(c){c.select()};dt?bt=function(c){c.selectionStart=0,c.selectionEnd=c.value.length}:ut&&(bt=function(c){try{c.select()}catch{}});function jt(c){return c.display.wrapper.ownerDocument}function Rt(c){return jt(c).defaultView}function Xt(c){var d=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,d)}}function Ht(c,d,b){d||(d={});for(var y in c)c.hasOwnProperty(y)&&(b!==!1||!d.hasOwnProperty(y))&&(d[y]=c[y]);return d}function It(c,d,b,y,x){d==null&&(d=c.search(/[^\s\u00a0]/),d==-1&&(d=c.length));for(var M=y||0,z=x||0;;){var tt=c.indexOf("	",M);if(tt<0||tt>=d)return z+(d-M);z+=tt-M,z+=b-z%b,M=tt+1}}var St=function(){this.id=null,this.f=null,this.time=0,this.handler=Xt(this.onTimeout,this)};St.prototype.onTimeout=function(c){c.id=0,c.time<=+new Date?c.f():setTimeout(c.handler,c.time-+new Date)},St.prototype.set=function(c,d){this.f=d;var b=+new Date+c;(!this.id||b<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,c),this.time=b)};function Bt(c,d){for(var b=0;b<c.length;++b)if(c[b]==d)return b;return-1}var Me=50,pe={toString:function(){return"CodeMirror.Pass"}},Ae={scroll:!1},ir={origin:"*mouse"},Or={origin:"+move"};function Nr(c,d,b){for(var y=0,x=0;;){var M=c.indexOf("	",y);M==-1&&(M=c.length);var z=M-y;if(M==c.length||x+z>=d)return y+Math.min(z,d-x);if(x+=M-y,x+=b-x%b,y=M+1,x>=d)return y}}var Dr=[""];function Vr(c){for(;Dr.length<=c;)Dr.push(Je(Dr)+" ");return Dr[c]}function Je(c){return c[c.length-1]}function nt(c,d){for(var b=[],y=0;y<c.length;y++)b[y]=d(c[y],y);return b}function Et(c,d,b){for(var y=0,x=b(d);y<c.length&&b(c[y])<=x;)y++;c.splice(y,0,d)}function qt(){}function me(c,d){var b;return Object.create?b=Object.create(c):(qt.prototype=c,b=new qt),d&&Ht(d,b),b}var Le=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function lt(c){return/\w/.test(c)||c>""&&(c.toUpperCase()!=c.toLowerCase()||Le.test(c))}function ue(c,d){return d?d.source.indexOf("\\w")>-1&&lt(c)?!0:d.test(c):lt(c)}function se(c){for(var d in c)if(c.hasOwnProperty(d)&&c[d])return!1;return!0}var nr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function vr(c){return c.charCodeAt(0)>=768&&nr.test(c)}function Qe(c,d,b){for(;(b<0?d>0:d<c.length)&&vr(c.charAt(d));)d+=b;return d}function Ir(c,d,b){for(var y=d>b?-1:1;;){if(d==b)return d;var x=(d+b)/2,M=y<0?Math.ceil(x):Math.floor(x);if(M==d)return c(M)?d:b;c(M)?b=M:d=M+y}}function rn(c,d,b,y){if(!c)return y(d,b,"ltr",0);for(var x=!1,M=0;M<c.length;++M){var z=c[M];(z.from<b&&z.to>d||d==b&&z.to==d)&&(y(Math.max(z.from,d),Math.min(z.to,b),z.level==1?"rtl":"ltr",M),x=!0)}x||y(d,b,"ltr")}var vt=null;function Wt(c,d,b){var y;vt=null;for(var x=0;x<c.length;++x){var M=c[x];if(M.from<d&&M.to>d)return x;M.to==d&&(M.from!=M.to&&b=="before"?y=x:vt=x),M.from==d&&(M.from!=M.to&&b!="before"?y=x:vt=x)}return y??vt}var fe=function(){var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function b(Ot){return Ot<=247?c.charAt(Ot):1424<=Ot&&Ot<=1524?"R":1536<=Ot&&Ot<=1785?d.charAt(Ot-1536):1774<=Ot&&Ot<=2220?"r":8192<=Ot&&Ot<=8203?"w":Ot==8204?"b":"L"}var y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,x=/[stwN]/,M=/[LRr]/,z=/[Lb1n]/,tt=/[1n]/;function ct(Ot,ne,ye){this.level=Ot,this.from=ne,this.to=ye}return function(Ot,ne){var ye=ne=="ltr"?"L":"R";if(Ot.length==0||ne=="ltr"&&!y.test(Ot))return!1;for(var Ue=Ot.length,Ie=[],lr=0;lr<Ue;++lr)Ie.push(b(Ot.charCodeAt(lr)));for(var wr=0,jr=ye;wr<Ue;++wr){var $r=Ie[wr];$r=="m"?Ie[wr]=jr:jr=$r}for(var Zr=0,qr=ye;Zr<Ue;++Zr){var tn=Ie[Zr];tn=="1"&&qr=="r"?Ie[Zr]="n":M.test(tn)&&(qr=tn,tn=="r"&&(Ie[Zr]="R"))}for(var bn=1,dn=Ie[0];bn<Ue-1;++bn){var Xn=Ie[bn];Xn=="+"&&dn=="1"&&Ie[bn+1]=="1"?Ie[bn]="1":Xn==","&&dn==Ie[bn+1]&&(dn=="1"||dn=="n")&&(Ie[bn]=dn),dn=Xn}for(var Ko=0;Ko<Ue;++Ko){var pa=Ie[Ko];if(pa==",")Ie[Ko]="N";else if(pa=="%"){var hi=void 0;for(hi=Ko+1;hi<Ue&&Ie[hi]=="%";++hi);for(var Xa=Ko&&Ie[Ko-1]=="!"||hi<Ue&&Ie[hi]=="1"?"1":"N",ws=Ko;ws<hi;++ws)Ie[ws]=Xa;Ko=hi-1}}for(var Wi=0,Ja=ye;Wi<Ue;++Wi){var da=Ie[Wi];Ja=="L"&&da=="1"?Ie[Wi]="L":M.test(da)&&(Ja=da)}for(var Ji=0;Ji<Ue;++Ji)if(x.test(Ie[Ji])){var $i=void 0;for($i=Ji+1;$i<Ue&&x.test(Ie[$i]);++$i);for(var Ai=(Ji?Ie[Ji-1]:ye)=="L",Qa=($i<Ue?Ie[$i]:ye)=="L",mf=Ai==Qa?Ai?"L":"R":ye,il=Ji;il<$i;++il)Ie[il]=mf;Ji=$i-1}for(var Ea=[],ec,li=0;li<Ue;)if(z.test(Ie[li])){var Gp=li;for(++li;li<Ue&&z.test(Ie[li]);++li);Ea.push(new ct(0,Gp,li))}else{var qc=li,Kc=Ea.length,hu=ne=="rtl"?1:0;for(++li;li<Ue&&Ie[li]!="L";++li);for(var ts=qc;ts<li;)if(tt.test(Ie[ts])){qc<ts&&(Ea.splice(Kc,0,new ct(1,qc,ts)),Kc+=hu);var yf=ts;for(++ts;ts<li&&tt.test(Ie[ts]);++ts);Ea.splice(Kc,0,new ct(2,yf,ts)),Kc+=hu,qc=ts}else++ts;qc<li&&Ea.splice(Kc,0,new ct(1,qc,li))}return ne=="ltr"&&(Ea[0].level==1&&(ec=Ot.match(/^\s+/))&&(Ea[0].from=ec[0].length,Ea.unshift(new ct(0,0,ec[0].length))),Je(Ea).level==1&&(ec=Ot.match(/\s+$/))&&(Je(Ea).to-=ec[0].length,Ea.push(new ct(0,Ue-ec[0].length,Ue)))),ne=="rtl"?Ea.reverse():Ea}}();function Vt(c,d){var b=c.order;return b==null&&(b=c.order=fe(c.text,d)),b}var Ce=[],Yt=function(c,d,b){if(c.addEventListener)c.addEventListener(d,b,!1);else if(c.attachEvent)c.attachEvent("on"+d,b);else{var y=c._handlers||(c._handlers={});y[d]=(y[d]||Ce).concat(b)}};function pr(c,d){return c._handlers&&c._handlers[d]||Ce}function dr(c,d,b){if(c.removeEventListener)c.removeEventListener(d,b,!1);else if(c.detachEvent)c.detachEvent("on"+d,b);else{var y=c._handlers,x=y&&y[d];if(x){var M=Bt(x,b);M>-1&&(y[d]=x.slice(0,M).concat(x.slice(M+1)))}}}function on(c,d){var b=pr(c,d);if(b.length)for(var y=Array.prototype.slice.call(arguments,2),x=0;x<b.length;++x)b[x].apply(null,y)}function Kr(c,d,b){return typeof d=="string"&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),on(c,b||d.type,c,d),je(d)||d.codemirrorIgnore}function He(c){var d=c._handlers&&c._handlers.cursorActivity;if(d)for(var b=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]),y=0;y<d.length;++y)Bt(b,d[y])==-1&&b.push(d[y])}function pn(c,d){return pr(c,d).length>0}function $n(c){c.prototype.on=function(d,b){Yt(this,d,b)},c.prototype.off=function(d,b){dr(this,d,b)}}function Ut(c){c.preventDefault?c.preventDefault():c.returnValue=!1}function te(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}function je(c){return c.defaultPrevented!=null?c.defaultPrevented:c.returnValue==!1}function Xe(c){Ut(c),te(c)}function xt(c){return c.target||c.srcElement}function ce(c){var d=c.which;return d==null&&(c.button&1?d=1:c.button&2?d=3:c.button&4&&(d=2)),I&&c.ctrlKey&&d==1&&(d=3),d}var ke=function(){if(ut&&Ct<9)return!1;var c=et("div");return"draggable"in c||"dragDrop"in c}(),Ze;function xr(c){if(Ze==null){var d=et("span","​");Tt(c,et("span",[d,document.createTextNode("x")])),c.firstChild.offsetHeight!=0&&(Ze=d.offsetWidth<=1&&d.offsetHeight>2&&!(ut&&Ct<8))}var b=Ze?et("span","​"):et("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return b.setAttribute("cm-text",""),b}var Yr;function Un(c){if(Yr!=null)return Yr;var d=Tt(c,document.createTextNode("AخA")),b=G(d,0,1).getBoundingClientRect(),y=G(d,1,2).getBoundingClientRect();return J(c),!b||b.left==b.right?!1:Yr=y.right-b.right<3}var In=`

b`.split(/\n/).length!=3?function(c){for(var d=0,b=[],y=c.length;d<=y;){var x=c.indexOf(`
`,d);x==-1&&(x=c.length);var M=c.slice(d,c.charAt(x-1)=="\r"?x-1:x),z=M.indexOf("\r");z!=-1?(b.push(M.slice(0,z)),d+=z+1):(b.push(M),d=x+1)}return b}:function(c){return c.split(/\r\n?|\n/)},lo=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch{return!1}}:function(c){var d;try{d=c.ownerDocument.selection.createRange()}catch{}return!d||d.parentElement()!=c?!1:d.compareEndPoints("StartToEnd",d)!=0},uo=function(){var c=et("div");return"oncopy"in c?!0:(c.setAttribute("oncopy","return;"),typeof c.oncopy=="function")}(),yn=null;function Qn(c){if(yn!=null)return yn;var d=Tt(c,et("span","x")),b=d.getBoundingClientRect(),y=G(d,0,1).getBoundingClientRect();return yn=Math.abs(b.left-y.left)>1}var Fn={},Qo={};function fo(c,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),Fn[c]=d}function Bo(c,d){Qo[c]=d}function bo(c){if(typeof c=="string"&&Qo.hasOwnProperty(c))c=Qo[c];else if(c&&typeof c.name=="string"&&Qo.hasOwnProperty(c.name)){var d=Qo[c.name];typeof d=="string"&&(d={name:d}),c=me(d,c),c.name=d.name}else{if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return bo("application/xml");if(typeof c=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(c))return bo("application/json")}return typeof c=="string"?{name:c}:c||{name:"null"}}function wo(c,d){d=bo(d);var b=Fn[d.name];if(!b)return wo(c,"text/plain");var y=b(c,d);if(_o.hasOwnProperty(d.name)){var x=_o[d.name];for(var M in x)x.hasOwnProperty(M)&&(y.hasOwnProperty(M)&&(y["_"+M]=y[M]),y[M]=x[M])}if(y.name=d.name,d.helperType&&(y.helperType=d.helperType),d.modeProps)for(var z in d.modeProps)y[z]=d.modeProps[z];return y}var _o={};function va(c,d){var b=_o.hasOwnProperty(c)?_o[c]:_o[c]={};Ht(d,b)}function $o(c,d){if(d===!0)return d;if(c.copyState)return c.copyState(d);var b={};for(var y in d){var x=d[y];x instanceof Array&&(x=x.concat([])),b[y]=x}return b}function Ao(c,d){for(var b;c.innerMode&&(b=c.innerMode(d),!(!b||b.mode==c));)d=b.state,c=b.mode;return b||{mode:c,state:d}}function ni(c,d,b){return c.startState?c.startState(d,b):!0}var eo=function(c,d,b){this.pos=this.start=0,this.string=c,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=b};eo.prototype.eol=function(){return this.pos>=this.string.length},eo.prototype.sol=function(){return this.pos==this.lineStart},eo.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},eo.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eo.prototype.eat=function(c){var d=this.string.charAt(this.pos),b;if(typeof c=="string"?b=d==c:b=d&&(c.test?c.test(d):c(d)),b)return++this.pos,d},eo.prototype.eatWhile=function(c){for(var d=this.pos;this.eat(c););return this.pos>d},eo.prototype.eatSpace=function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},eo.prototype.skipToEnd=function(){this.pos=this.string.length},eo.prototype.skipTo=function(c){var d=this.string.indexOf(c,this.pos);if(d>-1)return this.pos=d,!0},eo.prototype.backUp=function(c){this.pos-=c},eo.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=It(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?It(this.string,this.lineStart,this.tabSize):0)},eo.prototype.indentation=function(){return It(this.string,null,this.tabSize)-(this.lineStart?It(this.string,this.lineStart,this.tabSize):0)},eo.prototype.match=function(c,d,b){if(typeof c=="string"){var y=function(z){return b?z.toLowerCase():z},x=this.string.substr(this.pos,c.length);if(y(x)==y(c))return d!==!1&&(this.pos+=c.length),!0}else{var M=this.string.slice(this.pos).match(c);return M&&M.index>0?null:(M&&d!==!1&&(this.pos+=M[0].length),M)}},eo.prototype.current=function(){return this.string.slice(this.start,this.pos)},eo.prototype.hideFirstChars=function(c,d){this.lineStart+=c;try{return d()}finally{this.lineStart-=c}},eo.prototype.lookAhead=function(c){var d=this.lineOracle;return d&&d.lookAhead(c)},eo.prototype.baseToken=function(){var c=this.lineOracle;return c&&c.baseToken(this.pos)};function Wr(c,d){if(d-=c.first,d<0||d>=c.size)throw new Error("There is no line "+(d+c.first)+" in the document.");for(var b=c;!b.lines;)for(var y=0;;++y){var x=b.children[y],M=x.chunkSize();if(d<M){b=x;break}d-=M}return b.lines[d]}function vo(c,d,b){var y=[],x=d.line;return c.iter(d.line,b.line+1,function(M){var z=M.text;x==b.line&&(z=z.slice(0,b.ch)),x==d.line&&(z=z.slice(d.ch)),y.push(z),++x}),y}function po(c,d,b){var y=[];return c.iter(d,b,function(x){y.push(x.text)}),y}function oi(c,d){var b=d-c.height;if(b)for(var y=c;y;y=y.parent)y.height+=b}function un(c){if(c.parent==null)return null;for(var d=c.parent,b=Bt(d.lines,c),y=d.parent;y;d=y,y=y.parent)for(var x=0;y.children[x]!=d;++x)b+=y.children[x].chunkSize();return b+d.first}function Zo(c,d){var b=c.first;t:do{for(var y=0;y<c.children.length;++y){var x=c.children[y],M=x.height;if(d<M){c=x;continue t}d-=M,b+=x.chunkSize()}return b}while(!c.lines);for(var z=0;z<c.lines.length;++z){var tt=c.lines[z],ct=tt.height;if(d<ct)break;d-=ct}return b+z}function Ci(c,d){return d>=c.first&&d<c.first+c.size}function Bn(c,d){return String(c.lineNumberFormatter(d+c.firstLineNumber))}function rt(c,d,b){if(b===void 0&&(b=null),!(this instanceof rt))return new rt(c,d,b);this.line=c,this.ch=d,this.sticky=b}function Zt(c,d){return c.line-d.line||c.ch-d.ch}function ar(c,d){return c.sticky==d.sticky&&Zt(c,d)==0}function hr(c){return rt(c.line,c.ch)}function Mr(c,d){return Zt(c,d)<0?d:c}function _n(c,d){return Zt(c,d)<0?c:d}function Vn(c,d){return Math.max(c.first,Math.min(d,c.first+c.size-1))}function Jr(c,d){if(d.line<c.first)return rt(c.first,0);var b=c.first+c.size-1;return d.line>b?rt(b,Wr(c,b).text.length):gr(d,Wr(c,d.line).text.length)}function gr(c,d){var b=c.ch;return b==null||b>d?rt(c.line,d):b<0?rt(c.line,0):c}function At(c,d){for(var b=[],y=0;y<d.length;y++)b[y]=Jr(c,d[y]);return b}var we=function(c,d){this.state=c,this.lookAhead=d},cr=function(c,d,b,y){this.state=d,this.doc=c,this.line=b,this.maxLookAhead=y||0,this.baseTokens=null,this.baseTokenPos=1};cr.prototype.lookAhead=function(c){var d=this.doc.getLine(this.line+c);return d!=null&&c>this.maxLookAhead&&(this.maxLookAhead=c),d},cr.prototype.baseToken=function(c){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=c;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-c}},cr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},cr.fromSaved=function(c,d,b){return d instanceof we?new cr(c,$o(c.mode,d.state),b,d.lookAhead):new cr(c,$o(c.mode,d),b)},cr.prototype.save=function(c){var d=c!==!1?$o(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new we(d,this.maxLookAhead):d};function Xr(c,d,b,y){var x=[c.state.modeGen],M={};jo(c,d.text,c.doc.mode,b,function(Ot,ne){return x.push(Ot,ne)},M,y);for(var z=b.state,tt=function(Ot){b.baseTokens=x;var ne=c.state.overlays[Ot],ye=1,Ue=0;b.state=!0,jo(c,d.text,ne.mode,b,function(Ie,lr){for(var wr=ye;Ue<Ie;){var jr=x[ye];jr>Ie&&x.splice(ye,1,Ie,x[ye+1],jr),ye+=2,Ue=Math.min(Ie,jr)}if(lr)if(ne.opaque)x.splice(wr,ye-wr,Ie,"overlay "+lr),ye=wr+2;else for(;wr<ye;wr+=2){var $r=x[wr+1];x[wr+1]=($r?$r+" ":"")+"overlay "+lr}},M),b.state=z,b.baseTokens=null,b.baseTokenPos=1},ct=0;ct<c.state.overlays.length;++ct)tt(ct);return{styles:x,classes:M.bgClass||M.textClass?M:null}}function nn(c,d,b){if(!d.styles||d.styles[0]!=c.state.modeGen){var y=xn(c,un(d)),x=d.text.length>c.options.maxHighlightLength&&$o(c.doc.mode,y.state),M=Xr(c,d,y);x&&(y.state=x),d.stateAfter=y.save(!x),d.styles=M.styles,M.classes?d.styleClasses=M.classes:d.styleClasses&&(d.styleClasses=null),b===c.doc.highlightFrontier&&(c.doc.modeFrontier=Math.max(c.doc.modeFrontier,++c.doc.highlightFrontier))}return d.styles}function xn(c,d,b){var y=c.doc,x=c.display;if(!y.mode.startState)return new cr(y,!0,d);var M=ma(c,d,b),z=M>y.first&&Wr(y,M-1).stateAfter,tt=z?cr.fromSaved(y,z,M):new cr(y,ni(y.mode),M);return y.iter(M,d,function(ct){Lr(c,ct.text,tt);var Ot=tt.line;ct.stateAfter=Ot==d-1||Ot%5==0||Ot>=x.viewFrom&&Ot<x.viewTo?tt.save():null,tt.nextLine()}),b&&(y.modeFrontier=tt.line),tt}function Lr(c,d,b,y){var x=c.doc.mode,M=new eo(d,c.options.tabSize,b);for(M.start=M.pos=y||0,d==""&&Ln(x,b.state);!M.eol();)xo(x,M,b.state),M.start=M.pos}function Ln(c,d){if(c.blankLine)return c.blankLine(d);if(c.innerMode){var b=Ao(c,d);if(b.mode.blankLine)return b.mode.blankLine(b.state)}}function xo(c,d,b,y){for(var x=0;x<10;x++){y&&(y[0]=Ao(c,b).mode);var M=c.token(d,b);if(d.pos>d.start)return M}throw new Error("Mode "+c.name+" failed to advance stream.")}var Uo=function(c,d,b){this.start=c.start,this.end=c.pos,this.string=c.current(),this.type=d||null,this.state=b};function Di(c,d,b,y){var x=c.doc,M=x.mode,z;d=Jr(x,d);var tt=Wr(x,d.line),ct=xn(c,d.line,b),Ot=new eo(tt.text,c.options.tabSize,ct),ne;for(y&&(ne=[]);(y||Ot.pos<d.ch)&&!Ot.eol();)Ot.start=Ot.pos,z=xo(M,Ot,ct.state),y&&ne.push(new Uo(Ot,z,$o(x.mode,ct.state)));return y?ne:new Uo(Ot,z,ct.state)}function Vs(c,d){if(c)for(;;){var b=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!b)break;c=c.slice(0,b.index)+c.slice(b.index+b[0].length);var y=b[1]?"bgClass":"textClass";d[y]==null?d[y]=b[2]:new RegExp("(?:^|\\s)"+b[2]+"(?:$|\\s)").test(d[y])||(d[y]+=" "+b[2])}return c}function jo(c,d,b,y,x,M,z){var tt=b.flattenSpans;tt==null&&(tt=c.options.flattenSpans);var ct=0,Ot=null,ne=new eo(d,c.options.tabSize,y),ye,Ue=c.options.addModeClass&&[null];for(d==""&&Vs(Ln(b,y.state),M);!ne.eol();){if(ne.pos>c.options.maxHighlightLength?(tt=!1,z&&Lr(c,d,y,ne.pos),ne.pos=d.length,ye=null):ye=Vs(xo(b,ne,y.state,Ue),M),Ue){var Ie=Ue[0].name;Ie&&(ye="m-"+(ye?Ie+" "+ye:Ie))}if(!tt||Ot!=ye){for(;ct<ne.start;)ct=Math.min(ne.start,ct+5e3),x(ct,Ot);Ot=ye}ne.start=ne.pos}for(;ct<ne.pos;){var lr=Math.min(ne.pos,ct+5e3);x(lr,Ot),ct=lr}}function ma(c,d,b){for(var y,x,M=c.doc,z=b?-1:d-(c.doc.mode.innerMode?1e3:100),tt=d;tt>z;--tt){if(tt<=M.first)return M.first;var ct=Wr(M,tt-1),Ot=ct.stateAfter;if(Ot&&(!b||tt+(Ot instanceof we?Ot.lookAhead:0)<=M.modeFrontier))return tt;var ne=It(ct.text,null,c.options.tabSize);(x==null||y>ne)&&(x=tt-1,y=ne)}return x}function Ll(c,d){if(c.modeFrontier=Math.min(c.modeFrontier,d),!(c.highlightFrontier<d-10)){for(var b=c.first,y=d-1;y>b;y--){var x=Wr(c,y).stateAfter;if(x&&(!(x instanceof we)||y+x.lookAhead<d)){b=y+1;break}}c.highlightFrontier=Math.min(c.highlightFrontier,b)}}var is=!1,zo=!1;function Rs(){is=!0}function Go(){zo=!0}function ia(c,d,b){this.marker=c,this.from=d,this.to=b}function ti(c,d){if(c)for(var b=0;b<c.length;++b){var y=c[b];if(y.marker==d)return y}}function ui(c,d){for(var b,y=0;y<c.length;++y)c[y]!=d&&(b||(b=[])).push(c[y]);return b}function Ii(c,d,b){var y=b&&window.WeakSet&&(b.markedSpans||(b.markedSpans=new WeakSet));y&&c.markedSpans&&y.has(c.markedSpans)?c.markedSpans.push(d):(c.markedSpans=c.markedSpans?c.markedSpans.concat([d]):[d],y&&y.add(c.markedSpans)),d.marker.attachLine(c)}function Hs(c,d,b){var y;if(c)for(var x=0;x<c.length;++x){var M=c[x],z=M.marker,tt=M.from==null||(z.inclusiveLeft?M.from<=d:M.from<d);if(tt||M.from==d&&z.type=="bookmark"&&(!b||!M.marker.insertLeft)){var ct=M.to==null||(z.inclusiveRight?M.to>=d:M.to>d);(y||(y=[])).push(new ia(z,M.from,ct?null:M.to))}}return y}function as(c,d,b){var y;if(c)for(var x=0;x<c.length;++x){var M=c[x],z=M.marker,tt=M.to==null||(z.inclusiveRight?M.to>=d:M.to>d);if(tt||M.from==d&&z.type=="bookmark"&&(!b||M.marker.insertLeft)){var ct=M.from==null||(z.inclusiveLeft?M.from<=d:M.from<d);(y||(y=[])).push(new ia(z,ct?null:M.from-d,M.to==null?null:M.to-d))}}return y}function ss(c,d){if(d.full)return null;var b=Ci(c,d.from.line)&&Wr(c,d.from.line).markedSpans,y=Ci(c,d.to.line)&&Wr(c,d.to.line).markedSpans;if(!b&&!y)return null;var x=d.from.ch,M=d.to.ch,z=Zt(d.from,d.to)==0,tt=Hs(b,x,z),ct=as(y,M,z),Ot=d.text.length==1,ne=Je(d.text).length+(Ot?x:0);if(tt)for(var ye=0;ye<tt.length;++ye){var Ue=tt[ye];if(Ue.to==null){var Ie=ti(ct,Ue.marker);Ie?Ot&&(Ue.to=Ie.to==null?null:Ie.to+ne):Ue.to=x}}if(ct)for(var lr=0;lr<ct.length;++lr){var wr=ct[lr];if(wr.to!=null&&(wr.to+=ne),wr.from==null){var jr=ti(tt,wr.marker);jr||(wr.from=ne,Ot&&(tt||(tt=[])).push(wr))}else wr.from+=ne,Ot&&(tt||(tt=[])).push(wr)}tt&&(tt=ka(tt)),ct&&ct!=tt&&(ct=ka(ct));var $r=[tt];if(!Ot){var Zr=d.text.length-2,qr;if(Zr>0&&tt)for(var tn=0;tn<tt.length;++tn)tt[tn].to==null&&(qr||(qr=[])).push(new ia(tt[tn].marker,null,null));for(var bn=0;bn<Zr;++bn)$r.push(qr);$r.push(ct)}return $r}function ka(c){for(var d=0;d<c.length;++d){var b=c[d];b.from!=null&&b.from==b.to&&b.marker.clearWhenEmpty!==!1&&c.splice(d--,1)}return c.length?c:null}function vi(c,d,b){var y=null;if(c.iter(d.line,b.line+1,function(Ie){if(Ie.markedSpans)for(var lr=0;lr<Ie.markedSpans.length;++lr){var wr=Ie.markedSpans[lr].marker;wr.readOnly&&(!y||Bt(y,wr)==-1)&&(y||(y=[])).push(wr)}}),!y)return null;for(var x=[{from:d,to:b}],M=0;M<y.length;++M)for(var z=y[M],tt=z.find(0),ct=0;ct<x.length;++ct){var Ot=x[ct];if(!(Zt(Ot.to,tt.from)<0||Zt(Ot.from,tt.to)>0)){var ne=[ct,1],ye=Zt(Ot.from,tt.from),Ue=Zt(Ot.to,tt.to);(ye<0||!z.inclusiveLeft&&!ye)&&ne.push({from:Ot.from,to:tt.from}),(Ue>0||!z.inclusiveRight&&!Ue)&&ne.push({from:tt.to,to:Ot.to}),x.splice.apply(x,ne),ct+=ne.length-3}}return x}function Bs(c){var d=c.markedSpans;if(d){for(var b=0;b<d.length;++b)d[b].marker.detachLine(c);c.markedSpans=null}}function ya(c,d){if(d){for(var b=0;b<d.length;++b)d[b].marker.attachLine(c);c.markedSpans=d}}function ba(c){return c.inclusiveLeft?-1:0}function Gi(c){return c.inclusiveRight?1:0}function ls(c,d){var b=c.lines.length-d.lines.length;if(b!=0)return b;var y=c.find(),x=d.find(),M=Zt(y.from,x.from)||ba(c)-ba(d);if(M)return-M;var z=Zt(y.to,x.to)||Gi(c)-Gi(d);return z||d.id-c.id}function Ua(c,d){var b=zo&&c.markedSpans,y;if(b)for(var x=void 0,M=0;M<b.length;++M)x=b[M],x.marker.collapsed&&(d?x.from:x.to)==null&&(!y||ls(y,x.marker)<0)&&(y=x.marker);return y}function Si(c){return Ua(c,!0)}function Us(c){return Ua(c,!1)}function qi(c,d){var b=zo&&c.markedSpans,y;if(b)for(var x=0;x<b.length;++x){var M=b[x];M.marker.collapsed&&(M.from==null||M.from<d)&&(M.to==null||M.to>d)&&(!y||ls(y,M.marker)<0)&&(y=M.marker)}return y}function Do(c,d,b,y,x){var M=Wr(c,d),z=zo&&M.markedSpans;if(z)for(var tt=0;tt<z.length;++tt){var ct=z[tt];if(ct.marker.collapsed){var Ot=ct.marker.find(0),ne=Zt(Ot.from,b)||ba(ct.marker)-ba(x),ye=Zt(Ot.to,y)||Gi(ct.marker)-Gi(x);if(!(ne>=0&&ye<=0||ne<=0&&ye>=0)&&(ne<=0&&(ct.marker.inclusiveRight&&x.inclusiveLeft?Zt(Ot.to,b)>=0:Zt(Ot.to,b)>0)||ne>=0&&(ct.marker.inclusiveRight&&x.inclusiveLeft?Zt(Ot.from,y)<=0:Zt(Ot.from,y)<0)))return!0}}}function Oi(c){for(var d;d=Si(c);)c=d.find(-1,!0).line;return c}function Aa(c){for(var d;d=Us(c);)c=d.find(1,!0).line;return c}function Cn(c){for(var d,b;d=Us(c);)c=d.find(1,!0).line,(b||(b=[])).push(c);return b}function Io(c,d){var b=Wr(c,d),y=Oi(b);return b==y?d:un(y)}function Ni(c,d){if(d>c.lastLine())return d;var b=Wr(c,d),y;if(!mi(c,b))return d;for(;y=Us(b);)b=y.find(1,!0).line;return un(b)+1}function mi(c,d){var b=zo&&d.markedSpans;if(b){for(var y=void 0,x=0;x<b.length;++x)if(y=b[x],!!y.marker.collapsed){if(y.from==null)return!0;if(!y.marker.widgetNode&&y.from==0&&y.marker.inclusiveLeft&&Mo(c,d,y))return!0}}}function Mo(c,d,b){if(b.to==null){var y=b.marker.find(1,!0);return Mo(c,y.line,ti(y.line.markedSpans,b.marker))}if(b.marker.inclusiveRight&&b.to==d.text.length)return!0;for(var x=void 0,M=0;M<d.markedSpans.length;++M)if(x=d.markedSpans[M],x.marker.collapsed&&!x.marker.widgetNode&&x.from==b.to&&(x.to==null||x.to!=b.from)&&(x.marker.inclusiveLeft||b.marker.inclusiveRight)&&Mo(c,d,x))return!0}function Pn(c){c=Oi(c);for(var d=0,b=c.parent,y=0;y<b.lines.length;++y){var x=b.lines[y];if(x==c)break;d+=x.height}for(var M=b.parent;M;b=M,M=b.parent)for(var z=0;z<M.children.length;++z){var tt=M.children[z];if(tt==b)break;d+=tt.height}return d}function vn(c){if(c.height==0)return 0;for(var d=c.text.length,b,y=c;b=Si(y);){var x=b.find(0,!0);y=x.from.line,d+=x.from.ch-x.to.ch}for(y=c;b=Us(y);){var M=b.find(0,!0);d-=y.text.length-M.from.ch,y=M.to.line,d+=y.text.length-M.to.ch}return d}function aa(c){var d=c.display,b=c.doc;d.maxLine=Wr(b,b.first),d.maxLineLength=vn(d.maxLine),d.maxLineChanged=!0,b.iter(function(y){var x=vn(y);x>d.maxLineLength&&(d.maxLineLength=x,d.maxLine=y)})}var No=function(c,d,b){this.text=c,ya(this,d),this.height=b?b(this):1};No.prototype.lineNo=function(){return un(this)},$n(No);function ta(c,d,b,y){c.text=d,c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null),c.order!=null&&(c.order=null),Bs(c),ya(c,b);var x=y?y(c):1;x!=c.height&&oi(c,x)}function Cs(c){c.parent=null,Bs(c)}var ii={},yi={};function Fo(c,d){if(!c||/^\s*$/.test(c))return null;var b=d.addModeClass?yi:ii;return b[c]||(b[c]=c.replace(/\S+/g,"cm-$&"))}function Ss(c,d){var b=_t("span",null,null,q?"padding-right: .1px":null),y={pre:_t("pre",[b],"CodeMirror-line"),content:b,col:0,pos:0,cm:c,trailingSpace:!1,splitSpaces:c.getOption("lineWrapping")};d.measure={};for(var x=0;x<=(d.rest?d.rest.length:0);x++){var M=x?d.rest[x-1]:d.line,z=void 0;y.pos=0,y.addToken=Fi,Un(c.display.measure)&&(z=Vt(M,c.doc.direction))&&(y.addToken=Gn(y.addToken,z)),y.map=[];var tt=d!=c.display.externalMeasured&&un(M);Vo(M,y,nn(c,M,tt)),M.styleClasses&&(M.styleClasses.bgClass&&(y.bgClass=ve(M.styleClasses.bgClass,y.bgClass||"")),M.styleClasses.textClass&&(y.textClass=ve(M.styleClasses.textClass,y.textClass||""))),y.map.length==0&&y.map.push(0,0,y.content.appendChild(xr(c.display.measure))),x==0?(d.measure.map=y.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(y.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(q){var ct=y.content.lastChild;(/\bcm-tab\b/.test(ct.className)||ct.querySelector&&ct.querySelector(".cm-tab"))&&(y.content.className="cm-tab-wrap-hack")}return on(c,"renderLine",c,d.line,y.pre),y.pre.className&&(y.textClass=ve(y.pre.className,y.textClass||"")),y}function Os(c){var d=et("span","•","cm-invalidchar");return d.title="\\u"+c.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function Fi(c,d,b,y,x,M,z){if(d){var tt=c.splitSpaces?zs(d,c.trailingSpace):d,ct=c.cm.state.specialChars,Ot=!1,ne;if(!ct.test(d))c.col+=d.length,ne=document.createTextNode(tt),c.map.push(c.pos,c.pos+d.length,ne),ut&&Ct<9&&(Ot=!0),c.pos+=d.length;else{ne=document.createDocumentFragment();for(var ye=0;;){ct.lastIndex=ye;var Ue=ct.exec(d),Ie=Ue?Ue.index-ye:d.length-ye;if(Ie){var lr=document.createTextNode(tt.slice(ye,ye+Ie));ut&&Ct<9?ne.appendChild(et("span",[lr])):ne.appendChild(lr),c.map.push(c.pos,c.pos+Ie,lr),c.col+=Ie,c.pos+=Ie}if(!Ue)break;ye+=Ie+1;var wr=void 0;if(Ue[0]=="	"){var jr=c.cm.options.tabSize,$r=jr-c.col%jr;wr=ne.appendChild(et("span",Vr($r),"cm-tab")),wr.setAttribute("role","presentation"),wr.setAttribute("cm-text","	"),c.col+=$r}else Ue[0]=="\r"||Ue[0]==`
`?(wr=ne.appendChild(et("span",Ue[0]=="\r"?"␍":"␤","cm-invalidchar")),wr.setAttribute("cm-text",Ue[0]),c.col+=1):(wr=c.cm.options.specialCharPlaceholder(Ue[0]),wr.setAttribute("cm-text",Ue[0]),ut&&Ct<9?ne.appendChild(et("span",[wr])):ne.appendChild(wr),c.col+=1);c.map.push(c.pos,c.pos+1,wr),c.pos++}}if(c.trailingSpace=tt.charCodeAt(d.length-1)==32,b||y||x||Ot||M||z){var Zr=b||"";y&&(Zr+=y),x&&(Zr+=x);var qr=et("span",[ne],Zr,M);if(z)for(var tn in z)z.hasOwnProperty(tn)&&tn!="style"&&tn!="class"&&qr.setAttribute(tn,z[tn]);return c.content.appendChild(qr)}c.content.appendChild(ne)}}function zs(c,d){if(c.length>1&&!/  /.test(c))return c;for(var b=d,y="",x=0;x<c.length;x++){var M=c.charAt(x);M==" "&&b&&(x==c.length-1||c.charCodeAt(x+1)==32)&&(M=" "),y+=M,b=M==" "}return y}function Gn(c,d){return function(b,y,x,M,z,tt,ct){x=x?x+" cm-force-border":"cm-force-border";for(var Ot=b.pos,ne=Ot+y.length;;){for(var ye=void 0,Ue=0;Ue<d.length&&(ye=d[Ue],!(ye.to>Ot&&ye.from<=Ot));Ue++);if(ye.to>=ne)return c(b,y,x,M,z,tt,ct);c(b,y.slice(0,ye.to-Ot),x,M,null,tt,ct),M=null,y=y.slice(ye.to-Ot),Ot=ye.to}}}function Ws(c,d,b,y){var x=!y&&b.widgetNode;x&&c.map.push(c.pos,c.pos+d,x),!y&&c.cm.display.input.needsContentAttribute&&(x||(x=c.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",b.id)),x&&(c.cm.display.input.setUneditable(x),c.content.appendChild(x)),c.pos+=d,c.trailingSpace=!1}function Vo(c,d,b){var y=c.markedSpans,x=c.text,M=0;if(!y){for(var z=1;z<b.length;z+=2)d.addToken(d,x.slice(M,M=b[z]),Fo(b[z+1],d.cm.options));return}for(var tt=x.length,ct=0,Ot=1,ne="",ye,Ue,Ie=0,lr,wr,jr,$r,Zr;;){if(Ie==ct){lr=wr=jr=Ue="",Zr=null,$r=null,Ie=1/0;for(var qr=[],tn=void 0,bn=0;bn<y.length;++bn){var dn=y[bn],Xn=dn.marker;if(Xn.type=="bookmark"&&dn.from==ct&&Xn.widgetNode)qr.push(Xn);else if(dn.from<=ct&&(dn.to==null||dn.to>ct||Xn.collapsed&&dn.to==ct&&dn.from==ct)){if(dn.to!=null&&dn.to!=ct&&Ie>dn.to&&(Ie=dn.to,wr=""),Xn.className&&(lr+=" "+Xn.className),Xn.css&&(Ue=(Ue?Ue+";":"")+Xn.css),Xn.startStyle&&dn.from==ct&&(jr+=" "+Xn.startStyle),Xn.endStyle&&dn.to==Ie&&(tn||(tn=[])).push(Xn.endStyle,dn.to),Xn.title&&((Zr||(Zr={})).title=Xn.title),Xn.attributes)for(var Ko in Xn.attributes)(Zr||(Zr={}))[Ko]=Xn.attributes[Ko];Xn.collapsed&&(!$r||ls($r.marker,Xn)<0)&&($r=dn)}else dn.from>ct&&Ie>dn.from&&(Ie=dn.from)}if(tn)for(var pa=0;pa<tn.length;pa+=2)tn[pa+1]==Ie&&(wr+=" "+tn[pa]);if(!$r||$r.from==ct)for(var hi=0;hi<qr.length;++hi)Ws(d,0,qr[hi]);if($r&&($r.from||0)==ct){if(Ws(d,($r.to==null?tt+1:$r.to)-ct,$r.marker,$r.from==null),$r.to==null)return;$r.to==ct&&($r=!1)}}if(ct>=tt)break;for(var Xa=Math.min(tt,Ie);;){if(ne){var ws=ct+ne.length;if(!$r){var Wi=ws>Xa?ne.slice(0,Xa-ct):ne;d.addToken(d,Wi,ye?ye+lr:lr,jr,ct+Wi.length==Ie?wr:"",Ue,Zr)}if(ws>=Xa){ne=ne.slice(Xa-ct),ct=Xa;break}ct=ws,jr=""}ne=x.slice(M,M=b[Ot++]),ye=Fo(b[Ot++],d.cm.options)}}}function jl(c,d,b){this.line=d,this.rest=Cn(d),this.size=this.rest?un(Je(this.rest))-b+1:1,this.node=this.text=null,this.hidden=mi(c,d)}function za(c,d,b){for(var y=[],x,M=d;M<b;M=x){var z=new jl(c.doc,Wr(c.doc,M),M);x=M+z.size,y.push(z)}return y}var sa=null;function Ts(c){sa?sa.ops.push(c):c.ownsGroup=sa={ops:[c],delayedCallbacks:[]}}function sc(c){var d=c.delayedCallbacks,b=0;do{for(;b<d.length;b++)d[b].call(null);for(var y=0;y<c.ops.length;y++){var x=c.ops[y];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(b<d.length)}function cs(c,d){var b=c.ownsGroup;if(b)try{sc(b)}finally{sa=null,d(b)}}var Vi=null;function Ro(c,d){var b=pr(c,d);if(b.length){var y=Array.prototype.slice.call(arguments,2),x;sa?x=sa.delayedCallbacks:Vi?x=Vi:(x=Vi=[],setTimeout(Dl,0));for(var M=function(tt){x.push(function(){return b[tt].apply(null,y)})},z=0;z<b.length;++z)M(z)}}function Dl(){var c=Vi;Vi=null;for(var d=0;d<c.length;++d)c[d]()}function lc(c,d,b,y){for(var x=0;x<d.changes.length;x++){var M=d.changes[x];M=="text"?wi(c,d):M=="gutter"?Ma(c,d,b,y):M=="class"?la(c,d):M=="widget"&&cc(c,d,y)}d.changes=null}function Wa(c){return c.node==c.text&&(c.node=et("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),ut&&Ct<8&&(c.node.style.zIndex=2)),c.node}function Sc(c,d){var b=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),d.background)b?d.background.className=b:(d.background.parentNode.removeChild(d.background),d.background=null);else if(b){var y=Wa(d);d.background=y.insertBefore(et("div",null,b),y.firstChild),c.display.input.setUneditable(d.background)}}function bi(c,d){var b=c.display.externalMeasured;return b&&b.line==d.line?(c.display.externalMeasured=null,d.measure=b.measure,b.built):Ss(c,d)}function wi(c,d){var b=d.text.className,y=bi(c,d);d.text==d.node&&(d.node=y.pre),d.text.parentNode.replaceChild(y.pre,d.text),d.text=y.pre,y.bgClass!=d.bgClass||y.textClass!=d.textClass?(d.bgClass=y.bgClass,d.textClass=y.textClass,la(c,d)):b&&(d.text.className=b)}function la(c,d){Sc(c,d),d.line.wrapClass?Wa(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className="");var b=d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass;d.text.className=b||""}function Ma(c,d,b,y){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var x=Wa(d);d.gutterBackground=et("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(c.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px; width: "+y.gutterTotalWidth+"px"),c.display.input.setUneditable(d.gutterBackground),x.insertBefore(d.gutterBackground,d.text)}var M=d.line.gutterMarkers;if(c.options.lineNumbers||M){var z=Wa(d),tt=d.gutter=et("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?y.fixedPos:-y.gutterTotalWidth)+"px");if(tt.setAttribute("aria-hidden","true"),c.display.input.setUneditable(tt),z.insertBefore(tt,d.text),d.line.gutterClass&&(tt.className+=" "+d.line.gutterClass),c.options.lineNumbers&&(!M||!M["CodeMirror-linenumbers"])&&(d.lineNumber=tt.appendChild(et("div",Bn(c.options,b),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+y.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px"))),M)for(var ct=0;ct<c.display.gutterSpecs.length;++ct){var Ot=c.display.gutterSpecs[ct].className,ne=M.hasOwnProperty(Ot)&&M[Ot];ne&&tt.appendChild(et("div",[ne],"CodeMirror-gutter-elt","left: "+y.gutterLeft[Ot]+"px; width: "+y.gutterWidth[Ot]+"px"))}}}function cc(c,d,b){d.alignable&&(d.alignable=null);for(var y=$("CodeMirror-linewidget"),x=d.node.firstChild,M=void 0;x;x=M)M=x.nextSibling,y.test(x.className)&&d.node.removeChild(x);ca(c,d,b)}function _i(c,d,b,y){var x=bi(c,d);return d.text=d.node=x.pre,x.bgClass&&(d.bgClass=x.bgClass),x.textClass&&(d.textClass=x.textClass),la(c,d),Ma(c,d,b,y),ca(c,d,y),d.node}function ca(c,d,b){if($a(c,d.line,d,b,!0),d.rest)for(var y=0;y<d.rest.length;y++)$a(c,d.rest[y],d,b,!1)}function $a(c,d,b,y,x){if(d.widgets)for(var M=Wa(b),z=0,tt=d.widgets;z<tt.length;++z){var ct=tt[z],Ot=et("div",[ct.node],"CodeMirror-linewidget"+(ct.className?" "+ct.className:""));ct.handleMouseEvents||Ot.setAttribute("cm-ignore-events","true"),Es(ct,Ot,b,y),c.display.input.setUneditable(Ot),x&&ct.above?M.insertBefore(Ot,b.gutter||b.text):M.appendChild(Ot),Ro(ct,"redraw")}}function Es(c,d,b,y){if(c.noHScroll){(b.alignable||(b.alignable=[])).push(d);var x=y.wrapperWidth;d.style.left=y.fixedPos+"px",c.coverGutter||(x-=y.gutterTotalWidth,d.style.paddingLeft=y.gutterTotalWidth+"px"),d.style.width=x+"px"}c.coverGutter&&(d.style.zIndex=5,d.style.position="relative",c.noHScroll||(d.style.marginLeft=-y.gutterTotalWidth+"px"))}function Ki(c){if(c.height!=null)return c.height;var d=c.doc.cm;if(!d)return 0;if(!Ft(document.body,c.node)){var b="position: relative;";c.coverGutter&&(b+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),c.noHScroll&&(b+="width: "+d.display.wrapper.clientWidth+"px;"),Tt(d.display.measure,et("div",[c.node],null,b))}return c.height=c.node.parentNode.offsetHeight}function Ri(c,d){for(var b=xt(d);b!=c.wrapper;b=b.parentNode)if(!b||b.nodeType==1&&b.getAttribute("cm-ignore-events")=="true"||b.parentNode==c.sizer&&b!=c.mover)return!0}function Yi(c){return c.lineSpace.offsetTop}function ua(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function gt(c){if(c.cachedPaddingH)return c.cachedPaddingH;var d=Tt(c.measure,et("pre","x","CodeMirror-line-like")),b=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,y={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};return!isNaN(y.left)&&!isNaN(y.right)&&(c.cachedPaddingH=y),y}function Dt(c){return Me-c.display.nativeBarWidth}function de(c){return c.display.scroller.clientWidth-Dt(c)-c.display.barWidth}function Te(c){return c.display.scroller.clientHeight-Dt(c)-c.display.barHeight}function Be(c,d,b){var y=c.options.lineWrapping,x=y&&de(c);if(!d.measure.heights||y&&d.measure.width!=x){var M=d.measure.heights=[];if(y){d.measure.width=x;for(var z=d.text.firstChild.getClientRects(),tt=0;tt<z.length-1;tt++){var ct=z[tt],Ot=z[tt+1];Math.abs(ct.bottom-Ot.bottom)>2&&M.push((ct.bottom+Ot.top)/2-b.top)}}M.push(b.bottom-b.top)}}function Ve(c,d,b){if(c.line==d)return{map:c.measure.map,cache:c.measure.cache};if(c.rest){for(var y=0;y<c.rest.length;y++)if(c.rest[y]==d)return{map:c.measure.maps[y],cache:c.measure.caches[y]};for(var x=0;x<c.rest.length;x++)if(un(c.rest[x])>b)return{map:c.measure.maps[x],cache:c.measure.caches[x],before:!0}}}function fr(c,d){d=Oi(d);var b=un(d),y=c.display.externalMeasured=new jl(c.doc,d,b);y.lineN=b;var x=y.built=Ss(c,y);return y.text=x.pre,Tt(c.display.lineMeasure,x.pre),y}function Fr(c,d,b,y){return ie(c,Mt(c,d),b,y)}function it(c,d){if(d>=c.display.viewFrom&&d<c.display.viewTo)return c.display.view[Gs(c,d)];var b=c.display.externalMeasured;if(b&&d>=b.lineN&&d<b.lineN+b.size)return b}function Mt(c,d){var b=un(d),y=it(c,b);y&&!y.text?y=null:y&&y.changes&&(lc(c,y,b,pc(c)),c.curOp.forceUpdate=!0),y||(y=fr(c,d));var x=Ve(y,d,b);return{line:d,view:y,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function ie(c,d,b,y,x){d.before&&(b=-1);var M=b+(y||""),z;return d.cache.hasOwnProperty(M)?z=d.cache[M]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(Be(c,d.view,d.rect),d.hasHeights=!0),z=ur(c,d,b,y),z.bogus||(d.cache[M]=z)),{left:z.left,right:z.right,top:x?z.rtop:z.top,bottom:x?z.rbottom:z.bottom}}var be={left:0,right:0,top:0,bottom:0};function qe(c,d,b){for(var y,x,M,z,tt,ct,Ot=0;Ot<c.length;Ot+=3)if(tt=c[Ot],ct=c[Ot+1],d<tt?(x=0,M=1,z="left"):d<ct?(x=d-tt,M=x+1):(Ot==c.length-3||d==ct&&c[Ot+3]>d)&&(M=ct-tt,x=M-1,d>=ct&&(z="right")),x!=null){if(y=c[Ot+2],tt==ct&&b==(y.insertLeft?"left":"right")&&(z=b),b=="left"&&x==0)for(;Ot&&c[Ot-2]==c[Ot-3]&&c[Ot-1].insertLeft;)y=c[(Ot-=3)+2],z="left";if(b=="right"&&x==ct-tt)for(;Ot<c.length-3&&c[Ot+3]==c[Ot+4]&&!c[Ot+5].insertLeft;)y=c[(Ot+=3)+2],z="right";break}return{node:y,start:x,end:M,collapse:z,coverStart:tt,coverEnd:ct}}function Fe(c,d){var b=be;if(d=="left")for(var y=0;y<c.length&&(b=c[y]).left==b.right;y++);else for(var x=c.length-1;x>=0&&(b=c[x]).left==b.right;x--);return b}function ur(c,d,b,y){var x=qe(d.map,b,y),M=x.node,z=x.start,tt=x.end,ct=x.collapse,Ot;if(M.nodeType==3){for(var ne=0;ne<4;ne++){for(;z&&vr(d.line.text.charAt(x.coverStart+z));)--z;for(;x.coverStart+tt<x.coverEnd&&vr(d.line.text.charAt(x.coverStart+tt));)++tt;if(ut&&Ct<9&&z==0&&tt==x.coverEnd-x.coverStart?Ot=M.parentNode.getBoundingClientRect():Ot=Fe(G(M,z,tt).getClientRects(),y),Ot.left||Ot.right||z==0)break;tt=z,z=z-1,ct="right"}ut&&Ct<11&&(Ot=kr(c.display.measure,Ot))}else{z>0&&(ct=y="right");var ye;c.options.lineWrapping&&(ye=M.getClientRects()).length>1?Ot=ye[y=="right"?ye.length-1:0]:Ot=M.getBoundingClientRect()}if(ut&&Ct<9&&!z&&(!Ot||!Ot.left&&!Ot.right)){var Ue=M.parentNode.getClientRects()[0];Ue?Ot={left:Ue.left,right:Ue.left+ml(c.display),top:Ue.top,bottom:Ue.bottom}:Ot=be}for(var Ie=Ot.top-d.rect.top,lr=Ot.bottom-d.rect.top,wr=(Ie+lr)/2,jr=d.view.measure.heights,$r=0;$r<jr.length-1&&!(wr<jr[$r]);$r++);var Zr=$r?jr[$r-1]:0,qr=jr[$r],tn={left:(ct=="right"?Ot.right:Ot.left)-d.rect.left,right:(ct=="left"?Ot.left:Ot.right)-d.rect.left,top:Zr,bottom:qr};return!Ot.left&&!Ot.right&&(tn.bogus=!0),c.options.singleCursorHeightPerLine||(tn.rtop=Ie,tn.rbottom=lr),tn}function kr(c,d){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Qn(c))return d;var b=screen.logicalXDPI/screen.deviceXDPI,y=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*b,right:d.right*b,top:d.top*y,bottom:d.bottom*y}}function hn(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var d=0;d<c.rest.length;d++)c.measure.caches[d]={}}function Nn(c){c.display.externalMeasure=null,J(c.display.lineMeasure);for(var d=0;d<c.display.view.length;d++)hn(c.display.view[d])}function Eo(c){Nn(c),c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null,c.options.lineWrapping||(c.display.maxLineChanged=!0),c.display.lineNumChars=null}function Ga(c){return Y&&B?-(c.body.getBoundingClientRect().left-parseInt(getComputedStyle(c.body).marginLeft)):c.defaultView.pageXOffset||(c.documentElement||c.body).scrollLeft}function us(c){return Y&&B?-(c.body.getBoundingClientRect().top-parseInt(getComputedStyle(c.body).marginTop)):c.defaultView.pageYOffset||(c.documentElement||c.body).scrollTop}function Yc(c){var d=Oi(c),b=d.widgets,y=0;if(b)for(var x=0;x<b.length;++x)b[x].above&&(y+=Ki(b[x]));return y}function ef(c,d,b,y,x){if(!x){var M=Yc(d);b.top+=M,b.bottom+=M}if(y=="line")return b;y||(y="local");var z=Pn(d);if(y=="local"?z+=Yi(c.display):z-=c.display.viewOffset,y=="page"||y=="window"){var tt=c.display.lineSpace.getBoundingClientRect();z+=tt.top+(y=="window"?0:us(jt(c)));var ct=tt.left+(y=="window"?0:Ga(jt(c)));b.left+=ct,b.right+=ct}return b.top+=z,b.bottom+=z,b}function pp(c,d,b){if(b=="div")return d;var y=d.left,x=d.top;if(b=="page")y-=Ga(jt(c)),x-=us(jt(c));else if(b=="local"||!b){var M=c.display.sizer.getBoundingClientRect();y+=M.left,x+=M.top}var z=c.display.lineSpace.getBoundingClientRect();return{left:y-z.left,top:x-z.top}}function La(c,d,b,y,x){return y||(y=Wr(c.doc,d.line)),ef(c,y,Fr(c,y,d.ch,x),b)}function Hi(c,d,b,y,x,M){y=y||Wr(c.doc,d.line),x||(x=Mt(c,y));function z(lr,wr){var jr=ie(c,x,lr,wr?"right":"left",M);return wr?jr.left=jr.right:jr.right=jr.left,ef(c,y,jr,b)}var tt=Vt(y,c.doc.direction),ct=d.ch,Ot=d.sticky;if(ct>=y.text.length?(ct=y.text.length,Ot="before"):ct<=0&&(ct=0,Ot="after"),!tt)return z(Ot=="before"?ct-1:ct,Ot=="before");function ne(lr,wr,jr){var $r=tt[wr],Zr=$r.level==1;return z(jr?lr-1:lr,Zr!=jr)}var ye=Wt(tt,ct,Ot),Ue=vt,Ie=ne(ct,ye,Ot=="before");return Ue!=null&&(Ie.other=ne(ct,Ue,Ot!="before")),Ie}function rf(c,d){var b=0;d=Jr(c.doc,d),c.options.lineWrapping||(b=ml(c.display)*d.ch);var y=Wr(c.doc,d.line),x=Pn(y)+Yi(c.display);return{left:b,right:b,top:x,bottom:x+y.height}}function uc(c,d,b,y,x){var M=rt(c,d,b);return M.xRel=x,y&&(M.outside=y),M}function xu(c,d,b){var y=c.doc;if(b+=c.display.viewOffset,b<0)return uc(y.first,0,null,-1,-1);var x=Zo(y,b),M=y.first+y.size-1;if(x>M)return uc(y.first+y.size-1,Wr(y,M).text.length,null,1,1);d<0&&(d=0);for(var z=Wr(y,x);;){var tt=Ti(c,z,x,d,b),ct=qi(z,tt.ch+(tt.xRel>0||tt.outside>0?1:0));if(!ct)return tt;var Ot=ct.find(1);if(Ot.line==x)return Ot;z=Wr(y,x=Ot.line)}}function Oc(c,d,b,y){y-=Yc(d);var x=d.text.length,M=Ir(function(z){return ie(c,b,z-1).bottom<=y},x,0);return x=Ir(function(z){return ie(c,b,z).top>y},M,x),{begin:M,end:x}}function gl(c,d,b,y){b||(b=Mt(c,d));var x=ef(c,d,ie(c,b,y),"line").top;return Oc(c,d,b,x)}function Il(c,d,b,y){return c.bottom<=b?!1:c.top>b?!0:(y?c.left:c.right)>d}function Ti(c,d,b,y,x){x-=Pn(d);var M=Mt(c,d),z=Yc(d),tt=0,ct=d.text.length,Ot=!0,ne=Vt(d,c.doc.direction);if(ne){var ye=(c.options.lineWrapping?qa:$s)(c,d,b,M,ne,y,x);Ot=ye.level!=1,tt=Ot?ye.from:ye.to-1,ct=Ot?ye.to:ye.from-1}var Ue=null,Ie=null,lr=Ir(function(bn){var dn=ie(c,M,bn);return dn.top+=z,dn.bottom+=z,Il(dn,y,x,!1)?(dn.top<=x&&dn.left<=y&&(Ue=bn,Ie=dn),!0):!1},tt,ct),wr,jr,$r=!1;if(Ie){var Zr=y-Ie.left<Ie.right-y,qr=Zr==Ot;lr=Ue+(qr?0:1),jr=qr?"after":"before",wr=Zr?Ie.left:Ie.right}else{!Ot&&(lr==ct||lr==tt)&&lr++,jr=lr==0?"after":lr==d.text.length?"before":ie(c,M,lr-(Ot?1:0)).bottom+z<=x==Ot?"after":"before";var tn=Hi(c,rt(b,lr,jr),"line",d,M);wr=tn.left,$r=x<tn.top?-1:x>=tn.bottom?1:0}return lr=Qe(d.text,lr,1),uc(b,lr,jr,$r,y-wr)}function $s(c,d,b,y,x,M,z){var tt=Ir(function(ye){var Ue=x[ye],Ie=Ue.level!=1;return Il(Hi(c,rt(b,Ie?Ue.to:Ue.from,Ie?"before":"after"),"line",d,y),M,z,!0)},0,x.length-1),ct=x[tt];if(tt>0){var Ot=ct.level!=1,ne=Hi(c,rt(b,Ot?ct.from:ct.to,Ot?"after":"before"),"line",d,y);Il(ne,M,z,!0)&&ne.top>z&&(ct=x[tt-1])}return ct}function qa(c,d,b,y,x,M,z){var tt=Oc(c,d,y,z),ct=tt.begin,Ot=tt.end;/\s/.test(d.text.charAt(Ot-1))&&Ot--;for(var ne=null,ye=null,Ue=0;Ue<x.length;Ue++){var Ie=x[Ue];if(!(Ie.from>=Ot||Ie.to<=ct)){var lr=Ie.level!=1,wr=ie(c,y,lr?Math.min(Ot,Ie.to)-1:Math.max(ct,Ie.from)).right,jr=wr<M?M-wr+1e9:wr-M;(!ne||ye>jr)&&(ne=Ie,ye=jr)}}return ne||(ne=x[x.length-1]),ne.from<ct&&(ne={from:ct,to:ne.to,level:ne.level}),ne.to>Ot&&(ne={from:ne.from,to:Ot,level:ne.level}),ne}var vl;function fc(c){if(c.cachedTextHeight!=null)return c.cachedTextHeight;if(vl==null){vl=et("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)vl.appendChild(document.createTextNode("x")),vl.appendChild(et("br"));vl.appendChild(document.createTextNode("x"))}Tt(c.measure,vl);var b=vl.offsetHeight/50;return b>3&&(c.cachedTextHeight=b),J(c.measure),b||1}function ml(c){if(c.cachedCharWidth!=null)return c.cachedCharWidth;var d=et("span","xxxxxxxxxx"),b=et("pre",[d],"CodeMirror-line-like");Tt(c.measure,b);var y=d.getBoundingClientRect(),x=(y.right-y.left)/10;return x>2&&(c.cachedCharWidth=x),x||10}function pc(c){for(var d=c.display,b={},y={},x=d.gutters.clientLeft,M=d.gutters.firstChild,z=0;M;M=M.nextSibling,++z){var tt=c.display.gutterSpecs[z].className;b[tt]=M.offsetLeft+M.clientLeft+x,y[tt]=M.clientWidth}return{fixedPos:Tc(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:b,gutterWidth:y,wrapperWidth:d.wrapper.clientWidth}}function Tc(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function dc(c){var d=fc(c.display),b=c.options.lineWrapping,y=b&&Math.max(5,c.display.scroller.clientWidth/ml(c.display)-3);return function(x){if(mi(c.doc,x))return 0;var M=0;if(x.widgets)for(var z=0;z<x.widgets.length;z++)x.widgets[z].height&&(M+=x.widgets[z].height);return b?M+(Math.ceil(x.text.length/y)||1)*d:M+d}}function Cu(c){var d=c.doc,b=dc(c);d.iter(function(y){var x=b(y);x!=y.height&&oi(y,x)})}function Nl(c,d,b,y){var x=c.display;if(!b&&xt(d).getAttribute("cm-not-content")=="true")return null;var M,z,tt=x.lineSpace.getBoundingClientRect();try{M=d.clientX-tt.left,z=d.clientY-tt.top}catch{return null}var ct=xu(c,M,z),Ot;if(y&&ct.xRel>0&&(Ot=Wr(c.doc,ct.line).text).length==ct.ch){var ne=It(Ot,Ot.length,c.options.tabSize)-Ot.length;ct=rt(ct.line,Math.max(0,Math.round((M-gt(c.display).left)/ml(c.display))-ne))}return ct}function Gs(c,d){if(d>=c.display.viewTo||(d-=c.display.viewFrom,d<0))return null;for(var b=c.display.view,y=0;y<b.length;y++)if(d-=b[y].size,d<0)return y}function Zi(c,d,b,y){d==null&&(d=c.doc.first),b==null&&(b=c.doc.first+c.doc.size),y||(y=0);var x=c.display;if(y&&b<x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>d)&&(x.updateLineNumbers=d),c.curOp.viewChanged=!0,d>=x.viewTo)zo&&Io(c.doc,d)<x.viewTo&&wa(c);else if(b<=x.viewFrom)zo&&Ni(c.doc,b+y)>x.viewFrom?wa(c):(x.viewFrom+=y,x.viewTo+=y);else if(d<=x.viewFrom&&b>=x.viewTo)wa(c);else if(d<=x.viewFrom){var M=Fl(c,b,b+y,1);M?(x.view=x.view.slice(M.index),x.viewFrom=M.lineN,x.viewTo+=y):wa(c)}else if(b>=x.viewTo){var z=Fl(c,d,d,-1);z?(x.view=x.view.slice(0,z.index),x.viewTo=z.lineN):wa(c)}else{var tt=Fl(c,d,d,-1),ct=Fl(c,b,b+y,1);tt&&ct?(x.view=x.view.slice(0,tt.index).concat(za(c,tt.lineN,ct.lineN)).concat(x.view.slice(ct.index)),x.viewTo+=y):wa(c)}var Ot=x.externalMeasured;Ot&&(b<Ot.lineN?Ot.lineN+=y:d<Ot.lineN+Ot.size&&(x.externalMeasured=null))}function yl(c,d,b){c.curOp.viewChanged=!0;var y=c.display,x=c.display.externalMeasured;if(x&&d>=x.lineN&&d<x.lineN+x.size&&(y.externalMeasured=null),!(d<y.viewFrom||d>=y.viewTo)){var M=y.view[Gs(c,d)];if(M.node!=null){var z=M.changes||(M.changes=[]);Bt(z,b)==-1&&z.push(b)}}}function wa(c){c.display.viewFrom=c.display.viewTo=c.doc.first,c.display.view=[],c.display.viewOffset=0}function Fl(c,d,b,y){var x=Gs(c,d),M,z=c.display.view;if(!zo||b==c.doc.first+c.doc.size)return{index:x,lineN:b};for(var tt=c.display.viewFrom,ct=0;ct<x;ct++)tt+=z[ct].size;if(tt!=d){if(y>0){if(x==z.length-1)return null;M=tt+z[x].size-d,x++}else M=tt-d;d+=M,b+=M}for(;Io(c.doc,b)!=b;){if(x==(y<0?0:z.length-1))return null;b+=y*z[x-(y<0?1:0)].size,x+=y}return{index:x,lineN:b}}function bl(c,d,b){var y=c.display,x=y.view;x.length==0||d>=y.viewTo||b<=y.viewFrom?(y.view=za(c,d,b),y.viewFrom=d):(y.viewFrom>d?y.view=za(c,d,y.viewFrom).concat(y.view):y.viewFrom<d&&(y.view=y.view.slice(Gs(c,d))),y.viewFrom=d,y.viewTo<b?y.view=y.view.concat(za(c,y.viewTo,b)):y.viewTo>b&&(y.view=y.view.slice(0,Gs(c,b)))),y.viewTo=b}function qs(c){for(var d=c.display.view,b=0,y=0;y<d.length;y++){var x=d[y];!x.hidden&&(!x.node||x.changes)&&++b}return b}function Ps(c){c.display.input.showSelection(c.display.input.prepareSelection())}function Zc(c,d){d===void 0&&(d=!0);var b=c.doc,y={},x=y.cursors=document.createDocumentFragment(),M=y.selection=document.createDocumentFragment(),z=c.options.$customCursor;z&&(d=!0);for(var tt=0;tt<b.sel.ranges.length;tt++)if(!(!d&&tt==b.sel.primIndex)){var ct=b.sel.ranges[tt];if(!(ct.from().line>=c.display.viewTo||ct.to().line<c.display.viewFrom)){var Ot=ct.empty();if(z){var ne=z(c,ct);ne&&hc(c,ne,x)}else(Ot||c.options.showCursorWhenSelecting)&&hc(c,ct.head,x);Ot||Xc(c,ct,M)}}return y}function hc(c,d,b){var y=Hi(c,d,"div",null,null,!c.options.singleCursorHeightPerLine),x=b.appendChild(et("div"," ","CodeMirror-cursor"));if(x.style.left=y.left+"px",x.style.top=y.top+"px",x.style.height=Math.max(0,y.bottom-y.top)*c.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(c.getWrapperElement().className)){var M=La(c,d,"div",null,null),z=M.right-M.left;x.style.width=(z>0?z:c.defaultCharWidth())+"px"}if(y.other){var tt=b.appendChild(et("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));tt.style.display="",tt.style.left=y.other.left+"px",tt.style.top=y.other.top+"px",tt.style.height=(y.other.bottom-y.other.top)*.85+"px"}}function Ks(c,d){return c.top-d.top||c.left-d.left}function Xc(c,d,b){var y=c.display,x=c.doc,M=document.createDocumentFragment(),z=gt(c.display),tt=z.left,ct=Math.max(y.sizerWidth,de(c)-y.sizer.offsetLeft)-z.right,Ot=x.direction=="ltr";function ne(qr,tn,bn,dn){tn<0&&(tn=0),tn=Math.round(tn),dn=Math.round(dn),M.appendChild(et("div",null,"CodeMirror-selected","position: absolute; left: "+qr+`px;
                             top: `+tn+"px; width: "+(bn??ct-qr)+`px;
                             height: `+(dn-tn)+"px"))}function ye(qr,tn,bn){var dn=Wr(x,qr),Xn=dn.text.length,Ko,pa;function hi(Wi,Ja){return La(c,rt(qr,Wi),"div",dn,Ja)}function Xa(Wi,Ja,da){var Ji=gl(c,dn,null,Wi),$i=Ja=="ltr"==(da=="after")?"left":"right",Ai=da=="after"?Ji.begin:Ji.end-(/\s/.test(dn.text.charAt(Ji.end-1))?2:1);return hi(Ai,$i)[$i]}var ws=Vt(dn,x.direction);return rn(ws,tn||0,bn??Xn,function(Wi,Ja,da,Ji){var $i=da=="ltr",Ai=hi(Wi,$i?"left":"right"),Qa=hi(Ja-1,$i?"right":"left"),mf=tn==null&&Wi==0,il=bn==null&&Ja==Xn,Ea=Ji==0,ec=!ws||Ji==ws.length-1;if(Qa.top-Ai.top<=3){var li=(Ot?mf:il)&&Ea,Gp=(Ot?il:mf)&&ec,qc=li?tt:($i?Ai:Qa).left,Kc=Gp?ct:($i?Qa:Ai).right;ne(qc,Ai.top,Kc-qc,Ai.bottom)}else{var hu,ts,yf,qp;$i?(hu=Ot&&mf&&Ea?tt:Ai.left,ts=Ot?ct:Xa(Wi,da,"before"),yf=Ot?tt:Xa(Ja,da,"after"),qp=Ot&&il&&ec?ct:Qa.right):(hu=Ot?Xa(Wi,da,"before"):tt,ts=!Ot&&mf&&Ea?ct:Ai.right,yf=!Ot&&il&&ec?tt:Qa.left,qp=Ot?Xa(Ja,da,"after"):ct),ne(hu,Ai.top,ts-hu,Ai.bottom),Ai.bottom<Qa.top&&ne(tt,Ai.bottom,null,Qa.top),ne(yf,Qa.top,qp-yf,Qa.bottom)}(!Ko||Ks(Ai,Ko)<0)&&(Ko=Ai),Ks(Qa,Ko)<0&&(Ko=Qa),(!pa||Ks(Ai,pa)<0)&&(pa=Ai),Ks(Qa,pa)<0&&(pa=Qa)}),{start:Ko,end:pa}}var Ue=d.from(),Ie=d.to();if(Ue.line==Ie.line)ye(Ue.line,Ue.ch,Ie.ch);else{var lr=Wr(x,Ue.line),wr=Wr(x,Ie.line),jr=Oi(lr)==Oi(wr),$r=ye(Ue.line,Ue.ch,jr?lr.text.length+1:null).end,Zr=ye(Ie.line,jr?0:null,Ie.ch).start;jr&&($r.top<Zr.top-2?(ne($r.right,$r.top,null,$r.bottom),ne(tt,Zr.top,Zr.left,Zr.bottom)):ne($r.right,$r.top,Zr.left-$r.right,$r.bottom)),$r.bottom<Zr.top&&ne(tt,$r.bottom,null,Zr.top)}b.appendChild(M)}function Vl(c){if(c.state.focused){var d=c.display;clearInterval(d.blinker);var b=!0;d.cursorDiv.style.visibility="",c.options.cursorBlinkRate>0?d.blinker=setInterval(function(){c.hasFocus()||ja(c),d.cursorDiv.style.visibility=(b=!b)?"":"hidden"},c.options.cursorBlinkRate):c.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function Ys(c){c.hasFocus()||(c.display.input.focus(),c.state.focused||fs(c))}function Rl(c){c.state.delayingBlurEvent=!0,setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,c.state.focused&&ja(c))},100)}function fs(c,d){c.state.delayingBlurEvent&&!c.state.draggingText&&(c.state.delayingBlurEvent=!1),c.options.readOnly!="nocursor"&&(c.state.focused||(on(c,"focus",c,d),c.state.focused=!0,Lt(c.display.wrapper,"CodeMirror-focused"),!c.curOp&&c.display.selForContextMenu!=c.doc.sel&&(c.display.input.reset(),q&&setTimeout(function(){return c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),Vl(c))}function ja(c,d){c.state.delayingBlurEvent||(c.state.focused&&(on(c,"blur",c,d),c.state.focused=!1,Q(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function wl(c){for(var d=c.display,b=d.lineDiv.offsetTop,y=Math.max(0,d.scroller.getBoundingClientRect().top),x=d.lineDiv.getBoundingClientRect().top,M=0,z=0;z<d.view.length;z++){var tt=d.view[z],ct=c.options.lineWrapping,Ot=void 0,ne=0;if(!tt.hidden){if(x+=tt.line.height,ut&&Ct<8){var ye=tt.node.offsetTop+tt.node.offsetHeight;Ot=ye-b,b=ye}else{var Ue=tt.node.getBoundingClientRect();Ot=Ue.bottom-Ue.top,!ct&&tt.text.firstChild&&(ne=tt.text.firstChild.getBoundingClientRect().right-Ue.left-1)}var Ie=tt.line.height-Ot;if((Ie>.005||Ie<-.005)&&(x<y&&(M-=Ie),oi(tt.line,Ot),Jc(tt.line),tt.rest))for(var lr=0;lr<tt.rest.length;lr++)Jc(tt.rest[lr]);if(ne>c.display.sizerWidth){var wr=Math.ceil(ne/ml(c.display));wr>c.display.maxLineLength&&(c.display.maxLineLength=wr,c.display.maxLine=tt.line,c.display.maxLineChanged=!0)}}}Math.abs(M)>2&&(d.scroller.scrollTop+=M)}function Jc(c){if(c.widgets)for(var d=0;d<c.widgets.length;++d){var b=c.widgets[d],y=b.node.parentNode;y&&(b.height=y.offsetHeight)}}function Hl(c,d,b){var y=b&&b.top!=null?Math.max(0,b.top):c.scroller.scrollTop;y=Math.floor(y-Yi(c));var x=b&&b.bottom!=null?b.bottom:y+c.wrapper.clientHeight,M=Zo(d,y),z=Zo(d,x);if(b&&b.ensure){var tt=b.ensure.from.line,ct=b.ensure.to.line;tt<M?(M=tt,z=Zo(d,Pn(Wr(d,tt))+c.wrapper.clientHeight)):Math.min(ct,d.lastLine())>=z&&(M=Zo(d,Pn(Wr(d,ct))-c.wrapper.clientHeight),z=ct)}return{from:M,to:Math.max(z,M+1)}}function Su(c,d){if(!Kr(c,"scrollCursorIntoView")){var b=c.display,y=b.sizer.getBoundingClientRect(),x=null,M=b.wrapper.ownerDocument;if(d.top+y.top<0?x=!0:d.bottom+y.top>(M.defaultView.innerHeight||M.documentElement.clientHeight)&&(x=!1),x!=null&&!ht){var z=et("div","​",null,`position: absolute;
                         top: `+(d.top-b.viewOffset-Yi(c.display))+`px;
                         height: `+(d.bottom-d.top+Dt(c)+b.barHeight)+`px;
                         left: `+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");c.display.lineSpace.appendChild(z),z.scrollIntoView(x),c.display.lineSpace.removeChild(z)}}}function dp(c,d,b,y){y==null&&(y=0);var x;!c.options.lineWrapping&&d==b&&(b=d.sticky=="before"?rt(d.line,d.ch+1,"before"):d,d=d.ch?rt(d.line,d.sticky=="before"?d.ch-1:d.ch,"after"):d);for(var M=0;M<5;M++){var z=!1,tt=Hi(c,d),ct=!b||b==d?tt:Hi(c,b);x={left:Math.min(tt.left,ct.left),top:Math.min(tt.top,ct.top)-y,right:Math.max(tt.left,ct.left),bottom:Math.max(tt.bottom,ct.bottom)+y};var Ot=Tu(c,x),ne=c.doc.scrollTop,ye=c.doc.scrollLeft;if(Ot.scrollTop!=null&&(Qc(c,Ot.scrollTop),Math.abs(c.doc.scrollTop-ne)>1&&(z=!0)),Ot.scrollLeft!=null&&(Ho(c,Ot.scrollLeft),Math.abs(c.doc.scrollLeft-ye)>1&&(z=!0)),!z)break}return x}function Ou(c,d){var b=Tu(c,d);b.scrollTop!=null&&Qc(c,b.scrollTop),b.scrollLeft!=null&&Ho(c,b.scrollLeft)}function Tu(c,d){var b=c.display,y=fc(c.display);d.top<0&&(d.top=0);var x=c.curOp&&c.curOp.scrollTop!=null?c.curOp.scrollTop:b.scroller.scrollTop,M=Te(c),z={};d.bottom-d.top>M&&(d.bottom=d.top+M);var tt=c.doc.height+ua(b),ct=d.top<y,Ot=d.bottom>tt-y;if(d.top<x)z.scrollTop=ct?0:d.top;else if(d.bottom>x+M){var ne=Math.min(d.top,(Ot?tt:d.bottom)-M);ne!=x&&(z.scrollTop=ne)}var ye=c.options.fixedGutter?0:b.gutters.offsetWidth,Ue=c.curOp&&c.curOp.scrollLeft!=null?c.curOp.scrollLeft:b.scroller.scrollLeft-ye,Ie=de(c)-b.gutters.offsetWidth,lr=d.right-d.left>Ie;return lr&&(d.right=d.left+Ie),d.left<10?z.scrollLeft=0:d.left<Ue?z.scrollLeft=Math.max(0,d.left+ye-(lr?0:10)):d.right>Ie+Ue-3&&(z.scrollLeft=d.right+(lr?0:10)-Ie),z}function _l(c,d){d!=null&&(nf(c),c.curOp.scrollTop=(c.curOp.scrollTop==null?c.doc.scrollTop:c.curOp.scrollTop)+d)}function ps(c){nf(c);var d=c.getCursor();c.curOp.scrollToPos={from:d,to:d,margin:c.options.cursorScrollMargin}}function gc(c,d,b){(d!=null||b!=null)&&nf(c),d!=null&&(c.curOp.scrollLeft=d),b!=null&&(c.curOp.scrollTop=b)}function Bl(c,d){nf(c),c.curOp.scrollToPos=d}function nf(c){var d=c.curOp.scrollToPos;if(d){c.curOp.scrollToPos=null;var b=rf(c,d.from),y=rf(c,d.to);Bi(c,b,y,d.margin)}}function Bi(c,d,b,y){var x=Tu(c,{left:Math.min(d.left,b.left),top:Math.min(d.top,b.top)-y,right:Math.max(d.right,b.right),bottom:Math.max(d.bottom,b.bottom)+y});gc(c,x.scrollLeft,x.scrollTop)}function Qc(c,d){Math.abs(c.doc.scrollTop-d)<2||(Oe||zl(c,{top:d}),Da(c,d,!0),Oe&&zl(c),Lu(c,100))}function Da(c,d,b){d=Math.max(0,Math.min(c.display.scroller.scrollHeight-c.display.scroller.clientHeight,d)),!(c.display.scroller.scrollTop==d&&!b)&&(c.doc.scrollTop=d,c.display.scrollbars.setScrollTop(d),c.display.scroller.scrollTop!=d&&(c.display.scroller.scrollTop=d))}function Ho(c,d,b,y){d=Math.max(0,Math.min(d,c.display.scroller.scrollWidth-c.display.scroller.clientWidth)),!((b?d==c.doc.scrollLeft:Math.abs(c.doc.scrollLeft-d)<2)&&!y)&&(c.doc.scrollLeft=d,of(c),c.display.scroller.scrollLeft!=d&&(c.display.scroller.scrollLeft=d),c.display.scrollbars.setScrollLeft(d))}function Ei(c){var d=c.display,b=d.gutters.offsetWidth,y=Math.round(c.doc.height+ua(c.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:c.options.fixedGutter?b:0,docHeight:y,scrollHeight:y+Dt(c)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:b}}var ei=function(c,d,b){this.cm=b;var y=this.vert=et("div",[et("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=et("div",[et("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");y.tabIndex=x.tabIndex=-1,c(y),c(x),Yt(y,"scroll",function(){y.clientHeight&&d(y.scrollTop,"vertical")}),Yt(x,"scroll",function(){x.clientWidth&&d(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ut&&Ct<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ei.prototype.update=function(c){var d=c.scrollWidth>c.clientWidth+1,b=c.scrollHeight>c.clientHeight+1,y=c.nativeBarWidth;if(b){this.vert.style.display="block",this.vert.style.bottom=d?y+"px":"0";var x=c.viewHeight-(d?y:0);this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+x)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(d){this.horiz.style.display="block",this.horiz.style.right=b?y+"px":"0",this.horiz.style.left=c.barLeft+"px";var M=c.viewWidth-c.barLeft-(b?y:0);this.horiz.firstChild.style.width=Math.max(0,c.scrollWidth-c.clientWidth+M)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&c.clientHeight>0&&(y==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:b?y:0,bottom:d?y:0}},ei.prototype.setScrollLeft=function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ei.prototype.setScrollTop=function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ei.prototype.zeroWidthHack=function(){var c=I&&!ft?"12px":"18px";this.horiz.style.height=this.vert.style.width=c,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new St,this.disableVert=new St},ei.prototype.enableZeroWidthBar=function(c,d,b){c.style.visibility="";function y(){var x=c.getBoundingClientRect(),M=b=="vert"?document.elementFromPoint(x.right-1,(x.top+x.bottom)/2):document.elementFromPoint((x.right+x.left)/2,x.bottom-1);M!=c?c.style.visibility="hidden":d.set(1e3,y)}d.set(1e3,y)},ei.prototype.clear=function(){var c=this.horiz.parentNode;c.removeChild(this.horiz),c.removeChild(this.vert)};var Zs=function(){};Zs.prototype.update=function(){return{bottom:0,right:0}},Zs.prototype.setScrollLeft=function(){},Zs.prototype.setScrollTop=function(){},Zs.prototype.clear=function(){};function tu(c,d){d||(d=Ei(c));var b=c.display.barWidth,y=c.display.barHeight;Eu(c,d);for(var x=0;x<4&&b!=c.display.barWidth||y!=c.display.barHeight;x++)b!=c.display.barWidth&&c.options.lineWrapping&&wl(c),Eu(c,Ei(c)),b=c.display.barWidth,y=c.display.barHeight}function Eu(c,d){var b=c.display,y=b.scrollbars.update(d);b.sizer.style.paddingRight=(b.barWidth=y.right)+"px",b.sizer.style.paddingBottom=(b.barHeight=y.bottom)+"px",b.heightForcer.style.borderBottom=y.bottom+"px solid transparent",y.right&&y.bottom?(b.scrollbarFiller.style.display="block",b.scrollbarFiller.style.height=y.bottom+"px",b.scrollbarFiller.style.width=y.right+"px"):b.scrollbarFiller.style.display="",y.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(b.gutterFiller.style.display="block",b.gutterFiller.style.height=y.bottom+"px",b.gutterFiller.style.width=d.gutterWidth+"px"):b.gutterFiller.style.display=""}var Pu={native:ei,null:Zs};function Df(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&Q(c.display.wrapper,c.display.scrollbars.addClass)),c.display.scrollbars=new Pu[c.options.scrollbarStyle](function(d){c.display.wrapper.insertBefore(d,c.display.scrollbarFiller),Yt(d,"mousedown",function(){c.state.focused&&setTimeout(function(){return c.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,b){b=="horizontal"?Ho(c,d):Qc(c,d)},c),c.display.scrollbars.addClass&&Lt(c.display.wrapper,c.display.scrollbars.addClass)}var If=0;function Ul(c){c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++If,markArrays:null},Ts(c.curOp)}function ks(c){var d=c.curOp;d&&cs(d,function(b){for(var y=0;y<b.ops.length;y++)b.ops[y].cm.curOp=null;Ec(b)})}function Ec(c){for(var d=c.ops,b=0;b<d.length;b++)ku(d[b]);for(var y=0;y<d.length;y++)vc(d[y]);for(var x=0;x<d.length;x++)Au(d[x]);for(var M=0;M<d.length;M++)Nf(d[M]);for(var z=0;z<d.length;z++)Mu(d[z])}function ku(c){var d=c.cm,b=d.display;Co(d),c.updateMaxLine&&aa(d),c.mustUpdate=c.viewChanged||c.forceUpdate||c.scrollTop!=null||c.scrollToPos&&(c.scrollToPos.from.line<b.viewFrom||c.scrollToPos.to.line>=b.viewTo)||b.maxLineChanged&&d.options.lineWrapping,c.update=c.mustUpdate&&new _a(d,c.mustUpdate&&{top:c.scrollTop,ensure:c.scrollToPos},c.forceUpdate)}function vc(c){c.updatedDisplay=c.mustUpdate&&xl(c.cm,c.update)}function Au(c){var d=c.cm,b=d.display;c.updatedDisplay&&wl(d),c.barMeasure=Ei(d),b.maxLineChanged&&!d.options.lineWrapping&&(c.adjustWidthTo=Fr(d,b.maxLine,b.maxLine.text.length).left+3,d.display.sizerWidth=c.adjustWidthTo,c.barMeasure.scrollWidth=Math.max(b.scroller.clientWidth,b.sizer.offsetLeft+c.adjustWidthTo+Dt(d)+d.display.barWidth),c.maxScrollLeft=Math.max(0,b.sizer.offsetLeft+c.adjustWidthTo-de(d))),(c.updatedDisplay||c.selectionChanged)&&(c.preparedSelection=b.input.prepareSelection())}function Nf(c){var d=c.cm;c.adjustWidthTo!=null&&(d.display.sizer.style.minWidth=c.adjustWidthTo+"px",c.maxScrollLeft<d.doc.scrollLeft&&Ho(d,Math.min(d.display.scroller.scrollLeft,c.maxScrollLeft),!0),d.display.maxLineChanged=!1);var b=c.focus&&c.focus==$t(jt(d));c.preparedSelection&&d.display.input.showSelection(c.preparedSelection,b),(c.updatedDisplay||c.startHeight!=d.doc.height)&&tu(d,c.barMeasure),c.updatedDisplay&&kc(d,c.barMeasure),c.selectionChanged&&Vl(d),d.state.focused&&c.updateInput&&d.display.input.reset(c.typing),b&&Ys(c.cm)}function Mu(c){var d=c.cm,b=d.display,y=d.doc;if(c.updatedDisplay&&Ff(d,c.update),b.wheelStartX!=null&&(c.scrollTop!=null||c.scrollLeft!=null||c.scrollToPos)&&(b.wheelStartX=b.wheelStartY=null),c.scrollTop!=null&&Da(d,c.scrollTop,c.forceScroll),c.scrollLeft!=null&&Ho(d,c.scrollLeft,!0,!0),c.scrollToPos){var x=dp(d,Jr(y,c.scrollToPos.from),Jr(y,c.scrollToPos.to),c.scrollToPos.margin);Su(d,x)}var M=c.maybeHiddenMarkers,z=c.maybeUnhiddenMarkers;if(M)for(var tt=0;tt<M.length;++tt)M[tt].lines.length||on(M[tt],"hide");if(z)for(var ct=0;ct<z.length;++ct)z[ct].lines.length&&on(z[ct],"unhide");b.wrapper.offsetHeight&&(y.scrollTop=d.display.scroller.scrollTop),c.changeObjs&&on(d,"changes",d,c.changeObjs),c.update&&c.update.finish()}function Ka(c,d){if(c.curOp)return d();Ul(c);try{return d()}finally{ks(c)}}function fi(c,d){return function(){if(c.curOp)return d.apply(c,arguments);Ul(c);try{return d.apply(c,arguments)}finally{ks(c)}}}function co(c){return function(){if(this.curOp)return c.apply(this,arguments);Ul(this);try{return c.apply(this,arguments)}finally{ks(this)}}}function Ui(c){return function(){var d=this.cm;if(!d||d.curOp)return c.apply(this,arguments);Ul(d);try{return c.apply(this,arguments)}finally{ks(d)}}}function Lu(c,d){c.doc.highlightFrontier<c.display.viewTo&&c.state.highlight.set(d,Xt(hp,c))}function hp(c){var d=c.doc;if(!(d.highlightFrontier>=c.display.viewTo)){var b=+new Date+c.options.workTime,y=xn(c,d.highlightFrontier),x=[];d.iter(y.line,Math.min(d.first+d.size,c.display.viewTo+500),function(M){if(y.line>=c.display.viewFrom){var z=M.styles,tt=M.text.length>c.options.maxHighlightLength?$o(d.mode,y.state):null,ct=Xr(c,M,y,!0);tt&&(y.state=tt),M.styles=ct.styles;var Ot=M.styleClasses,ne=ct.classes;ne?M.styleClasses=ne:Ot&&(M.styleClasses=null);for(var ye=!z||z.length!=M.styles.length||Ot!=ne&&(!Ot||!ne||Ot.bgClass!=ne.bgClass||Ot.textClass!=ne.textClass),Ue=0;!ye&&Ue<z.length;++Ue)ye=z[Ue]!=M.styles[Ue];ye&&x.push(y.line),M.stateAfter=y.save(),y.nextLine()}else M.text.length<=c.options.maxHighlightLength&&Lr(c,M.text,y),M.stateAfter=y.line%5==0?y.save():null,y.nextLine();if(+new Date>b)return Lu(c,c.options.workDelay),!0}),d.highlightFrontier=y.line,d.modeFrontier=Math.max(d.modeFrontier,y.line),x.length&&Ka(c,function(){for(var M=0;M<x.length;M++)yl(c,x[M],"text")})}}var _a=function(c,d,b){var y=c.display;this.viewport=d,this.visible=Hl(y,c.doc,d),this.editorIsHidden=!y.wrapper.offsetWidth,this.wrapperHeight=y.wrapper.clientHeight,this.wrapperWidth=y.wrapper.clientWidth,this.oldDisplayWidth=de(c),this.force=b,this.dims=pc(c),this.events=[]};_a.prototype.signal=function(c,d){pn(c,d)&&this.events.push(arguments)},_a.prototype.finish=function(){for(var c=0;c<this.events.length;c++)on.apply(null,this.events[c])};function Co(c){var d=c.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=Dt(c)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=Dt(c)+"px",d.scrollbarsClipped=!0)}function Xs(c){if(c.hasFocus())return null;var d=$t(jt(c));if(!d||!Ft(c.display.lineDiv,d))return null;var b={activeElt:d};if(window.getSelection){var y=Rt(c).getSelection();y.anchorNode&&y.extend&&Ft(c.display.lineDiv,y.anchorNode)&&(b.anchorNode=y.anchorNode,b.anchorOffset=y.anchorOffset,b.focusNode=y.focusNode,b.focusOffset=y.focusOffset)}return b}function mc(c){if(!(!c||!c.activeElt||c.activeElt==$t(c.activeElt.ownerDocument))&&(c.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(c.activeElt.nodeName)&&c.anchorNode&&Ft(document.body,c.anchorNode)&&Ft(document.body,c.focusNode))){var d=c.activeElt.ownerDocument,b=d.defaultView.getSelection(),y=d.createRange();y.setEnd(c.anchorNode,c.anchorOffset),y.collapse(!1),b.removeAllRanges(),b.addRange(y),b.extend(c.focusNode,c.focusOffset)}}function xl(c,d){var b=c.display,y=c.doc;if(d.editorIsHidden)return wa(c),!1;if(!d.force&&d.visible.from>=b.viewFrom&&d.visible.to<=b.viewTo&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo)&&b.renderedView==b.view&&qs(c)==0)return!1;af(c)&&(wa(c),d.dims=pc(c));var x=y.first+y.size,M=Math.max(d.visible.from-c.options.viewportMargin,y.first),z=Math.min(x,d.visible.to+c.options.viewportMargin);b.viewFrom<M&&M-b.viewFrom<20&&(M=Math.max(y.first,b.viewFrom)),b.viewTo>z&&b.viewTo-z<20&&(z=Math.min(x,b.viewTo)),zo&&(M=Io(c.doc,M),z=Ni(c.doc,z));var tt=M!=b.viewFrom||z!=b.viewTo||b.lastWrapHeight!=d.wrapperHeight||b.lastWrapWidth!=d.wrapperWidth;bl(c,M,z),b.viewOffset=Pn(Wr(c.doc,b.viewFrom)),c.display.mover.style.top=b.viewOffset+"px";var ct=qs(c);if(!tt&&ct==0&&!d.force&&b.renderedView==b.view&&(b.updateLineNumbers==null||b.updateLineNumbers>=b.viewTo))return!1;var Ot=Xs(c);return ct>4&&(b.lineDiv.style.display="none"),Vf(c,b.updateLineNumbers,d.dims),ct>4&&(b.lineDiv.style.display=""),b.renderedView=b.view,mc(Ot),J(b.cursorDiv),J(b.selectionDiv),b.gutters.style.height=b.sizer.style.minHeight=0,tt&&(b.lastWrapHeight=d.wrapperHeight,b.lastWrapWidth=d.wrapperWidth,Lu(c,400)),b.updateLineNumbers=null,!0}function Ff(c,d){for(var b=d.viewport,y=!0;;y=!1){if(!y||!c.options.lineWrapping||d.oldDisplayWidth==de(c)){if(b&&b.top!=null&&(b={top:Math.min(c.doc.height+ua(c.display)-Te(c),b.top)}),d.visible=Hl(c.display,c.doc,b),d.visible.from>=c.display.viewFrom&&d.visible.to<=c.display.viewTo)break}else y&&(d.visible=Hl(c.display,c.doc,b));if(!xl(c,d))break;wl(c);var x=Ei(c);Ps(c),tu(c,x),kc(c,x),d.force=!1}d.signal(c,"update",c),(c.display.viewFrom!=c.display.reportedViewFrom||c.display.viewTo!=c.display.reportedViewTo)&&(d.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo)}function zl(c,d){var b=new _a(c,d);if(xl(c,b)){wl(c),Ff(c,b);var y=Ei(c);Ps(c),tu(c,y),kc(c,y),b.finish()}}function Vf(c,d,b){var y=c.display,x=c.options.lineNumbers,M=y.lineDiv,z=M.firstChild;function tt(lr){var wr=lr.nextSibling;return q&&I&&c.display.currentWheelTarget==lr?lr.style.display="none":lr.parentNode.removeChild(lr),wr}for(var ct=y.view,Ot=y.viewFrom,ne=0;ne<ct.length;ne++){var ye=ct[ne];if(!ye.hidden)if(!ye.node||ye.node.parentNode!=M){var Ue=_i(c,ye,Ot,b);M.insertBefore(Ue,z)}else{for(;z!=ye.node;)z=tt(z);var Ie=x&&d!=null&&d<=Ot&&ye.lineNumber;ye.changes&&(Bt(ye.changes,"gutter")>-1&&(Ie=!1),lc(c,ye,Ot,b)),Ie&&(J(ye.lineNumber),ye.lineNumber.appendChild(document.createTextNode(Bn(c.options,Ot)))),z=ye.node.nextSibling}Ot+=ye.size}for(;z;)z=tt(z)}function Pc(c){var d=c.gutters.offsetWidth;c.sizer.style.marginLeft=d+"px",Ro(c,"gutterChanged",c)}function kc(c,d){c.display.sizer.style.minHeight=d.docHeight+"px",c.display.heightForcer.style.top=d.docHeight+"px",c.display.gutters.style.height=d.docHeight+c.display.barHeight+Dt(c)+"px"}function of(c){var d=c.display,b=d.view;if(!(!d.alignWidgets&&(!d.gutters.firstChild||!c.options.fixedGutter))){for(var y=Tc(d)-d.scroller.scrollLeft+c.doc.scrollLeft,x=d.gutters.offsetWidth,M=y+"px",z=0;z<b.length;z++)if(!b[z].hidden){c.options.fixedGutter&&(b[z].gutter&&(b[z].gutter.style.left=M),b[z].gutterBackground&&(b[z].gutterBackground.style.left=M));var tt=b[z].alignable;if(tt)for(var ct=0;ct<tt.length;ct++)tt[ct].style.left=M}c.options.fixedGutter&&(d.gutters.style.left=y+x+"px")}}function af(c){if(!c.options.lineNumbers)return!1;var d=c.doc,b=Bn(c.options,d.first+d.size-1),y=c.display;if(b.length!=y.lineNumChars){var x=y.measure.appendChild(et("div",[et("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),M=x.firstChild.offsetWidth,z=x.offsetWidth-M;return y.lineGutter.style.width="",y.lineNumInnerWidth=Math.max(M,y.lineGutter.offsetWidth-z)+1,y.lineNumWidth=y.lineNumInnerWidth+z,y.lineNumChars=y.lineNumInnerWidth?b.length:-1,y.lineGutter.style.width=y.lineNumWidth+"px",Pc(c.display),!0}return!1}function Js(c,d){for(var b=[],y=!1,x=0;x<c.length;x++){var M=c[x],z=null;if(typeof M!="string"&&(z=M.style,M=M.className),M=="CodeMirror-linenumbers")if(d)y=!0;else continue;b.push({className:M,style:z})}return d&&!y&&b.push({className:"CodeMirror-linenumbers",style:null}),b}function Rf(c){var d=c.gutters,b=c.gutterSpecs;J(d),c.lineGutter=null;for(var y=0;y<b.length;++y){var x=b[y],M=x.className,z=x.style,tt=d.appendChild(et("div",null,"CodeMirror-gutter "+M));z&&(tt.style.cssText=z),M=="CodeMirror-linenumbers"&&(c.lineGutter=tt,tt.style.width=(c.lineNumWidth||1)+"px")}d.style.display=b.length?"":"none",Pc(c)}function eu(c){Rf(c.display),Zi(c),of(c)}function Cl(c,d,b,y){var x=this;this.input=b,x.scrollbarFiller=et("div",null,"CodeMirror-scrollbar-filler"),x.scrollbarFiller.setAttribute("cm-not-content","true"),x.gutterFiller=et("div",null,"CodeMirror-gutter-filler"),x.gutterFiller.setAttribute("cm-not-content","true"),x.lineDiv=_t("div",null,"CodeMirror-code"),x.selectionDiv=et("div",null,null,"position: relative; z-index: 1"),x.cursorDiv=et("div",null,"CodeMirror-cursors"),x.measure=et("div",null,"CodeMirror-measure"),x.lineMeasure=et("div",null,"CodeMirror-measure"),x.lineSpace=_t("div",[x.measure,x.lineMeasure,x.selectionDiv,x.cursorDiv,x.lineDiv],null,"position: relative; outline: none");var M=_t("div",[x.lineSpace],"CodeMirror-lines");x.mover=et("div",[M],null,"position: relative"),x.sizer=et("div",[x.mover],"CodeMirror-sizer"),x.sizerWidth=null,x.heightForcer=et("div",null,null,"position: absolute; height: "+Me+"px; width: 1px;"),x.gutters=et("div",null,"CodeMirror-gutters"),x.lineGutter=null,x.scroller=et("div",[x.sizer,x.heightForcer,x.gutters],"CodeMirror-scroll"),x.scroller.setAttribute("tabIndex","-1"),x.wrapper=et("div",[x.scrollbarFiller,x.gutterFiller,x.scroller],"CodeMirror"),Y&&st>=105&&(x.wrapper.style.clipPath="inset(0px)"),x.wrapper.setAttribute("translate","no"),ut&&Ct<8&&(x.gutters.style.zIndex=-1,x.scroller.style.paddingRight=0),!q&&!(Oe&&V)&&(x.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(x.wrapper):c(x.wrapper)),x.viewFrom=x.viewTo=d.first,x.reportedViewFrom=x.reportedViewTo=d.first,x.view=[],x.renderedView=null,x.externalMeasured=null,x.viewOffset=0,x.lastWrapHeight=x.lastWrapWidth=0,x.updateLineNumbers=null,x.nativeBarWidth=x.barHeight=x.barWidth=0,x.scrollbarsClipped=!1,x.lineNumWidth=x.lineNumInnerWidth=x.lineNumChars=null,x.alignWidgets=!1,x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.maxLine=null,x.maxLineLength=0,x.maxLineChanged=!1,x.wheelDX=x.wheelDY=x.wheelStartX=x.wheelStartY=null,x.shift=!1,x.selForContextMenu=null,x.activeTouch=null,x.gutterSpecs=Js(y.gutters,y.lineNumbers),Rf(x),b.init(x)}var ru=0,Sl=null;ut?Sl=-.53:Oe?Sl=15:Y?Sl=-.7:H&&(Sl=-1/3);function Hf(c){var d=c.wheelDeltaX,b=c.wheelDeltaY;return d==null&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(d=c.detail),b==null&&c.detail&&c.axis==c.VERTICAL_AXIS?b=c.detail:b==null&&(b=c.wheelDelta),{x:d,y:b}}function $p(c){var d=Hf(c);return d.x*=Sl,d.y*=Sl,d}function ju(c,d){Y&&st==102&&(c.display.chromeScrollHack==null?c.display.sizer.style.pointerEvents="none":clearTimeout(c.display.chromeScrollHack),c.display.chromeScrollHack=setTimeout(function(){c.display.chromeScrollHack=null,c.display.sizer.style.pointerEvents=""},100));var b=Hf(d),y=b.x,x=b.y,M=Sl;d.deltaMode===0&&(y=d.deltaX,x=d.deltaY,M=1);var z=c.display,tt=z.scroller,ct=tt.scrollWidth>tt.clientWidth,Ot=tt.scrollHeight>tt.clientHeight;if(y&&ct||x&&Ot){if(x&&I&&q){t:for(var ne=d.target,ye=z.view;ne!=tt;ne=ne.parentNode)for(var Ue=0;Ue<ye.length;Ue++)if(ye[Ue].node==ne){c.display.currentWheelTarget=ne;break t}}if(y&&!Oe&&!k&&M!=null){x&&Ot&&Qc(c,Math.max(0,tt.scrollTop+x*M)),Ho(c,Math.max(0,tt.scrollLeft+y*M)),(!x||x&&Ot)&&Ut(d),z.wheelStartX=null;return}if(x&&M!=null){var Ie=x*M,lr=c.doc.scrollTop,wr=lr+z.wrapper.clientHeight;Ie<0?lr=Math.max(0,lr+Ie-50):wr=Math.min(c.doc.height,wr+Ie+50),zl(c,{top:lr,bottom:wr})}ru<20&&d.deltaMode!==0&&(z.wheelStartX==null?(z.wheelStartX=tt.scrollLeft,z.wheelStartY=tt.scrollTop,z.wheelDX=y,z.wheelDY=x,setTimeout(function(){if(z.wheelStartX!=null){var jr=tt.scrollLeft-z.wheelStartX,$r=tt.scrollTop-z.wheelStartY,Zr=$r&&z.wheelDY&&$r/z.wheelDY||jr&&z.wheelDX&&jr/z.wheelDX;z.wheelStartX=z.wheelStartY=null,Zr&&(Sl=(Sl*ru+Zr)/(ru+1),++ru)}},200)):(z.wheelDX+=y,z.wheelDY+=x))}}var Ia=function(c,d){this.ranges=c,this.primIndex=d};Ia.prototype.primary=function(){return this.ranges[this.primIndex]},Ia.prototype.equals=function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var b=this.ranges[d],y=c.ranges[d];if(!ar(b.anchor,y.anchor)||!ar(b.head,y.head))return!1}return!0},Ia.prototype.deepCopy=function(){for(var c=[],d=0;d<this.ranges.length;d++)c[d]=new So(hr(this.ranges[d].anchor),hr(this.ranges[d].head));return new Ia(c,this.primIndex)},Ia.prototype.somethingSelected=function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},Ia.prototype.contains=function(c,d){d||(d=c);for(var b=0;b<this.ranges.length;b++){var y=this.ranges[b];if(Zt(d,y.from())>=0&&Zt(c,y.to())<=0)return b}return-1};var So=function(c,d){this.anchor=c,this.head=d};So.prototype.from=function(){return _n(this.anchor,this.head)},So.prototype.to=function(){return Mr(this.anchor,this.head)},So.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ds(c,d,b){var y=c&&c.options.selectionsMayTouch,x=d[b];d.sort(function(Ue,Ie){return Zt(Ue.from(),Ie.from())}),b=Bt(d,x);for(var M=1;M<d.length;M++){var z=d[M],tt=d[M-1],ct=Zt(tt.to(),z.from());if(y&&!z.empty()?ct>0:ct>=0){var Ot=_n(tt.from(),z.from()),ne=Mr(tt.to(),z.to()),ye=tt.empty()?z.from()==z.head:tt.from()==tt.head;M<=b&&--b,d.splice(--M,2,new So(ye?ne:Ot,ye?Ot:ne))}}return new Ia(d,b)}function xa(c,d){return new Ia([new So(c,d||c)],0)}function Ol(c){return c.text?rt(c.from.line+c.text.length-1,Je(c.text).length+(c.text.length==1?c.from.ch:0)):c.to}function nu(c,d){if(Zt(c,d.from)<0)return c;if(Zt(c,d.to)<=0)return Ol(d);var b=c.line+d.text.length-(d.to.line-d.from.line)-1,y=c.ch;return c.line==d.to.line&&(y+=Ol(d).ch-d.to.ch),rt(b,y)}function sf(c,d){for(var b=[],y=0;y<c.sel.ranges.length;y++){var x=c.sel.ranges[y];b.push(new So(nu(x.anchor,d),nu(x.head,d)))}return ds(c.cm,b,c.sel.primIndex)}function Du(c,d,b){return c.line==d.line?rt(b.line,c.ch-d.ch+b.ch):rt(b.line+(c.line-d.line),c.ch)}function Bf(c,d,b){for(var y=[],x=rt(c.first,0),M=x,z=0;z<d.length;z++){var tt=d[z],ct=Du(tt.from,x,M),Ot=Du(Ol(tt),x,M);if(x=tt.to,M=Ot,b=="around"){var ne=c.sel.ranges[z],ye=Zt(ne.head,ne.anchor)<0;y[z]=new So(ye?Ot:ct,ye?ct:Ot)}else y[z]=new So(ct,ct)}return new Ia(y,c.sel.primIndex)}function lf(c){c.doc.mode=wo(c.options,c.doc.modeOption),Pi(c)}function Pi(c){c.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),c.doc.modeFrontier=c.doc.highlightFrontier=c.doc.first,Lu(c,100),c.state.modeGen++,c.curOp&&Zi(c)}function Iu(c,d){return d.from.ch==0&&d.to.ch==0&&Je(d.text)==""&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function fa(c,d,b,y){function x(Zr){return b?b[Zr]:null}function M(Zr,qr,tn){ta(Zr,qr,tn,y),Ro(Zr,"change",Zr,d)}function z(Zr,qr){for(var tn=[],bn=Zr;bn<qr;++bn)tn.push(new No(Ot[bn],x(bn),y));return tn}var tt=d.from,ct=d.to,Ot=d.text,ne=Wr(c,tt.line),ye=Wr(c,ct.line),Ue=Je(Ot),Ie=x(Ot.length-1),lr=ct.line-tt.line;if(d.full)c.insert(0,z(0,Ot.length)),c.remove(Ot.length,c.size-Ot.length);else if(Iu(c,d)){var wr=z(0,Ot.length-1);M(ye,ye.text,Ie),lr&&c.remove(tt.line,lr),wr.length&&c.insert(tt.line,wr)}else if(ne==ye)if(Ot.length==1)M(ne,ne.text.slice(0,tt.ch)+Ue+ne.text.slice(ct.ch),Ie);else{var jr=z(1,Ot.length-1);jr.push(new No(Ue+ne.text.slice(ct.ch),Ie,y)),M(ne,ne.text.slice(0,tt.ch)+Ot[0],x(0)),c.insert(tt.line+1,jr)}else if(Ot.length==1)M(ne,ne.text.slice(0,tt.ch)+Ot[0]+ye.text.slice(ct.ch),x(0)),c.remove(tt.line+1,lr);else{M(ne,ne.text.slice(0,tt.ch)+Ot[0],x(0)),M(ye,Ue+ye.text.slice(ct.ch),Ie);var $r=z(1,Ot.length-1);lr>1&&c.remove(tt.line+1,lr-1),c.insert(tt.line+1,$r)}Ro(c,"change",c,d)}function Wl(c,d,b){function y(x,M,z){if(x.linked)for(var tt=0;tt<x.linked.length;++tt){var ct=x.linked[tt];if(ct.doc!=M){var Ot=z&&ct.sharedHist;b&&!Ot||(d(ct.doc,Ot),y(ct.doc,x,Ot))}}}y(c,null,!0)}function Ac(c,d){if(d.cm)throw new Error("This document is already in use.");c.doc=d,d.cm=c,Cu(c),lf(c),Mc(c),c.options.direction=d.direction,c.options.lineWrapping||aa(c),c.options.mode=d.modeOption,Zi(c)}function Mc(c){(c.doc.direction=="rtl"?Lt:Q)(c.display.lineDiv,"CodeMirror-rtl")}function Nu(c){Ka(c,function(){Mc(c),Zi(c)})}function Fu(c){this.done=[],this.undone=[],this.undoDepth=c?c.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=c?c.maxGeneration:1}function Lc(c,d){var b={from:hr(d.from),to:Ol(d),text:vo(c,d.from,d.to)};return tl(c,b,d.from.line,d.to.line+1),Wl(c,function(y){return tl(y,b,d.from.line,d.to.line+1)},!0),b}function Uf(c){for(;c.length;){var d=Je(c);if(d.ranges)c.pop();else break}}function jc(c,d){if(d)return Uf(c.done),Je(c.done);if(c.done.length&&!Je(c.done).ranges)return Je(c.done);if(c.done.length>1&&!c.done[c.done.length-2].ranges)return c.done.pop(),Je(c.done)}function zf(c,d,b,y){var x=c.history;x.undone.length=0;var M=+new Date,z,tt;if((x.lastOp==y||x.lastOrigin==d.origin&&d.origin&&(d.origin.charAt(0)=="+"&&x.lastModTime>M-(c.cm?c.cm.options.historyEventDelay:500)||d.origin.charAt(0)=="*"))&&(z=jc(x,x.lastOp==y)))tt=Je(z.changes),Zt(d.from,d.to)==0&&Zt(d.from,tt.to)==0?tt.to=Ol(d):z.changes.push(Lc(c,d));else{var ct=Je(x.done);for((!ct||!ct.ranges)&&As(c.sel,x.done),z={changes:[Lc(c,d)],generation:x.generation},x.done.push(z);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(b),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=M,x.lastOp=x.lastSelOp=y,x.lastOrigin=x.lastSelOrigin=d.origin,tt||on(c,"historyAdded")}function Qs(c,d,b,y){var x=d.charAt(0);return x=="*"||x=="+"&&b.ranges.length==y.ranges.length&&b.somethingSelected()==y.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}function Wf(c,d,b,y){var x=c.history,M=y&&y.origin;b==x.lastSelOp||M&&x.lastSelOrigin==M&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==M||Qs(c,M,Je(x.done),d))?x.done[x.done.length-1]=d:As(d,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=M,x.lastSelOp=b,y&&y.clearRedo!==!1&&Uf(x.undone)}function As(c,d){var b=Je(d);b&&b.ranges&&b.equals(c)||d.push(c)}function tl(c,d,b,y){var x=d["spans_"+c.id],M=0;c.iter(Math.max(c.first,b),Math.min(c.first+c.size,y),function(z){z.markedSpans&&((x||(x=d["spans_"+c.id]={}))[M]=z.markedSpans),++M})}function gp(c){if(!c)return null;for(var d,b=0;b<c.length;++b)c[b].marker.explicitlyCleared?d||(d=c.slice(0,b)):d&&d.push(c[b]);return d?d.length?d:null:c}function Vu(c,d){var b=d["spans_"+c.id];if(!b)return null;for(var y=[],x=0;x<d.text.length;++x)y.push(gp(b[x]));return y}function $f(c,d){var b=Vu(c,d),y=ss(c,d);if(!b)return y;if(!y)return b;for(var x=0;x<b.length;++x){var M=b[x],z=y[x];if(M&&z)t:for(var tt=0;tt<z.length;++tt){for(var ct=z[tt],Ot=0;Ot<M.length;++Ot)if(M[Ot].marker==ct.marker)continue t;M.push(ct)}else z&&(b[x]=z)}return b}function hs(c,d,b){for(var y=[],x=0;x<c.length;++x){var M=c[x];if(M.ranges){y.push(b?Ia.prototype.deepCopy.call(M):M);continue}var z=M.changes,tt=[];y.push({changes:tt});for(var ct=0;ct<z.length;++ct){var Ot=z[ct],ne=void 0;if(tt.push({from:Ot.from,to:Ot.to,text:Ot.text}),d)for(var ye in Ot)(ne=ye.match(/^spans_(\d+)$/))&&Bt(d,Number(ne[1]))>-1&&(Je(tt)[ye]=Ot[ye],delete Ot[ye])}}return y}function Dc(c,d,b,y){if(y){var x=c.anchor;if(b){var M=Zt(d,x)<0;M!=Zt(b,x)<0?(x=d,d=b):M!=Zt(d,b)<0&&(d=b)}return new So(x,d)}else return new So(b||d,d)}function $l(c,d,b,y,x){x==null&&(x=c.cm&&(c.cm.display.shift||c.extend)),ki(c,new Ia([Dc(c.sel.primary(),d,b,x)],0),y)}function ou(c,d,b){for(var y=[],x=c.cm&&(c.cm.display.shift||c.extend),M=0;M<c.sel.ranges.length;M++)y[M]=Dc(c.sel.ranges[M],d[M],null,x);var z=ds(c.cm,y,c.sel.primIndex);ki(c,z,b)}function cf(c,d,b,y){var x=c.sel.ranges.slice(0);x[d]=b,ki(c,ds(c.cm,x,c.sel.primIndex),y)}function Gl(c,d,b,y){ki(c,xa(d,b),y)}function ql(c,d,b){var y={ranges:d.ranges,update:function(x){this.ranges=[];for(var M=0;M<x.length;M++)this.ranges[M]=new So(Jr(c,x[M].anchor),Jr(c,x[M].head))},origin:b&&b.origin};return on(c,"beforeSelectionChange",c,y),c.cm&&on(c.cm,"beforeSelectionChange",c.cm,y),y.ranges!=d.ranges?ds(c.cm,y.ranges,y.ranges.length-1):d}function Kl(c,d,b){var y=c.history.done,x=Je(y);x&&x.ranges?(y[y.length-1]=d,Ru(c,d,b)):ki(c,d,b)}function ki(c,d,b){Ru(c,d,b),Wf(c,c.sel,c.cm?c.cm.curOp.id:NaN,b)}function Ru(c,d,b){(pn(c,"beforeSelectionChange")||c.cm&&pn(c.cm,"beforeSelectionChange"))&&(d=ql(c,d,b));var y=b&&b.bias||(Zt(d.primary().head,c.sel.primary().head)<0?-1:1);Gf(c,Ca(c,d,y,!0)),!(b&&b.scroll===!1)&&c.cm&&c.cm.getOption("readOnly")!="nocursor"&&ps(c.cm)}function Gf(c,d){d.equals(c.sel)||(c.sel=d,c.cm&&(c.cm.curOp.updateInput=1,c.cm.curOp.selectionChanged=!0,He(c.cm)),Ro(c,"cursorActivity",c))}function vp(c){Gf(c,Ca(c,c.sel,null,!1))}function Ca(c,d,b,y){for(var x,M=0;M<d.ranges.length;M++){var z=d.ranges[M],tt=d.ranges.length==c.sel.ranges.length&&c.sel.ranges[M],ct=uf(c,z.anchor,tt&&tt.anchor,b,y),Ot=z.head==z.anchor?ct:uf(c,z.head,tt&&tt.head,b,y);(x||ct!=z.anchor||Ot!=z.head)&&(x||(x=d.ranges.slice(0,M)),x[M]=new So(ct,Ot))}return x?ds(c.cm,x,d.primIndex):d}function Yl(c,d,b,y,x){var M=Wr(c,d.line);if(M.markedSpans)for(var z=0;z<M.markedSpans.length;++z){var tt=M.markedSpans[z],ct=tt.marker,Ot="selectLeft"in ct?!ct.selectLeft:ct.inclusiveLeft,ne="selectRight"in ct?!ct.selectRight:ct.inclusiveRight;if((tt.from==null||(Ot?tt.from<=d.ch:tt.from<d.ch))&&(tt.to==null||(ne?tt.to>=d.ch:tt.to>d.ch))){if(x&&(on(ct,"beforeCursorEnter"),ct.explicitlyCleared))if(M.markedSpans){--z;continue}else break;if(!ct.atomic)continue;if(b){var ye=ct.find(y<0?1:-1),Ue=void 0;if((y<0?ne:Ot)&&(ye=yc(c,ye,-y,ye&&ye.line==d.line?M:null)),ye&&ye.line==d.line&&(Ue=Zt(ye,b))&&(y<0?Ue<0:Ue>0))return Yl(c,ye,d,y,x)}var Ie=ct.find(y<0?-1:1);return(y<0?Ot:ne)&&(Ie=yc(c,Ie,y,Ie.line==d.line?M:null)),Ie?Yl(c,Ie,d,y,x):null}}return d}function uf(c,d,b,y,x){var M=y||1,z=Yl(c,d,b,M,x)||!x&&Yl(c,d,b,M,!0)||Yl(c,d,b,-M,x)||!x&&Yl(c,d,b,-M,!0);return z||(c.cantEdit=!0,rt(c.first,0))}function yc(c,d,b,y){return b<0&&d.ch==0?d.line>c.first?Jr(c,rt(d.line-1)):null:b>0&&d.ch==(y||Wr(c,d.line)).text.length?d.line<c.first+c.size-1?rt(d.line+1,0):null:new rt(d.line,d.ch+b)}function iu(c){c.setSelection(rt(c.firstLine(),0),rt(c.lastLine()),Ae)}function au(c,d,b){var y={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return y.canceled=!0}};return b&&(y.update=function(x,M,z,tt){x&&(y.from=Jr(c,x)),M&&(y.to=Jr(c,M)),z&&(y.text=z),tt!==void 0&&(y.origin=tt)}),on(c,"beforeChange",c,y),c.cm&&on(c.cm,"beforeChange",c.cm,y),y.canceled?(c.cm&&(c.cm.curOp.updateInput=2),null):{from:y.from,to:y.to,text:y.text,origin:y.origin}}function Ic(c,d,b){if(c.cm){if(!c.cm.curOp)return fi(c.cm,Ic)(c,d,b);if(c.cm.state.suppressEdits)return}if(!((pn(c,"beforeChange")||c.cm&&pn(c.cm,"beforeChange"))&&(d=au(c,d,!0),!d))){var y=is&&!b&&vi(c,d.from,d.to);if(y)for(var x=y.length-1;x>=0;--x)qf(c,{from:y[x].from,to:y[x].to,text:x?[""]:d.text,origin:d.origin});else qf(c,d)}}function qf(c,d){if(!(d.text.length==1&&d.text[0]==""&&Zt(d.from,d.to)==0)){var b=sf(c,d);zf(c,d,b,c.cm?c.cm.curOp.id:NaN),Zl(c,d,b,ss(c,d));var y=[];Wl(c,function(x,M){!M&&Bt(y,x.history)==-1&&(el(x.history,d),y.push(x.history)),Zl(x,d,null,ss(x,d))})}}function Ms(c,d,b){var y=c.cm&&c.cm.state.suppressEdits;if(!(y&&!b)){for(var x=c.history,M,z=c.sel,tt=d=="undo"?x.done:x.undone,ct=d=="undo"?x.undone:x.done,Ot=0;Ot<tt.length&&(M=tt[Ot],!(b?M.ranges&&!M.equals(c.sel):!M.ranges));Ot++);if(Ot!=tt.length){for(x.lastOrigin=x.lastSelOrigin=null;;)if(M=tt.pop(),M.ranges){if(As(M,ct),b&&!M.equals(c.sel)){ki(c,M,{clearRedo:!1});return}z=M}else if(y){tt.push(M);return}else break;var ne=[];As(z,ct),ct.push({changes:ne,generation:x.generation}),x.generation=M.generation||++x.maxGeneration;for(var ye=pn(c,"beforeChange")||c.cm&&pn(c.cm,"beforeChange"),Ue=function(wr){var jr=M.changes[wr];if(jr.origin=d,ye&&!au(c,jr,!1))return tt.length=0,{};ne.push(Lc(c,jr));var $r=wr?sf(c,jr):Je(tt);Zl(c,jr,$r,$f(c,jr)),!wr&&c.cm&&c.cm.scrollIntoView({from:jr.from,to:Ol(jr)});var Zr=[];Wl(c,function(qr,tn){!tn&&Bt(Zr,qr.history)==-1&&(el(qr.history,jr),Zr.push(qr.history)),Zl(qr,jr,null,$f(qr,jr))})},Ie=M.changes.length-1;Ie>=0;--Ie){var lr=Ue(Ie);if(lr)return lr.v}}}}function Nc(c,d){if(d!=0&&(c.first+=d,c.sel=new Ia(nt(c.sel.ranges,function(x){return new So(rt(x.anchor.line+d,x.anchor.ch),rt(x.head.line+d,x.head.ch))}),c.sel.primIndex),c.cm)){Zi(c.cm,c.first,c.first-d,d);for(var b=c.cm.display,y=b.viewFrom;y<b.viewTo;y++)yl(c.cm,y,"gutter")}}function Zl(c,d,b,y){if(c.cm&&!c.cm.curOp)return fi(c.cm,Zl)(c,d,b,y);if(d.to.line<c.first){Nc(c,d.text.length-1-(d.to.line-d.from.line));return}if(!(d.from.line>c.lastLine())){if(d.from.line<c.first){var x=d.text.length-1-(c.first-d.from.line);Nc(c,x),d={from:rt(c.first,0),to:rt(d.to.line+x,d.to.ch),text:[Je(d.text)],origin:d.origin}}var M=c.lastLine();d.to.line>M&&(d={from:d.from,to:rt(M,Wr(c,M).text.length),text:[d.text[0]],origin:d.origin}),d.removed=vo(c,d.from,d.to),b||(b=sf(c,d)),c.cm?Hu(c.cm,d,y):fa(c,d,y),Ru(c,b,Ae),c.cantEdit&&uf(c,rt(c.firstLine(),0))&&(c.cantEdit=!1)}}function Hu(c,d,b){var y=c.doc,x=c.display,M=d.from,z=d.to,tt=!1,ct=M.line;c.options.lineWrapping||(ct=un(Oi(Wr(y,M.line))),y.iter(ct,z.line+1,function(Ie){if(Ie==x.maxLine)return tt=!0,!0})),y.sel.contains(d.from,d.to)>-1&&He(c),fa(y,d,b,dc(c)),c.options.lineWrapping||(y.iter(ct,M.line+d.text.length,function(Ie){var lr=vn(Ie);lr>x.maxLineLength&&(x.maxLine=Ie,x.maxLineLength=lr,x.maxLineChanged=!0,tt=!1)}),tt&&(c.curOp.updateMaxLine=!0)),Ll(y,M.line),Lu(c,400);var Ot=d.text.length-(z.line-M.line)-1;d.full?Zi(c):M.line==z.line&&d.text.length==1&&!Iu(c.doc,d)?yl(c,M.line,"text"):Zi(c,M.line,z.line+1,Ot);var ne=pn(c,"changes"),ye=pn(c,"change");if(ye||ne){var Ue={from:M,to:z,text:d.text,removed:d.removed,origin:d.origin};ye&&Ro(c,"change",c,Ue),ne&&(c.curOp.changeObjs||(c.curOp.changeObjs=[])).push(Ue)}c.display.selForContextMenu=null}function Xi(c,d,b,y,x){var M;y||(y=b),Zt(y,b)<0&&(M=[y,b],b=M[0],y=M[1]),typeof d=="string"&&(d=c.splitLines(d)),Ic(c,{from:b,to:y,text:d,origin:x})}function Bu(c,d,b,y){b<c.line?c.line+=y:d<c.line&&(c.line=d,c.ch=0)}function Kf(c,d,b,y){for(var x=0;x<c.length;++x){var M=c[x],z=!0;if(M.ranges){M.copied||(M=c[x]=M.deepCopy(),M.copied=!0);for(var tt=0;tt<M.ranges.length;tt++)Bu(M.ranges[tt].anchor,d,b,y),Bu(M.ranges[tt].head,d,b,y);continue}for(var ct=0;ct<M.changes.length;++ct){var Ot=M.changes[ct];if(b<Ot.from.line)Ot.from=rt(Ot.from.line+y,Ot.from.ch),Ot.to=rt(Ot.to.line+y,Ot.to.ch);else if(d<=Ot.to.line){z=!1;break}}z||(c.splice(0,x+1),x=0)}}function el(c,d){var b=d.from.line,y=d.to.line,x=d.text.length-(y-b)-1;Kf(c.done,b,y,x),Kf(c.undone,b,y,x)}function Fc(c,d,b,y){var x=d,M=d;return typeof d=="number"?M=Wr(c,Vn(c,d)):x=un(d),x==null?null:(y(M,x)&&c.cm&&yl(c.cm,x,b),M)}function rl(c){this.lines=c,this.parent=null;for(var d=0,b=0;b<c.length;++b)c[b].parent=this,d+=c[b].height;this.height=d}rl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,d){for(var b=c,y=c+d;b<y;++b){var x=this.lines[b];this.height-=x.height,Cs(x),Ro(x,"delete")}this.lines.splice(c,d)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,d,b){this.height+=b,this.lines=this.lines.slice(0,c).concat(d).concat(this.lines.slice(c));for(var y=0;y<d.length;++y)d[y].parent=this},iterN:function(c,d,b){for(var y=c+d;c<y;++c)if(b(this.lines[c]))return!0}};function su(c){this.children=c;for(var d=0,b=0,y=0;y<c.length;++y){var x=c[y];d+=x.chunkSize(),b+=x.height,x.parent=this}this.size=d,this.height=b,this.parent=null}su.prototype={chunkSize:function(){return this.size},removeInner:function(c,d){this.size-=d;for(var b=0;b<this.children.length;++b){var y=this.children[b],x=y.chunkSize();if(c<x){var M=Math.min(d,x-c),z=y.height;if(y.removeInner(c,M),this.height-=z-y.height,x==M&&(this.children.splice(b--,1),y.parent=null),(d-=M)==0)break;c=0}else c-=x}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof rl))){var tt=[];this.collapse(tt),this.children=[new rl(tt)],this.children[0].parent=this}},collapse:function(c){for(var d=0;d<this.children.length;++d)this.children[d].collapse(c)},insertInner:function(c,d,b){this.size+=d.length,this.height+=b;for(var y=0;y<this.children.length;++y){var x=this.children[y],M=x.chunkSize();if(c<=M){if(x.insertInner(c,d,b),x.lines&&x.lines.length>50){for(var z=x.lines.length%25+25,tt=z;tt<x.lines.length;){var ct=new rl(x.lines.slice(tt,tt+=25));x.height-=ct.height,this.children.splice(++y,0,ct),ct.parent=this}x.lines=x.lines.slice(0,z),this.maybeSpill()}break}c-=M}},maybeSpill:function(){if(!(this.children.length<=10)){var c=this;do{var d=c.children.splice(c.children.length-5,5),b=new su(d);if(c.parent){c.size-=b.size,c.height-=b.height;var x=Bt(c.parent.children,c);c.parent.children.splice(x+1,0,b)}else{var y=new su(c.children);y.parent=c,c.children=[y,b],c=y}b.parent=c.parent}while(c.children.length>10);c.parent.maybeSpill()}},iterN:function(c,d,b){for(var y=0;y<this.children.length;++y){var x=this.children[y],M=x.chunkSize();if(c<M){var z=Math.min(d,M-c);if(x.iterN(c,z,b))return!0;if((d-=z)==0)break;c=0}else c-=M}}};var Na=function(c,d,b){if(b)for(var y in b)b.hasOwnProperty(y)&&(this[y]=b[y]);this.doc=c,this.node=d};Na.prototype.clear=function(){var c=this.doc.cm,d=this.line.widgets,b=this.line,y=un(b);if(!(y==null||!d)){for(var x=0;x<d.length;++x)d[x]==this&&d.splice(x--,1);d.length||(b.widgets=null);var M=Ki(this);oi(b,Math.max(0,b.height-M)),c&&(Ka(c,function(){bc(c,b,-M),yl(c,y,"widget")}),Ro(c,"lineWidgetCleared",c,this,y))}},Na.prototype.changed=function(){var c=this,d=this.height,b=this.doc.cm,y=this.line;this.height=null;var x=Ki(this)-d;x&&(mi(this.doc,y)||oi(y,y.height+x),b&&Ka(b,function(){b.curOp.forceUpdate=!0,bc(b,y,x),Ro(b,"lineWidgetChanged",b,c,un(y))}))},$n(Na);function bc(c,d,b){Pn(d)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&_l(c,b)}function Yf(c,d,b,y){var x=new Na(c,b,y),M=c.cm;return M&&x.noHScroll&&(M.display.alignWidgets=!0),Fc(c,d,"widget",function(z){var tt=z.widgets||(z.widgets=[]);if(x.insertAt==null?tt.push(x):tt.splice(Math.min(tt.length,Math.max(0,x.insertAt)),0,x),x.line=z,M&&!mi(c,z)){var ct=Pn(z)<c.scrollTop;oi(z,z.height+Ki(x)),ct&&_l(M,x.height),M.curOp.forceUpdate=!0}return!0}),M&&Ro(M,"lineWidgetAdded",M,x,typeof d=="number"?d:un(d)),x}var ff=0,nl=function(c,d){this.lines=[],this.type=d,this.doc=c,this.id=++ff};nl.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,d=c&&!c.curOp;if(d&&Ul(c),pn(this,"clear")){var b=this.find();b&&Ro(this,"clear",b.from,b.to)}for(var y=null,x=null,M=0;M<this.lines.length;++M){var z=this.lines[M],tt=ti(z.markedSpans,this);c&&!this.collapsed?yl(c,un(z),"text"):c&&(tt.to!=null&&(x=un(z)),tt.from!=null&&(y=un(z))),z.markedSpans=ui(z.markedSpans,tt),tt.from==null&&this.collapsed&&!mi(this.doc,z)&&c&&oi(z,fc(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(var ct=0;ct<this.lines.length;++ct){var Ot=Oi(this.lines[ct]),ne=vn(Ot);ne>c.display.maxLineLength&&(c.display.maxLine=Ot,c.display.maxLineLength=ne,c.display.maxLineChanged=!0)}y!=null&&c&&this.collapsed&&Zi(c,y,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&vp(c.doc)),c&&Ro(c,"markerCleared",c,this,y,x),d&&ks(c),this.parent&&this.parent.clear()}},nl.prototype.find=function(c,d){c==null&&this.type=="bookmark"&&(c=1);for(var b,y,x=0;x<this.lines.length;++x){var M=this.lines[x],z=ti(M.markedSpans,this);if(z.from!=null&&(b=rt(d?M:un(M),z.from),c==-1))return b;if(z.to!=null&&(y=rt(d?M:un(M),z.to),c==1))return y}return b&&{from:b,to:y}},nl.prototype.changed=function(){var c=this,d=this.find(-1,!0),b=this,y=this.doc.cm;!d||!y||Ka(y,function(){var x=d.line,M=un(d.line),z=it(y,M);if(z&&(hn(z),y.curOp.selectionChanged=y.curOp.forceUpdate=!0),y.curOp.updateMaxLine=!0,!mi(b.doc,x)&&b.height!=null){var tt=b.height;b.height=null;var ct=Ki(b)-tt;ct&&oi(x,x.height+ct)}Ro(y,"markerChanged",y,c)})},nl.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||Bt(d.maybeHiddenMarkers,this)==-1)&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)},nl.prototype.detachLine=function(c){if(this.lines.splice(Bt(this.lines,c),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},$n(nl);function Tl(c,d,b,y,x){if(y&&y.shared)return pf(c,d,b,y,x);if(c.cm&&!c.cm.curOp)return fi(c.cm,Tl)(c,d,b,y,x);var M=new nl(c,x),z=Zt(d,b);if(y&&Ht(y,M,!1),z>0||z==0&&M.clearWhenEmpty!==!1)return M;if(M.replacedWith&&(M.collapsed=!0,M.widgetNode=_t("span",[M.replacedWith],"CodeMirror-widget"),y.handleMouseEvents||M.widgetNode.setAttribute("cm-ignore-events","true"),y.insertLeft&&(M.widgetNode.insertLeft=!0)),M.collapsed){if(Do(c,d.line,d,b,M)||d.line!=b.line&&Do(c,b.line,d,b,M))throw new Error("Inserting collapsed marker partially overlapping an existing one");Go()}M.addToHistory&&zf(c,{from:d,to:b,origin:"markText"},c.sel,NaN);var tt=d.line,ct=c.cm,Ot;if(c.iter(tt,b.line+1,function(ye){ct&&M.collapsed&&!ct.options.lineWrapping&&Oi(ye)==ct.display.maxLine&&(Ot=!0),M.collapsed&&tt!=d.line&&oi(ye,0),Ii(ye,new ia(M,tt==d.line?d.ch:null,tt==b.line?b.ch:null),c.cm&&c.cm.curOp),++tt}),M.collapsed&&c.iter(d.line,b.line+1,function(ye){mi(c,ye)&&oi(ye,0)}),M.clearOnEnter&&Yt(M,"beforeCursorEnter",function(){return M.clear()}),M.readOnly&&(Rs(),(c.history.done.length||c.history.undone.length)&&c.clearHistory()),M.collapsed&&(M.id=++ff,M.atomic=!0),ct){if(Ot&&(ct.curOp.updateMaxLine=!0),M.collapsed)Zi(ct,d.line,b.line+1);else if(M.className||M.startStyle||M.endStyle||M.css||M.attributes||M.title)for(var ne=d.line;ne<=b.line;ne++)yl(ct,ne,"text");M.atomic&&vp(ct.doc),Ro(ct,"markerAdded",ct,M)}return M}var Vc=function(c,d){this.markers=c,this.primary=d;for(var b=0;b<c.length;++b)c[b].parent=this};Vc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();Ro(this,"clear")}},Vc.prototype.find=function(c,d){return this.primary.find(c,d)},$n(Vc);function pf(c,d,b,y,x){y=Ht(y),y.shared=!1;var M=[Tl(c,d,b,y,x)],z=M[0],tt=y.widgetNode;return Wl(c,function(ct){tt&&(y.widgetNode=tt.cloneNode(!0)),M.push(Tl(ct,Jr(ct,d),Jr(ct,b),y,x));for(var Ot=0;Ot<ct.linked.length;++Ot)if(ct.linked[Ot].isParent)return;z=Je(M)}),new Vc(M,z)}function Uu(c){return c.findMarks(rt(c.first,0),c.clipPos(rt(c.lastLine())),function(d){return d.parent})}function df(c,d){for(var b=0;b<d.length;b++){var y=d[b],x=y.find(),M=c.clipPos(x.from),z=c.clipPos(x.to);if(Zt(M,z)){var tt=Tl(c,M,z,y.primary,y.primary.type);y.markers.push(tt),tt.parent=y}}}function lu(c){for(var d=function(y){var x=c[y],M=[x.primary.doc];Wl(x.primary.doc,function(ct){return M.push(ct)});for(var z=0;z<x.markers.length;z++){var tt=x.markers[z];Bt(M,tt.doc)==-1&&(tt.parent=null,x.markers.splice(z--,1))}},b=0;b<c.length;b++)d(b)}var mp=0,Sa=function(c,d,b,y,x){if(!(this instanceof Sa))return new Sa(c,d,b,y,x);b==null&&(b=0),su.call(this,[new rl([new No("",null)])]),this.first=b,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=b;var M=rt(b,0);this.sel=xa(M),this.history=new Fu(null),this.id=++mp,this.modeOption=d,this.lineSep=y,this.direction=x=="rtl"?"rtl":"ltr",this.extend=!1,typeof c=="string"&&(c=this.splitLines(c)),fa(this,{from:M,to:M,text:c}),ki(this,xa(M),Ae)};Sa.prototype=me(su.prototype,{constructor:Sa,iter:function(c,d,b){b?this.iterN(c-this.first,d-c,b):this.iterN(this.first,this.first+this.size,c)},insert:function(c,d){for(var b=0,y=0;y<d.length;++y)b+=d[y].height;this.insertInner(c-this.first,d,b)},remove:function(c,d){this.removeInner(c-this.first,d)},getValue:function(c){var d=po(this,this.first,this.first+this.size);return c===!1?d:d.join(c||this.lineSeparator())},setValue:Ui(function(c){var d=rt(this.first,0),b=this.first+this.size-1;Ic(this,{from:d,to:rt(b,Wr(this,b).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0),this.cm&&gc(this.cm,0,0),ki(this,xa(d),Ae)}),replaceRange:function(c,d,b,y){d=Jr(this,d),b=b?Jr(this,b):d,Xi(this,c,d,b,y)},getRange:function(c,d,b){var y=vo(this,Jr(this,c),Jr(this,d));return b===!1?y:b===""?y.join(""):y.join(b||this.lineSeparator())},getLine:function(c){var d=this.getLineHandle(c);return d&&d.text},getLineHandle:function(c){if(Ci(this,c))return Wr(this,c)},getLineNumber:function(c){return un(c)},getLineHandleVisualStart:function(c){return typeof c=="number"&&(c=Wr(this,c)),Oi(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return Jr(this,c)},getCursor:function(c){var d=this.sel.primary(),b;return c==null||c=="head"?b=d.head:c=="anchor"?b=d.anchor:c=="end"||c=="to"||c===!1?b=d.to():b=d.from(),b},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ui(function(c,d,b){Gl(this,Jr(this,typeof c=="number"?rt(c,d||0):c),null,b)}),setSelection:Ui(function(c,d,b){Gl(this,Jr(this,c),Jr(this,d||c),b)}),extendSelection:Ui(function(c,d,b){$l(this,Jr(this,c),d&&Jr(this,d),b)}),extendSelections:Ui(function(c,d){ou(this,At(this,c),d)}),extendSelectionsBy:Ui(function(c,d){var b=nt(this.sel.ranges,c);ou(this,At(this,b),d)}),setSelections:Ui(function(c,d,b){if(c.length){for(var y=[],x=0;x<c.length;x++)y[x]=new So(Jr(this,c[x].anchor),Jr(this,c[x].head||c[x].anchor));d==null&&(d=Math.min(c.length-1,this.sel.primIndex)),ki(this,ds(this.cm,y,d),b)}}),addSelection:Ui(function(c,d,b){var y=this.sel.ranges.slice(0);y.push(new So(Jr(this,c),Jr(this,d||c))),ki(this,ds(this.cm,y,y.length-1),b)}),getSelection:function(c){for(var d=this.sel.ranges,b,y=0;y<d.length;y++){var x=vo(this,d[y].from(),d[y].to());b=b?b.concat(x):x}return c===!1?b:b.join(c||this.lineSeparator())},getSelections:function(c){for(var d=[],b=this.sel.ranges,y=0;y<b.length;y++){var x=vo(this,b[y].from(),b[y].to());c!==!1&&(x=x.join(c||this.lineSeparator())),d[y]=x}return d},replaceSelection:function(c,d,b){for(var y=[],x=0;x<this.sel.ranges.length;x++)y[x]=c;this.replaceSelections(y,d,b||"+input")},replaceSelections:Ui(function(c,d,b){for(var y=[],x=this.sel,M=0;M<x.ranges.length;M++){var z=x.ranges[M];y[M]={from:z.from(),to:z.to(),text:this.splitLines(c[M]),origin:b}}for(var tt=d&&d!="end"&&Bf(this,y,d),ct=y.length-1;ct>=0;ct--)Ic(this,y[ct]);tt?Kl(this,tt):this.cm&&ps(this.cm)}),undo:Ui(function(){Ms(this,"undo")}),redo:Ui(function(){Ms(this,"redo")}),undoSelection:Ui(function(){Ms(this,"undo",!0)}),redoSelection:Ui(function(){Ms(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,d=0,b=0,y=0;y<c.done.length;y++)c.done[y].ranges||++d;for(var x=0;x<c.undone.length;x++)c.undone[x].ranges||++b;return{undo:d,redo:b}},clearHistory:function(){var c=this;this.history=new Fu(this.history),Wl(this,function(d){return d.history=c.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){return c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:hs(this.history.done),undone:hs(this.history.undone)}},setHistory:function(c){var d=this.history=new Fu(this.history);d.done=hs(c.done.slice(0),null,!0),d.undone=hs(c.undone.slice(0),null,!0)},setGutterMarker:Ui(function(c,d,b){return Fc(this,c,"gutter",function(y){var x=y.gutterMarkers||(y.gutterMarkers={});return x[d]=b,!b&&se(x)&&(y.gutterMarkers=null),!0})}),clearGutter:Ui(function(c){var d=this;this.iter(function(b){b.gutterMarkers&&b.gutterMarkers[c]&&Fc(d,b,"gutter",function(){return b.gutterMarkers[c]=null,se(b.gutterMarkers)&&(b.gutterMarkers=null),!0})})}),lineInfo:function(c){var d;if(typeof c=="number"){if(!Ci(this,c)||(d=c,c=Wr(this,c),!c))return null}else if(d=un(c),d==null)return null;return{line:d,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},addLineClass:Ui(function(c,d,b){return Fc(this,c,d=="gutter"?"gutter":"class",function(y){var x=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass";if(!y[x])y[x]=b;else{if($(b).test(y[x]))return!1;y[x]+=" "+b}return!0})}),removeLineClass:Ui(function(c,d,b){return Fc(this,c,d=="gutter"?"gutter":"class",function(y){var x=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass",M=y[x];if(M)if(b==null)y[x]=null;else{var z=M.match($(b));if(!z)return!1;var tt=z.index+z[0].length;y[x]=M.slice(0,z.index)+(!z.index||tt==M.length?"":" ")+M.slice(tt)||null}else return!1;return!0})}),addLineWidget:Ui(function(c,d,b){return Yf(this,c,d,b)}),removeLineWidget:function(c){c.clear()},markText:function(c,d,b){return Tl(this,Jr(this,c),Jr(this,d),b,b&&b.type||"range")},setBookmark:function(c,d){var b={replacedWith:d&&(d.nodeType==null?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return c=Jr(this,c),Tl(this,c,c,b,"bookmark")},findMarksAt:function(c){c=Jr(this,c);var d=[],b=Wr(this,c.line).markedSpans;if(b)for(var y=0;y<b.length;++y){var x=b[y];(x.from==null||x.from<=c.ch)&&(x.to==null||x.to>=c.ch)&&d.push(x.marker.parent||x.marker)}return d},findMarks:function(c,d,b){c=Jr(this,c),d=Jr(this,d);var y=[],x=c.line;return this.iter(c.line,d.line+1,function(M){var z=M.markedSpans;if(z)for(var tt=0;tt<z.length;tt++){var ct=z[tt];!(ct.to!=null&&x==c.line&&c.ch>=ct.to||ct.from==null&&x!=c.line||ct.from!=null&&x==d.line&&ct.from>=d.ch)&&(!b||b(ct.marker))&&y.push(ct.marker.parent||ct.marker)}++x}),y},getAllMarks:function(){var c=[];return this.iter(function(d){var b=d.markedSpans;if(b)for(var y=0;y<b.length;++y)b[y].from!=null&&c.push(b[y].marker)}),c},posFromIndex:function(c){var d,b=this.first,y=this.lineSeparator().length;return this.iter(function(x){var M=x.text.length+y;if(M>c)return d=c,!0;c-=M,++b}),Jr(this,rt(b,d))},indexFromPos:function(c){c=Jr(this,c);var d=c.ch;if(c.line<this.first||c.ch<0)return 0;var b=this.lineSeparator().length;return this.iter(this.first,c.line,function(y){d+=y.text.length+b}),d},copy:function(c){var d=new Sa(po(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,c&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(c){c||(c={});var d=this.first,b=this.first+this.size;c.from!=null&&c.from>d&&(d=c.from),c.to!=null&&c.to<b&&(b=c.to);var y=new Sa(po(this,d,b),c.mode||this.modeOption,d,this.lineSep,this.direction);return c.sharedHist&&(y.history=this.history),(this.linked||(this.linked=[])).push({doc:y,sharedHist:c.sharedHist}),y.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}],df(y,Uu(this)),y},unlinkDoc:function(c){if(c instanceof zr&&(c=c.doc),this.linked)for(var d=0;d<this.linked.length;++d){var b=this.linked[d];if(b.doc==c){this.linked.splice(d,1),c.unlinkDoc(this),lu(Uu(this));break}}if(c.history==this.history){var y=[c.id];Wl(c,function(x){return y.push(x.id)},!0),c.history=new Fu(null),c.history.done=hs(this.history.done,y),c.history.undone=hs(this.history.undone,y)}},iterLinkedDocs:function(c){Wl(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):In(c)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ui(function(c){c!="rtl"&&(c="ltr"),c!=this.direction&&(this.direction=c,this.iter(function(d){return d.order=null}),this.cm&&Nu(this.cm))})}),Sa.prototype.eachLine=Sa.prototype.iter;var cu=0;function yp(c){var d=this;if(Hc(d),!(Kr(d,c)||Ri(d.display,c))){Ut(c),ut&&(cu=+new Date);var b=Nl(d,c,!0),y=c.dataTransfer.files;if(!(!b||d.isReadOnly()))if(y&&y.length&&window.FileReader&&window.File)for(var x=y.length,M=Array(x),z=0,tt=function(){++z==x&&fi(d,function(){b=Jr(d.doc,b);var Ie={from:b,to:b,text:d.doc.splitLines(M.filter(function(lr){return lr!=null}).join(d.doc.lineSeparator())),origin:"paste"};Ic(d.doc,Ie),Kl(d.doc,xa(Jr(d.doc,b),Jr(d.doc,Ol(Ie))))})()},ct=function(Ie,lr){if(d.options.allowDropFileTypes&&Bt(d.options.allowDropFileTypes,Ie.type)==-1){tt();return}var wr=new FileReader;wr.onerror=function(){return tt()},wr.onload=function(){var jr=wr.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(jr)){tt();return}M[lr]=jr,tt()},wr.readAsText(Ie)},Ot=0;Ot<y.length;Ot++)ct(y[Ot],Ot);else{if(d.state.draggingText&&d.doc.sel.contains(b)>-1){d.state.draggingText(c),setTimeout(function(){return d.display.input.focus()},20);return}try{var ne=c.dataTransfer.getData("Text");if(ne){var ye;if(d.state.draggingText&&!d.state.draggingText.copy&&(ye=d.listSelections()),Ru(d.doc,xa(b,b)),ye)for(var Ue=0;Ue<ye.length;++Ue)Xi(d.doc,"",ye[Ue].anchor,ye[Ue].head,"drag");d.replaceSelection(ne,"around","paste"),d.display.input.focus()}}catch{}}}}function Rc(c,d){if(ut&&(!c.state.draggingText||+new Date-cu<100)){Xe(d);return}if(!(Kr(c,d)||Ri(c.display,d))&&(d.dataTransfer.setData("Text",c.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!H)){var b=et("img",null,null,"position: fixed; left: 0; top: 0;");b.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k&&(b.width=b.height=1,c.display.wrapper.appendChild(b),b._top=b.offsetTop),d.dataTransfer.setDragImage(b,0,0),k&&b.parentNode.removeChild(b)}}function hf(c,d){var b=Nl(c,d);if(b){var y=document.createDocumentFragment();hc(c,b,y),c.display.dragCursor||(c.display.dragCursor=et("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),c.display.lineSpace.insertBefore(c.display.dragCursor,c.display.cursorDiv)),Tt(c.display.dragCursor,y)}}function Hc(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function Bc(c){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),b=[],y=0;y<d.length;y++){var x=d[y].CodeMirror;x&&b.push(x)}b.length&&b[0].operation(function(){for(var M=0;M<b.length;M++)c(b[M])})}}var Zf=!1;function gf(){Zf||(Xf(),Zf=!0)}function Xf(){var c;Yt(window,"resize",function(){c==null&&(c=setTimeout(function(){c=null,Bc(bp)},100))}),Yt(window,"blur",function(){return Bc(ja)})}function bp(c){var d=c.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,c.setSize()}for(var El={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ol=0;ol<10;ol++)El[ol+48]=El[ol+96]=String(ol);for(var wc=65;wc<=90;wc++)El[wc]=String.fromCharCode(wc);for(var gs=1;gs<=12;gs++)El[gs+111]=El[gs+63235]="F"+gs;var Ls={};Ls.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ls.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ls.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ls.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ls.default=I?Ls.macDefault:Ls.pcDefault;function Uc(c){var d=c.split(/-(?!$)/);c=d[d.length-1];for(var b,y,x,M,z=0;z<d.length-1;z++){var tt=d[z];if(/^(cmd|meta|m)$/i.test(tt))M=!0;else if(/^a(lt)?$/i.test(tt))b=!0;else if(/^(c|ctrl|control)$/i.test(tt))y=!0;else if(/^s(hift)?$/i.test(tt))x=!0;else throw new Error("Unrecognized modifier name: "+tt)}return b&&(c="Alt-"+c),y&&(c="Ctrl-"+c),M&&(c="Cmd-"+c),x&&(c="Shift-"+c),c}function zc(c){var d={};for(var b in c)if(c.hasOwnProperty(b)){var y=c[b];if(/^(name|fallthrough|(de|at)tach)$/.test(b))continue;if(y=="..."){delete c[b];continue}for(var x=nt(b.split(" "),Uc),M=0;M<x.length;M++){var z=void 0,tt=void 0;M==x.length-1?(tt=x.join(" "),z=y):(tt=x.slice(0,M+1).join(" "),z="...");var ct=d[tt];if(!ct)d[tt]=z;else if(ct!=z)throw new Error("Inconsistent bindings for "+tt)}delete c[b]}for(var Ot in d)c[Ot]=d[Ot];return c}function Xl(c,d,b,y){d=Pl(d);var x=d.call?d.call(c,y):d[c];if(x===!1)return"nothing";if(x==="...")return"multi";if(x!=null&&b(x))return"handled";if(d.fallthrough){if(Object.prototype.toString.call(d.fallthrough)!="[object Array]")return Xl(c,d.fallthrough,b,y);for(var M=0;M<d.fallthrough.length;M++){var z=Xl(c,d.fallthrough[M],b,y);if(z)return z}}}function ai(c){var d=typeof c=="string"?c:El[c.keyCode];return d=="Ctrl"||d=="Alt"||d=="Shift"||d=="Mod"}function vf(c,d,b){var y=c;return d.altKey&&y!="Alt"&&(c="Alt-"+c),(F?d.metaKey:d.ctrlKey)&&y!="Ctrl"&&(c="Ctrl-"+c),(F?d.ctrlKey:d.metaKey)&&y!="Mod"&&(c="Cmd-"+c),!b&&d.shiftKey&&y!="Shift"&&(c="Shift-"+c),c}function Wo(c,d){if(k&&c.keyCode==34&&c.char)return!1;var b=El[c.keyCode];return b==null||c.altGraphKey?!1:(c.keyCode==3&&c.code&&(b=c.code),vf(b,c,d))}function Pl(c){return typeof c=="string"?Ls[c]:c}function vs(c,d){for(var b=c.doc.sel.ranges,y=[],x=0;x<b.length;x++){for(var M=d(b[x]);y.length&&Zt(M.from,Je(y).to)<=0;){var z=y.pop();if(Zt(z.from,M.from)<0){M.from=z.from;break}}y.push(M)}Ka(c,function(){for(var tt=y.length-1;tt>=0;tt--)Xi(c.doc,"",y[tt].from,y[tt].to,"+delete");ps(c)})}function ms(c,d,b){var y=Qe(c.text,d+b,b);return y<0||y>c.text.length?null:y}function Wc(c,d,b){var y=ms(c,d.ch,b);return y==null?null:new rt(d.line,y,b<0?"after":"before")}function $c(c,d,b,y,x){if(c){d.doc.direction=="rtl"&&(x=-x);var M=Vt(b,d.doc.direction);if(M){var z=x<0?Je(M):M[0],tt=x<0==(z.level==1),ct=tt?"after":"before",Ot;if(z.level>0||d.doc.direction=="rtl"){var ne=Mt(d,b);Ot=x<0?b.text.length-1:0;var ye=ie(d,ne,Ot).top;Ot=Ir(function(Ue){return ie(d,ne,Ue).top==ye},x<0==(z.level==1)?z.from:z.to-1,Ot),ct=="before"&&(Ot=ms(b,Ot,1))}else Ot=x<0?z.to:z.from;return new rt(y,Ot,ct)}}return new rt(y,x<0?b.text.length:0,x<0?"before":"after")}function Jf(c,d,b,y){var x=Vt(d,c.doc.direction);if(!x)return Wc(d,b,y);b.ch>=d.text.length?(b.ch=d.text.length,b.sticky="before"):b.ch<=0&&(b.ch=0,b.sticky="after");var M=Wt(x,b.ch,b.sticky),z=x[M];if(c.doc.direction=="ltr"&&z.level%2==0&&(y>0?z.to>b.ch:z.from<b.ch))return Wc(d,b,y);var tt=function($r,Zr){return ms(d,$r instanceof rt?$r.ch:$r,Zr)},ct,Ot=function($r){return c.options.lineWrapping?(ct=ct||Mt(c,d),gl(c,d,ct,$r)):{begin:0,end:d.text.length}},ne=Ot(b.sticky=="before"?tt(b,-1):b.ch);if(c.doc.direction=="rtl"||z.level==1){var ye=z.level==1==y<0,Ue=tt(b,ye?1:-1);if(Ue!=null&&(ye?Ue<=z.to&&Ue<=ne.end:Ue>=z.from&&Ue>=ne.begin)){var Ie=ye?"before":"after";return new rt(b.line,Ue,Ie)}}var lr=function($r,Zr,qr){for(var tn=function(Ko,pa){return pa?new rt(b.line,tt(Ko,1),"before"):new rt(b.line,Ko,"after")};$r>=0&&$r<x.length;$r+=Zr){var bn=x[$r],dn=Zr>0==(bn.level!=1),Xn=dn?qr.begin:tt(qr.end,-1);if(bn.from<=Xn&&Xn<bn.to||(Xn=dn?bn.from:tt(bn.to,-1),qr.begin<=Xn&&Xn<qr.end))return tn(Xn,dn)}},wr=lr(M+y,y,ne);if(wr)return wr;var jr=y>0?ne.end:tt(ne.begin,-1);return jr!=null&&!(y>0&&jr==d.text.length)&&(wr=lr(y>0?0:x.length-1,y,Ot(jr)),wr)?wr:null}var Jl={selectAll:iu,singleSelection:function(c){return c.setSelection(c.getCursor("anchor"),c.getCursor("head"),Ae)},killLine:function(c){return vs(c,function(d){if(d.empty()){var b=Wr(c.doc,d.head.line).text.length;return d.head.ch==b&&d.head.line<c.lastLine()?{from:d.head,to:rt(d.head.line+1,0)}:{from:d.head,to:rt(d.head.line,b)}}else return{from:d.from(),to:d.to()}})},deleteLine:function(c){return vs(c,function(d){return{from:rt(d.from().line,0),to:Jr(c.doc,rt(d.to().line+1,0))}})},delLineLeft:function(c){return vs(c,function(d){return{from:rt(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(c){return vs(c,function(d){var b=c.charCoords(d.head,"div").top+5,y=c.coordsChar({left:0,top:b},"div");return{from:y,to:d.from()}})},delWrappedLineRight:function(c){return vs(c,function(d){var b=c.charCoords(d.head,"div").top+5,y=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:b},"div");return{from:d.from(),to:y}})},undo:function(c){return c.undo()},redo:function(c){return c.redo()},undoSelection:function(c){return c.undoSelection()},redoSelection:function(c){return c.redoSelection()},goDocStart:function(c){return c.extendSelection(rt(c.firstLine(),0))},goDocEnd:function(c){return c.extendSelection(rt(c.lastLine()))},goLineStart:function(c){return c.extendSelectionsBy(function(d){return Ya(c,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){return c.extendSelectionsBy(function(d){return _c(c,d.head)},{origin:"+move",bias:1})},goLineEnd:function(c){return c.extendSelectionsBy(function(d){return Fa(c,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(c){return c.extendSelectionsBy(function(d){var b=c.cursorCoords(d.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:b},"div")},Or)},goLineLeft:function(c){return c.extendSelectionsBy(function(d){var b=c.cursorCoords(d.head,"div").top+5;return c.coordsChar({left:0,top:b},"div")},Or)},goLineLeftSmart:function(c){return c.extendSelectionsBy(function(d){var b=c.cursorCoords(d.head,"div").top+5,y=c.coordsChar({left:0,top:b},"div");return y.ch<c.getLine(y.line).search(/\S/)?_c(c,d.head):y},Or)},goLineUp:function(c){return c.moveV(-1,"line")},goLineDown:function(c){return c.moveV(1,"line")},goPageUp:function(c){return c.moveV(-1,"page")},goPageDown:function(c){return c.moveV(1,"page")},goCharLeft:function(c){return c.moveH(-1,"char")},goCharRight:function(c){return c.moveH(1,"char")},goColumnLeft:function(c){return c.moveH(-1,"column")},goColumnRight:function(c){return c.moveH(1,"column")},goWordLeft:function(c){return c.moveH(-1,"word")},goGroupRight:function(c){return c.moveH(1,"group")},goGroupLeft:function(c){return c.moveH(-1,"group")},goWordRight:function(c){return c.moveH(1,"word")},delCharBefore:function(c){return c.deleteH(-1,"codepoint")},delCharAfter:function(c){return c.deleteH(1,"char")},delWordBefore:function(c){return c.deleteH(-1,"word")},delWordAfter:function(c){return c.deleteH(1,"word")},delGroupBefore:function(c){return c.deleteH(-1,"group")},delGroupAfter:function(c){return c.deleteH(1,"group")},indentAuto:function(c){return c.indentSelection("smart")},indentMore:function(c){return c.indentSelection("add")},indentLess:function(c){return c.indentSelection("subtract")},insertTab:function(c){return c.replaceSelection("	")},insertSoftTab:function(c){for(var d=[],b=c.listSelections(),y=c.options.tabSize,x=0;x<b.length;x++){var M=b[x].from(),z=It(c.getLine(M.line),M.ch,y);d.push(Vr(y-z%y))}c.replaceSelections(d)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){return Ka(c,function(){for(var d=c.listSelections(),b=[],y=0;y<d.length;y++)if(d[y].empty()){var x=d[y].head,M=Wr(c.doc,x.line).text;if(M){if(x.ch==M.length&&(x=new rt(x.line,x.ch-1)),x.ch>0)x=new rt(x.line,x.ch+1),c.replaceRange(M.charAt(x.ch-1)+M.charAt(x.ch-2),rt(x.line,x.ch-2),x,"+transpose");else if(x.line>c.doc.first){var z=Wr(c.doc,x.line-1).text;z&&(x=new rt(x.line,1),c.replaceRange(M.charAt(0)+c.doc.lineSeparator()+z.charAt(z.length-1),rt(x.line-1,z.length-1),x,"+transpose"))}}b.push(new So(x,x))}c.setSelections(b)})},newlineAndIndent:function(c){return Ka(c,function(){for(var d=c.listSelections(),b=d.length-1;b>=0;b--)c.replaceRange(c.doc.lineSeparator(),d[b].anchor,d[b].head,"+input");d=c.listSelections();for(var y=0;y<d.length;y++)c.indentLine(d[y].from().line,null,!0);ps(c)})},openLine:function(c){return c.replaceSelection(`
`,"start")},toggleOverwrite:function(c){return c.toggleOverwrite()}};function Ya(c,d){var b=Wr(c.doc,d),y=Oi(b);return y!=b&&(d=un(y)),$c(!0,c,y,d,1)}function Fa(c,d){var b=Wr(c.doc,d),y=Aa(b);return y!=b&&(d=un(y)),$c(!0,c,b,d,-1)}function _c(c,d){var b=Ya(c,d.line),y=Wr(c.doc,b.line),x=Vt(y,c.doc.direction);if(!x||x[0].level==0){var M=Math.max(b.ch,y.text.search(/\S/)),z=d.line==b.line&&d.ch<=M&&d.ch;return rt(b.line,z?0:M,b.sticky)}return b}function Gc(c,d,b){if(typeof d=="string"&&(d=Jl[d],!d))return!1;c.display.input.ensurePolled();var y=c.display.shift,x=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),b&&(c.display.shift=!1),x=d(c)!=pe}finally{c.display.shift=y,c.state.suppressEdits=!1}return x}function Ql(c,d,b){for(var y=0;y<c.state.keyMaps.length;y++){var x=Xl(d,c.state.keyMaps[y],b,c);if(x)return x}return c.options.extraKeys&&Xl(d,c.options.extraKeys,b,c)||Xl(d,c.options.keyMap,b,c)}var Oo=new St;function xc(c,d,b,y){var x=c.state.keySeq;if(x){if(ai(d))return"handled";if(/\'$/.test(d)?c.state.keySeq=null:Oo.set(50,function(){c.state.keySeq==x&&(c.state.keySeq=null,c.display.input.reset())}),tc(c,x+" "+d,b,y))return!0}return tc(c,d,b,y)}function tc(c,d,b,y){var x=Ql(c,d,y);return x=="multi"&&(c.state.keySeq=d),x=="handled"&&Ro(c,"keyHandled",c,d,b),(x=="handled"||x=="multi")&&(Ut(b),Vl(c)),!!x}function uu(c,d){var b=Wo(d,!0);return b?d.shiftKey&&!c.state.keySeq?xc(c,"Shift-"+b,d,function(y){return Gc(c,y,!0)})||xc(c,b,d,function(y){if(typeof y=="string"?/^go[A-Z]/.test(y):y.motion)return Gc(c,y)}):xc(c,b,d,function(y){return Gc(c,y)}):!1}function Qf(c,d,b){return xc(c,"'"+b+"'",d,function(y){return Gc(c,y,!0)})}var qo=null;function fu(c){var d=this;if(!(c.target&&c.target!=d.display.input.getField())&&(d.curOp.focus=$t(jt(d)),!Kr(d,c))){ut&&Ct<11&&c.keyCode==27&&(c.returnValue=!1);var b=c.keyCode;d.display.shift=b==16||c.shiftKey;var y=uu(d,c);k&&(qo=y?b:null,!y&&b==88&&!uo&&(I?c.metaKey:c.ctrlKey)&&d.replaceSelection("",null,"cut")),Oe&&!I&&!y&&b==46&&c.shiftKey&&!c.ctrlKey&&document.execCommand&&document.execCommand("cut"),b==18&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&pu(d)}}function pu(c){var d=c.display.lineDiv;Lt(d,"CodeMirror-crosshair");function b(y){(y.keyCode==18||!y.altKey)&&(Q(d,"CodeMirror-crosshair"),dr(document,"keyup",b),dr(document,"mouseover",b))}Yt(document,"keyup",b),Yt(document,"mouseover",b)}function f(c){c.keyCode==16&&(this.doc.sel.shift=!1),Kr(this,c)}function g(c){var d=this;if(!(c.target&&c.target!=d.display.input.getField())&&!(Ri(d.display,c)||Kr(d,c)||c.ctrlKey&&!c.altKey||I&&c.metaKey)){var b=c.keyCode,y=c.charCode;if(k&&b==qo){qo=null,Ut(c);return}if(!(k&&(!c.which||c.which<10)&&uu(d,c))){var x=String.fromCharCode(y??b);x!="\b"&&(Qf(d,c,x)||d.display.input.onKeyPress(c))}}}var S=400,_=function(c,d,b){this.time=c,this.pos=d,this.button=b};_.prototype.compare=function(c,d,b){return this.time+S>c&&Zt(d,this.pos)==0&&b==this.button};var T,D;function K(c,d){var b=+new Date;return D&&D.compare(b,c,d)?(T=D=null,"triple"):T&&T.compare(b,c,d)?(D=new _(b,c,d),T=null,"double"):(T=new _(b,c,d),D=null,"single")}function X(c){var d=this,b=d.display;if(!(Kr(d,c)||b.activeTouch&&b.input.supportsTouch())){if(b.input.ensurePolled(),b.shift=c.shiftKey,Ri(b,c)){q||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));return}if(!ze(d,c)){var y=Nl(d,c),x=ce(c),M=y?K(y,x):"single";Rt(d).focus(),x==1&&d.state.selectingText&&d.state.selectingText(c),!(y&&mt(d,x,y,M,c))&&(x==1?y?Jt(d,y,M,c):xt(c)==b.scroller&&Ut(c):x==2?(y&&$l(d.doc,y),setTimeout(function(){return b.input.focus()},20)):x==3&&(U?d.display.input.onContextMenu(c):Rl(d)))}}}function mt(c,d,b,y,x){var M="Click";return y=="double"?M="Double"+M:y=="triple"&&(M="Triple"+M),M=(d==1?"Left":d==2?"Middle":"Right")+M,xc(c,vf(M,x),x,function(z){if(typeof z=="string"&&(z=Jl[z]),!z)return!1;var tt=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),tt=z(c,b)!=pe}finally{c.state.suppressEdits=!1}return tt})}function pt(c,d,b){var y=c.getOption("configureMouse"),x=y?y(c,d,b):{};if(x.unit==null){var M=N?b.shiftKey&&b.metaKey:b.altKey;x.unit=M?"rectangle":d=="single"?"char":d=="double"?"word":"line"}return(x.extend==null||c.doc.extend)&&(x.extend=c.doc.extend||b.shiftKey),x.addNew==null&&(x.addNew=I?b.metaKey:b.ctrlKey),x.moveOnDrag==null&&(x.moveOnDrag=!(I?b.altKey:b.ctrlKey)),x}function Jt(c,d,b,y){ut?setTimeout(Xt(Ys,c),0):c.curOp.focus=$t(jt(c));var x=pt(c,b,y),M=c.doc.sel,z;c.options.dragDrop&&ke&&!c.isReadOnly()&&b=="single"&&(z=M.contains(d))>-1&&(Zt((z=M.ranges[z]).from(),d)<0||d.xRel>0)&&(Zt(z.to(),d)>0||d.xRel<0)?ee(c,y,d,x):ge(c,y,d,x)}function ee(c,d,b,y){var x=c.display,M=!1,z=fi(c,function(Ot){q&&(x.scroller.draggable=!1),c.state.draggingText=!1,c.state.delayingBlurEvent&&(c.hasFocus()?c.state.delayingBlurEvent=!1:Rl(c)),dr(x.wrapper.ownerDocument,"mouseup",z),dr(x.wrapper.ownerDocument,"mousemove",tt),dr(x.scroller,"dragstart",ct),dr(x.scroller,"drop",z),M||(Ut(Ot),y.addNew||$l(c.doc,b,null,null,y.extend),q&&!H||ut&&Ct==9?setTimeout(function(){x.wrapper.ownerDocument.body.focus({preventScroll:!0}),x.input.focus()},20):x.input.focus())}),tt=function(Ot){M=M||Math.abs(d.clientX-Ot.clientX)+Math.abs(d.clientY-Ot.clientY)>=10},ct=function(){return M=!0};q&&(x.scroller.draggable=!0),c.state.draggingText=z,z.copy=!y.moveOnDrag,Yt(x.wrapper.ownerDocument,"mouseup",z),Yt(x.wrapper.ownerDocument,"mousemove",tt),Yt(x.scroller,"dragstart",ct),Yt(x.scroller,"drop",z),c.state.delayingBlurEvent=!0,setTimeout(function(){return x.input.focus()},20),x.scroller.dragDrop&&x.scroller.dragDrop()}function xe(c,d,b){if(b=="char")return new So(d,d);if(b=="word")return c.findWordAt(d);if(b=="line")return new So(rt(d.line,0),Jr(c.doc,rt(d.line+1,0)));var y=b(c,d);return new So(y.from,y.to)}function ge(c,d,b,y){ut&&Rl(c);var x=c.display,M=c.doc;Ut(d);var z,tt,ct=M.sel,Ot=ct.ranges;if(y.addNew&&!y.extend?(tt=M.sel.contains(b),tt>-1?z=Ot[tt]:z=new So(b,b)):(z=M.sel.primary(),tt=M.sel.primIndex),y.unit=="rectangle")y.addNew||(z=new So(b,b)),b=Nl(c,d,!0,!0),tt=-1;else{var ne=xe(c,b,y.unit);y.extend?z=Dc(z,ne.anchor,ne.head,y.extend):z=ne}y.addNew?tt==-1?(tt=Ot.length,ki(M,ds(c,Ot.concat([z]),tt),{scroll:!1,origin:"*mouse"})):Ot.length>1&&Ot[tt].empty()&&y.unit=="char"&&!y.extend?(ki(M,ds(c,Ot.slice(0,tt).concat(Ot.slice(tt+1)),0),{scroll:!1,origin:"*mouse"}),ct=M.sel):cf(M,tt,z,ir):(tt=0,ki(M,new Ia([z],0),ir),ct=M.sel);var ye=b;function Ue(qr){if(Zt(ye,qr)!=0)if(ye=qr,y.unit=="rectangle"){for(var tn=[],bn=c.options.tabSize,dn=It(Wr(M,b.line).text,b.ch,bn),Xn=It(Wr(M,qr.line).text,qr.ch,bn),Ko=Math.min(dn,Xn),pa=Math.max(dn,Xn),hi=Math.min(b.line,qr.line),Xa=Math.min(c.lastLine(),Math.max(b.line,qr.line));hi<=Xa;hi++){var ws=Wr(M,hi).text,Wi=Nr(ws,Ko,bn);Ko==pa?tn.push(new So(rt(hi,Wi),rt(hi,Wi))):ws.length>Wi&&tn.push(new So(rt(hi,Wi),rt(hi,Nr(ws,pa,bn))))}tn.length||tn.push(new So(b,b)),ki(M,ds(c,ct.ranges.slice(0,tt).concat(tn),tt),{origin:"*mouse",scroll:!1}),c.scrollIntoView(qr)}else{var Ja=z,da=xe(c,qr,y.unit),Ji=Ja.anchor,$i;Zt(da.anchor,Ji)>0?($i=da.head,Ji=_n(Ja.from(),da.anchor)):($i=da.anchor,Ji=Mr(Ja.to(),da.head));var Ai=ct.ranges.slice(0);Ai[tt]=Ge(c,new So(Jr(M,Ji),$i)),ki(M,ds(c,Ai,tt),ir)}}var Ie=x.wrapper.getBoundingClientRect(),lr=0;function wr(qr){var tn=++lr,bn=Nl(c,qr,!0,y.unit=="rectangle");if(bn)if(Zt(bn,ye)!=0){c.curOp.focus=$t(jt(c)),Ue(bn);var dn=Hl(x,M);(bn.line>=dn.to||bn.line<dn.from)&&setTimeout(fi(c,function(){lr==tn&&wr(qr)}),150)}else{var Xn=qr.clientY<Ie.top?-20:qr.clientY>Ie.bottom?20:0;Xn&&setTimeout(fi(c,function(){lr==tn&&(x.scroller.scrollTop+=Xn,wr(qr))}),50)}}function jr(qr){c.state.selectingText=!1,lr=1/0,qr&&(Ut(qr),x.input.focus()),dr(x.wrapper.ownerDocument,"mousemove",$r),dr(x.wrapper.ownerDocument,"mouseup",Zr),M.history.lastSelOrigin=null}var $r=fi(c,function(qr){qr.buttons===0||!ce(qr)?jr(qr):wr(qr)}),Zr=fi(c,jr);c.state.selectingText=Zr,Yt(x.wrapper.ownerDocument,"mousemove",$r),Yt(x.wrapper.ownerDocument,"mouseup",Zr)}function Ge(c,d){var b=d.anchor,y=d.head,x=Wr(c.doc,b.line);if(Zt(b,y)==0&&b.sticky==y.sticky)return d;var M=Vt(x);if(!M)return d;var z=Wt(M,b.ch,b.sticky),tt=M[z];if(tt.from!=b.ch&&tt.to!=b.ch)return d;var ct=z+(tt.from==b.ch==(tt.level!=1)?0:1);if(ct==0||ct==M.length)return d;var Ot;if(y.line!=b.line)Ot=(y.line-b.line)*(c.doc.direction=="ltr"?1:-1)>0;else{var ne=Wt(M,y.ch,y.sticky),ye=ne-z||(y.ch-b.ch)*(tt.level==1?-1:1);ne==ct-1||ne==ct?Ot=ye<0:Ot=ye>0}var Ue=M[ct+(Ot?-1:0)],Ie=Ot==(Ue.level==1),lr=Ie?Ue.from:Ue.to,wr=Ie?"after":"before";return b.ch==lr&&b.sticky==wr?d:new So(new rt(b.line,lr,wr),y)}function Ke(c,d,b,y){var x,M;if(d.touches)x=d.touches[0].clientX,M=d.touches[0].clientY;else try{x=d.clientX,M=d.clientY}catch{return!1}if(x>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;y&&Ut(d);var z=c.display,tt=z.lineDiv.getBoundingClientRect();if(M>tt.bottom||!pn(c,b))return je(d);M-=tt.top-z.viewOffset;for(var ct=0;ct<c.display.gutterSpecs.length;++ct){var Ot=z.gutters.childNodes[ct];if(Ot&&Ot.getBoundingClientRect().right>=x){var ne=Zo(c.doc,M),ye=c.display.gutterSpecs[ct];return on(c,b,c,ne,ye.className,d),je(d)}}}function ze(c,d){return Ke(c,d,"gutterClick",!0)}function er(c,d){Ri(c.display,d)||mr(c,d)||Kr(c,d,"contextmenu")||U||c.display.input.onContextMenu(d)}function mr(c,d){return pn(c,"gutterContextMenu")?Ke(c,d,"gutterContextMenu",!1):!1}function br(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Eo(c)}var Ar={toString:function(){return"CodeMirror.Init"}},Tr={},Er={};function gn(c){var d=c.optionHandlers;function b(y,x,M,z){c.defaults[y]=x,M&&(d[y]=z?function(tt,ct,Ot){Ot!=Ar&&M(tt,ct,Ot)}:M)}c.defineOption=b,c.Init=Ar,b("value","",function(y,x){return y.setValue(x)},!0),b("mode",null,function(y,x){y.doc.modeOption=x,lf(y)},!0),b("indentUnit",2,lf,!0),b("indentWithTabs",!1),b("smartIndent",!0),b("tabSize",4,function(y){Pi(y),Eo(y),Zi(y)},!0),b("lineSeparator",null,function(y,x){if(y.doc.lineSep=x,!!x){var M=[],z=y.doc.first;y.doc.iter(function(ct){for(var Ot=0;;){var ne=ct.text.indexOf(x,Ot);if(ne==-1)break;Ot=ne+x.length,M.push(rt(z,ne))}z++});for(var tt=M.length-1;tt>=0;tt--)Xi(y.doc,x,M[tt],rt(M[tt].line,M[tt].ch+x.length))}}),b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(y,x,M){y.state.specialChars=new RegExp(x.source+(x.test("	")?"":"|	"),"g"),M!=Ar&&y.refresh()}),b("specialCharPlaceholder",Os,function(y){return y.refresh()},!0),b("electricChars",!0),b("inputStyle",V?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),b("spellcheck",!1,function(y,x){return y.getInputField().spellcheck=x},!0),b("autocorrect",!1,function(y,x){return y.getInputField().autocorrect=x},!0),b("autocapitalize",!1,function(y,x){return y.getInputField().autocapitalize=x},!0),b("rtlMoveVisually",!W),b("wholeLineUpdateBefore",!0),b("theme","default",function(y){br(y),eu(y)},!0),b("keyMap","default",function(y,x,M){var z=Pl(x),tt=M!=Ar&&Pl(M);tt&&tt.detach&&tt.detach(y,z),z.attach&&z.attach(y,tt||null)}),b("extraKeys",null),b("configureMouse",null),b("lineWrapping",!1,zn,!0),b("gutters",[],function(y,x){y.display.gutterSpecs=Js(x,y.options.lineNumbers),eu(y)},!0),b("fixedGutter",!0,function(y,x){y.display.gutters.style.left=x?Tc(y.display)+"px":"0",y.refresh()},!0),b("coverGutterNextToScrollbar",!1,function(y){return tu(y)},!0),b("scrollbarStyle","native",function(y){Df(y),tu(y),y.display.scrollbars.setScrollTop(y.doc.scrollTop),y.display.scrollbars.setScrollLeft(y.doc.scrollLeft)},!0),b("lineNumbers",!1,function(y,x){y.display.gutterSpecs=Js(y.options.gutters,x),eu(y)},!0),b("firstLineNumber",1,eu,!0),b("lineNumberFormatter",function(y){return y},eu,!0),b("showCursorWhenSelecting",!1,Ps,!0),b("resetSelectionOnContextMenu",!0),b("lineWiseCopyCut",!0),b("pasteLinesPerSelection",!0),b("selectionsMayTouch",!1),b("readOnly",!1,function(y,x){x=="nocursor"&&(ja(y),y.display.input.blur()),y.display.input.readOnlyChanged(x)}),b("screenReaderLabel",null,function(y,x){x=x===""?null:x,y.display.input.screenReaderLabelChanged(x)}),b("disableInput",!1,function(y,x){x||y.display.input.reset()},!0),b("dragDrop",!0,Ur),b("allowDropFileTypes",null),b("cursorBlinkRate",530),b("cursorScrollMargin",0),b("cursorHeight",1,Ps,!0),b("singleCursorHeightPerLine",!0,Ps,!0),b("workTime",100),b("workDelay",100),b("flattenSpans",!0,Pi,!0),b("addModeClass",!1,Pi,!0),b("pollInterval",100),b("undoDepth",200,function(y,x){return y.doc.history.undoDepth=x}),b("historyEventDelay",1250),b("viewportMargin",10,function(y){return y.refresh()},!0),b("maxHighlightLength",1e4,Pi,!0),b("moveInputWithCursor",!0,function(y,x){x||y.display.input.resetPosition()}),b("tabindex",null,function(y,x){return y.display.input.getField().tabIndex=x||""}),b("autofocus",null),b("direction","ltr",function(y,x){return y.doc.setDirection(x)},!0),b("phrases",null)}function Ur(c,d,b){var y=b&&b!=Ar;if(!d!=!y){var x=c.display.dragFunctions,M=d?Yt:dr;M(c.display.scroller,"dragstart",x.start),M(c.display.scroller,"dragenter",x.enter),M(c.display.scroller,"dragover",x.over),M(c.display.scroller,"dragleave",x.leave),M(c.display.scroller,"drop",x.drop)}}function zn(c){c.options.lineWrapping?(Lt(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(Q(c.display.wrapper,"CodeMirror-wrap"),aa(c)),Cu(c),Zi(c),Eo(c),setTimeout(function(){return tu(c)},100)}function zr(c,d){var b=this;if(!(this instanceof zr))return new zr(c,d);this.options=d=d?Ht(d):{},Ht(Tr,d,!1);var y=d.value;typeof y=="string"?y=new Sa(y,d.mode,null,d.lineSeparator,d.direction):d.mode&&(y.modeOption=d.mode),this.doc=y;var x=new zr.inputStyles[d.inputStyle](this),M=this.display=new Cl(c,y,x,d);M.wrapper.CodeMirror=this,br(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Df(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new St,keySeq:null,specialChars:null},d.autofocus&&!V&&M.input.focus(),ut&&Ct<11&&setTimeout(function(){return b.display.input.reset(!0)},20),qn(this),gf(),Ul(this),this.curOp.forceUpdate=!0,Ac(this,y),d.autofocus&&!V||this.hasFocus()?setTimeout(function(){b.hasFocus()&&!b.state.focused&&fs(b)},20):ja(this);for(var z in Er)Er.hasOwnProperty(z)&&Er[z](this,d[z],Ar);af(this),d.finishInit&&d.finishInit(this);for(var tt=0;tt<mo.length;++tt)mo[tt](this);ks(this),q&&d.lineWrapping&&getComputedStyle(M.lineDiv).textRendering=="optimizelegibility"&&(M.lineDiv.style.textRendering="auto")}zr.defaults=Tr,zr.optionHandlers=Er;function qn(c){var d=c.display;Yt(d.scroller,"mousedown",fi(c,X)),ut&&Ct<11?Yt(d.scroller,"dblclick",fi(c,function(ct){if(!Kr(c,ct)){var Ot=Nl(c,ct);if(!(!Ot||ze(c,ct)||Ri(c.display,ct))){Ut(ct);var ne=c.findWordAt(Ot);$l(c.doc,ne.anchor,ne.head)}}})):Yt(d.scroller,"dblclick",function(ct){return Kr(c,ct)||Ut(ct)}),Yt(d.scroller,"contextmenu",function(ct){return er(c,ct)}),Yt(d.input.getField(),"contextmenu",function(ct){d.scroller.contains(ct.target)||er(c,ct)});var b,y={end:0};function x(){d.activeTouch&&(b=setTimeout(function(){return d.activeTouch=null},1e3),y=d.activeTouch,y.end=+new Date)}function M(ct){if(ct.touches.length!=1)return!1;var Ot=ct.touches[0];return Ot.radiusX<=1&&Ot.radiusY<=1}function z(ct,Ot){if(Ot.left==null)return!0;var ne=Ot.left-ct.left,ye=Ot.top-ct.top;return ne*ne+ye*ye>20*20}Yt(d.scroller,"touchstart",function(ct){if(!Kr(c,ct)&&!M(ct)&&!ze(c,ct)){d.input.ensurePolled(),clearTimeout(b);var Ot=+new Date;d.activeTouch={start:Ot,moved:!1,prev:Ot-y.end<=300?y:null},ct.touches.length==1&&(d.activeTouch.left=ct.touches[0].pageX,d.activeTouch.top=ct.touches[0].pageY)}}),Yt(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),Yt(d.scroller,"touchend",function(ct){var Ot=d.activeTouch;if(Ot&&!Ri(d,ct)&&Ot.left!=null&&!Ot.moved&&new Date-Ot.start<300){var ne=c.coordsChar(d.activeTouch,"page"),ye;!Ot.prev||z(Ot,Ot.prev)?ye=new So(ne,ne):!Ot.prev.prev||z(Ot,Ot.prev.prev)?ye=c.findWordAt(ne):ye=new So(rt(ne.line,0),Jr(c.doc,rt(ne.line+1,0))),c.setSelection(ye.anchor,ye.head),c.focus(),Ut(ct)}x()}),Yt(d.scroller,"touchcancel",x),Yt(d.scroller,"scroll",function(){d.scroller.clientHeight&&(Qc(c,d.scroller.scrollTop),Ho(c,d.scroller.scrollLeft,!0),on(c,"scroll",c))}),Yt(d.scroller,"mousewheel",function(ct){return ju(c,ct)}),Yt(d.scroller,"DOMMouseScroll",function(ct){return ju(c,ct)}),Yt(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(ct){Kr(c,ct)||Xe(ct)},over:function(ct){Kr(c,ct)||(hf(c,ct),Xe(ct))},start:function(ct){return Rc(c,ct)},drop:fi(c,yp),leave:function(ct){Kr(c,ct)||Hc(c)}};var tt=d.input.getField();Yt(tt,"keyup",function(ct){return f.call(c,ct)}),Yt(tt,"keydown",fi(c,fu)),Yt(tt,"keypress",fi(c,g)),Yt(tt,"focus",function(ct){return fs(c,ct)}),Yt(tt,"blur",function(ct){return ja(c,ct)})}var mo=[];zr.defineInitHook=function(c){return mo.push(c)};function Yn(c,d,b,y){var x=c.doc,M;b==null&&(b="add"),b=="smart"&&(x.mode.indent?M=xn(c,d).state:b="prev");var z=c.options.tabSize,tt=Wr(x,d),ct=It(tt.text,null,z);tt.stateAfter&&(tt.stateAfter=null);var Ot=tt.text.match(/^\s*/)[0],ne;if(!y&&!/\S/.test(tt.text))ne=0,b="not";else if(b=="smart"&&(ne=x.mode.indent(M,tt.text.slice(Ot.length),tt.text),ne==pe||ne>150)){if(!y)return;b="prev"}b=="prev"?d>x.first?ne=It(Wr(x,d-1).text,null,z):ne=0:b=="add"?ne=ct+c.options.indentUnit:b=="subtract"?ne=ct-c.options.indentUnit:typeof b=="number"&&(ne=ct+b),ne=Math.max(0,ne);var ye="",Ue=0;if(c.options.indentWithTabs)for(var Ie=Math.floor(ne/z);Ie;--Ie)Ue+=z,ye+="	";if(Ue<ne&&(ye+=Vr(ne-Ue)),ye!=Ot)return Xi(x,ye,rt(d,0),rt(d,Ot.length),"+input"),tt.stateAfter=null,!0;for(var lr=0;lr<x.sel.ranges.length;lr++){var wr=x.sel.ranges[lr];if(wr.head.line==d&&wr.head.ch<Ot.length){var jr=rt(d,Ot.length);cf(x,lr,new So(jr,jr));break}}}var Zn=null;function ro(c){Zn=c}function Tn(c,d,b,y,x){var M=c.doc;c.display.shift=!1,y||(y=M.sel);var z=+new Date-200,tt=x=="paste"||c.state.pasteIncoming>z,ct=In(d),Ot=null;if(tt&&y.ranges.length>1)if(Zn&&Zn.text.join(`
`)==d){if(y.ranges.length%Zn.text.length==0){Ot=[];for(var ne=0;ne<Zn.text.length;ne++)Ot.push(M.splitLines(Zn.text[ne]))}}else ct.length==y.ranges.length&&c.options.pasteLinesPerSelection&&(Ot=nt(ct,function($r){return[$r]}));for(var ye=c.curOp.updateInput,Ue=y.ranges.length-1;Ue>=0;Ue--){var Ie=y.ranges[Ue],lr=Ie.from(),wr=Ie.to();Ie.empty()&&(b&&b>0?lr=rt(lr.line,lr.ch-b):c.state.overwrite&&!tt?wr=rt(wr.line,Math.min(Wr(M,wr.line).text.length,wr.ch+Je(ct).length)):tt&&Zn&&Zn.lineWise&&Zn.text.join(`
`)==ct.join(`
`)&&(lr=wr=rt(lr.line,0)));var jr={from:lr,to:wr,text:Ot?Ot[Ue%Ot.length]:ct,origin:x||(tt?"paste":c.state.cutIncoming>z?"cut":"+input")};Ic(c.doc,jr),Ro(c,"inputRead",c,jr)}d&&!tt&&Kn(c,d),ps(c),c.curOp.updateInput<2&&(c.curOp.updateInput=ye),c.curOp.typing=!0,c.state.pasteIncoming=c.state.cutIncoming=-1}function Rn(c,d){var b=c.clipboardData&&c.clipboardData.getData("Text");if(b)return c.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&Ka(d,function(){return Tn(d,b,0,null,"paste")}),!0}function Kn(c,d){if(!(!c.options.electricChars||!c.options.smartIndent))for(var b=c.doc.sel,y=b.ranges.length-1;y>=0;y--){var x=b.ranges[y];if(!(x.head.ch>100||y&&b.ranges[y-1].head.line==x.head.line)){var M=c.getModeAt(x.head),z=!1;if(M.electricChars){for(var tt=0;tt<M.electricChars.length;tt++)if(d.indexOf(M.electricChars.charAt(tt))>-1){z=Yn(c,x.head.line,"smart");break}}else M.electricInput&&M.electricInput.test(Wr(c.doc,x.head.line).text.slice(0,x.head.ch))&&(z=Yn(c,x.head.line,"smart"));z&&Ro(c,"electricInput",c,x.head.line)}}}function kn(c){for(var d=[],b=[],y=0;y<c.doc.sel.ranges.length;y++){var x=c.doc.sel.ranges[y].head.line,M={anchor:rt(x,0),head:rt(x+1,0)};b.push(M),d.push(c.getRange(M.anchor,M.head))}return{text:d,ranges:b}}function si(c,d,b,y){c.setAttribute("autocorrect",b?"on":"off"),c.setAttribute("autocapitalize",y?"on":"off"),c.setAttribute("spellcheck",!!d)}function pi(){var c=et("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=et("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return q?c.style.width="1000px":c.setAttribute("wrap","off"),dt&&(c.style.border="1px solid black"),d}function so(c){var d=c.optionHandlers,b=c.helpers={};c.prototype={constructor:c,focus:function(){Rt(this).focus(),this.display.input.focus()},setOption:function(y,x){var M=this.options,z=M[y];M[y]==x&&y!="mode"||(M[y]=x,d.hasOwnProperty(y)&&fi(this,d[y])(this,x,z),on(this,"optionChange",this,y))},getOption:function(y){return this.options[y]},getDoc:function(){return this.doc},addKeyMap:function(y,x){this.state.keyMaps[x?"push":"unshift"](Pl(y))},removeKeyMap:function(y){for(var x=this.state.keyMaps,M=0;M<x.length;++M)if(x[M]==y||x[M].name==y)return x.splice(M,1),!0},addOverlay:co(function(y,x){var M=y.token?y:c.getMode(this.options,y);if(M.startState)throw new Error("Overlays may not be stateful.");Et(this.state.overlays,{mode:M,modeSpec:y,opaque:x&&x.opaque,priority:x&&x.priority||0},function(z){return z.priority}),this.state.modeGen++,Zi(this)}),removeOverlay:co(function(y){for(var x=this.state.overlays,M=0;M<x.length;++M){var z=x[M].modeSpec;if(z==y||typeof y=="string"&&z.name==y){x.splice(M,1),this.state.modeGen++,Zi(this);return}}}),indentLine:co(function(y,x,M){typeof x!="string"&&typeof x!="number"&&(x==null?x=this.options.smartIndent?"smart":"prev":x=x?"add":"subtract"),Ci(this.doc,y)&&Yn(this,y,x,M)}),indentSelection:co(function(y){for(var x=this.doc.sel.ranges,M=-1,z=0;z<x.length;z++){var tt=x[z];if(tt.empty())tt.head.line>M&&(Yn(this,tt.head.line,y,!0),M=tt.head.line,z==this.doc.sel.primIndex&&ps(this));else{var ct=tt.from(),Ot=tt.to(),ne=Math.max(M,ct.line);M=Math.min(this.lastLine(),Ot.line-(Ot.ch?0:1))+1;for(var ye=ne;ye<M;++ye)Yn(this,ye,y);var Ue=this.doc.sel.ranges;ct.ch==0&&x.length==Ue.length&&Ue[z].from().ch>0&&cf(this.doc,z,new So(ct,Ue[z].to()),Ae)}}}),getTokenAt:function(y,x){return Di(this,y,x)},getLineTokens:function(y,x){return Di(this,rt(y),x,!0)},getTokenTypeAt:function(y){y=Jr(this.doc,y);var x=nn(this,Wr(this.doc,y.line)),M=0,z=(x.length-1)/2,tt=y.ch,ct;if(tt==0)ct=x[2];else for(;;){var Ot=M+z>>1;if((Ot?x[Ot*2-1]:0)>=tt)z=Ot;else if(x[Ot*2+1]<tt)M=Ot+1;else{ct=x[Ot*2+2];break}}var ne=ct?ct.indexOf("overlay "):-1;return ne<0?ct:ne==0?null:ct.slice(0,ne-1)},getModeAt:function(y){var x=this.doc.mode;return x.innerMode?c.innerMode(x,this.getTokenAt(y).state).mode:x},getHelper:function(y,x){return this.getHelpers(y,x)[0]},getHelpers:function(y,x){var M=[];if(!b.hasOwnProperty(x))return M;var z=b[x],tt=this.getModeAt(y);if(typeof tt[x]=="string")z[tt[x]]&&M.push(z[tt[x]]);else if(tt[x])for(var ct=0;ct<tt[x].length;ct++){var Ot=z[tt[x][ct]];Ot&&M.push(Ot)}else tt.helperType&&z[tt.helperType]?M.push(z[tt.helperType]):z[tt.name]&&M.push(z[tt.name]);for(var ne=0;ne<z._global.length;ne++){var ye=z._global[ne];ye.pred(tt,this)&&Bt(M,ye.val)==-1&&M.push(ye.val)}return M},getStateAfter:function(y,x){var M=this.doc;return y=Vn(M,y??M.first+M.size-1),xn(this,y+1,x).state},cursorCoords:function(y,x){var M,z=this.doc.sel.primary();return y==null?M=z.head:typeof y=="object"?M=Jr(this.doc,y):M=y?z.from():z.to(),Hi(this,M,x||"page")},charCoords:function(y,x){return La(this,Jr(this.doc,y),x||"page")},coordsChar:function(y,x){return y=pp(this,y,x||"page"),xu(this,y.left,y.top)},lineAtHeight:function(y,x){return y=pp(this,{top:y,left:0},x||"page").top,Zo(this.doc,y+this.display.viewOffset)},heightAtLine:function(y,x,M){var z=!1,tt;if(typeof y=="number"){var ct=this.doc.first+this.doc.size-1;y<this.doc.first?y=this.doc.first:y>ct&&(y=ct,z=!0),tt=Wr(this.doc,y)}else tt=y;return ef(this,tt,{top:0,left:0},x||"page",M||z).top+(z?this.doc.height-Pn(tt):0)},defaultTextHeight:function(){return fc(this.display)},defaultCharWidth:function(){return ml(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(y,x,M,z,tt){var ct=this.display;y=Hi(this,Jr(this.doc,y));var Ot=y.bottom,ne=y.left;if(x.style.position="absolute",x.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(x),ct.sizer.appendChild(x),z=="over")Ot=y.top;else if(z=="above"||z=="near"){var ye=Math.max(ct.wrapper.clientHeight,this.doc.height),Ue=Math.max(ct.sizer.clientWidth,ct.lineSpace.clientWidth);(z=="above"||y.bottom+x.offsetHeight>ye)&&y.top>x.offsetHeight?Ot=y.top-x.offsetHeight:y.bottom+x.offsetHeight<=ye&&(Ot=y.bottom),ne+x.offsetWidth>Ue&&(ne=Ue-x.offsetWidth)}x.style.top=Ot+"px",x.style.left=x.style.right="",tt=="right"?(ne=ct.sizer.clientWidth-x.offsetWidth,x.style.right="0px"):(tt=="left"?ne=0:tt=="middle"&&(ne=(ct.sizer.clientWidth-x.offsetWidth)/2),x.style.left=ne+"px"),M&&Ou(this,{left:ne,top:Ot,right:ne+x.offsetWidth,bottom:Ot+x.offsetHeight})},triggerOnKeyDown:co(fu),triggerOnKeyPress:co(g),triggerOnKeyUp:f,triggerOnMouseDown:co(X),execCommand:function(y){if(Jl.hasOwnProperty(y))return Jl[y].call(null,this)},triggerElectric:co(function(y){Kn(this,y)}),findPosH:function(y,x,M,z){var tt=1;x<0&&(tt=-1,x=-x);for(var ct=Jr(this.doc,y),Ot=0;Ot<x&&(ct=On(this.doc,ct,tt,M,z),!ct.hitSide);++Ot);return ct},moveH:co(function(y,x){var M=this;this.extendSelectionsBy(function(z){return M.display.shift||M.doc.extend||z.empty()?On(M.doc,z.head,y,x,M.options.rtlMoveVisually):y<0?z.from():z.to()},Or)}),deleteH:co(function(y,x){var M=this.doc.sel,z=this.doc;M.somethingSelected()?z.replaceSelection("",null,"+delete"):vs(this,function(tt){var ct=On(z,tt.head,y,x,!1);return y<0?{from:ct,to:tt.head}:{from:tt.head,to:ct}})}),findPosV:function(y,x,M,z){var tt=1,ct=z;x<0&&(tt=-1,x=-x);for(var Ot=Jr(this.doc,y),ne=0;ne<x;++ne){var ye=Hi(this,Ot,"div");if(ct==null?ct=ye.left:ye.left=ct,Ot=Za(this,ye,tt,M),Ot.hitSide)break}return Ot},moveV:co(function(y,x){var M=this,z=this.doc,tt=[],ct=!this.display.shift&&!z.extend&&z.sel.somethingSelected();if(z.extendSelectionsBy(function(ne){if(ct)return y<0?ne.from():ne.to();var ye=Hi(M,ne.head,"div");ne.goalColumn!=null&&(ye.left=ne.goalColumn),tt.push(ye.left);var Ue=Za(M,ye,y,x);return x=="page"&&ne==z.sel.primary()&&_l(M,La(M,Ue,"div").top-ye.top),Ue},Or),tt.length)for(var Ot=0;Ot<z.sel.ranges.length;Ot++)z.sel.ranges[Ot].goalColumn=tt[Ot]}),findWordAt:function(y){var x=this.doc,M=Wr(x,y.line).text,z=y.ch,tt=y.ch;if(M){var ct=this.getHelper(y,"wordChars");(y.sticky=="before"||tt==M.length)&&z?--z:++tt;for(var Ot=M.charAt(z),ne=ue(Ot,ct)?function(ye){return ue(ye,ct)}:/\s/.test(Ot)?function(ye){return/\s/.test(ye)}:function(ye){return!/\s/.test(ye)&&!ue(ye)};z>0&&ne(M.charAt(z-1));)--z;for(;tt<M.length&&ne(M.charAt(tt));)++tt}return new So(rt(y.line,z),rt(y.line,tt))},toggleOverwrite:function(y){y!=null&&y==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Lt(this.display.cursorDiv,"CodeMirror-overwrite"):Q(this.display.cursorDiv,"CodeMirror-overwrite"),on(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==$t(jt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:co(function(y,x){gc(this,y,x)}),getScrollInfo:function(){var y=this.display.scroller;return{left:y.scrollLeft,top:y.scrollTop,height:y.scrollHeight-Dt(this)-this.display.barHeight,width:y.scrollWidth-Dt(this)-this.display.barWidth,clientHeight:Te(this),clientWidth:de(this)}},scrollIntoView:co(function(y,x){y==null?(y={from:this.doc.sel.primary().head,to:null},x==null&&(x=this.options.cursorScrollMargin)):typeof y=="number"?y={from:rt(y,0),to:null}:y.from==null&&(y={from:y,to:null}),y.to||(y.to=y.from),y.margin=x||0,y.from.line!=null?Bl(this,y):Bi(this,y.from,y.to,y.margin)}),setSize:co(function(y,x){var M=this,z=function(ct){return typeof ct=="number"||/^\d+$/.test(String(ct))?ct+"px":ct};y!=null&&(this.display.wrapper.style.width=z(y)),x!=null&&(this.display.wrapper.style.height=z(x)),this.options.lineWrapping&&Nn(this);var tt=this.display.viewFrom;this.doc.iter(tt,this.display.viewTo,function(ct){if(ct.widgets){for(var Ot=0;Ot<ct.widgets.length;Ot++)if(ct.widgets[Ot].noHScroll){yl(M,tt,"widget");break}}++tt}),this.curOp.forceUpdate=!0,on(this,"refresh",this)}),operation:function(y){return Ka(this,y)},startOperation:function(){return Ul(this)},endOperation:function(){return ks(this)},refresh:co(function(){var y=this.display.cachedTextHeight;Zi(this),this.curOp.forceUpdate=!0,Eo(this),gc(this,this.doc.scrollLeft,this.doc.scrollTop),Pc(this.display),(y==null||Math.abs(y-fc(this.display))>.5||this.options.lineWrapping)&&Cu(this),on(this,"refresh",this)}),swapDoc:co(function(y){var x=this.doc;return x.cm=null,this.state.selectingText&&this.state.selectingText(),Ac(this,y),Eo(this),this.display.input.reset(),gc(this,y.scrollLeft,y.scrollTop),this.curOp.forceScroll=!0,Ro(this,"swapDoc",this,x),x}),phrase:function(y){var x=this.options.phrases;return x&&Object.prototype.hasOwnProperty.call(x,y)?x[y]:y},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$n(c),c.registerHelper=function(y,x,M){b.hasOwnProperty(y)||(b[y]=c[y]={_global:[]}),b[y][x]=M},c.registerGlobalHelper=function(y,x,M,z){c.registerHelper(y,x,z),b[y]._global.push({pred:M,val:z})}}function On(c,d,b,y,x){var M=d,z=b,tt=Wr(c,d.line),ct=x&&c.direction=="rtl"?-b:b;function Ot(){var Zr=d.line+ct;return Zr<c.first||Zr>=c.first+c.size?!1:(d=new rt(Zr,d.ch,d.sticky),tt=Wr(c,Zr))}function ne(Zr){var qr;if(y=="codepoint"){var tn=tt.text.charCodeAt(d.ch+(b>0?0:-1));if(isNaN(tn))qr=null;else{var bn=b>0?tn>=55296&&tn<56320:tn>=56320&&tn<57343;qr=new rt(d.line,Math.max(0,Math.min(tt.text.length,d.ch+b*(bn?2:1))),-b)}}else x?qr=Jf(c.cm,tt,d,b):qr=Wc(tt,d,b);if(qr==null)if(!Zr&&Ot())d=$c(x,c.cm,tt,d.line,ct);else return!1;else d=qr;return!0}if(y=="char"||y=="codepoint")ne();else if(y=="column")ne(!0);else if(y=="word"||y=="group")for(var ye=null,Ue=y=="group",Ie=c.cm&&c.cm.getHelper(d,"wordChars"),lr=!0;!(b<0&&!ne(!lr));lr=!1){var wr=tt.text.charAt(d.ch)||`
`,jr=ue(wr,Ie)?"w":Ue&&wr==`
`?"n":!Ue||/\s/.test(wr)?null:"p";if(Ue&&!lr&&!jr&&(jr="s"),ye&&ye!=jr){b<0&&(b=1,ne(),d.sticky="after");break}if(jr&&(ye=jr),b>0&&!ne(!lr))break}var $r=uf(c,d,M,z,!0);return ar(M,$r)&&($r.hitSide=!0),$r}function Za(c,d,b,y){var x=c.doc,M=d.left,z;if(y=="page"){var tt=Math.min(c.display.wrapper.clientHeight,Rt(c).innerHeight||x(c).documentElement.clientHeight),ct=Math.max(tt-.5*fc(c.display),3);z=(b>0?d.bottom:d.top)+b*ct}else y=="line"&&(z=b>0?d.bottom+3:d.top-3);for(var Ot;Ot=xu(c,M,z),!!Ot.outside;){if(b<0?z<=0:z>=x.height){Ot.hitSide=!0;break}z+=b*5}return Ot}var Sn=function(c){this.cm=c,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new St,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Sn.prototype.init=function(c){var d=this,b=this,y=b.cm,x=b.div=c.lineDiv;x.contentEditable=!0,si(x,y.options.spellcheck,y.options.autocorrect,y.options.autocapitalize);function M(tt){for(var ct=tt.target;ct;ct=ct.parentNode){if(ct==x)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ct.className))break}return!1}Yt(x,"paste",function(tt){!M(tt)||Kr(y,tt)||Rn(tt,y)||Ct<=11&&setTimeout(fi(y,function(){return d.updateFromDOM()}),20)}),Yt(x,"compositionstart",function(tt){d.composing={data:tt.data,done:!1}}),Yt(x,"compositionupdate",function(tt){d.composing||(d.composing={data:tt.data,done:!1})}),Yt(x,"compositionend",function(tt){d.composing&&(tt.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),Yt(x,"touchstart",function(){return b.forceCompositionEnd()}),Yt(x,"input",function(){d.composing||d.readFromDOMSoon()});function z(tt){if(!(!M(tt)||Kr(y,tt))){if(y.somethingSelected())ro({lineWise:!1,text:y.getSelections()}),tt.type=="cut"&&y.replaceSelection("",null,"cut");else if(y.options.lineWiseCopyCut){var ct=kn(y);ro({lineWise:!0,text:ct.text}),tt.type=="cut"&&y.operation(function(){y.setSelections(ct.ranges,0,Ae),y.replaceSelection("",null,"cut")})}else return;if(tt.clipboardData){tt.clipboardData.clearData();var Ot=Zn.text.join(`
`);if(tt.clipboardData.setData("Text",Ot),tt.clipboardData.getData("Text")==Ot){tt.preventDefault();return}}var ne=pi(),ye=ne.firstChild;si(ye),y.display.lineSpace.insertBefore(ne,y.display.lineSpace.firstChild),ye.value=Zn.text.join(`
`);var Ue=$t(x.ownerDocument);bt(ye),setTimeout(function(){y.display.lineSpace.removeChild(ne),Ue.focus(),Ue==x&&b.showPrimarySelection()},50)}}Yt(x,"copy",z),Yt(x,"cut",z)},Sn.prototype.screenReaderLabelChanged=function(c){c?this.div.setAttribute("aria-label",c):this.div.removeAttribute("aria-label")},Sn.prototype.prepareSelection=function(){var c=Zc(this.cm,!1);return c.focus=$t(this.div.ownerDocument)==this.div,c},Sn.prototype.showSelection=function(c,d){!c||!this.cm.display.view.length||((c.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(c))},Sn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Sn.prototype.showPrimarySelection=function(){var c=this.getSelection(),d=this.cm,b=d.doc.sel.primary(),y=b.from(),x=b.to();if(d.display.viewTo==d.display.viewFrom||y.line>=d.display.viewTo||x.line<d.display.viewFrom){c.removeAllRanges();return}var M=ys(d,c.anchorNode,c.anchorOffset),z=ys(d,c.focusNode,c.focusOffset);if(!(M&&!M.bad&&z&&!z.bad&&Zt(_n(M,z),y)==0&&Zt(Mr(M,z),x)==0)){var tt=d.display.view,ct=y.line>=d.display.viewFrom&&di(d,y)||{node:tt[0].measure.map[2],offset:0},Ot=x.line<d.display.viewTo&&di(d,x);if(!Ot){var ne=tt[tt.length-1].measure,ye=ne.maps?ne.maps[ne.maps.length-1]:ne.map;Ot={node:ye[ye.length-1],offset:ye[ye.length-2]-ye[ye.length-3]}}if(!ct||!Ot){c.removeAllRanges();return}var Ue=c.rangeCount&&c.getRangeAt(0),Ie;try{Ie=G(ct.node,ct.offset,Ot.offset,Ot.node)}catch{}Ie&&(!Oe&&d.state.focused?(c.collapse(ct.node,ct.offset),Ie.collapsed||(c.removeAllRanges(),c.addRange(Ie))):(c.removeAllRanges(),c.addRange(Ie)),Ue&&c.anchorNode==null?c.addRange(Ue):Oe&&this.startGracePeriod()),this.rememberSelection()}},Sn.prototype.startGracePeriod=function(){var c=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){c.gracePeriod=!1,c.selectionChanged()&&c.cm.operation(function(){return c.cm.curOp.selectionChanged=!0})},20)},Sn.prototype.showMultipleSelections=function(c){Tt(this.cm.display.cursorDiv,c.cursors),Tt(this.cm.display.selectionDiv,c.selection)},Sn.prototype.rememberSelection=function(){var c=this.getSelection();this.lastAnchorNode=c.anchorNode,this.lastAnchorOffset=c.anchorOffset,this.lastFocusNode=c.focusNode,this.lastFocusOffset=c.focusOffset},Sn.prototype.selectionInEditor=function(){var c=this.getSelection();if(!c.rangeCount)return!1;var d=c.getRangeAt(0).commonAncestorContainer;return Ft(this.div,d)},Sn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||$t(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Sn.prototype.blur=function(){this.div.blur()},Sn.prototype.getField=function(){return this.div},Sn.prototype.supportsTouch=function(){return!0},Sn.prototype.receivedFocus=function(){var c=this,d=this;this.selectionInEditor()?setTimeout(function(){return c.pollSelection()},20):Ka(this.cm,function(){return d.cm.curOp.selectionChanged=!0});function b(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,b))}this.polling.set(this.cm.options.pollInterval,b)},Sn.prototype.selectionChanged=function(){var c=this.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},Sn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var c=this.getSelection(),d=this.cm;if(B&&Y&&this.cm.display.gutterSpecs.length&&zi(c.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var b=ys(d,c.anchorNode,c.anchorOffset),y=ys(d,c.focusNode,c.focusOffset);b&&y&&Ka(d,function(){ki(d.doc,xa(b,y),Ae),(b.bad||y.bad)&&(d.curOp.selectionChanged=!0)})}}},Sn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var c=this.cm,d=c.display,b=c.doc.sel.primary(),y=b.from(),x=b.to();if(y.ch==0&&y.line>c.firstLine()&&(y=rt(y.line-1,Wr(c.doc,y.line-1).length)),x.ch==Wr(c.doc,x.line).text.length&&x.line<c.lastLine()&&(x=rt(x.line+1,0)),y.line<d.viewFrom||x.line>d.viewTo-1)return!1;var M,z,tt;y.line==d.viewFrom||(M=Gs(c,y.line))==0?(z=un(d.view[0].line),tt=d.view[0].node):(z=un(d.view[M].line),tt=d.view[M-1].node.nextSibling);var ct=Gs(c,x.line),Ot,ne;if(ct==d.view.length-1?(Ot=d.viewTo-1,ne=d.lineDiv.lastChild):(Ot=un(d.view[ct+1].line)-1,ne=d.view[ct+1].node.previousSibling),!tt)return!1;for(var ye=c.doc.splitLines(Oa(c,tt,ne,z,Ot)),Ue=vo(c.doc,rt(z,0),rt(Ot,Wr(c.doc,Ot).text.length));ye.length>1&&Ue.length>1;)if(Je(ye)==Je(Ue))ye.pop(),Ue.pop(),Ot--;else if(ye[0]==Ue[0])ye.shift(),Ue.shift(),z++;else break;for(var Ie=0,lr=0,wr=ye[0],jr=Ue[0],$r=Math.min(wr.length,jr.length);Ie<$r&&wr.charCodeAt(Ie)==jr.charCodeAt(Ie);)++Ie;for(var Zr=Je(ye),qr=Je(Ue),tn=Math.min(Zr.length-(ye.length==1?Ie:0),qr.length-(Ue.length==1?Ie:0));lr<tn&&Zr.charCodeAt(Zr.length-lr-1)==qr.charCodeAt(qr.length-lr-1);)++lr;if(ye.length==1&&Ue.length==1&&z==y.line)for(;Ie&&Ie>y.ch&&Zr.charCodeAt(Zr.length-lr-1)==qr.charCodeAt(qr.length-lr-1);)Ie--,lr++;ye[ye.length-1]=Zr.slice(0,Zr.length-lr).replace(/^\u200b+/,""),ye[0]=ye[0].slice(Ie).replace(/\u200b+$/,"");var bn=rt(z,Ie),dn=rt(Ot,Ue.length?Je(Ue).length-lr:0);if(ye.length>1||ye[0]||Zt(bn,dn))return Xi(c.doc,ye,bn,dn,"+input"),!0},Sn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Sn.prototype.reset=function(){this.forceCompositionEnd()},Sn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Sn.prototype.readFromDOMSoon=function(){var c=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(c.readDOMTimeout=null,c.composing)if(c.composing.done)c.composing=null;else return;c.updateFromDOM()},80))},Sn.prototype.updateFromDOM=function(){var c=this;(this.cm.isReadOnly()||!this.pollContent())&&Ka(this.cm,function(){return Zi(c.cm)})},Sn.prototype.setUneditable=function(c){c.contentEditable="false"},Sn.prototype.onKeyPress=function(c){c.charCode==0||this.composing||(c.preventDefault(),this.cm.isReadOnly()||fi(this.cm,Tn)(this.cm,String.fromCharCode(c.charCode==null?c.keyCode:c.charCode),0))},Sn.prototype.readOnlyChanged=function(c){this.div.contentEditable=String(c!="nocursor")},Sn.prototype.onContextMenu=function(){},Sn.prototype.resetPosition=function(){},Sn.prototype.needsContentAttribute=!0;function di(c,d){var b=it(c,d.line);if(!b||b.hidden)return null;var y=Wr(c.doc,d.line),x=Ve(b,y,d.line),M=Vt(y,c.doc.direction),z="left";if(M){var tt=Wt(M,d.ch);z=tt%2?"right":"left"}var ct=qe(x.map,d.ch,z);return ct.offset=ct.collapse=="right"?ct.end:ct.start,ct}function zi(c){for(var d=c;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}function io(c,d){return d&&(c.bad=!0),c}function Oa(c,d,b,y,x){var M="",z=!1,tt=c.doc.lineSeparator(),ct=!1;function Ot(Ie){return function(lr){return lr.id==Ie}}function ne(){z&&(M+=tt,ct&&(M+=tt),z=ct=!1)}function ye(Ie){Ie&&(ne(),M+=Ie)}function Ue(Ie){if(Ie.nodeType==1){var lr=Ie.getAttribute("cm-text");if(lr){ye(lr);return}var wr=Ie.getAttribute("cm-marker"),jr;if(wr){var $r=c.findMarks(rt(y,0),rt(x+1,0),Ot(+wr));$r.length&&(jr=$r[0].find(0))&&ye(vo(c.doc,jr.from,jr.to).join(tt));return}if(Ie.getAttribute("contenteditable")=="false")return;var Zr=/^(pre|div|p|li|table|br)$/i.test(Ie.nodeName);if(!/^br$/i.test(Ie.nodeName)&&Ie.textContent.length==0)return;Zr&&ne();for(var qr=0;qr<Ie.childNodes.length;qr++)Ue(Ie.childNodes[qr]);/^(pre|p)$/i.test(Ie.nodeName)&&(ct=!0),Zr&&(z=!0)}else Ie.nodeType==3&&ye(Ie.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ue(d),d!=b;)d=d.nextSibling,ct=!1;return M}function ys(c,d,b){var y;if(d==c.display.lineDiv){if(y=c.display.lineDiv.childNodes[b],!y)return io(c.clipPos(rt(c.display.viewTo-1)),!0);d=null,b=0}else for(y=d;;y=y.parentNode){if(!y||y==c.display.lineDiv)return null;if(y.parentNode&&y.parentNode==c.display.lineDiv)break}for(var x=0;x<c.display.view.length;x++){var M=c.display.view[x];if(M.node==y)return wp(M,d,b)}}function wp(c,d,b){var y=c.text.firstChild,x=!1;if(!d||!Ft(y,d))return io(rt(un(c.line),0),!0);if(d==y&&(x=!0,d=y.childNodes[b],b=0,!d)){var M=c.rest?Je(c.rest):c.line;return io(rt(un(M),M.text.length),x)}var z=d.nodeType==3?d:null,tt=d;for(!z&&d.childNodes.length==1&&d.firstChild.nodeType==3&&(z=d.firstChild,b&&(b=z.nodeValue.length));tt.parentNode!=y;)tt=tt.parentNode;var ct=c.measure,Ot=ct.maps;function ne(jr,$r,Zr){for(var qr=-1;qr<(Ot?Ot.length:0);qr++)for(var tn=qr<0?ct.map:Ot[qr],bn=0;bn<tn.length;bn+=3){var dn=tn[bn+2];if(dn==jr||dn==$r){var Xn=un(qr<0?c.line:c.rest[qr]),Ko=tn[bn]+Zr;return(Zr<0||dn!=jr)&&(Ko=tn[bn+(Zr?1:0)]),rt(Xn,Ko)}}}var ye=ne(z,tt,b);if(ye)return io(ye,x);for(var Ue=tt.nextSibling,Ie=z?z.nodeValue.length-b:0;Ue;Ue=Ue.nextSibling){if(ye=ne(Ue,Ue.firstChild,0),ye)return io(rt(ye.line,ye.ch-Ie),x);Ie+=Ue.textContent.length}for(var lr=tt.previousSibling,wr=b;lr;lr=lr.previousSibling){if(ye=ne(lr,lr.firstChild,-1),ye)return io(rt(ye.line,ye.ch+wr),x);wr+=lr.textContent.length}}var ri=function(c){this.cm=c,this.prevInput="",this.pollingFast=!1,this.polling=new St,this.hasSelection=!1,this.composing=null,this.resetting=!1};ri.prototype.init=function(c){var d=this,b=this,y=this.cm;this.createField(c);var x=this.textarea;c.wrapper.insertBefore(this.wrapper,c.wrapper.firstChild),dt&&(x.style.width="0px"),Yt(x,"input",function(){ut&&Ct>=9&&d.hasSelection&&(d.hasSelection=null),b.poll()}),Yt(x,"paste",function(z){Kr(y,z)||Rn(z,y)||(y.state.pasteIncoming=+new Date,b.fastPoll())});function M(z){if(!Kr(y,z)){if(y.somethingSelected())ro({lineWise:!1,text:y.getSelections()});else if(y.options.lineWiseCopyCut){var tt=kn(y);ro({lineWise:!0,text:tt.text}),z.type=="cut"?y.setSelections(tt.ranges,null,Ae):(b.prevInput="",x.value=tt.text.join(`
`),bt(x))}else return;z.type=="cut"&&(y.state.cutIncoming=+new Date)}}Yt(x,"cut",M),Yt(x,"copy",M),Yt(c.scroller,"paste",function(z){if(!(Ri(c,z)||Kr(y,z))){if(!x.dispatchEvent){y.state.pasteIncoming=+new Date,b.focus();return}var tt=new Event("paste");tt.clipboardData=z.clipboardData,x.dispatchEvent(tt)}}),Yt(c.lineSpace,"selectstart",function(z){Ri(c,z)||Ut(z)}),Yt(x,"compositionstart",function(){var z=y.getCursor("from");b.composing&&b.composing.range.clear(),b.composing={start:z,range:y.markText(z,y.getCursor("to"),{className:"CodeMirror-composing"})}}),Yt(x,"compositionend",function(){b.composing&&(b.poll(),b.composing.range.clear(),b.composing=null)})},ri.prototype.createField=function(c){this.wrapper=pi(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;si(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},ri.prototype.screenReaderLabelChanged=function(c){c?this.textarea.setAttribute("aria-label",c):this.textarea.removeAttribute("aria-label")},ri.prototype.prepareSelection=function(){var c=this.cm,d=c.display,b=c.doc,y=Zc(c);if(c.options.moveInputWithCursor){var x=Hi(c,b.sel.primary().head,"div"),M=d.wrapper.getBoundingClientRect(),z=d.lineDiv.getBoundingClientRect();y.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,x.top+z.top-M.top)),y.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,x.left+z.left-M.left))}return y},ri.prototype.showSelection=function(c){var d=this.cm,b=d.display;Tt(b.cursorDiv,c.cursors),Tt(b.selectionDiv,c.selection),c.teTop!=null&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},ri.prototype.reset=function(c){if(!(this.contextMenuPending||this.composing&&c)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var b=d.getSelection();this.textarea.value=b,d.state.focused&&bt(this.textarea),ut&&Ct>=9&&(this.hasSelection=b)}else c||(this.prevInput=this.textarea.value="",ut&&Ct>=9&&(this.hasSelection=null));this.resetting=!1}},ri.prototype.getField=function(){return this.textarea},ri.prototype.supportsTouch=function(){return!1},ri.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!V||$t(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},ri.prototype.blur=function(){this.textarea.blur()},ri.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ri.prototype.receivedFocus=function(){this.slowPoll()},ri.prototype.slowPoll=function(){var c=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){c.poll(),c.cm.state.focused&&c.slowPoll()})},ri.prototype.fastPoll=function(){var c=!1,d=this;d.pollingFast=!0;function b(){var y=d.poll();!y&&!c?(c=!0,d.polling.set(60,b)):(d.pollingFast=!1,d.slowPoll())}d.polling.set(20,b)},ri.prototype.poll=function(){var c=this,d=this.cm,b=this.textarea,y=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||lo(b)&&!y&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var x=b.value;if(x==y&&!d.somethingSelected())return!1;if(ut&&Ct>=9&&this.hasSelection===x||I&&/[\uf700-\uf7ff]/.test(x))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var M=x.charCodeAt(0);if(M==8203&&!y&&(y="​"),M==8666)return this.reset(),this.cm.execCommand("undo")}for(var z=0,tt=Math.min(y.length,x.length);z<tt&&y.charCodeAt(z)==x.charCodeAt(z);)++z;return Ka(d,function(){Tn(d,x.slice(z),y.length-z,null,c.composing?"*compose":null),x.length>1e3||x.indexOf(`
`)>-1?b.value=c.prevInput="":c.prevInput=x,c.composing&&(c.composing.range.clear(),c.composing.range=d.markText(c.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ri.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ri.prototype.onKeyPress=function(){ut&&Ct>=9&&(this.hasSelection=null),this.fastPoll()},ri.prototype.onContextMenu=function(c){var d=this,b=d.cm,y=b.display,x=d.textarea;d.contextMenuPending&&d.contextMenuPending();var M=Nl(b,c),z=y.scroller.scrollTop;if(!M||k)return;var tt=b.options.resetSelectionOnContextMenu;tt&&b.doc.sel.contains(M)==-1&&fi(b,ki)(b.doc,xa(M),Ae);var ct=x.style.cssText,Ot=d.wrapper.style.cssText,ne=d.wrapper.offsetParent.getBoundingClientRect();d.wrapper.style.cssText="position: static",x.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(c.clientY-ne.top-5)+"px; left: "+(c.clientX-ne.left-5)+`px;
      z-index: 1000; background: `+(ut?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ye;q&&(ye=x.ownerDocument.defaultView.scrollY),y.input.focus(),q&&x.ownerDocument.defaultView.scrollTo(null,ye),y.input.reset(),b.somethingSelected()||(x.value=d.prevInput=" "),d.contextMenuPending=Ie,y.selForContextMenu=b.doc.sel,clearTimeout(y.detectingSelectAll);function Ue(){if(x.selectionStart!=null){var wr=b.somethingSelected(),jr="​"+(wr?x.value:"");x.value="⇚",x.value=jr,d.prevInput=wr?"":"​",x.selectionStart=1,x.selectionEnd=jr.length,y.selForContextMenu=b.doc.sel}}function Ie(){if(d.contextMenuPending==Ie&&(d.contextMenuPending=!1,d.wrapper.style.cssText=Ot,x.style.cssText=ct,ut&&Ct<9&&y.scrollbars.setScrollTop(y.scroller.scrollTop=z),x.selectionStart!=null)){(!ut||ut&&Ct<9)&&Ue();var wr=0,jr=function(){y.selForContextMenu==b.doc.sel&&x.selectionStart==0&&x.selectionEnd>0&&d.prevInput=="​"?fi(b,iu)(b):wr++<10?y.detectingSelectAll=setTimeout(jr,500):(y.selForContextMenu=null,y.input.reset())};y.detectingSelectAll=setTimeout(jr,200)}}if(ut&&Ct>=9&&Ue(),U){Xe(c);var lr=function(){dr(window,"mouseup",lr),setTimeout(Ie,20)};Yt(window,"mouseup",lr)}else setTimeout(Ie,50)},ri.prototype.readOnlyChanged=function(c){c||this.reset(),this.textarea.disabled=c=="nocursor",this.textarea.readOnly=!!c},ri.prototype.setUneditable=function(){},ri.prototype.needsContentAttribute=!1;function Cc(c,d){if(d=d?Ht(d):{},d.value=c.value,!d.tabindex&&c.tabIndex&&(d.tabindex=c.tabIndex),!d.placeholder&&c.placeholder&&(d.placeholder=c.placeholder),d.autofocus==null){var b=$t(c.ownerDocument);d.autofocus=b==c||c.getAttribute("autofocus")!=null&&b==document.body}function y(){c.value=tt.getValue()}var x;if(c.form&&(Yt(c.form,"submit",y),!d.leaveSubmitMethodAlone)){var M=c.form;x=M.submit;try{var z=M.submit=function(){y(),M.submit=x,M.submit(),M.submit=z}}catch{}}d.finishInit=function(ct){ct.save=y,ct.getTextArea=function(){return c},ct.toTextArea=function(){ct.toTextArea=isNaN,y(),c.parentNode.removeChild(ct.getWrapperElement()),c.style.display="",c.form&&(dr(c.form,"submit",y),!d.leaveSubmitMethodAlone&&typeof c.form.submit=="function"&&(c.form.submit=x))}},c.style.display="none";var tt=zr(function(ct){return c.parentNode.insertBefore(ct,c.nextSibling)},d);return tt}function Ta(c){c.off=dr,c.on=Yt,c.wheelEventPixels=$p,c.Doc=Sa,c.splitLines=In,c.countColumn=It,c.findColumn=Nr,c.isWordChar=lt,c.Pass=pe,c.signal=on,c.Line=No,c.changeEnd=Ol,c.scrollbarModel=Pu,c.Pos=rt,c.cmpPos=Zt,c.modes=Fn,c.mimeModes=Qo,c.resolveMode=bo,c.getMode=wo,c.modeExtensions=_o,c.extendMode=va,c.copyState=$o,c.startState=ni,c.innerMode=Ao,c.commands=Jl,c.keyMap=Ls,c.keyName=Wo,c.isModifierKey=ai,c.lookupKey=Xl,c.normalizeKeyMap=zc,c.StringStream=eo,c.SharedTextMarker=Vc,c.TextMarker=nl,c.LineWidget=Na,c.e_preventDefault=Ut,c.e_stopPropagation=te,c.e_stop=Xe,c.addClass=Lt,c.contains=Ft,c.rmClass=Q,c.keyNames=El}gn(zr),so(zr);var bs="iter insert remove copy getEditor constructor".split(" ");for(var du in Sa.prototype)Sa.prototype.hasOwnProperty(du)&&Bt(bs,du)<0&&(zr.prototype[du]=function(c){return function(){return c.apply(this.doc,arguments)}}(Sa.prototype[du]));return $n(Sa),zr.inputStyles={textarea:ri,contenteditable:Sn},zr.defineMode=function(c){!zr.defaults.mode&&c!="null"&&(zr.defaults.mode=c),fo.apply(this,arguments)},zr.defineMIME=Bo,zr.defineMode("null",function(){return{token:function(c){return c.skipToEnd()}}}),zr.defineMIME("text/plain","null"),zr.defineExtension=function(c,d){zr.prototype[c]=d},zr.defineDocExtension=function(c,d){Sa.prototype[c]=d},zr.fromTextArea=Cc,Ta(zr),zr.version="5.65.15",zr})},629:(wt,he,Pe)=>{(function(Oe){Oe(Pe(631))})(function(Oe){Oe.defineMode("css",function(Q,J){var Tt=J.inline;J.propertyKeywords||(J=Oe.resolveMode("text/css"));var et=Q.indentUnit,_t=J.tokenHooks,G=J.documentTypes||{},Ft=J.mediaTypes||{},$t=J.mediaFeatures||{},Lt=J.mediaValueKeywords||{},ve=J.propertyKeywords||{},bt=J.nonStandardPropertyKeywords||{},jt=J.fontProperties||{},Rt=J.counterDescriptors||{},Xt=J.colorKeywords||{},Ht=J.valueKeywords||{},It=J.allowNested,St=J.lineComment,Bt=J.supportsAtComponent===!0,Me=Q.highlightNonStandardPropertyKeywords!==!1,pe,Ae;function ir(lt,ue){return pe=ue,lt}function Or(lt,ue){var se=lt.next();if(_t[se]){var nr=_t[se](lt,ue);if(nr!==!1)return nr}if(se=="@")return lt.eatWhile(/[\w\\\-]/),ir("def",lt.current());if(se=="="||(se=="~"||se=="|")&&lt.eat("="))return ir(null,"compare");if(se=='"'||se=="'")return ue.tokenize=Nr(se),ue.tokenize(lt,ue);if(se=="#")return lt.eatWhile(/[\w\\\-]/),ir("atom","hash");if(se=="!")return lt.match(/^\s*\w*/),ir("keyword","important");if(/\d/.test(se)||se=="."&&lt.eat(/\d/))return lt.eatWhile(/[\w.%]/),ir("number","unit");if(se==="-"){if(/[\d.]/.test(lt.peek()))return lt.eatWhile(/[\w.%]/),ir("number","unit");if(lt.match(/^-[\w\\\-]*/))return lt.eatWhile(/[\w\\\-]/),lt.match(/^\s*:/,!1)?ir("variable-2","variable-definition"):ir("variable-2","variable");if(lt.match(/^\w+-/))return ir("meta","meta")}else return/[,+>*\/]/.test(se)?ir(null,"select-op"):se=="."&&lt.match(/^-?[_a-z][_a-z0-9-]*/i)?ir("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(se)?ir(null,se):lt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(lt.current())&&(ue.tokenize=Dr),ir("variable callee","variable")):/[\w\\\-]/.test(se)?(lt.eatWhile(/[\w\\\-]/),ir("property","word")):ir(null,null)}function Nr(lt){return function(ue,se){for(var nr=!1,vr;(vr=ue.next())!=null;){if(vr==lt&&!nr){lt==")"&&ue.backUp(1);break}nr=!nr&&vr=="\\"}return(vr==lt||!nr&&lt!=")")&&(se.tokenize=null),ir("string","string")}}function Dr(lt,ue){return lt.next(),lt.match(/^\s*[\"\')]/,!1)?ue.tokenize=null:ue.tokenize=Nr(")"),ir(null,"(")}function Vr(lt,ue,se){this.type=lt,this.indent=ue,this.prev=se}function Je(lt,ue,se,nr){return lt.context=new Vr(se,ue.indentation()+(nr===!1?0:et),lt.context),se}function nt(lt){return lt.context.prev&&(lt.context=lt.context.prev),lt.context.type}function Et(lt,ue,se){return Le[se.context.type](lt,ue,se)}function qt(lt,ue,se,nr){for(var vr=nr||1;vr>0;vr--)se.context=se.context.prev;return Et(lt,ue,se)}function me(lt){var ue=lt.current().toLowerCase();Ht.hasOwnProperty(ue)?Ae="atom":Xt.hasOwnProperty(ue)?Ae="keyword":Ae="variable"}var Le={};return Le.top=function(lt,ue,se){if(lt=="{")return Je(se,ue,"block");if(lt=="}"&&se.context.prev)return nt(se);if(Bt&&/@component/i.test(lt))return Je(se,ue,"atComponentBlock");if(/^@(-moz-)?document$/i.test(lt))return Je(se,ue,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(lt))return Je(se,ue,"atBlock");if(/^@(font-face|counter-style)/i.test(lt))return se.stateArg=lt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(lt))return"keyframes";if(lt&&lt.charAt(0)=="@")return Je(se,ue,"at");if(lt=="hash")Ae="builtin";else if(lt=="word")Ae="tag";else{if(lt=="variable-definition")return"maybeprop";if(lt=="interpolation")return Je(se,ue,"interpolation");if(lt==":")return"pseudo";if(It&&lt=="(")return Je(se,ue,"parens")}return se.context.type},Le.block=function(lt,ue,se){if(lt=="word"){var nr=ue.current().toLowerCase();return ve.hasOwnProperty(nr)?(Ae="property","maybeprop"):bt.hasOwnProperty(nr)?(Ae=Me?"string-2":"property","maybeprop"):It?(Ae=ue.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ae+=" error","maybeprop")}else return lt=="meta"?"block":!It&&(lt=="hash"||lt=="qualifier")?(Ae="error","block"):Le.top(lt,ue,se)},Le.maybeprop=function(lt,ue,se){return lt==":"?Je(se,ue,"prop"):Et(lt,ue,se)},Le.prop=function(lt,ue,se){if(lt==";")return nt(se);if(lt=="{"&&It)return Je(se,ue,"propBlock");if(lt=="}"||lt=="{")return qt(lt,ue,se);if(lt=="(")return Je(se,ue,"parens");if(lt=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(ue.current()))Ae+=" error";else if(lt=="word")me(ue);else if(lt=="interpolation")return Je(se,ue,"interpolation");return"prop"},Le.propBlock=function(lt,ue,se){return lt=="}"?nt(se):lt=="word"?(Ae="property","maybeprop"):se.context.type},Le.parens=function(lt,ue,se){return lt=="{"||lt=="}"?qt(lt,ue,se):lt==")"?nt(se):lt=="("?Je(se,ue,"parens"):lt=="interpolation"?Je(se,ue,"interpolation"):(lt=="word"&&me(ue),"parens")},Le.pseudo=function(lt,ue,se){return lt=="meta"?"pseudo":lt=="word"?(Ae="variable-3",se.context.type):Et(lt,ue,se)},Le.documentTypes=function(lt,ue,se){return lt=="word"&&G.hasOwnProperty(ue.current())?(Ae="tag",se.context.type):Le.atBlock(lt,ue,se)},Le.atBlock=function(lt,ue,se){if(lt=="(")return Je(se,ue,"atBlock_parens");if(lt=="}"||lt==";")return qt(lt,ue,se);if(lt=="{")return nt(se)&&Je(se,ue,It?"block":"top");if(lt=="interpolation")return Je(se,ue,"interpolation");if(lt=="word"){var nr=ue.current().toLowerCase();nr=="only"||nr=="not"||nr=="and"||nr=="or"?Ae="keyword":Ft.hasOwnProperty(nr)?Ae="attribute":$t.hasOwnProperty(nr)?Ae="property":Lt.hasOwnProperty(nr)?Ae="keyword":ve.hasOwnProperty(nr)?Ae="property":bt.hasOwnProperty(nr)?Ae=Me?"string-2":"property":Ht.hasOwnProperty(nr)?Ae="atom":Xt.hasOwnProperty(nr)?Ae="keyword":Ae="error"}return se.context.type},Le.atComponentBlock=function(lt,ue,se){return lt=="}"?qt(lt,ue,se):lt=="{"?nt(se)&&Je(se,ue,It?"block":"top",!1):(lt=="word"&&(Ae="error"),se.context.type)},Le.atBlock_parens=function(lt,ue,se){return lt==")"?nt(se):lt=="{"||lt=="}"?qt(lt,ue,se,2):Le.atBlock(lt,ue,se)},Le.restricted_atBlock_before=function(lt,ue,se){return lt=="{"?Je(se,ue,"restricted_atBlock"):lt=="word"&&se.stateArg=="@counter-style"?(Ae="variable","restricted_atBlock_before"):Et(lt,ue,se)},Le.restricted_atBlock=function(lt,ue,se){return lt=="}"?(se.stateArg=null,nt(se)):lt=="word"?(se.stateArg=="@font-face"&&!jt.hasOwnProperty(ue.current().toLowerCase())||se.stateArg=="@counter-style"&&!Rt.hasOwnProperty(ue.current().toLowerCase())?Ae="error":Ae="property","maybeprop"):"restricted_atBlock"},Le.keyframes=function(lt,ue,se){return lt=="word"?(Ae="variable","keyframes"):lt=="{"?Je(se,ue,"top"):Et(lt,ue,se)},Le.at=function(lt,ue,se){return lt==";"?nt(se):lt=="{"||lt=="}"?qt(lt,ue,se):(lt=="word"?Ae="tag":lt=="hash"&&(Ae="builtin"),"at")},Le.interpolation=function(lt,ue,se){return lt=="}"?nt(se):lt=="{"||lt==";"?qt(lt,ue,se):(lt=="word"?Ae="variable":lt!="variable"&&lt!="("&&lt!=")"&&(Ae="error"),"interpolation")},{startState:function(lt){return{tokenize:null,state:Tt?"block":"top",stateArg:null,context:new Vr(Tt?"block":"top",lt||0,null)}},token:function(lt,ue){if(!ue.tokenize&&lt.eatSpace())return null;var se=(ue.tokenize||Or)(lt,ue);return se&&typeof se=="object"&&(pe=se[1],se=se[0]),Ae=se,pe!="comment"&&(ue.state=Le[ue.state](pe,lt,ue)),Ae},indent:function(lt,ue){var se=lt.context,nr=ue&&ue.charAt(0),vr=se.indent;return se.type=="prop"&&(nr=="}"||nr==")")&&(se=se.prev),se.prev&&(nr=="}"&&(se.type=="block"||se.type=="top"||se.type=="interpolation"||se.type=="restricted_atBlock")?(se=se.prev,vr=se.indent):(nr==")"&&(se.type=="parens"||se.type=="atBlock_parens")||nr=="{"&&(se.type=="at"||se.type=="atBlock"))&&(vr=Math.max(0,se.indent-et))),vr},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:St,fold:"brace"}});function Re(Q){for(var J={},Tt=0;Tt<Q.length;++Tt)J[Q[Tt].toLowerCase()]=!0;return J}var le=["domain","regexp","url","url-prefix"],Kt=Re(le),ut=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],Ct=Re(ut),q=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],yt=Re(q),Y=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],st=Re(Y),k=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],H=Re(k),ft=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],ht=Re(ft),dt=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],B=Re(dt),V=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],I=Re(V),N=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],W=Re(N),R=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],F=Re(R),U=le.concat(ut).concat(q).concat(Y).concat(k).concat(ft).concat(N).concat(R);Oe.registerHelper("hintWords","css",U);function $(Q,J){for(var Tt=!1,et;(et=Q.next())!=null;){if(Tt&&et=="/"){J.tokenize=null;break}Tt=et=="*"}return["comment","comment"]}Oe.defineMIME("text/css",{documentTypes:Kt,mediaTypes:Ct,mediaFeatures:yt,mediaValueKeywords:st,propertyKeywords:H,nonStandardPropertyKeywords:ht,fontProperties:B,counterDescriptors:I,colorKeywords:W,valueKeywords:F,tokenHooks:{"/":function(Q,J){return Q.eat("*")?(J.tokenize=$,$(Q,J)):!1}},name:"css"}),Oe.defineMIME("text/x-scss",{mediaTypes:Ct,mediaFeatures:yt,mediaValueKeywords:st,propertyKeywords:H,nonStandardPropertyKeywords:ht,colorKeywords:W,valueKeywords:F,fontProperties:B,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Q,J){return Q.eat("/")?(Q.skipToEnd(),["comment","comment"]):Q.eat("*")?(J.tokenize=$,$(Q,J)):["operator","operator"]},":":function(Q){return Q.match(/^\s*\{/,!1)?[null,null]:!1},$:function(Q){return Q.match(/^[\w-]+/),Q.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(Q){return Q.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),Oe.defineMIME("text/x-less",{mediaTypes:Ct,mediaFeatures:yt,mediaValueKeywords:st,propertyKeywords:H,nonStandardPropertyKeywords:ht,colorKeywords:W,valueKeywords:F,fontProperties:B,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Q,J){return Q.eat("/")?(Q.skipToEnd(),["comment","comment"]):Q.eat("*")?(J.tokenize=$,$(Q,J)):["operator","operator"]},"@":function(Q){return Q.eat("{")?[null,"interpolation"]:Q.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(Q.eatWhile(/[\w\\\-]/),Q.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),Oe.defineMIME("text/x-gss",{documentTypes:Kt,mediaTypes:Ct,mediaFeatures:yt,propertyKeywords:H,nonStandardPropertyKeywords:ht,fontProperties:B,counterDescriptors:I,colorKeywords:W,valueKeywords:F,supportsAtComponent:!0,tokenHooks:{"/":function(Q,J){return Q.eat("*")?(J.tokenize=$,$(Q,J)):!1}},name:"css",helperType:"gss"})})},531:(wt,he,Pe)=>{(function(Oe){Oe(Pe(631),Pe(589),Pe(876),Pe(629))})(function(Oe){var Re={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function le(st,k,H){var ft=st.current(),ht=ft.search(k);return ht>-1?st.backUp(ft.length-ht):ft.match(/<\/?$/)&&(st.backUp(ft.length),st.match(k,!1)||st.match(ft)),H}var Kt={};function ut(st){var k=Kt[st];return k||(Kt[st]=new RegExp("\\s+"+st+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function Ct(st,k){var H=st.match(ut(k));return H?/^\s*(.*?)\s*$/.exec(H[2])[1]:""}function q(st,k){return new RegExp((k?"^":"")+"</\\s*"+st+"\\s*>","i")}function yt(st,k){for(var H in st)for(var ft=k[H]||(k[H]=[]),ht=st[H],dt=ht.length-1;dt>=0;dt--)ft.unshift(ht[dt])}function Y(st,k){for(var H=0;H<st.length;H++){var ft=st[H];if(!ft[0]||ft[1].test(Ct(k,ft[0])))return ft[2]}}Oe.defineMode("htmlmixed",function(st,k){var H=Oe.getMode(st,{name:"xml",htmlMode:!0,multilineTagIndentFactor:k.multilineTagIndentFactor,multilineTagIndentPastTag:k.multilineTagIndentPastTag,allowMissingTagName:k.allowMissingTagName}),ft={},ht=k&&k.tags,dt=k&&k.scriptTypes;if(yt(Re,ft),ht&&yt(ht,ft),dt)for(var B=dt.length-1;B>=0;B--)ft.script.unshift(["type",dt[B].matches,dt[B].mode]);function V(I,N){var W=H.token(I,N.htmlState),R=/\btag\b/.test(W),F;if(R&&!/[<>\s\/]/.test(I.current())&&(F=N.htmlState.tagName&&N.htmlState.tagName.toLowerCase())&&ft.hasOwnProperty(F))N.inTag=F+" ";else if(N.inTag&&R&&/>$/.test(I.current())){var U=/^([\S]+) (.*)/.exec(N.inTag);N.inTag=null;var $=I.current()==">"&&Y(ft[U[1]],U[2]),Q=Oe.getMode(st,$),J=q(U[1],!0),Tt=q(U[1],!1);N.token=function(et,_t){return et.match(J,!1)?(_t.token=V,_t.localState=_t.localMode=null,null):le(et,Tt,_t.localMode.token(et,_t.localState))},N.localMode=Q,N.localState=Oe.startState(Q,H.indent(N.htmlState,"",""))}else N.inTag&&(N.inTag+=I.current(),I.eol()&&(N.inTag+=" "));return W}return{startState:function(){var I=Oe.startState(H);return{token:V,inTag:null,localMode:null,localState:null,htmlState:I}},copyState:function(I){var N;return I.localState&&(N=Oe.copyState(I.localMode,I.localState)),{token:I.token,inTag:I.inTag,localMode:I.localMode,localState:N,htmlState:Oe.copyState(H,I.htmlState)}},token:function(I,N){return N.token(I,N)},indent:function(I,N,W){return!I.localMode||/^\s*<\//.test(N)?H.indent(I.htmlState,N,W):I.localMode.indent?I.localMode.indent(I.localState,N,W):Oe.Pass},innerMode:function(I){return{state:I.localState||I.htmlState,mode:I.localMode||H}}}},"xml","javascript","css"),Oe.defineMIME("text/html","htmlmixed")})},876:(wt,he,Pe)=>{(function(Oe){Oe(Pe(631))})(function(Oe){Oe.defineMode("javascript",function(Re,le){var Kt=Re.indentUnit,ut=le.statementIndent,Ct=le.jsonld,q=le.json||Ct,yt=le.trackScope!==!1,Y=le.typescript,st=le.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function rt(Jr){return{type:Jr,style:"keyword"}}var Zt=rt("keyword a"),ar=rt("keyword b"),hr=rt("keyword c"),Mr=rt("keyword d"),_n=rt("operator"),Vn={type:"atom",style:"atom"};return{if:rt("if"),while:Zt,with:Zt,else:ar,do:ar,try:ar,finally:ar,return:Mr,break:Mr,continue:Mr,new:rt("new"),delete:hr,void:hr,throw:hr,debugger:rt("debugger"),var:rt("var"),const:rt("var"),let:rt("var"),function:rt("function"),catch:rt("catch"),for:rt("for"),switch:rt("switch"),case:rt("case"),default:rt("default"),in:_n,typeof:_n,instanceof:_n,true:Vn,false:Vn,null:Vn,undefined:Vn,NaN:Vn,Infinity:Vn,this:rt("this"),class:rt("class"),super:rt("atom"),yield:hr,export:rt("export"),import:rt("import"),extends:hr,await:hr}}(),H=/[+\-*&%=<>!?|~^@]/,ft=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function ht(rt){for(var Zt=!1,ar,hr=!1;(ar=rt.next())!=null;){if(!Zt){if(ar=="/"&&!hr)return;ar=="["?hr=!0:hr&&ar=="]"&&(hr=!1)}Zt=!Zt&&ar=="\\"}}var dt,B;function V(rt,Zt,ar){return dt=rt,B=ar,Zt}function I(rt,Zt){var ar=rt.next();if(ar=='"'||ar=="'")return Zt.tokenize=N(ar),Zt.tokenize(rt,Zt);if(ar=="."&&rt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return V("number","number");if(ar=="."&&rt.match(".."))return V("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ar))return V(ar);if(ar=="="&&rt.eat(">"))return V("=>","operator");if(ar=="0"&&rt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return V("number","number");if(/\d/.test(ar))return rt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),V("number","number");if(ar=="/")return rt.eat("*")?(Zt.tokenize=W,W(rt,Zt)):rt.eat("/")?(rt.skipToEnd(),V("comment","comment")):Bn(rt,Zt,1)?(ht(rt),rt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),V("regexp","string-2")):(rt.eat("="),V("operator","operator",rt.current()));if(ar=="`")return Zt.tokenize=R,R(rt,Zt);if(ar=="#"&&rt.peek()=="!")return rt.skipToEnd(),V("meta","meta");if(ar=="#"&&rt.eatWhile(st))return V("variable","property");if(ar=="<"&&rt.match("!--")||ar=="-"&&rt.match("->")&&!/\S/.test(rt.string.slice(0,rt.start)))return rt.skipToEnd(),V("comment","comment");if(H.test(ar))return(ar!=">"||!Zt.lexical||Zt.lexical.type!=">")&&(rt.eat("=")?(ar=="!"||ar=="=")&&rt.eat("="):/[<>*+\-|&?]/.test(ar)&&(rt.eat(ar),ar==">"&&rt.eat(ar))),ar=="?"&&rt.eat(".")?V("."):V("operator","operator",rt.current());if(st.test(ar)){rt.eatWhile(st);var hr=rt.current();if(Zt.lastType!="."){if(k.propertyIsEnumerable(hr)){var Mr=k[hr];return V(Mr.type,Mr.style,hr)}if(hr=="async"&&rt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return V("async","keyword",hr)}return V("variable","variable",hr)}}function N(rt){return function(Zt,ar){var hr=!1,Mr;if(Ct&&Zt.peek()=="@"&&Zt.match(ft))return ar.tokenize=I,V("jsonld-keyword","meta");for(;(Mr=Zt.next())!=null&&!(Mr==rt&&!hr);)hr=!hr&&Mr=="\\";return hr||(ar.tokenize=I),V("string","string")}}function W(rt,Zt){for(var ar=!1,hr;hr=rt.next();){if(hr=="/"&&ar){Zt.tokenize=I;break}ar=hr=="*"}return V("comment","comment")}function R(rt,Zt){for(var ar=!1,hr;(hr=rt.next())!=null;){if(!ar&&(hr=="`"||hr=="$"&&rt.eat("{"))){Zt.tokenize=I;break}ar=!ar&&hr=="\\"}return V("quasi","string-2",rt.current())}var F="([{}])";function U(rt,Zt){Zt.fatArrowAt&&(Zt.fatArrowAt=null);var ar=rt.string.indexOf("=>",rt.start);if(!(ar<0)){if(Y){var hr=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(rt.string.slice(rt.start,ar));hr&&(ar=hr.index)}for(var Mr=0,_n=!1,Vn=ar-1;Vn>=0;--Vn){var Jr=rt.string.charAt(Vn),gr=F.indexOf(Jr);if(gr>=0&&gr<3){if(!Mr){++Vn;break}if(--Mr==0){Jr=="("&&(_n=!0);break}}else if(gr>=3&&gr<6)++Mr;else if(st.test(Jr))_n=!0;else if(/["'\/`]/.test(Jr))for(;;--Vn){if(Vn==0)return;var At=rt.string.charAt(Vn-1);if(At==Jr&&rt.string.charAt(Vn-2)!="\\"){Vn--;break}}else if(_n&&!Mr){++Vn;break}}_n&&!Mr&&(Zt.fatArrowAt=Vn)}}var $={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Q(rt,Zt,ar,hr,Mr,_n){this.indented=rt,this.column=Zt,this.type=ar,this.prev=Mr,this.info=_n,hr!=null&&(this.align=hr)}function J(rt,Zt){if(!yt)return!1;for(var ar=rt.localVars;ar;ar=ar.next)if(ar.name==Zt)return!0;for(var hr=rt.context;hr;hr=hr.prev)for(var ar=hr.vars;ar;ar=ar.next)if(ar.name==Zt)return!0}function Tt(rt,Zt,ar,hr,Mr){var _n=rt.cc;for(et.state=rt,et.stream=Mr,et.marked=null,et.cc=_n,et.style=Zt,rt.lexical.hasOwnProperty("align")||(rt.lexical.align=!0);;){var Vn=_n.length?_n.pop():q?ir:pe;if(Vn(ar,hr)){for(;_n.length&&_n[_n.length-1].lex;)_n.pop()();return et.marked?et.marked:ar=="variable"&&J(rt,hr)?"variable-2":Zt}}}var et={state:null,column:null,marked:null,cc:null};function _t(){for(var rt=arguments.length-1;rt>=0;rt--)et.cc.push(arguments[rt])}function G(){return _t.apply(null,arguments),!0}function Ft(rt,Zt){for(var ar=Zt;ar;ar=ar.next)if(ar.name==rt)return!0;return!1}function $t(rt){var Zt=et.state;if(et.marked="def",!!yt){if(Zt.context){if(Zt.lexical.info=="var"&&Zt.context&&Zt.context.block){var ar=Lt(rt,Zt.context);if(ar!=null){Zt.context=ar;return}}else if(!Ft(rt,Zt.localVars)){Zt.localVars=new jt(rt,Zt.localVars);return}}le.globalVars&&!Ft(rt,Zt.globalVars)&&(Zt.globalVars=new jt(rt,Zt.globalVars))}}function Lt(rt,Zt){if(Zt)if(Zt.block){var ar=Lt(rt,Zt.prev);return ar?ar==Zt.prev?Zt:new bt(ar,Zt.vars,!0):null}else return Ft(rt,Zt.vars)?Zt:new bt(Zt.prev,new jt(rt,Zt.vars),!1);else return null}function ve(rt){return rt=="public"||rt=="private"||rt=="protected"||rt=="abstract"||rt=="readonly"}function bt(rt,Zt,ar){this.prev=rt,this.vars=Zt,this.block=ar}function jt(rt,Zt){this.name=rt,this.next=Zt}var Rt=new jt("this",new jt("arguments",null));function Xt(){et.state.context=new bt(et.state.context,et.state.localVars,!1),et.state.localVars=Rt}function Ht(){et.state.context=new bt(et.state.context,et.state.localVars,!0),et.state.localVars=null}Xt.lex=Ht.lex=!0;function It(){et.state.localVars=et.state.context.vars,et.state.context=et.state.context.prev}It.lex=!0;function St(rt,Zt){var ar=function(){var hr=et.state,Mr=hr.indented;if(hr.lexical.type=="stat")Mr=hr.lexical.indented;else for(var _n=hr.lexical;_n&&_n.type==")"&&_n.align;_n=_n.prev)Mr=_n.indented;hr.lexical=new Q(Mr,et.stream.column(),rt,null,hr.lexical,Zt)};return ar.lex=!0,ar}function Bt(){var rt=et.state;rt.lexical.prev&&(rt.lexical.type==")"&&(rt.indented=rt.lexical.indented),rt.lexical=rt.lexical.prev)}Bt.lex=!0;function Me(rt){function Zt(ar){return ar==rt?G():rt==";"||ar=="}"||ar==")"||ar=="]"?_t():G(Zt)}return Zt}function pe(rt,Zt){return rt=="var"?G(St("vardef",Zt),ce,Me(";"),Bt):rt=="keyword a"?G(St("form"),Nr,pe,Bt):rt=="keyword b"?G(St("form"),pe,Bt):rt=="keyword d"?et.stream.match(/^\s*$/,!1)?G():G(St("stat"),Vr,Me(";"),Bt):rt=="debugger"?G(Me(";")):rt=="{"?G(St("}"),Ht,fe,Bt,It):rt==";"?G():rt=="if"?(et.state.lexical.info=="else"&&et.state.cc[et.state.cc.length-1]==Bt&&et.state.cc.pop()(),G(St("form"),Nr,pe,Bt,In)):rt=="function"?G(Qn):rt=="for"?G(St("form"),Ht,lo,pe,It,Bt):rt=="class"||Y&&Zt=="interface"?(et.marked="keyword",G(St("form",rt=="class"?rt:Zt),bo,Bt)):rt=="variable"?Y&&Zt=="declare"?(et.marked="keyword",G(pe)):Y&&(Zt=="module"||Zt=="enum"||Zt=="type")&&et.stream.match(/^\s*\w/,!1)?(et.marked="keyword",Zt=="enum"?G(un):Zt=="type"?G(Qo,Me("operator"),dr,Me(";")):G(St("form"),ke,Me("{"),St("}"),fe,Bt,Bt)):Y&&Zt=="namespace"?(et.marked="keyword",G(St("form"),ir,pe,Bt)):Y&&Zt=="abstract"?(et.marked="keyword",G(pe)):G(St("stat"),nr):rt=="switch"?G(St("form"),Nr,Me("{"),St("}","switch"),Ht,fe,Bt,Bt,It):rt=="case"?G(ir,Me(":")):rt=="default"?G(Me(":")):rt=="catch"?G(St("form"),Xt,Ae,pe,Bt,It):rt=="export"?G(St("stat"),$o,Bt):rt=="import"?G(St("stat"),ni,Bt):rt=="async"?G(pe):Zt=="@"?G(ir,pe):_t(St("stat"),ir,Me(";"),Bt)}function Ae(rt){if(rt=="(")return G(fo,Me(")"))}function ir(rt,Zt){return Dr(rt,Zt,!1)}function Or(rt,Zt){return Dr(rt,Zt,!0)}function Nr(rt){return rt!="("?_t():G(St(")"),Vr,Me(")"),Bt)}function Dr(rt,Zt,ar){if(et.state.fatArrowAt==et.stream.start){var hr=ar?Le:me;if(rt=="(")return G(Xt,St(")"),vt(fo,")"),Bt,Me("=>"),hr,It);if(rt=="variable")return _t(Xt,ke,Me("=>"),hr,It)}var Mr=ar?nt:Je;return $.hasOwnProperty(rt)?G(Mr):rt=="function"?G(Qn,Mr):rt=="class"||Y&&Zt=="interface"?(et.marked="keyword",G(St("form"),Bo,Bt)):rt=="keyword c"||rt=="async"?G(ar?Or:ir):rt=="("?G(St(")"),Vr,Me(")"),Bt,Mr):rt=="operator"||rt=="spread"?G(ar?Or:ir):rt=="["?G(St("]"),oi,Bt,Mr):rt=="{"?Wt(Qe,"}",null,Mr):rt=="quasi"?_t(Et,Mr):rt=="new"?G(lt(ar)):G()}function Vr(rt){return rt.match(/[;\}\)\],]/)?_t():_t(ir)}function Je(rt,Zt){return rt==","?G(Vr):nt(rt,Zt,!1)}function nt(rt,Zt,ar){var hr=ar==!1?Je:nt,Mr=ar==!1?ir:Or;if(rt=="=>")return G(Xt,ar?Le:me,It);if(rt=="operator")return/\+\+|--/.test(Zt)||Y&&Zt=="!"?G(hr):Y&&Zt=="<"&&et.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?G(St(">"),vt(dr,">"),Bt,hr):Zt=="?"?G(ir,Me(":"),Mr):G(Mr);if(rt=="quasi")return _t(Et,hr);if(rt!=";"){if(rt=="(")return Wt(Or,")","call",hr);if(rt==".")return G(vr,hr);if(rt=="[")return G(St("]"),Vr,Me("]"),Bt,hr);if(Y&&Zt=="as")return et.marked="keyword",G(dr,hr);if(rt=="regexp")return et.state.lastType=et.marked="operator",et.stream.backUp(et.stream.pos-et.stream.start-1),G(Mr)}}function Et(rt,Zt){return rt!="quasi"?_t():Zt.slice(Zt.length-2)!="${"?G(Et):G(Vr,qt)}function qt(rt){if(rt=="}")return et.marked="string-2",et.state.tokenize=R,G(Et)}function me(rt){return U(et.stream,et.state),_t(rt=="{"?pe:ir)}function Le(rt){return U(et.stream,et.state),_t(rt=="{"?pe:Or)}function lt(rt){return function(Zt){return Zt=="."?G(rt?se:ue):Zt=="variable"&&Y?G(je,rt?nt:Je):_t(rt?Or:ir)}}function ue(rt,Zt){if(Zt=="target")return et.marked="keyword",G(Je)}function se(rt,Zt){if(Zt=="target")return et.marked="keyword",G(nt)}function nr(rt){return rt==":"?G(Bt,pe):_t(Je,Me(";"),Bt)}function vr(rt){if(rt=="variable")return et.marked="property",G()}function Qe(rt,Zt){if(rt=="async")return et.marked="property",G(Qe);if(rt=="variable"||et.style=="keyword"){if(et.marked="property",Zt=="get"||Zt=="set")return G(Ir);var ar;return Y&&et.state.fatArrowAt==et.stream.start&&(ar=et.stream.match(/^\s*:\s*/,!1))&&(et.state.fatArrowAt=et.stream.pos+ar[0].length),G(rn)}else{if(rt=="number"||rt=="string")return et.marked=Ct?"property":et.style+" property",G(rn);if(rt=="jsonld-keyword")return G(rn);if(Y&&ve(Zt))return et.marked="keyword",G(Qe);if(rt=="[")return G(ir,Vt,Me("]"),rn);if(rt=="spread")return G(Or,rn);if(Zt=="*")return et.marked="keyword",G(Qe);if(rt==":")return _t(rn)}}function Ir(rt){return rt!="variable"?_t(rn):(et.marked="property",G(Qn))}function rn(rt){if(rt==":")return G(Or);if(rt=="(")return _t(Qn)}function vt(rt,Zt,ar){function hr(Mr,_n){if(ar?ar.indexOf(Mr)>-1:Mr==","){var Vn=et.state.lexical;return Vn.info=="call"&&(Vn.pos=(Vn.pos||0)+1),G(function(Jr,gr){return Jr==Zt||gr==Zt?_t():_t(rt)},hr)}return Mr==Zt||_n==Zt?G():ar&&ar.indexOf(";")>-1?_t(rt):G(Me(Zt))}return function(Mr,_n){return Mr==Zt||_n==Zt?G():_t(rt,hr)}}function Wt(rt,Zt,ar){for(var hr=3;hr<arguments.length;hr++)et.cc.push(arguments[hr]);return G(St(Zt,ar),vt(rt,Zt),Bt)}function fe(rt){return rt=="}"?G():_t(pe,fe)}function Vt(rt,Zt){if(Y){if(rt==":")return G(dr);if(Zt=="?")return G(Vt)}}function Ce(rt,Zt){if(Y&&(rt==":"||Zt=="in"))return G(dr)}function Yt(rt){if(Y&&rt==":")return et.stream.match(/^\s*\w+\s+is\b/,!1)?G(ir,pr,dr):G(dr)}function pr(rt,Zt){if(Zt=="is")return et.marked="keyword",G()}function dr(rt,Zt){if(Zt=="keyof"||Zt=="typeof"||Zt=="infer"||Zt=="readonly")return et.marked="keyword",G(Zt=="typeof"?Or:dr);if(rt=="variable"||Zt=="void")return et.marked="type",G(te);if(Zt=="|"||Zt=="&")return G(dr);if(rt=="string"||rt=="number"||rt=="atom")return G(te);if(rt=="[")return G(St("]"),vt(dr,"]",","),Bt,te);if(rt=="{")return G(St("}"),Kr,Bt,te);if(rt=="(")return G(vt(Ut,")"),on,te);if(rt=="<")return G(vt(dr,">"),dr);if(rt=="quasi")return _t(pn,te)}function on(rt){if(rt=="=>")return G(dr)}function Kr(rt){return rt.match(/[\}\)\]]/)?G():rt==","||rt==";"?G(Kr):_t(He,Kr)}function He(rt,Zt){if(rt=="variable"||et.style=="keyword")return et.marked="property",G(He);if(Zt=="?"||rt=="number"||rt=="string")return G(He);if(rt==":")return G(dr);if(rt=="[")return G(Me("variable"),Ce,Me("]"),He);if(rt=="(")return _t(Fn,He);if(!rt.match(/[;\}\)\],]/))return G()}function pn(rt,Zt){return rt!="quasi"?_t():Zt.slice(Zt.length-2)!="${"?G(pn):G(dr,$n)}function $n(rt){if(rt=="}")return et.marked="string-2",et.state.tokenize=R,G(pn)}function Ut(rt,Zt){return rt=="variable"&&et.stream.match(/^\s*[?:]/,!1)||Zt=="?"?G(Ut):rt==":"?G(dr):rt=="spread"?G(Ut):_t(dr)}function te(rt,Zt){if(Zt=="<")return G(St(">"),vt(dr,">"),Bt,te);if(Zt=="|"||rt=="."||Zt=="&")return G(dr);if(rt=="[")return G(dr,Me("]"),te);if(Zt=="extends"||Zt=="implements")return et.marked="keyword",G(dr);if(Zt=="?")return G(dr,Me(":"),dr)}function je(rt,Zt){if(Zt=="<")return G(St(">"),vt(dr,">"),Bt,te)}function Xe(){return _t(dr,xt)}function xt(rt,Zt){if(Zt=="=")return G(dr)}function ce(rt,Zt){return Zt=="enum"?(et.marked="keyword",G(un)):_t(ke,Vt,Yr,Un)}function ke(rt,Zt){if(Y&&ve(Zt))return et.marked="keyword",G(ke);if(rt=="variable")return $t(Zt),G();if(rt=="spread")return G(ke);if(rt=="[")return Wt(xr,"]");if(rt=="{")return Wt(Ze,"}")}function Ze(rt,Zt){return rt=="variable"&&!et.stream.match(/^\s*:/,!1)?($t(Zt),G(Yr)):(rt=="variable"&&(et.marked="property"),rt=="spread"?G(ke):rt=="}"?_t():rt=="["?G(ir,Me("]"),Me(":"),Ze):G(Me(":"),ke,Yr))}function xr(){return _t(ke,Yr)}function Yr(rt,Zt){if(Zt=="=")return G(Or)}function Un(rt){if(rt==",")return G(ce)}function In(rt,Zt){if(rt=="keyword b"&&Zt=="else")return G(St("form","else"),pe,Bt)}function lo(rt,Zt){if(Zt=="await")return G(lo);if(rt=="(")return G(St(")"),uo,Bt)}function uo(rt){return rt=="var"?G(ce,yn):rt=="variable"?G(yn):_t(yn)}function yn(rt,Zt){return rt==")"?G():rt==";"?G(yn):Zt=="in"||Zt=="of"?(et.marked="keyword",G(ir,yn)):_t(ir,yn)}function Qn(rt,Zt){if(Zt=="*")return et.marked="keyword",G(Qn);if(rt=="variable")return $t(Zt),G(Qn);if(rt=="(")return G(Xt,St(")"),vt(fo,")"),Bt,Yt,pe,It);if(Y&&Zt=="<")return G(St(">"),vt(Xe,">"),Bt,Qn)}function Fn(rt,Zt){if(Zt=="*")return et.marked="keyword",G(Fn);if(rt=="variable")return $t(Zt),G(Fn);if(rt=="(")return G(Xt,St(")"),vt(fo,")"),Bt,Yt,It);if(Y&&Zt=="<")return G(St(">"),vt(Xe,">"),Bt,Fn)}function Qo(rt,Zt){if(rt=="keyword"||rt=="variable")return et.marked="type",G(Qo);if(Zt=="<")return G(St(">"),vt(Xe,">"),Bt)}function fo(rt,Zt){return Zt=="@"&&G(ir,fo),rt=="spread"?G(fo):Y&&ve(Zt)?(et.marked="keyword",G(fo)):Y&&rt=="this"?G(Vt,Yr):_t(ke,Vt,Yr)}function Bo(rt,Zt){return rt=="variable"?bo(rt,Zt):wo(rt,Zt)}function bo(rt,Zt){if(rt=="variable")return $t(Zt),G(wo)}function wo(rt,Zt){if(Zt=="<")return G(St(">"),vt(Xe,">"),Bt,wo);if(Zt=="extends"||Zt=="implements"||Y&&rt==",")return Zt=="implements"&&(et.marked="keyword"),G(Y?dr:ir,wo);if(rt=="{")return G(St("}"),_o,Bt)}function _o(rt,Zt){if(rt=="async"||rt=="variable"&&(Zt=="static"||Zt=="get"||Zt=="set"||Y&&ve(Zt))&&et.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return et.marked="keyword",G(_o);if(rt=="variable"||et.style=="keyword")return et.marked="property",G(va,_o);if(rt=="number"||rt=="string")return G(va,_o);if(rt=="[")return G(ir,Vt,Me("]"),va,_o);if(Zt=="*")return et.marked="keyword",G(_o);if(Y&&rt=="(")return _t(Fn,_o);if(rt==";"||rt==",")return G(_o);if(rt=="}")return G();if(Zt=="@")return G(ir,_o)}function va(rt,Zt){if(Zt=="!"||Zt=="?")return G(va);if(rt==":")return G(dr,Yr);if(Zt=="=")return G(Or);var ar=et.state.lexical.prev,hr=ar&&ar.info=="interface";return _t(hr?Fn:Qn)}function $o(rt,Zt){return Zt=="*"?(et.marked="keyword",G(po,Me(";"))):Zt=="default"?(et.marked="keyword",G(ir,Me(";"))):rt=="{"?G(vt(Ao,"}"),po,Me(";")):_t(pe)}function Ao(rt,Zt){if(Zt=="as")return et.marked="keyword",G(Me("variable"));if(rt=="variable")return _t(Or,Ao)}function ni(rt){return rt=="string"?G():rt=="("?_t(ir):rt=="."?_t(Je):_t(eo,Wr,po)}function eo(rt,Zt){return rt=="{"?Wt(eo,"}"):(rt=="variable"&&$t(Zt),Zt=="*"&&(et.marked="keyword"),G(vo))}function Wr(rt){if(rt==",")return G(eo,Wr)}function vo(rt,Zt){if(Zt=="as")return et.marked="keyword",G(eo)}function po(rt,Zt){if(Zt=="from")return et.marked="keyword",G(ir)}function oi(rt){return rt=="]"?G():_t(vt(Or,"]"))}function un(){return _t(St("form"),ke,Me("{"),St("}"),vt(Zo,"}"),Bt,Bt)}function Zo(){return _t(ke,Yr)}function Ci(rt,Zt){return rt.lastType=="operator"||rt.lastType==","||H.test(Zt.charAt(0))||/[,.]/.test(Zt.charAt(0))}function Bn(rt,Zt,ar){return Zt.tokenize==I&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Zt.lastType)||Zt.lastType=="quasi"&&/\{\s*$/.test(rt.string.slice(0,rt.pos-(ar||0)))}return{startState:function(rt){var Zt={tokenize:I,lastType:"sof",cc:[],lexical:new Q((rt||0)-Kt,0,"block",!1),localVars:le.localVars,context:le.localVars&&new bt(null,null,!1),indented:rt||0};return le.globalVars&&typeof le.globalVars=="object"&&(Zt.globalVars=le.globalVars),Zt},token:function(rt,Zt){if(rt.sol()&&(Zt.lexical.hasOwnProperty("align")||(Zt.lexical.align=!1),Zt.indented=rt.indentation(),U(rt,Zt)),Zt.tokenize!=W&&rt.eatSpace())return null;var ar=Zt.tokenize(rt,Zt);return dt=="comment"?ar:(Zt.lastType=dt=="operator"&&(B=="++"||B=="--")?"incdec":dt,Tt(Zt,ar,dt,B,rt))},indent:function(rt,Zt){if(rt.tokenize==W||rt.tokenize==R)return Oe.Pass;if(rt.tokenize!=I)return 0;var ar=Zt&&Zt.charAt(0),hr=rt.lexical,Mr;if(!/^\s*else\b/.test(Zt))for(var _n=rt.cc.length-1;_n>=0;--_n){var Vn=rt.cc[_n];if(Vn==Bt)hr=hr.prev;else if(Vn!=In&&Vn!=It)break}for(;(hr.type=="stat"||hr.type=="form")&&(ar=="}"||(Mr=rt.cc[rt.cc.length-1])&&(Mr==Je||Mr==nt)&&!/^[,\.=+\-*:?[\(]/.test(Zt));)hr=hr.prev;ut&&hr.type==")"&&hr.prev.type=="stat"&&(hr=hr.prev);var Jr=hr.type,gr=ar==Jr;return Jr=="vardef"?hr.indented+(rt.lastType=="operator"||rt.lastType==","?hr.info.length+1:0):Jr=="form"&&ar=="{"?hr.indented:Jr=="form"?hr.indented+Kt:Jr=="stat"?hr.indented+(Ci(rt,Zt)?ut||Kt:0):hr.info=="switch"&&!gr&&le.doubleIndentSwitch!=!1?hr.indented+(/^(?:case|default)\b/.test(Zt)?Kt:2*Kt):hr.align?hr.column+(gr?0:1):hr.indented+(gr?0:Kt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:q?null:"/*",blockCommentEnd:q?null:"*/",blockCommentContinue:q?null:" * ",lineComment:q?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:q?"json":"javascript",jsonldMode:Ct,jsonMode:q,expressionAllowed:Bn,skipExpression:function(rt){Tt(rt,"atom","atom","true",new Oe.StringStream("",2,null))}}}),Oe.registerHelper("wordChars","javascript",/[\w$]/),Oe.defineMIME("text/javascript","javascript"),Oe.defineMIME("text/ecmascript","javascript"),Oe.defineMIME("application/javascript","javascript"),Oe.defineMIME("application/x-javascript","javascript"),Oe.defineMIME("application/ecmascript","javascript"),Oe.defineMIME("application/json",{name:"javascript",json:!0}),Oe.defineMIME("application/x-json",{name:"javascript",json:!0}),Oe.defineMIME("application/manifest+json",{name:"javascript",json:!0}),Oe.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Oe.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Oe.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(wt,he,Pe)=>{(function(Oe){Oe(Pe(631))})(function(Oe){var Re={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},le={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};Oe.defineMode("xml",function(Kt,ut){var Ct=Kt.indentUnit,q={},yt=ut.htmlMode?Re:le;for(var Y in yt)q[Y]=yt[Y];for(var Y in ut)q[Y]=ut[Y];var st,k;function H(G,Ft){function $t(bt){return Ft.tokenize=bt,bt(G,Ft)}var Lt=G.next();if(Lt=="<")return G.eat("!")?G.eat("[")?G.match("CDATA[")?$t(dt("atom","]]>")):null:G.match("--")?$t(dt("comment","-->")):G.match("DOCTYPE",!0,!0)?(G.eatWhile(/[\w\._\-]/),$t(B(1))):null:G.eat("?")?(G.eatWhile(/[\w\._\-]/),Ft.tokenize=dt("meta","?>"),"meta"):(st=G.eat("/")?"closeTag":"openTag",Ft.tokenize=ft,"tag bracket");if(Lt=="&"){var ve;return G.eat("#")?G.eat("x")?ve=G.eatWhile(/[a-fA-F\d]/)&&G.eat(";"):ve=G.eatWhile(/[\d]/)&&G.eat(";"):ve=G.eatWhile(/[\w\.\-:]/)&&G.eat(";"),ve?"atom":"error"}else return G.eatWhile(/[^&<]/),null}H.isInText=!0;function ft(G,Ft){var $t=G.next();if($t==">"||$t=="/"&&G.eat(">"))return Ft.tokenize=H,st=$t==">"?"endTag":"selfcloseTag","tag bracket";if($t=="=")return st="equals",null;if($t=="<"){Ft.tokenize=H,Ft.state=R,Ft.tagName=Ft.tagStart=null;var Lt=Ft.tokenize(G,Ft);return Lt?Lt+" tag error":"tag error"}else return/[\'\"]/.test($t)?(Ft.tokenize=ht($t),Ft.stringStartCol=G.column(),Ft.tokenize(G,Ft)):(G.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ht(G){var Ft=function($t,Lt){for(;!$t.eol();)if($t.next()==G){Lt.tokenize=ft;break}return"string"};return Ft.isInAttribute=!0,Ft}function dt(G,Ft){return function($t,Lt){for(;!$t.eol();){if($t.match(Ft)){Lt.tokenize=H;break}$t.next()}return G}}function B(G){return function(Ft,$t){for(var Lt;(Lt=Ft.next())!=null;){if(Lt=="<")return $t.tokenize=B(G+1),$t.tokenize(Ft,$t);if(Lt==">")if(G==1){$t.tokenize=H;break}else return $t.tokenize=B(G-1),$t.tokenize(Ft,$t)}return"meta"}}function V(G){return G&&G.toLowerCase()}function I(G,Ft,$t){this.prev=G.context,this.tagName=Ft||"",this.indent=G.indented,this.startOfLine=$t,(q.doNotIndent.hasOwnProperty(Ft)||G.context&&G.context.noIndent)&&(this.noIndent=!0)}function N(G){G.context&&(G.context=G.context.prev)}function W(G,Ft){for(var $t;;){if(!G.context||($t=G.context.tagName,!q.contextGrabbers.hasOwnProperty(V($t))||!q.contextGrabbers[V($t)].hasOwnProperty(V(Ft))))return;N(G)}}function R(G,Ft,$t){return G=="openTag"?($t.tagStart=Ft.column(),F):G=="closeTag"?U:R}function F(G,Ft,$t){return G=="word"?($t.tagName=Ft.current(),k="tag",J):q.allowMissingTagName&&G=="endTag"?(k="tag bracket",J(G,Ft,$t)):(k="error",F)}function U(G,Ft,$t){if(G=="word"){var Lt=Ft.current();return $t.context&&$t.context.tagName!=Lt&&q.implicitlyClosed.hasOwnProperty(V($t.context.tagName))&&N($t),$t.context&&$t.context.tagName==Lt||q.matchClosing===!1?(k="tag",$):(k="tag error",Q)}else return q.allowMissingTagName&&G=="endTag"?(k="tag bracket",$(G,Ft,$t)):(k="error",Q)}function $(G,Ft,$t){return G!="endTag"?(k="error",$):(N($t),R)}function Q(G,Ft,$t){return k="error",$(G,Ft,$t)}function J(G,Ft,$t){if(G=="word")return k="attribute",Tt;if(G=="endTag"||G=="selfcloseTag"){var Lt=$t.tagName,ve=$t.tagStart;return $t.tagName=$t.tagStart=null,G=="selfcloseTag"||q.autoSelfClosers.hasOwnProperty(V(Lt))?W($t,Lt):(W($t,Lt),$t.context=new I($t,Lt,ve==$t.indented)),R}return k="error",J}function Tt(G,Ft,$t){return G=="equals"?et:(q.allowMissing||(k="error"),J(G,Ft,$t))}function et(G,Ft,$t){return G=="string"?_t:G=="word"&&q.allowUnquoted?(k="string",J):(k="error",J(G,Ft,$t))}function _t(G,Ft,$t){return G=="string"?_t:J(G,Ft,$t)}return{startState:function(G){var Ft={tokenize:H,state:R,indented:G||0,tagName:null,tagStart:null,context:null};return G!=null&&(Ft.baseIndent=G),Ft},token:function(G,Ft){if(!Ft.tagName&&G.sol()&&(Ft.indented=G.indentation()),G.eatSpace())return null;st=null;var $t=Ft.tokenize(G,Ft);return($t||st)&&$t!="comment"&&(k=null,Ft.state=Ft.state(st||$t,G,Ft),k&&($t=k=="error"?$t+" error":k)),$t},indent:function(G,Ft,$t){var Lt=G.context;if(G.tokenize.isInAttribute)return G.tagStart==G.indented?G.stringStartCol+1:G.indented+Ct;if(Lt&&Lt.noIndent)return Oe.Pass;if(G.tokenize!=ft&&G.tokenize!=H)return $t?$t.match(/^(\s*)/)[0].length:0;if(G.tagName)return q.multilineTagIndentPastTag!==!1?G.tagStart+G.tagName.length+2:G.tagStart+Ct*(q.multilineTagIndentFactor||1);if(q.alignCDATA&&/<!\[CDATA\[/.test(Ft))return 0;var ve=Ft&&/^<(\/)?([\w_:\.-]*)/.exec(Ft);if(ve&&ve[1])for(;Lt;)if(Lt.tagName==ve[2]){Lt=Lt.prev;break}else if(q.implicitlyClosed.hasOwnProperty(V(Lt.tagName)))Lt=Lt.prev;else break;else if(ve)for(;Lt;){var bt=q.contextGrabbers[V(Lt.tagName)];if(bt&&bt.hasOwnProperty(V(ve[2])))Lt=Lt.prev;else break}for(;Lt&&Lt.prev&&!Lt.startOfLine;)Lt=Lt.prev;return Lt?Lt.indent+Ct:G.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:q.htmlMode?"html":"xml",helperType:q.htmlMode?"html":"xml",skipAttribute:function(G){G.state==et&&(G.state=J)},xmlCurrentTag:function(G){return G.tagName?{name:G.tagName,close:G.type=="closeTag"}:null},xmlCurrentContext:function(G){for(var Ft=[],$t=G.context;$t;$t=$t.prev)Ft.push($t.tagName);return Ft.reverse()}}}),Oe.defineMIME("text/xml","xml"),Oe.defineMIME("application/xml","xml"),Oe.mimeModes.hasOwnProperty("text/html")||Oe.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(wt,he,Pe)=>{Pe.d(he,{Z:()=>Kt});var Oe=Pe(346),Re=function(){var ut=function(Ct,q){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yt,Y){yt.__proto__=Y}||function(yt,Y){for(var st in Y)Object.prototype.hasOwnProperty.call(Y,st)&&(yt[st]=Y[st])},ut(Ct,q)};return function(Ct,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");ut(Ct,q);function yt(){this.constructor=Ct}Ct.prototype=q===null?Object.create(q):(yt.prototype=q.prototype,new yt)}}(),le=function(ut){Re(Ct,ut);function Ct(q,yt,Y){var st=ut.call(this,yt,Y)||this;return st._module=q,st}return Object.defineProperty(Ct.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(Ct.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(Ct.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),Ct}(Oe.Hn);const Kt=le},675:(wt,he,Pe)=>{Pe.d(he,{Z:()=>ut,q:()=>le});var Oe=Pe(642),Re=function(){var Ct=function(q,yt){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,st){Y.__proto__=st}||function(Y,st){for(var k in st)Object.prototype.hasOwnProperty.call(st,k)&&(Y[k]=st[k])},Ct(q,yt)};return function(q,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");Ct(q,yt);function Y(){this.constructor=q}q.prototype=yt===null?Object.create(yt):(Y.prototype=yt.prototype,new Y)}}(),le;(function(Ct){Ct.Select="select",Ct.Hover="hover",Ct.Spacing="spacing",Ct.Target="target",Ct.Resize="resize"})(le||(le={}));var Kt=function(Ct){Re(q,Ct);function q(){return Ct!==null&&Ct.apply(this,arguments)||this}return q.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(q.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"component",{get:function(){var yt,Y=this.get("component");return Y||((yt=this.get("componentView"))===null||yt===void 0?void 0:yt.model)},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"componentView",{get:function(){var yt,Y=this.get("componentView");return Y||((yt=this.get("component"))===null||yt===void 0?void 0:yt.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"el",{get:function(){var yt;return(yt=this.componentView)===null||yt===void 0?void 0:yt.el},enumerable:!1,configurable:!0}),q.prototype.getBoxRect=function(yt){var Y=this,st=Y.el,k=Y.em,H=k.Canvas.getCanvasView(),ft=this.get("boxRect");return ft||(st&&H?H.getElBoxRect(st,yt):{x:0,y:0,width:0,height:0})},q.prototype.getStyle=function(yt){yt===void 0&&(yt={});var Y=yt.boxRect||this.getBoxRect(yt),st=Y.width,k=Y.height,H=Y.x,ft=Y.y;return{width:"".concat(st,"px"),height:"".concat(k,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(H,"px ").concat(ft,"px")}},q.prototype.isType=function(yt){return this.type===yt},q}(Oe.Z);const ut=Kt},713:(wt,he,Pe)=>{Pe.d(he,{Z:()=>Re});var Oe;(function(le){le.run="command:run",le._run="run",le.runCommand="command:run:",le._runCommand="run:",le.runBeforeCommand="command:run:before:",le.abort="command:abort:",le._abort="abort:",le.stop="command:stop",le._stop="stop",le.stopCommand="command:stop:",le._stopCommand="stop:",le.stopBeforeCommand="command:stop:before:"})(Oe||(Oe={}));const Re=Oe},858:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re){Re.Components.clear(),Re.Css.clear()}}},884:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Kt});var Oe=Pe(50),Re=Pe(668),le=Pe(491);const Kt={run:function(ut){(0,Oe.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=ut,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(ut){this.toggleMove(),this.disableDragger()},onKeyUp:function(ut){(0,le.sN)(ut)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(ut){this.toggleDragger(1,ut)},disableDragger:function(ut){this.toggleDragger(0,ut)},toggleDragger:function(ut,Ct){var q=this,yt=q.canvasModel,Y=q.em,st=this.dragger,k=ut?"add":"remove";this.getCanvas().classList[k]("".concat(this.ppfx,"is__grabbing")),st||(st=new Re.Z({getPosition:function(){return{x:yt.get("x"),y:yt.get("y")}},setPosition:function(H){var ft=H.x,ht=H.y;yt.set({x:ft,y:ht})},onStart:function(H,ft){Y.trigger("canvas:move:start",ft)},onDrag:function(H,ft){Y.trigger("canvas:move",ft)},onEnd:function(H,ft){Y.trigger("canvas:move:end",ft)}}),this.dragger=st),ut?st.start(Ct):st.stop()},toggleMove:function(ut){var Ct=this.ppfx,q=ut?"add":"remove",yt=ut?"on":"off",Y={on:le.on,off:le.S1},st=this.getCanvas(),k=["".concat(Ct,"is__grab")];!ut&&k.push("".concat(Ct,"is__grabbing")),k.forEach(function(H){return st.classList[q](H)}),Y[yt](document,"keyup",this.onKeyUp),Y[yt](st,"mousedown",this.enableDragger),Y[yt](document,"mouseup",this.disableDragger)}}},790:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Ct,defineCommand:()=>Kt});var Oe=Pe(346),Re=Pe(713),le=function(){var q=function(yt,Y){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,k){st.__proto__=k}||function(st,k){for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(st[H]=k[H])},q(yt,Y)};return function(yt,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");q(yt,Y);function st(){this.constructor=yt}yt.prototype=Y===null?Object.create(Y):(st.prototype=Y.prototype,new st)}}();function Kt(q){return q}var ut=function(q){le(yt,q);function yt(Y){var st=q.call(this,0)||this;st.config=Y||{},st.em=st.config.em||{};var k=st.config.stylePrefix;return st.pfx=k,st.ppfx=st.config.pStylePrefix,st.hoverClass="".concat(k,"hover"),st.badgeClass="".concat(k,"badge"),st.plhClass="".concat(k,"placeholder"),st.freezClass="".concat(st.ppfx,"freezed"),st.canvas=st.em.Canvas,st.init(st.config),st}return yt.prototype.onFrameScroll=function(Y){},yt.prototype.getCanvas=function(){return this.canvas.getElement()},yt.prototype.getCanvasBody=function(){return this.canvas.getBody()},yt.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},yt.prototype.offset=function(Y){var st=Y.getBoundingClientRect();return{top:st.top+Y.ownerDocument.body.scrollTop,left:st.left+Y.ownerDocument.body.scrollLeft}},yt.prototype.init=function(Y){},yt.prototype.callRun=function(Y,st){st===void 0&&(st={});var k=this.id;if(Y.trigger("".concat(Re.Z.runBeforeCommand).concat(k),{options:st}),Y.trigger("".concat(Re.Z._runCommand).concat(k,":before"),st),st.abort){Y.trigger("".concat(Re.Z.abort).concat(k),{options:st}),Y.trigger("".concat(Re.Z._abort).concat(k),st);return}var H=st.sender||Y,ft=this.run(Y,H,st),ht={id:k,result:ft,options:st};return Y.trigger("".concat(Re.Z.runCommand).concat(k),ht),Y.trigger(Re.Z.run,ht),Y.trigger("".concat(Re.Z._runCommand).concat(k),ft,st),Y.trigger(Re.Z._run,k,ft,st),ft},yt.prototype.callStop=function(Y,st){st===void 0&&(st={});var k=this.id,H=st.sender||Y;Y.trigger("".concat(Re.Z.stopBeforeCommand).concat(k),{options:st}),Y.trigger("".concat(Re.Z._stopCommand).concat(k,":before"),st);var ft=this.stop(Y,H,st),ht={id:k,result:ft,options:st};return Y.trigger("".concat(Re.Z.stopCommand).concat(k),ht),Y.trigger(Re.Z.stop,ht),Y.trigger("".concat(Re.Z._stopCommand).concat(k),ft,st),Y.trigger(Re.Z._stop,k,ft,st),ft},yt.prototype.stopCommand=function(Y){this.em.Commands.stop(this.id,Y)},yt.prototype.run=function(Y,st,k){},yt.prototype.stop=function(Y,st,k){},yt}(Oe.Hn);const Ct=ut},180:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Kt});var Oe=Pe(50),Re=function(ut,Ct,q){if(q||arguments.length===2)for(var yt=0,Y=Ct.length,st;yt<Y;yt++)(st||!(yt in Ct))&&(st||(st=Array.prototype.slice.call(Ct,0,yt)),st[yt]=Ct[yt]);return ut.concat(st||Array.prototype.slice.call(Ct))},le={run:function(ut,Ct,q){var yt=this;q===void 0&&(q={});var Y=[],st=q.component||ut.getSelectedAll();return st=(0,Oe.isArray)(st)?Re([],st,!0):[st],st.filter(Boolean).forEach(function(k){var H,ft;if(!k.get("removable"))return yt.em.logWarning("The element is not removable",{component:k});Y.push(k);var ht=((ft=(H=k.delegate)===null||H===void 0?void 0:H.remove)===null||ft===void 0?void 0:ft.call(H,k))||k;ht.remove()}),ut.selectRemove(Y),Y}};const Kt=le},544:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>ut});var Oe=Pe(50),Re=Pe(668),le=function(){return le=Object.assign||function(Ct){for(var q,yt=1,Y=arguments.length;yt<Y;yt++){q=arguments[yt];for(var st in q)Object.prototype.hasOwnProperty.call(q,st)&&(Ct[st]=q[st])}return Ct},le.apply(this,arguments)},Kt="dmode";const ut={run:function(Ct,q,yt){var Y=this;yt===void 0&&(yt={}),(0,Oe.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var st=yt.target,k=yt.event,H=yt.mode,ft=yt.dragger,ht=ft===void 0?{}:ft,dt=st.getEl(),B=le({doc:dt.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return Y.guidesStatic},guidesTarget:function(){return Y.guidesTarget}},ht);this.setupGuides(),this.opts=yt,this.editor=Ct,this.em=Ct.getModel(),this.target=st,this.isTran=H=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var V=this.dragger;return V?V.setOptions(B):(V=new Re.Z(B),this.dragger=V),k&&V.start(k),this.toggleDrag(1),this.em.trigger("".concat(Kt,":start"),this.getEventOpts()),V},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(Ct){var q=Ct.guide;q&&q.parentNode.removeChild(q)}),this.guides=[]},getGuidesContainer:function(){var Ct=this,q=this.guidesEl;if(!q){var yt=this,Y=yt.editor,st=yt.em,k=yt.opts,H=Y.getConfig().stylePrefix,ft=document.createElement("div"),ht=document.createElement("div"),dt='<div class="'.concat(H,"guide-info__line ").concat(H,`danger-bg">
        <div class="`).concat(H,"guide-info__content ").concat(H,`danger-color"></div>
      </div>`);q=document.createElement("div"),q.className="".concat(H,"guides"),ft.className="".concat(H,"guide-info ").concat(H,"guide-info__x"),ht.className="".concat(H,"guide-info ").concat(H,"guide-info__y"),ft.innerHTML=dt,ht.innerHTML=dt,q.appendChild(ft),q.appendChild(ht),Y.Canvas.getGlobalToolsEl().appendChild(q),this.guidesEl=q,this.elGuideInfoX=ft,this.elGuideInfoY=ht,this.elGuideInfoContentX=ft.querySelector(".".concat(H,"guide-info__content")),this.elGuideInfoContentY=ht.querySelector(".".concat(H,"guide-info__content")),st.on("canvas:update frame:scroll",(0,Oe.debounce)(function(){var B;Ct.updateGuides(),k.debug&&((B=Ct.guides)===null||B===void 0||B.forEach(function(V){return Ct.renderGuide(V)}))},200))}return q},getGuidesStatic:function(){var Ct=this,q=[],yt=this.target.getEl(),Y=yt.parentNode,st=Y===void 0?{}:Y;return(0,Oe.each)(st.children,function(k){return q=q.concat(yt!==k?Ct.getElementGuides(k):[])}),q.concat(this.getElementGuides(st))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(Ct){var q=this,yt,Y;(Ct||this.guides).forEach(function(st){var k=st.origin,H=yt===k?Y:q.getElementPos(k);yt=k,Y=H,(0,Oe.each)(q.getGuidePosUpdate(st,H),function(ft,ht){return st[ht]=ft}),st.originRect=H})},getGuidePosUpdate:function(Ct,q){var yt={},Y=q.top,st=q.height,k=q.left,H=q.width;switch(Ct.type){case"t":yt.y=Y;break;case"b":yt.y=Y+st;break;case"l":yt.x=k;break;case"r":yt.x=k+H;break;case"x":yt.x=k+H/2;break;case"y":yt.y=Y+st/2;break}return yt},renderGuide:function(Ct){Ct===void 0&&(Ct={});var q=Ct.guide||document.createElement("div"),yt="px",Y=Ct.active?2:1,st=q.children[0];return q.style="position: absolute; background-color: ".concat(Ct.active?"green":"red",";"),q.children.length||(st=document.createElement("div"),st.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",q.appendChild(st)),Ct.y?(q.style.width="100%",q.style.height="".concat(Y).concat(yt),q.style.top="".concat(Ct.y).concat(yt),q.style.left=0):(q.style.width="".concat(Y).concat(yt),q.style.height="100%",q.style.left="".concat(Ct.x).concat(yt),q.style.top="0".concat(yt)),!Ct.guide&&this.guidesContainer.appendChild(q),q},getElementPos:function(Ct){return this.editor.Canvas.getElementPos(Ct,{noScroll:1})},getElementGuides:function(Ct){var q=this,yt=this.opts,Y=this.getElementPos(Ct),st=Y.top,k=Y.height,H=Y.left,ft=Y.width,ht=[{type:"t",y:st},{type:"b",y:st+k},{type:"l",x:H},{type:"r",x:H+ft},{type:"x",x:H+ft/2},{type:"y",y:st+k/2}].map(function(dt){return le(le({},dt),{origin:Ct,originRect:Y,guide:yt.debug&&q.renderGuide(dt)})});return ht.forEach(function(dt){var B;return(B=q.guides)===null||B===void 0?void 0:B.push(dt)}),ht},getTranslate:function(Ct,q){q===void 0&&(q="x");var yt=0;return(Ct||"").split(" ").forEach(function(Y){var st=Y.trim(),k="translate".concat(q.toUpperCase(),"(");st.indexOf(k)===0&&(yt=parseFloat(st.replace(k,"")))}),yt},setTranslate:function(Ct,q,yt){var Y="translate".concat(q.toUpperCase(),"("),st="".concat(Y).concat(yt,")"),k=(Ct||"").split(" ").map(function(H){var ft=H.trim();return ft.indexOf(Y)===0&&(H=st),H}).join(" ");return k.indexOf(Y)<0&&(k+=" ".concat(st)),k},getPosition:function(){var Ct=this,q=Ct.target,yt=Ct.isTran,Y=q.getStyle(),st=Y.left,k=Y.top,H=Y.transform,ft=0,ht=0;return yt?(ft=this.getTranslate(H),ht=this.getTranslate(H,"y")):(ft=parseFloat(st||0),ht=parseFloat(k||0)),{x:ft,y:ht}},setPosition:function(Ct){var q=Ct.x,yt=Ct.y,Y=Ct.end,st=Ct.position,k=Ct.width,H=Ct.height,ft=this,ht=ft.target,dt=ft.isTran,B=ft.em,V="px",I=!Y,N="".concat(parseInt(q,10)).concat(V),W="".concat(parseInt(yt,10)).concat(V),R={};if(dt){var F=ht.getStyle().transform||"";F=this.setTranslate(F,"x",N),F=this.setTranslate(F,"y",W),R={transform:F,__p:I},ht.addStyle(R,{avoidStore:!Y})}else{var U={position:st,width:k,height:H},$={left:N,top:W,__p:I};(0,Oe.keys)(U).forEach(function(Q){var J=U[Q];J&&($[Q]=J)}),R=$,ht.addStyle(R,{avoidStore:!Y})}B==null||B.Styles.__emitCmpStyleUpdate(R,{components:B.getSelected()})},_getDragData:function(){var Ct=this.target;return{target:Ct,parent:Ct.parent(),index:Ct.index()}},onStart:function(Ct){var q=this,yt=q.target,Y=q.editor,st=q.isTran,k=q.opts,H=k.center,ft=k.onStart,ht=Y.Canvas,dt=yt.getStyle(),B="absolute",V=[B,"relative"];if(ft&&ft(this._getDragData()),!st&&dt.position!==B){var I=ht.offset(yt.getEl()),N=I.left,W=I.top,R=I.width,F=I.height,U=yt.parent(),$=void 0;do{var Q=U.getStyle();$=V.indexOf(Q.position)>=0?U:null,U=U.parent()}while(U&&!$);if(H){var J=ht.getMouseRelativeCanvas(Ct),Tt=J.x,et=J.y;N=Tt,W=et}else if($){var _t=ht.offset($.getEl());N=N-_t.left,W=W-_t.top}this.setPosition({x:N,y:W,width:"".concat(R,"px"),height:"".concat(F,"px"),position:B})}},onDrag:function(){var Ct=this,q=this,yt=q.guidesTarget,Y=q.opts,st=Y.onDrag;this.updateGuides(yt),Y.debug&&yt.forEach(function(k){return Ct.renderGuide(k)}),Y.guidesInfo&&this.renderGuideInfo(yt.filter(function(k){return k.active})),st&&st(this._getDragData())},onEnd:function(Ct,q,yt){yt===void 0&&(yt={});var Y=this,st=Y.editor,k=Y.opts,H=Y.id,ft=k.onEnd;ft&&ft(Ct,yt,le(le({event:Ct},yt),this._getDragData())),st.stopCommand(H),this.hideGuidesInfo(),this.em.trigger("".concat(Kt,":end"),this.getEventOpts())},hideGuidesInfo:function(){var Ct=this;["X","Y"].forEach(function(q){var yt=Ct["elGuideInfo".concat(q)];yt&&(yt.style.display="none")})},renderGuideInfo:function(Ct){var q=this;Ct===void 0&&(Ct=[]);var yt=this.guidesStatic;this.hideGuidesInfo(),Ct.forEach(function(Y){var st=Y.origin,k=Y.x,H=q.getElementPos(st),ft=(0,Oe.isUndefined)(k)?"y":"x",ht=ft==="y",dt=H[ht?"left":"top"],B=H.rect[ht?"left":"top"],V=ht?dt+H.width:dt+H.height,I=ht?B+H.rect.width:B+H.rect.height,N=q["elGuideInfo".concat(ft.toUpperCase())],W=q["elGuideInfoContent".concat(ft.toUpperCase())],R=N.style,F=yt==null?void 0:yt.filter(function(Ht){return Ht.type===Y.type}).map(function(Ht){var It=Ht.originRect,St=It.left,Bt=It.width,Me=It.top,pe=It.height,Ae=ht?St:Me,ir=ht?St+Bt:Me+pe;return{gap:ir<dt?dt-ir:Ae-V,guide:Ht}}).filter(function(Ht){return Ht.gap>0}).sort(function(Ht,It){return Ht.gap-It.gap}).map(function(Ht){return Ht.guide})[0];if(F){var U=F.originRect,$=U.left,Q=U.width,J=U.top,Tt=U.height,et=U.rect,_t=ht?$<H.left:J<H.top,G=ht?$:J,Ft=ht?et.left:et.top,$t=ht?$+Q:J+Tt,Lt=ht?et.left+et.width:et.top+et.height,ve=ht?Y.y:Y.x,bt=_t?$t:V,jt="".concat(ve,"px"),Rt=_t?dt-$t:G-V,Xt=_t?B-Lt:Ft-I;R.display="",R[ht?"top":"left"]=jt,R[ht?"left":"top"]="".concat(bt,"px"),R[ht?"width":"height"]="".concat(Rt,"px"),W.innerHTML="".concat(Math.round(Xt),"px"),q.em.trigger("".concat(Kt,":active"),le(le({},q.getEventOpts()),{guide:Y,guidesStatic:yt,matched:F,posFirst:ve,posSecond:bt,size:Rt,sizeRaw:Xt,elGuideInfo:N,elGuideInfoCnt:W}))}})},toggleDrag:function(Ct){var q=this,yt=q.ppfx,Y=q.editor,st=Ct?"add":"remove",k=["".concat(yt,"is__grabbing")],H=Y.Canvas,ft=H.getBody();k.forEach(function(ht){return ft.classList[st](ht)}),H[Ct?"startAutoscroll":"stopAutoscroll"]()}}},236:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re){if(Re.Canvas.hasFocus()){var le=[];Re.getSelectedAll().forEach(function(Kt){var ut=Kt.components(),Ct=ut&&ut.filter(function(q){return q.get("selectable")})[0];Ct&&le.push(Ct)}),le.length&&Re.select(le)}}}},368:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re,le,Kt){if(Kt===void 0&&(Kt={}),!(!Re.Canvas.hasFocus()&&!Kt.force)){var ut=[];Re.getSelectedAll().forEach(function(Ct){for(var q=Ct.parent();q&&!q.get("selectable");)q=q.parent();q&&ut.push(q)}),ut.length&&Re.select(ut)}}}},243:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re){if(Re.Canvas.hasFocus()){var le=[];Re.getSelectedAll().forEach(function(Kt){var ut=Kt.parent();if(ut){var Ct=ut.components().length,q=0,yt=0,Y;do q++,yt=Kt.index()+q,Y=yt<=Ct?ut.getChildAt(yt):null;while(Y&&!Y.get("selectable"));le.push(Y||Kt)}}),le.length&&Re.select(le)}}}},400:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re){if(Re.Canvas.hasFocus()){var le=[];Re.getSelectedAll().forEach(function(Kt){var ut=Kt.parent();if(ut){var Ct=0,q=0,yt;do Ct++,q=Kt.index()-Ct,yt=q>=0?ut.getChildAt(q):null;while(yt&&!yt.get("selectable"));le.push(yt||Kt)}}),le.length&&Re.select(le)}}}},910:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(50);const Re={run:function(le,Kt,ut){ut===void 0&&(ut={});var Ct=ut.target,q=[];if(!Ct.get("styles"))return q;var yt=Ct.get("type"),Y=le.Pages.getAllWrappers(),st=(0,Oe.flatten)(Y.map(function(H){return H.findType(yt)})).length;if(!st){var k=le.CssComposer.getAll();q=k.filter(function(H){return H.get("group")==="cmp:".concat(yt)}),k.remove(q)}return q}}},744:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=function(le,Kt,ut){if(ut||arguments.length===2)for(var Ct=0,q=Kt.length,yt;Ct<q;Ct++)(yt||!(Ct in Kt))&&(yt||(yt=Array.prototype.slice.call(Kt,0,Ct)),yt[Ct]=Kt[Ct]);return le.concat(yt||Array.prototype.slice.call(Kt))};const Re={run:function(le){var Kt=le.getModel(),ut=Oe([],le.getSelectedAll(),!0).map(function(Ct){var q,yt;return((yt=(q=Ct.delegate)===null||q===void 0?void 0:q.copy)===null||yt===void 0?void 0:yt.call(q,Ct))||Ct}).filter(Boolean);ut.length&&Kt.set("clipboard",ut)}}},457:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(491);const Re={run:function(le,Kt,ut){var Ct=this;ut===void 0&&(ut={}),Kt&&Kt.set&&Kt.set("active",0);var q=le.getConfig(),yt=le.Modal,Y=q.stylePrefix;if(this.cm=le.CodeManager||null,!this.editors){var st=this.buildEditor("htmlmixed","hopscotch","HTML"),k=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=st.model,this.cssEditor=k.model;var H=(0,Oe.ut)("div",{class:"".concat(Y,"export-dl")});H.appendChild(st.el),H.appendChild(k.el),this.editors=H}yt.open({title:q.textViewCode,content:this.editors}).getModel().once("change:open",function(){return le.stopCommand("".concat(Ct.id))}),this.htmlEditor.setContent(le.getHtml(ut.optsHtml)),this.cssEditor.setContent(le.getCss(ut.optsCss))},stop:function(le){var Kt=le.Modal;Kt&&Kt.close()},buildEditor:function(le,Kt,ut){var Ct=this.em.CodeManager,q=Ct.createViewer({label:ut,codeName:le,theme:Kt}),yt=new Ct.EditorView({model:q,config:Ct.getConfig()}).render().el;return{model:q,el:yt}}}},975:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(50);const Re={isEnabled:function(){var le=document;return!!(le.fullscreenElement||le.webkitFullscreenElement||le.mozFullScreenElement)},enable:function(le){var Kt="";return le.requestFullscreen?le.requestFullscreen():le.webkitRequestFullscreen?(Kt="webkit",le.webkitRequestFullscreen()):le.mozRequestFullScreen?(Kt="moz",le.mozRequestFullScreen()):le.msRequestFullscreen&&le.msRequestFullscreen(),Kt},disable:function(){var le=document;this.isEnabled()&&(le.exitFullscreen?le.exitFullscreen():le.webkitExitFullscreen?le.webkitExitFullscreen():le.mozCancelFullScreen?le.mozCancelFullScreen():le.msExitFullscreen&&le.msExitFullscreen())},fsChanged:function(le){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(le||"","fullscreenchange"),this.fsChanged))},run:function(le,Kt,ut){ut===void 0&&(ut={}),this.sender=Kt;var Ct=ut.target,q=(0,Oe.isElement)(Ct)?Ct:document.querySelector(Ct),yt=this.enable(q||le.getContainer());this.fsChanged=this.fsChanged.bind(this,yt),document.addEventListener(yt+"fullscreenchange",this.fsChanged)},stop:function(le,Kt){Kt&&Kt.set&&Kt.set("active",!1),this.disable()}}},191:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Ct});var Oe=Pe(50),Re=Pe(895),le=Pe(491),Kt=Pe(407),ut=Pe(189);const Ct=(0,Oe.extend)({},ut.default,Kt.default,{init:function(q){Kt.default.init.apply(this,arguments),(0,Oe.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=q,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var q=[],yt=0;yt<arguments.length;yt++)q[yt]=arguments[yt];Kt.default.enable.apply(this,q),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var Y=this.$wrapper;Y.css("cursor","move"),Y.on("mousedown",this.initSorter),Y.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(q){var yt=(0,Re.default)(q.target).data("model"),Y=yt.get("draggable");Y&&(this.cacheEl=null,this.startSelectPosition(q.target,this.frameEl.contentDocument),this.sorter.draggable=Y,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,le.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(q){var yt=q.get("draggable");if(yt){this.cacheEl=null;var Y=q.view.el;this.startSelectPosition(Y,this.frameEl.contentDocument),this.sorter.draggable=yt,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,le.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(q){this.cacheEl=null;var yt=q[q.length-1],Y=this.em.getCurrentFrame(),st=yt.getEl(Y==null?void 0:Y.model),k=st.ownerDocument;this.startSelectPosition(st,k,{onStart:this.onStart}),this.sorter.draggable=yt.get("draggable"),this.sorter.toMove=q,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,le.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,le.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,le.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(q,yt){},rollback:function(q,yt){var Y=q.which||q.keyCode;(Y==27||yt)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,Re.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,Re.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var q=[],yt=0;yt<arguments.length;yt++)q[yt]=arguments[yt];Kt.default.stop.apply(this,q),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var Y=this.$wrapper;Y.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>le});var Oe=Pe(50),Re=Pe(491);const le={open:function(Kt){var ut=this,Ct=this,q=Ct.editor,yt=Ct.title,Y=Ct.config,st=Ct.am,k=Y.custom;if((0,Oe.isFunction)(k.open))return k.open(st.__customData());var H=q.Modal;H.open({title:yt,content:Kt}).onceClose(function(){return q.stopCommand(ut.id)})},close:function(){var Kt=this.config.custom;if((0,Oe.isFunction)(Kt.close))return Kt.close(this.am.__customData());var ut=this.editor.Modal;ut&&ut.close()},run:function(Kt,ut,Ct){Ct===void 0&&(Ct={});var q=Kt.AssetManager,yt=q.getConfig(),Y=Ct.types,st=Y===void 0?[]:Y,k=Ct.accept,H=Ct.select;if(this.title=Ct.modalTitle||Kt.t("assetManager.modalTitle")||"",this.editor=Kt,this.config=yt,this.am=q,q.setTarget(Ct.target),q.onClick(Ct.onClick),q.onDblClick(Ct.onDblClick),q.onSelect(Ct.onSelect),q.__behaviour({select:H,types:st,options:Ct}),yt.custom)this.rendered=this.rendered||(0,Re.ut)("div"),this.rendered.className="".concat(yt.stylePrefix,"custom-wrp"),q.__behaviour({container:this.rendered}),q.__trgCustom();else{if(!this.rendered||st){var ft=q.getAll().filter(function(dt){return dt});st&&st.length&&(ft=ft.filter(function(dt){return st.indexOf(dt.get("type"))!==-1})),q.render(ft),this.rendered=q.getContainer()}if(k){var ht=this.rendered.querySelector("input#".concat(yt.stylePrefix,"uploadFile"));ht&&ht.setAttribute("accept",k)}}return this.open(this.rendered),this},stop:function(Kt){this.editor=Kt,this.close(this.rendered)}}},117:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>le});var Oe=Pe(50),Re=Pe(491);const le={open:function(){var Kt=this,ut=Kt.container,Ct=Kt.editor,q=Kt.bm,yt=Kt.config,Y=yt.custom,st=yt.appendTo;if((0,Oe.isFunction)(Y.open))return Y.open(q.__customData());if(this.firstRender&&!st){var k="views-container",H=Ct.Panels,ft=H.getPanel(k)||H.addPanel({id:k});ft.set("appendContent",ut).trigger("change:appendContent"),Y||ut.appendChild(q.render())}ut&&(ut.style.display="block")},close:function(){var Kt=this,ut=Kt.container,Ct=Kt.config,q=Ct.custom;if((0,Oe.isFunction)(q.close))return q.close(this.bm.__customData());ut&&(ut.style.display="none")},run:function(Kt){var ut=Kt.Blocks;this.config=ut.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,Re.ut)("div"),this.editor=Kt,this.bm=ut;var Ct=this.container;ut.__behaviour({container:Ct}),this.config.custom&&ut.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Oe});const Oe={run:function(Re){var le=Re.LayerManager,Kt=Re.Panels,ut=le.getConfig();if(!ut.appendTo){if(!this.layers){var Ct="views-container",q=document.createElement("div"),yt=Kt.getPanel(Ct)||Kt.addPanel({id:Ct});ut.custom?le.__trgCustom({container:q}):q.appendChild(le.render()),yt.set("appendContent",q).trigger("change:appendContent"),this.layers=q}this.layers.style.display="block"}},stop:function(){var Re=this.layers;Re&&(Re.style.display="none")}}},801:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(895);const Re={run:function(le,Kt){if(this.sender=Kt,!this.$cnt){var ut=le.getConfig(),Ct=le.Panels,q=le.DeviceManager,yt=le.SelectorManager,Y=le.StyleManager,st="change:appendContent",k=(0,Oe.default)("<div></div>"),H=(0,Oe.default)("<div></div>"),ft=(0,Oe.default)("<div></div>"),ht=(0,Oe.default)("<div></div>");if(this.$cnt=k,this.$cntInner=H,H.append(ft),H.append(ht),k.append(H),q&&ut.showDevices){var dt=Ct.addPanel({id:"devices-c"}),B=q.render();dt.set("appendContent",B).trigger(st)}var V=yt.getConfig();V.custom?yt.__trgCustom({container:ft.get(0)}):V.appendTo||ft.append(yt.render([])),this.sm=Y;var I=Y.getConfig(),N=I.stylePrefix;this.$header=(0,Oe.default)('<div class="'.concat(N,'header">').concat(le.t("styleManager.empty"),"</div>")),k.append(this.$header),I.custom?Y.__trgCustom({container:ht.get(0)}):I.appendTo||ht.append(Y.render());var W="views-container",R=Ct.getPanel(W)||Ct.addPanel({id:W});R.set("appendContent",k).trigger(st);var F=le.getModel();this.listenTo(F,Y.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var le=this,Kt=le.sender,ut=le.sm,Ct=le.$cntInner,q=le.$header;Kt&&Kt.get&&!Kt.get("active")||!ut||(ut.getSelected()?(Ct==null||Ct.show(),q==null||q.hide()):(Ct==null||Ct.hide(),q==null||q.show()))},stop:function(){var le,Kt;(le=this.$cntInner)===null||le===void 0||le.hide(),(Kt=this.$header)===null||Kt===void 0||Kt.hide()}}},395:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(895);const Re={run:function(le,Kt){this.sender=Kt;var ut=le.getModel(),Ct=le.Config,q=Ct.stylePrefix,yt=le.TraitManager,Y=yt.getConfig(),st;if(!Y.appendTo){if(!this.$cn){this.$cn=(0,Oe.default)("<div></div>"),this.$cn2=(0,Oe.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,Oe.default)("<div>").append('<div class="'.concat(Y.stylePrefix,'header">').concat(ut.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),Y.custom?yt.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(q,'traits-label">').concat(ut.t("traitManager.label"),"</div>")),this.$cn2.append(yt.render()));var k=le.Panels;k.getPanel("views-container")?st=k.getPanel("views-container"):st=k.addPanel({id:"views-container"}),st==null||st.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=le.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var le=this.sender;le&&le.get&&!le.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(50);const Re={run:function(Kt,ut,Ct){Ct===void 0&&(Ct={});var q=Kt.getModel(),yt=q.get("clipboard"),Y=Kt.getSelected();yt!=null&&yt.length&&Y&&(Kt.getSelectedAll().forEach(function(st){var k,H,ft,ht=((H=(k=st.delegate)===null||k===void 0?void 0:k.copy)===null||H===void 0?void 0:H.call(k,st))||st,dt=ht.collection,B;if(dt){var V=ht.index()+1,I={at:V,action:Ct.action||"paste-component"};(0,Oe.contains)(yt,ht)&&ht.get("copyable")?B=dt.add(ht.clone(),I):B=le(Kt,yt,ht.parent(),I)}else{var N=(ft=q.Pages.getSelected())===null||ft===void 0?void 0:ft.getMainComponent(),I={at:(N==null?void 0:N.components().length)||0,action:Ct.action||"paste-component"};B=le(Kt,yt,N,I)}B=(0,Oe.isArray)(B)?B:[B],B.forEach(function(W){return Kt.trigger("component:paste",W)})}),Y.emitUpdate())}};function le(Kt,ut,Ct,q){var yt=ut.filter(function(st){return st.get("copyable")}),Y=yt.filter(function(st){return Kt.Components.canMove(Ct,st).result});return Ct.components().add(Y.map(function(st){return st.clone()}),q)}},129:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Kt});var Oe=Pe(50),Re=function(ut,Ct,q){if(q||arguments.length===2)for(var yt=0,Y=Ct.length,st;yt<Y;yt++)(st||!(yt in Ct))&&(st||(st=Array.prototype.slice.call(Ct,0,yt)),st[yt]=Ct[yt]);return ut.concat(st||Array.prototype.slice.call(Ct))},le="core:component-outline";const Kt={getPanels:function(ut){return this.panels||(this.panels=ut.Panels.getPanels()),this.panels},preventDrag:function(ut){ut.abort=1},tglEffects:function(ut){var Ct=this.em,q=ut?"on":"off";if(Ct){var yt=Ct.Canvas,Y=yt.getBody(),st=yt.getToolbarEl();st&&(st.style.display=ut?"none":"");var k=Y.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,Oe.each)(k,function(H){return H.style.pointerEvents=ut?"all":""}),Ct[q]("run:tlb-move:before",this.preventDrag)}},run:function(ut,Ct){var q=this;this.sender=Ct,this.selected=Re([],ut.getSelectedAll(),!0),ut.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=ut.Commands.isActive(le)),this.shouldRunSwVisibility&&ut.stopCommand(le),ut.getModel().stopDefault();var yt=this.getPanels(ut),Y=ut.Canvas.getElement(),st=ut.getEl(),k=ut.Config.stylePrefix;if(!this.helper){var H=document.createElement("span");H.className="".concat(k,"off-prv fa fa-eye-slash"),st.appendChild(H),H.onclick=function(){return q.stopCommand()},this.helper=H}this.helper.style.display="inline-block",yt.forEach(function(ht){return ht.set("visible",!1)});var ft=Y.style;ft.width="100%",ft.height="100%",ft.top="0",ft.left="0",ft.padding="0",ft.margin="0",ut.refresh(),this.tglEffects(1)},stop:function(ut){var Ct=this,q=Ct.sender,yt=q===void 0?{}:q,Y=Ct.selected;yt.set&&yt.set("active",0);var st=this.getPanels(ut);this.shouldRunSwVisibility&&(ut.runCommand(le),this.shouldRunSwVisibility=!1),ut.getModel().runDefault(),st.forEach(function(H){return H.set("visible",!0)});var k=ut.Canvas.getElement();k.setAttribute("style",""),Y&&ut.select(Y),delete this.selected,this.helper&&(this.helper.style.display="none"),ut.refresh(),this.tglEffects()}}},116:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=function(){return Oe=Object.assign||function(le){for(var Kt,ut=1,Ct=arguments.length;ut<Ct;ut++){Kt=arguments[ut];for(var q in Kt)Object.prototype.hasOwnProperty.call(Kt,q)&&(le[q]=Kt[q])}return le},Oe.apply(this,arguments)};const Re={run:function(le,Kt,ut){var Ct=ut||{},q=le.Canvas,yt=q.getCanvasView(),Y=Oe({appendTo:q.getResizerEl(),prefix:le.getConfig().stylePrefix,posFetcher:yt.getElementPos.bind(yt),mousePosFetcher:q.getMouseRelativePos.bind(q)},Ct.options||{}),st=this.canvasResizer;return(!st||Ct.forceNew)&&(this.canvasResizer=new le.Utils.Resizer(Y),st=this.canvasResizer),st.setOptions(Y,!0),st.blur(),st.focus(Ct.el),st},stop:function(){var le;(le=this.canvasResizer)===null||le===void 0||le.blur()}}},407:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>U});var Oe=Pe(50),Re=Pe(346),le=function(){var $=function(Q,J){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,et){Tt.__proto__=et}||function(Tt,et){for(var _t in et)Object.prototype.hasOwnProperty.call(et,_t)&&(Tt[_t]=et[_t])},$(Q,J)};return function(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");$(Q,J);function Tt(){this.constructor=Q}Q.prototype=J===null?Object.create(J):(Tt.prototype=J.prototype,new Tt)}}(),Kt=function($){le(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q.prototype.defaults=function(){return{command:"",attributes:{}}},Q}(Re.Hn);const ut=Kt;var Ct=function(){var $=function(Q,J){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,et){Tt.__proto__=et}||function(Tt,et){for(var _t in et)Object.prototype.hasOwnProperty.call(et,_t)&&(Tt[_t]=et[_t])},$(Q,J)};return function(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");$(Q,J);function Tt(){this.constructor=Q}Q.prototype=J===null?Object.create(J):(Tt.prototype=J.prototype,new Tt)}}(),q=function($){Ct(Q,$);function Q(){return $!==null&&$.apply(this,arguments)||this}return Q}(Re.FE);const yt=q;q.prototype.model=ut;var Y=Pe(330),st=function(){var $=function(Q,J){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,et){Tt.__proto__=et}||function(Tt,et){for(var _t in et)Object.prototype.hasOwnProperty.call(et,_t)&&(Tt[_t]=et[_t])},$(Q,J)};return function(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");$(Q,J);function Tt(){this.constructor=Q}Q.prototype=J===null?Object.create(J):(Tt.prototype=J.prototype,new Tt)}}(),k=function(){return k=Object.assign||function($){for(var Q,J=1,Tt=arguments.length;J<Tt;J++){Q=arguments[J];for(var et in Q)Object.prototype.hasOwnProperty.call(Q,et)&&($[et]=Q[et])}return $},k.apply(this,arguments)},H=function($){st(Q,$);function Q(J){var Tt=$.call(this,J)||this;return Tt.em=J.config.em,Tt}return Q.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},Q.prototype.attributes=function(){return this.model.get("attributes")},Q.prototype.handleClick=function(J){J.preventDefault(),J.stopPropagation();var Tt=this.em,et=Tt.Canvas.getFrameEl().getBoundingClientRect(),_t=et.left,G=et.top,Ft=k(k({},J),{clientX:J.clientX-_t,clientY:J.clientY-G});Tt.trigger("toolbar:run:before",{event:Ft}),this.execCommand(Ft)},Q.prototype.execCommand=function(J){var Tt=this,et=Tt.em,_t=Tt.model,G={event:J},Ft=_t.get("command"),$t=et.Editor;(0,Oe.isFunction)(Ft)&&Ft($t,null,G),(0,Oe.isString)(Ft)&&$t.runCommand(Ft,G)},Q.prototype.render=function(){var J=this,Tt=J.em,et=J.$el,_t=J.model,G=_t.get("id"),Ft=_t.get("label"),$t=Tt.getConfig().stylePrefix;return et.addClass("".concat($t,"toolbar-item")),G&&et.addClass("".concat($t,"toolbar-item__").concat(G)),Ft&&et.append(Ft),this},Q}(Re.G7);const ft=H;var ht=function(){var $=function(Q,J){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,et){Tt.__proto__=et}||function(Tt,et){for(var _t in et)Object.prototype.hasOwnProperty.call(et,_t)&&(Tt[_t]=et[_t])},$(Q,J)};return function(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");$(Q,J);function Tt(){this.constructor=Q}Q.prototype=J===null?Object.create(J):(Tt.prototype=J.prototype,new Tt)}}(),dt=function($){ht(Q,$);function Q(J){var Tt=$.call(this,J)||this,et=J.em;return Tt.em=et,Tt.config={em:et},Tt.listenTo(Tt.collection,"reset",Tt.render),Tt}return Q.prototype.onRender=function(){var J=this.em.config.stylePrefix;this.el.className="".concat(J,"toolbar-items")},Q}(Y.Z);const B=dt;dt.prototype.itemView=ft;var V=Pe(491),I=Pe(163),N=Pe(675),W=function(){return W=Object.assign||function($){for(var Q,J=1,Tt=arguments.length;J<Tt;J++){Q=arguments[J];for(var et in Q)Object.prototype.hasOwnProperty.call(Q,et)&&($[et]=Q[et])}return $},W.apply(this,arguments)},R=function($,Q){var J={};for(var Tt in $)Object.prototype.hasOwnProperty.call($,Tt)&&Q.indexOf(Tt)<0&&(J[Tt]=$[Tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,Tt=Object.getOwnPropertySymbols($);et<Tt.length;et++)Q.indexOf(Tt[et])<0&&Object.prototype.propertyIsEnumerable.call($,Tt[et])&&(J[Tt[et]]=$[Tt[et]]);return J},F;const U={activeResizer:!1,init:function(){this.onSelect=(0,Oe.debounce)(this.onSelect,0),(0,Oe.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),F=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function($){var Q=this,J=this.em,Tt=J.getConfig().listenToEl,et=J.getContainer().parentNode,_t=$?"on":"off",G={on:V.on,off:V.S1};!Tt.length&&et&&Tt.push(et);var Ft=function($t,Lt){G[_t](Lt,"mouseover",Q.onHover),G[_t](Lt,"mouseleave",Q.onOut),G[_t](Lt,"click",Q.onClick),G[_t]($t,"scroll",Q.onFrameScroll,!0),G[_t]($t,"resize",Q.onFrameResize)};G[_t](window,"resize",this.onFrameUpdated),G[_t](Tt,"scroll",this.onContainerChange),J[_t]("component:toggled component:update undo redo",this.onSelect,this),J[_t]("change:componentHovered",this.onHovered,this),J[_t]("component:resize styleable:change component:input",this.updateGlobalPos,this),J[_t]("component:update:toolbar",this._upToolbar,this),J[_t]("frame:updated",this.onFrameUpdated,this),J[_t]("canvas:updateTools",this.onFrameUpdated,this),J[_t](J.Canvas.events.refresh,this.updateAttached,this),J.Canvas.getFrames().forEach(function($t){var Lt=$t.view,ve=Lt==null?void 0:Lt.getWindow();ve&&Ft(ve,Lt==null?void 0:Lt.getBody())})},onHover:function($){$.stopPropagation();var Q=this.em,J=$.target,Tt=(0,I.getComponentView)(J),et=Tt==null?void 0:Tt.frameView,_t=Tt==null?void 0:Tt.model;if(!_t)for(var G=J.parentNode;!_t&&G&&!(0,V.Mx)(G);)_t=(0,I.getComponentModel)(G),G=G.parentNode;this.currentDoc=J.ownerDocument,Q.setHovered(_t,{useValid:!0}),et&&Q.setCurrentFrame(et)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function($,Q){var J=this,Tt,et={};Q?(Tt=Q.views)===null||Tt===void 0||Tt.forEach(function(_t){var G=_t.el,Ft=J.getElementPos(G);et={el:G,pos:Ft,component:Q,view:(0,I.getViewEl)(G)},G.ownerDocument===J.currentDoc&&(J.elHovered=et),J.updateToolsLocal(et)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(_t){var G=_t.view,Ft=G&&G.getToolsEl();Ft&&J.toggleToolsEl(0,0,{el:Ft})}))},onSelect:function(){var $=this.em,Q=$.getSelected(),J=$.getCurrentFrame(),Tt=Q&&Q.getView(J==null?void 0:J.model),et=Tt&&Tt.el,_t={};if(et&&(0,V.pn)(et)){var G=this.getElementPos(et);_t={el:et,pos:G,component:Q,view:(0,I.getViewEl)(et)}}this.elSelected=_t,this.updateToolsGlobal(),this.updateLocalPos(_t),this.initResize(Q)},updateGlobalPos:function(){var $=this.getElSelected();$.el&&($.pos=this.getElementPos($.el),this.updateToolsGlobal())},updateLocalPos:function($){var Q=this.getElHovered();Q.el&&(Q.pos=this.getElementPos(Q.el),this.updateToolsLocal($))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function($,Q,J){J===void 0&&(J={});var Tt=J.el||this.canvas.getToolsEl(Q);return Tt&&(Tt.style.display=$?"":"none"),Tt||{}},showElementOffset:function($,Q,J){J===void 0&&(J={}),F&&this.editor.runCommand("show-offset",{el:$,elPos:Q,view:J.view,force:1,top:0,left:0})},hideElementOffset:function($){this.editor.stopCommand("show-offset",{view:$})},showFixedElementOffset:function($,Q){this.editor.runCommand("show-offset",{el:$,elPos:Q,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function($){this.canvas.getHighlighter($).style.opacity=0},onClick:function($){$.stopPropagation(),$.preventDefault();var Q=this.em;if(Q.get("_cmpDrag"))return Q.set("_cmpDrag");var J=$.target,Tt=(0,I.getComponentModel)(J);if(!Tt)for(var et=J.parentNode;!Tt&&et&&!(0,V.Mx)(et);)Tt=(0,I.getComponentModel)(et),et=et.parentNode;if(Tt){if(Q.isEditing()&&!Tt.get("textable")&&Tt.isChildOf("text"))return;this.select(Tt,$)}},select:function($,Q){Q===void 0&&(Q={}),$&&(this.editor.select($,{event:Q,useValid:!0}),this.initResize($))},updateBadge:function($,Q,J){J===void 0&&(J={});var Tt=this.canvas,et=(0,I.getComponentModel)($),_t=this.getBadge(J),G=_t.style;if(!et||!et.get("badgable")){G.display="none";return}if(!J.posOnly){var Ft=this.canvas.getConfig(),$t=et.getIcon(),Lt=Ft.pStylePrefix||"",ve="".concat(Lt,"badge"),bt=Ft.customBadgeLabel,jt="".concat($t?'<div class="'.concat(ve,'__icon">').concat($t,"</div>"):"",`
        <div class="`).concat(ve,'__name">').concat(et.getName(),"</div>");_t.innerHTML=bt?bt(et):jt}var Rt="px";G.display="block";var Xt=Tt.getTargetToElementFixed($,_t,{pos:Q}),Ht=Xt.top,It=J.leftOff<0?-J.leftOff:0;G.top=Ht+Rt,G.left=It+Rt},showHighlighter:function($){this.canvas.getHighlighter($).style.opacity=""},initResize:function($){var Q=this,J=Q.em,Tt=Q.canvas,et=J.Editor,_t=!(0,Oe.isElement)($)&&(0,V.o5)($)?$:J.getSelected(),G=_t==null?void 0:_t.get("resizable"),Ft=N.q.Resize,$t=Tt.hasCustomSpot(Ft);if(Tt.removeSpots({type:Ft}),_t&&G){Tt.addSpot({type:Ft,component:_t});var Lt=(0,Oe.isElement)($)?$:_t.getEl(),ve=(0,I.isObject)(G)?G:{},bt=ve.onStart,jt=bt===void 0?function(){}:bt,Rt=ve.onMove,Xt=Rt===void 0?function(){}:Rt,Ht=ve.onEnd,It=Ht===void 0?function(){}:Ht,St=ve.updateTarget,Bt=St===void 0?function(){}:St,Me=R(ve,["onStart","onMove","onEnd","updateTarget"]);if($t||!Lt||this.activeResizer)return;var pe,Ae=J.config,ir=Ae.stylePrefix||"",Or="".concat(ir,"resizing"),Nr=this,Dr={component:_t,el:Lt},Vr=function(nt,Et,qt){var me=qt.docs;me&&me.forEach(function(Le){var lt=Le.body,ue=lt.className||"";lt.className=(nt=="add"?"".concat(ue," ").concat(Or):ue.replace(Or,"")).trim()})},Je=W({onStart:function(nt,Et){jt(nt,Et);var qt=Et.el,me=Et.config,Le=Et.resizer,lt=me.keyHeight,ue=me.keyWidth,se=me.currentUnit,nr=me.keepAutoHeight,vr=me.keepAutoWidth;Vr("add",nt,Et),pe=J.Styles.getModelToStyle(_t),Tt.toggleFramesEvents(!1);var Qe=getComputedStyle(qt),Ir=pe.getStyle(),rn=Ir[ue];me.autoWidth=vr&&rn==="auto",isNaN(parseFloat(rn))&&(rn=Qe[ue]);var vt=Ir[lt];me.autoHeight=nr&&vt==="auto",isNaN(parseFloat(vt))&&(vt=Qe[lt]),Le.startDim.w=parseFloat(rn),Le.startDim.h=parseFloat(vt),F=!1,se&&(me.unitHeight=(0,I.getUnitFromValue)(vt),me.unitWidth=(0,I.getUnitFromValue)(rn)),Nr.activeResizer=!0,et.trigger("component:resize",W(W({},Dr),{type:"start"}))},onMove:function(nt){Xt(nt),et.trigger("component:resize",W(W({},Dr),{type:"move"}))},onEnd:function(nt,Et){It(nt,Et),Vr("remove",nt,Et),et.trigger("component:resize",W(W({},Dr),{type:"end"})),Tt.toggleFramesEvents(!0),F=!0,Nr.activeResizer=!1},updateTarget:function(nt,Et,qt){if(Bt(nt,Et,qt),!!pe){var me=qt.store,Le=qt.selectedHandler,lt=qt.config,ue=lt.keyHeight,se=lt.keyWidth,nr=lt.autoHeight,vr=lt.autoWidth,Qe=lt.unitWidth,Ir=lt.unitHeight,rn=["tc","bc"].indexOf(Le)>=0,vt=["cl","cr"].indexOf(Le)>=0,Wt={};if(!rn){var fe=Tt.getBody().offsetWidth,Vt=Et.w<fe?Et.w:fe;Wt[se]=vr?"auto":"".concat(Vt).concat(Qe)}vt||(Wt[ue]=nr?"auto":"".concat(Et.h).concat(Ir)),J.getDragMode(_t)&&(Wt.top="".concat(Et.t).concat(Ir),Wt.left="".concat(Et.l).concat(Qe));var Ce=W(W({},Wt),{__p:!me});pe.addStyle(Ce,{avoidStore:!me}),J.Styles.__emitCmpStyleUpdate(Ce,{components:J.getSelected()})}}},Me);this.resizer=et.runCommand("resize",{el:Lt,options:Je,force:1})}else{if($t)return;et.stopCommand("resize"),this.resizer=null}},updateToolbar:function($){var Q=this.canvas,J=this.config.em,Tt=$===J?J.getSelected():$,et=Q.getToolbarEl(),_t=et.style,G=Tt.get("toolbar"),Ft=J.config.showToolbar,$t=!Q.hasCustomSpot(N.q.Select);if(Tt&&Ft&&G&&G.length&&$t){if(_t.display="",!this.toolbar){et.innerHTML="",this.toolbar=new yt(G);var Lt=new B({collection:this.toolbar,em:J});et.appendChild(Lt.render().el)}this.toolbar.reset(G),_t.top="-100px",_t.left="0"}else _t.display="none"},updateToolbarPos:function($){var Q="px",J=this.canvas.getToolbarEl().style;J.top="".concat($.top).concat(Q),J.left="".concat($.left).concat(Q),J.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function($){return $===void 0&&($={}),this.canvas.getBadgeEl($.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function($){return $&&$.get("status")==="selected"},updateToolsLocal:function($){var Q=this.em.getConfig(),J=$||this.getElHovered(),Tt=J.el,et=J.pos,_t=J.view,G=J.component;if(!Tt){this.lastHovered=0;return}var Ft=G.get("hoverable"),$t=this.lastHovered!==Tt,Lt=$t?{}:{posOnly:1},ve=this.canvas.hasCustomSpot(N.q.Hover);$t&&Ft&&(this.lastHovered=Tt,ve?this.hideHighlighter(_t):this.showHighlighter(_t),this.showElementOffset(Tt,et,{view:_t})),this.isCompSelected(G)&&(this.hideHighlighter(_t),!Q.showOffsetsSelected&&this.hideElementOffset(_t));var bt="px",jt=this.toggleToolsEl(1,_t),Rt=jt.style,Xt=this.canvas.canvasRectOffset(Tt,et),Ht=Xt.top,It=Xt.left;!ve&&this.updateBadge(Tt,et,W(W({},Lt),{view:_t,topOff:Ht,leftOff:It})),Rt.top=Ht+bt,Rt.left=It+bt,Rt.width=et.width+bt,Rt.height=et.height+bt,this._trgToolUp("local",{component:G,el:jt,top:Ht,left:It,width:et.width,height:et.height})},_upToolbar:(0,Oe.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function($,Q){Q===void 0&&(Q={}),this.em.trigger("canvas:tools:update",W({type:$},Q))},updateToolsGlobal:function($){$===void 0&&($={});var Q=this.getElSelected(),J=Q.el,Tt=Q.pos,et=Q.component;if(!J){this.toggleToolsEl(),this.lastSelected=0;return}var _t=this.canvas,G=this.lastSelected!==J;(G||$.force)&&(this.lastSelected=J,this.updateToolbar(et));var Ft="px",$t=this.toggleToolsEl(1),Lt=$t.style,ve=_t.getTargetToElementFixed(J,_t.getToolbarEl(),{pos:Tt}),bt=ve.canvasOffsetTop,jt=ve.canvasOffsetLeft;Lt.top=bt+Ft,Lt.left=jt+Ft,Lt.width=Tt.width+Ft,Lt.height=Tt.height+Ft,this.updateToolbarPos({top:ve.top,left:ve.left}),this._trgToolUp("global",{component:et,el:$t,top:bt,left:jt,width:Tt.width,height:Tt.height})},updateAttached:(0,Oe.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,Oe.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function($){return this.canvas.getCanvasView().getElementPos($,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function($){$&&$.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function($){(0,I.hasWin)()&&(this.editor=$&&$.get("Editor"),this.enable())},stop:function($,Q,J){if(J===void 0&&(J={}),!!(0,I.hasWin)()){var Tt=this,et=Tt.em,_t=Tt.editor;this.onHovered(),this.stopSelectComponent(),!J.preserveSelected&&et.setSelected(),this.toggleToolsEl(),_t&&_t.stopCommand("resize")}}}},189:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Re});var Oe=Pe(895);const Re={startSelectPosition:function(le,Kt,ut){var Ct=this;ut===void 0&&(ut={}),this.isPointed=!1;var q=this.em.Utils,yt=le.ownerDocument.body;q&&!this.sorter&&(this.sorter=new q.Sorter({container:yt,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:Kt,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return Ct.em.getZoomDecimal()}})),ut.onStart&&(this.sorter.onStart=ut.onStart),le&&this.sorter.startSort(le,{container:yt})},getOffsetDim:function(){var le=this.offset(this.canvas.getFrameEl()),Kt=this.offset(this.canvas.getElement()),ut=le.top-Kt.top,Ct=le.left-Kt.left;return{top:ut,left:Ct}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,Oe.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,Oe.default)(this.cDim[this.posIndex][5]).parent():(0,Oe.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(le,Kt,ut){var Ct=le||0,q=Kt||"before",yt=ut.length,Y=yt!==0&&q=="after"&&Ct==yt;return yt!==0&&(!Y&&!ut[Ct][4]||ut[Ct-1]&&!ut[Ct-1][4]||Y&&!ut[Ct-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>Ct});var Oe=Pe(50),Re=Pe(675),le=Pe(895),Kt=Pe(491),ut=function(){return ut=Object.assign||function(q){for(var yt,Y=1,st=arguments.length;Y<st;Y++){yt=arguments[Y];for(var k in yt)Object.prototype.hasOwnProperty.call(yt,k)&&(q[k]=yt[k])}return q},ut.apply(this,arguments)};const Ct={getOffsetMethod:function(q){var yt=q||"";return"get"+yt+"OffsetViewerEl"},run:function(q,yt,Y){var st=this.canvas,k=Y||{},H=k.state||"",ft=q.getConfig(),ht=this.em.getZoomDecimal(),dt=k.el;if(!ft.showOffsets||!dt||(0,Kt.BM)(dt)||!ft.showOffsetsSelected&&H=="Fixed"){q.stopCommand("".concat(this.id),Y);return}if(!st.hasCustomSpot(Re.q.Spacing)){var B=ut({},k.elPos||st.getElementPos(dt));(0,Oe.isUndefined)(k.top)||(B.top=k.top),(0,Oe.isUndefined)(k.left)||(B.left=k.left);var V=window.getComputedStyle(dt),I=this.ppfx,N=H+"State",W=this.getOffsetMethod(H),R=st[W](Y.view);R.style.opacity="";var F=this["marginT"+H],U=this["marginB"+H],$=this["marginL"+H],Q=this["marginR"+H],J=this["padT"+H],Tt=this["padB"+H],et=this["padL"+H],_t=this["padR"+H];if(R.childNodes.length&&(this[N]="1",F=R.querySelector("[data-offset-m-t]"),U=R.querySelector("[data-offset-m-b]"),$=R.querySelector("[data-offset-m-l]"),Q=R.querySelector("[data-offset-m-r]"),J=R.querySelector("[data-offset-p-t]"),Tt=R.querySelector("[data-offset-p-b]"),et=R.querySelector("[data-offset-p-l]"),_t=R.querySelector("[data-offset-p-r]")),!this[N]){var G=H.toLowerCase(),Ft=G+"margin-v",$t=G+"padding-v",Lt=(0,le.default)('<div class="'.concat(I,'marginName">')).get(0),ve=(0,le.default)('<div class="'.concat(I,'paddingName">')).get(0),bt=I+Ft+"-el",jt=I+$t+"-el",Rt="".concat(bt," ").concat(I+Ft),Xt="".concat(jt," ").concat(I+$t);F=(0,le.default)('<div class="'.concat(Rt,'-top"></div>')).get(0),U=(0,le.default)('<div class="'.concat(Rt,'-bottom"></div>')).get(0),$=(0,le.default)('<div class="'.concat(Rt,'-left"></div>')).get(0),Q=(0,le.default)('<div class="'.concat(Rt,'-right"></div>')).get(0),J=(0,le.default)('<div class="'.concat(Xt,'-top"></div>')).get(0),Tt=(0,le.default)('<div class="'.concat(Xt,'-bottom"></div>')).get(0),et=(0,le.default)('<div class="'.concat(Xt,'-left"></div>')).get(0),_t=(0,le.default)('<div class="'.concat(Xt,'-right"></div>')).get(0),this["marginT"+H]=F,this["marginB"+H]=U,this["marginL"+H]=$,this["marginR"+H]=Q,this["padT"+H]=J,this["padB"+H]=Tt,this["padL"+H]=et,this["padR"+H]=_t,Lt.appendChild(F),Lt.appendChild(U),Lt.appendChild($),Lt.appendChild(Q),ve.appendChild(J),ve.appendChild(Tt),ve.appendChild(et),ve.appendChild(_t),R.appendChild(Lt),R.appendChild(ve),this[N]="1"}var Ht="px",It=parseFloat(V.marginLeft.replace(Ht,""))*ht,St=parseFloat(V.marginRight.replace(Ht,""))*ht,Bt=parseFloat(V.marginTop.replace(Ht,""))*ht,Me=parseFloat(V.marginBottom.replace(Ht,""))*ht,pe=F.style,Ae=U.style,ir=$.style,Or=Q.style,Nr=J.style,Dr=Tt.style,Vr=et.style,Je=_t.style,nt=parseFloat(B.left),Et=parseFloat(V.width)*ht+Ht;pe.height=Bt+Ht,pe.width=Et,pe.top=B.top-Bt+Ht,pe.left=nt+Ht,Ae.height=Me+Ht,Ae.width=Et,Ae.top=B.top+B.height+Ht,Ae.left=nt+Ht;var qt=B.height+Bt+Me+Ht,me=B.top-Bt+Ht;ir.height=qt,ir.width=It+Ht,ir.top=me,ir.left=nt-It+Ht,Or.height=qt,Or.width=St+Ht,Or.top=me,Or.left=nt+B.width+Ht;var Le=parseFloat(V.paddingTop)*ht;Nr.height=Le+Ht;var lt=parseFloat(V.paddingBottom)*ht;Dr.height=lt+Ht;var ue=B.height-lt-Le+Ht,se=B.top+Le+Ht;Vr.height=ue,Vr.width=parseFloat(V.paddingLeft)*ht+Ht,Vr.top=se;var nr=parseFloat(V.paddingRight)*ht;Je.height=ue,Je.width=nr+Ht,Je.top=se}},stop:function(q,yt,Y){Y===void 0&&(Y={});var st=Y||{},k=st.state||"",H=this.getOffsetMethod(k),ft=Y.view,ht=this.canvas,dt=ht[H](ft);dt.style.opacity=0}}},434:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>le});var Oe=Pe(50),Re=Pe(163);const le={init:function(){(0,Oe.bindAll)(this,"_onFramesChange")},run:function(Kt){this.toggleVis(Kt,!0)},stop:function(Kt){this.toggleVis(Kt,!1)},toggleVis:function(Kt,ut){if(ut===void 0&&(ut=!0),!Kt.Commands.isActive("preview")){var Ct=Kt.Canvas,q=ut?"on":"off",yt=Ct.getModel();yt[q]("change:frames",this._onFramesChange),this.handleFrames(Ct.getFrames(),ut)}},handleFrames:function(Kt,ut){var Ct=this;Kt.forEach(function(q){var yt;!((yt=q.view)===null||yt===void 0)&&yt.loaded&&Ct._upFrame(q,ut),q.__ol||(q.on("loaded",function(){return Ct._upFrame(q)}),q.__ol=!0)})},_onFramesChange:function(Kt,ut){this.handleFrames(ut)},_upFrame:function(Kt,ut){var Ct,q=this,yt=q.ppfx,Y=q.em,st=q.id,k=(0,Re.isDef)(ut)?ut:Y.Commands.isActive(st),H=k?"add":"remove",ft="".concat(yt,"dashed");(Ct=Kt.view)===null||Ct===void 0||Ct.getBody().classList[H](ft)}}},346:(wt,he,Pe)=>{Pe.d(he,{FE:()=>Ct,G7:()=>q,Hn:()=>ut,pH:()=>Y,vA:()=>yt});var Oe=Pe(316),Re=Pe.n(Oe),le=function(){var st=function(k,H){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,ht){ft.__proto__=ht}||function(ft,ht){for(var dt in ht)Object.prototype.hasOwnProperty.call(ht,dt)&&(ft[dt]=ht[dt])},st(k,H)};return function(k,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");st(k,H);function ft(){this.constructor=k}k.prototype=H===null?Object.create(H):(ft.prototype=H.prototype,new ft)}}(),Kt=function(){return Kt=Object.assign||function(st){for(var k,H=1,ft=arguments.length;H<ft;H++){k=arguments[H];for(var ht in k)Object.prototype.hasOwnProperty.call(k,ht)&&(st[ht]=k[ht])}return st},Kt.apply(this,arguments)},ut=function(st){le(k,st);function k(){return st!==null&&st.apply(this,arguments)||this}return k}(Re().Model),Ct=function(st){le(k,st);function k(){return st!==null&&st.apply(this,arguments)||this}return k}(Re().Collection),q=function(st){le(k,st);function k(){return st!==null&&st.apply(this,arguments)||this}return k}(Re().View),yt;(function(st){st.Screen="screen",st.World="world"})(yt||(yt={}));var Y={x:0,y:0};Kt(Kt({},Y),{width:0,height:0})},330:(wt,he,Pe)=>{Pe.d(he,{Z:()=>ut});var Oe=Pe(50),Re=Pe(346),le=function(){var Ct=function(q,yt){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,st){Y.__proto__=st}||function(Y,st){for(var k in st)Object.prototype.hasOwnProperty.call(st,k)&&(Y[k]=st[k])},Ct(q,yt)};return function(q,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");Ct(q,yt);function Y(){this.constructor=q}q.prototype=yt===null?Object.create(yt):(Y.prototype=yt.prototype,new Y)}}(),Kt=function(Ct){le(q,Ct);function q(yt,Y,st){yt===void 0&&(yt={}),st===void 0&&(st=!1);var k=Ct.call(this,yt)||this;return k.itemsView="",k.itemType="type",k.reuseView=!1,k.config=Y||yt.config||{},st&&k.listenTo(k.collection,"add",k.addTo),k.items=[],k}return q.prototype.addTo=function(yt){this.add(yt)},q.prototype.itemViewNotFound=function(yt){var Y=this,st=Y.config,k=Y.ns,H=st.em,ft="".concat(k?"[".concat(k,"]: "):"","'").concat(yt,"' type not found");H&&H.logWarning(ft)},q.prototype.add=function(yt,Y){var st=this,k=st.config,H=st.reuseView,ft=st.items,ht=this.itemsView||{},dt=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],B=Y||null,V=this.itemView,I=yt.get(this.itemType),N;ht[I]?V=ht[I]:I&&!ht[I]&&!(0,Oe.includes)(dt,I)&&this.itemViewNotFound(I),yt.view&&H?N=yt.view:N=new V({model:yt,config:k},k),ft&&ft.push(N);var W=N.render().el;B?B.appendChild(W):this.$el.append(W)},q.prototype.render=function(){var yt=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(Y){this.add(Y,yt)},this),this.$el.append(yt),this.onRender(),this},q.prototype.onRender=function(){},q.prototype.onRemoveBefore=function(yt,Y){},q.prototype.onRemove=function(yt,Y){},q.prototype.remove=function(yt){yt===void 0&&(yt={});var Y=this.items;return this.onRemoveBefore(Y,yt),this.clearItems(),Ct.prototype.remove.call(this),this.onRemove(Y,yt),this},q.prototype.clearItems=function(){this.items},q}(Re.G7);const ut=Kt;Kt.prototype.itemView=""},668:(wt,he,Pe)=>{Pe.d(he,{Z:()=>q});var Oe=Pe(50),Re=Pe(491),le=function(){return le=Object.assign||function(yt){for(var Y,st=1,k=arguments.length;st<k;st++){Y=arguments[st];for(var H in Y)Object.prototype.hasOwnProperty.call(Y,H)&&(yt[H]=Y[H])}return yt},le.apply(this,arguments)},Kt=function(){return{x:0,y:0}},ut=["x","y"],Ct=function(){function yt(Y){return Y===void 0&&(Y={}),this.opts={snapOffset:5,scale:1},(0,Oe.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(Y),this.delta=Kt(),this.lastScroll=Kt(),this.lastScrollDiff=Kt(),this.startPointer=Kt(),this.startPosition=Kt(),this.globScrollDiff=Kt(),this.currentPointer=Kt(),this.position=Kt(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return yt.prototype.setOptions=function(Y){Y===void 0&&(Y={}),this.opts=le(le({},this.opts),Y)},yt.prototype.toggleDrag=function(Y){var st=this.getDocumentEl(),k=this.getContainerEl(),H=this.getWindowEl(),ft=Y?"on":"off",ht={on:Re.on,off:Re.S1};ht[ft](k,"mousemove dragover",this.drag),ht[ft](st,"mouseup dragend touchend",this.stop),ht[ft](st,"keydown",this.keyHandle),ht[ft](H,"scroll",this.handleScroll)},yt.prototype.handleScroll=function(){var Y=this,st=Y.lastScroll,k=Y.delta,H=this.getScrollInfo(),ft={x:H.x-st.x,y:H.y-st.y};this.move(k.x+ft.x,k.y+ft.y),this.lastScrollDiff=ft},yt.prototype.start=function(Y){var st=this.opts,k=st.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(Y),this.guidesStatic=(0,Oe.result)(st,"guidesStatic")||[],this.guidesTarget=(0,Oe.result)(st,"guidesTarget")||[],(0,Oe.isFunction)(k)&&k(Y,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=Kt(),this.globScrollDiff=Kt(),this.drag(Y)},yt.prototype.drag=function(Y){var st=this,k=this,H=k.opts,ft=k.lastScrollDiff,ht=k.globScrollDiff,dt=H.onDrag,B=this.startPointer,V=this.getPointerPos(Y),I={x:ht.x+ft.x,y:ht.y+ft.y};this.globScrollDiff=I;var N={x:V.x-B.x+I.x,y:V.y-B.y+I.y};this.lastScrollDiff=Kt();var W=this.lockedAxis;Y.shiftKey?W=!W&&this.detectAxisLock(N.x,N.y):W=null,W==="x"?N.x=B.x:W==="y"&&(N.y=B.y);var R=function(Tt){ut.forEach(function(et){return Tt[et]=Tt[et]*(0,Oe.result)(H,"scale")}),st.delta=Tt,st.move(Tt.x,Tt.y),(0,Oe.isFunction)(dt)&&dt(Y,st)},F=le({},N);if(this.currentPointer=V,this.lockedAxis=W,this.lastScroll=this.getScrollInfo(),R(N),this.guidesTarget.length){var U=this.snapGuides(F),$=U.newDelta,Q=U.trgX,J=U.trgY;(Q||J)&&R($)}Y.which===0&&this.stop(Y)},yt.prototype.snapGuides=function(Y){var st=this,k=Y,H=this,ft=H.trgX,ht=H.trgY;return this.guidesTarget.forEach(function(dt){dt.x&&st.trgX||dt.y&&st.trgY||(dt.active=!1,st.guidesStatic.forEach(function(B){if(!(dt.y&&B.x||dt.x&&B.y)){var V=dt.y&&B.y,I=V?"y":"x",N=dt[I],W=B[I],R=Y[I],F=V?ht:ft;if(st.isPointIn(N,W)&&(0,Oe.isUndefined)(F)){var U=R-(N-W);st.setGuideLock(dt,U)}}}))}),ft=this.trgX,ht=this.trgY,ut.forEach(function(dt){var B=dt.toUpperCase(),V=st["trg".concat(B)];V&&!st.isPointIn(Y[dt],V.lock)&&(st.setGuideLock(V,null),V=null),V&&!(0,Oe.isUndefined)(V.lock)&&(k[dt]=V.lock)}),{newDelta:k,trgX:this.trgX,trgY:this.trgY}},yt.prototype.isPointIn=function(Y,st,k){var H=k===void 0?{}:k,ft=H.offset,ht=ft||this.opts.snapOffset||0;return Y>=st&&Y<=st+ht||Y<=st&&Y>=st-ht},yt.prototype.setGuideLock=function(Y,st){var k=(0,Oe.isUndefined)(Y.x)?"Y":"X",H="trg".concat(k);return st!==null?(Y.active=!0,Y.lock=st,this[H]=Y):(delete Y.active,delete Y.lock,delete this[H]),Y},yt.prototype.stop=function(Y,st){st===void 0&&(st={});var k=this.delta,H=!!st.cancel,ft=H?0:k.x,ht=H?0:k.y;this.toggleDrag(),this.lockedAxis=null,this.move(ft,ht,!0);var dt=this.opts.onEnd;(0,Oe.isFunction)(dt)&&dt(Y,this,{cancelled:H})},yt.prototype.keyHandle=function(Y){(0,Re.kl)(Y)&&this.stop(Y,{cancel:!0})},yt.prototype.move=function(Y,st,k){var H=this,ft=H.el,ht=H.opts,dt=this.startPosition;if(dt){var B=ht.setPosition,V=dt.x+Y,I=dt.y+st;this.position={x:V,y:I,end:k},(0,Oe.isFunction)(B)&&B(this.position),ft&&(ft.style.left="".concat(V,"px"),ft.style.top="".concat(I,"px"))}},yt.prototype.getContainerEl=function(){var Y=this.opts.container;return Y?[Y]:this.getDocumentEl()},yt.prototype.getWindowEl=function(){var Y=this.getContainerEl();return Y.map(function(st){var k=st.ownerDocument||st;return k.defaultView||k.parentWindow})},yt.prototype.getDocumentEl=function(Y){var st=this.opts.doc;if(Y=Y||this.el,!this.docs.length){var k=[document];Y&&k.push(Y.ownerDocument),st&&k.push(st),this.docs=k}return this.docs},yt.prototype.getPointerPos=function(Y){var st=this.opts.getPointerPosition,k=(0,Re.VB)(Y);return st?st(Y):{x:k.clientX,y:k.clientY}},yt.prototype.getStartPosition=function(){var Y=this,st=Y.el,k=Y.opts,H=k.getPosition,ft=Kt();return(0,Oe.isFunction)(H)?ft=H():st&&(ft={x:parseFloat(st.style.left),y:parseFloat(st.style.top)}),ft},yt.prototype.getScrollInfo=function(){var Y=this.opts.doc,st=Y&&Y.body;return{y:st?st.scrollTop:0,x:st?st.scrollLeft:0}},yt.prototype.detectAxisLock=function(Y,st){var k=Y,H=st,ft=Math.abs(k),ht=Math.abs(H);if(H>=ft||H<=-ft)return"x";if(k>ht||k<-ht)return"y"},yt}();const q=Ct},895:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{default:()=>$n});var Oe=typeof document<"u"?document:null,Re=typeof window<"u"?window:null,le=Array.prototype,Kt=le.filter,ut=le.indexOf,Ct=le.map,q=le.push,yt=le.reverse,Y=le.slice,st=le.splice,k=/^#[\w-]*$/,H=/^\.[\w-]*$/,ft=/<.+>/,ht=/^\w+$/;function dt(Ut,te){return te===void 0&&(te=Oe),H.test(Ut)?te.getElementsByClassName(Ut.slice(1)):ht.test(Ut)?te.getElementsByTagName(Ut):te.querySelectorAll(Ut)}function B(Ut,te){if(te===void 0&&(te=Oe),!!Ut){if(Ut.__cash)return Ut;var je=Ut;if(Tt(Ut)){if(te.__cash&&(te=te[0]),je=k.test(Ut)?te.getElementById(Ut.slice(1)):ft.test(Ut)?on(Ut):dt(Ut,te),!je)return}else if(J(Ut))return this.ready(Ut);(je.nodeType||je===Re)&&(je=[je]),this.length=je.length;for(var Xe=0,xt=this.length;Xe<xt;Xe++)this[Xe]=je[Xe]}}function V(Ut,te){return new B(Ut,te)}var I=V.fn=V.prototype=B.prototype={constructor:V,__cash:!0,length:0,splice:st};I.get=function(Ut){return Ut===void 0?Y.call(this):this[Ut<0?Ut+this.length:Ut]},I.eq=function(Ut){return V(this.get(Ut))},I.first=function(){return this.eq(0)},I.last=function(){return this.eq(-1)},I.map=function(Ut){return V(Ct.call(this,function(te,je){return Ut.call(te,je,te)}))},I.slice=function(){return V(Y.apply(this,arguments))};var N=/(?:^\w|[A-Z]|\b\w)/g,W=/[\s-_]+/g;function R(Ut){return Ut.replace(N,function(te,je){return te[je?"toUpperCase":"toLowerCase"]()}).replace(W,"")}V.camelCase=R;function F(Ut,te){for(var je=0,Xe=Ut.length;je<Xe&&te.call(Ut[je],Ut[je],je,Ut)!==!1;je++);}V.each=F,I.each=function(Ut){return F(this,function(te,je){return Ut.call(te,je,te)}),this},I.removeProp=function(Ut){return this.each(function(te,je){delete je[Ut]})};function U(Ut){Ut===void 0&&(Ut=this);for(var te=arguments,je=te.length,Xe=je<2?0:1;Xe<je;Xe++)for(var xt in te[Xe])Ut[xt]=te[Xe][xt];return Ut}V.extend=I.extend=U;var $=1;V.guid=$;function Q(Ut,te){var je=Ut&&(Ut.matches||Ut.webkitMatchesSelector||Ut.mozMatchesSelector||Ut.msMatchesSelector||Ut.oMatchesSelector);return!!je&&je.call(Ut,te)}V.matches=Q;function J(Ut){return typeof Ut=="function"}V.isFunction=J;function Tt(Ut){return typeof Ut=="string"}V.isString=Tt;function et(Ut){return!isNaN(parseFloat(Ut))&&isFinite(Ut)}V.isNumeric=et;var _t=Array.isArray;V.isArray=_t,I.prop=function(Ut,te){if(Ut){if(Tt(Ut))return arguments.length<2?this[0]&&this[0][Ut]:this.each(function(Xe,xt){xt[Ut]=te});for(var je in Ut)this.prop(je,Ut[je]);return this}};function G(Ut){return Tt(Ut)?function(te,je){return Q(je,Ut)}:Ut.__cash?function(te,je){return Ut.is(je)}:function(te,je,Xe){return je===Xe}}I.filter=function(Ut){if(!Ut)return V();var te=J(Ut)?Ut:G(Ut);return V(Kt.call(this,function(je,Xe){return te.call(je,Xe,je,Ut)}))};var Ft=/\S+/g;function $t(Ut){return Tt(Ut)?Ut.match(Ft)||[]:[]}I.hasClass=function(Ut){var te=$t(Ut),je=!1;return te.length&&this.each(function(Xe,xt){return je=xt.classList.contains(te[0]),!je}),je},I.removeAttr=function(Ut){var te=$t(Ut);return te.length?this.each(function(je,Xe){F(te,function(xt){Xe.removeAttribute(xt)})}):this},I.attr=function(Ut,te){if(Ut){if(Tt(Ut)){if(arguments.length<2){if(!this[0])return;var je=this[0].getAttribute(Ut);return je===null?void 0:je}return te===null?this.removeAttr(Ut):this.each(function(xt,ce){ce.setAttribute(Ut,te)})}for(var Xe in Ut)this.attr(Xe,Ut[Xe]);return this}},I.toggleClass=function(Ut,te){var je=$t(Ut),Xe=te!==void 0;return je.length?this.each(function(xt,ce){F(je,function(ke){Xe?te?ce.classList.add(ke):ce.classList.remove(ke):ce.classList.toggle(ke)})}):this},I.addClass=function(Ut){return this.toggleClass(Ut,!0)},I.removeClass=function(Ut){return arguments.length?this.toggleClass(Ut,!1):this.attr("class","")};function Lt(Ut){return Ut.filter(function(te,je,Xe){return Xe.indexOf(te)===je})}V.unique=Lt,I.add=function(Ut,te){return V(Lt(this.get().concat(V(Ut,te).get())))};function ve(Ut,te,je){if(Ut.nodeType===1){var Xe=Re.getComputedStyle(Ut,null);return te?je?Xe.getPropertyValue(te):Xe[te]:Xe}}function bt(Ut,te){return parseInt(ve(Ut,te),10)||0}var jt=/^--/;function Rt(Ut){return jt.test(Ut)}var Xt={},Ht=Oe&&Oe.createElement("div"),It=Ht?Ht.style:{},St=["webkit","moz","ms","o"];function Bt(Ut,te){if(te===void 0&&(te=Rt(Ut)),te)return Ut;if(!Xt[Ut]){var je=R(Ut),Xe=""+je.charAt(0).toUpperCase()+je.slice(1),xt=(je+" "+St.join(Xe+" ")+Xe).split(" ");F(xt,function(ce){if(ce in It)return Xt[Ut]=ce,!1})}return Xt[Ut]}V.prefixedProp=Bt;var Me={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function pe(Ut,te,je){return je===void 0&&(je=Rt(Ut)),!je&&!Me[Ut]&&et(te)?te+"px":te}I.css=function(Ut,te){if(Tt(Ut)){var je=Rt(Ut);return Ut=Bt(Ut,je),arguments.length<2?this[0]&&ve(this[0],Ut,je):Ut?(te=pe(Ut,te,je),this.each(function(xt,ce){ce.nodeType===1&&(je?ce.style.setProperty(Ut,te):ce.style[Ut]=te)})):this}for(var Xe in Ut)this.css(Xe,Ut[Xe]);return this};var Ae="__cashData",ir=/^data-(.*)/;V.hasData=function(Ut){return Ae in Ut};function Or(Ut){return Ut[Ae]=Ut[Ae]||{}}function Nr(Ut,te){var je=Or(Ut);if(te){if(!(te in je)){var Xe=Ut.dataset?Ut.dataset[te]||Ut.dataset[R(te)]:V(Ut).attr("data-"+te);if(Xe!==void 0){try{Xe=JSON.parse(Xe)}catch{}je[te]=Xe}}return je[te]}return je}function Dr(Ut,te){te===void 0?delete Ut[Ae]:delete Or(Ut)[te]}function Vr(Ut,te,je){Or(Ut)[te]=je}I.data=function(Ut,te){var je=this;if(!Ut)return this[0]?(F(this[0].attributes,function(xt){var ce=xt.name.match(ir);ce&&je.data(ce[1])}),Nr(this[0])):void 0;if(Tt(Ut))return te===void 0?this[0]&&Nr(this[0],Ut):this.each(function(xt,ce){return Vr(ce,Ut,te)});for(var Xe in Ut)this.data(Xe,Ut[Xe]);return this},I.removeData=function(Ut){return this.each(function(te,je){return Dr(je,Ut)})};function Je(Ut,te){return bt(Ut,"border"+(te?"Left":"Top")+"Width")+bt(Ut,"padding"+(te?"Left":"Top"))+bt(Ut,"padding"+(te?"Right":"Bottom"))+bt(Ut,"border"+(te?"Right":"Bottom")+"Width")}F(["Width","Height"],function(Ut){I["inner"+Ut]=function(){if(this[0])return this[0]===Re?Re["inner"+Ut]:this[0]["client"+Ut]}}),F(["width","height"],function(Ut,te){I[Ut]=function(je){return this[0]?arguments.length?(je=parseInt(je,10),this.each(function(Xe,xt){if(xt.nodeType===1){var ce=ve(xt,"boxSizing");xt.style[Ut]=pe(Ut,je+(ce==="border-box"?Je(xt,!te):0))}})):this[0]===Re?this[0][R("outer-"+Ut)]:this[0].getBoundingClientRect()[Ut]-Je(this[0],!te):je===void 0?void 0:this}}),F(["Width","Height"],function(Ut,te){I["outer"+Ut]=function(je){if(this[0])return this[0]===Re?Re["outer"+Ut]:this[0]["offset"+Ut]+(je?bt(this[0],"margin"+(te?"Top":"Left"))+bt(this[0],"margin"+(te?"Bottom":"Right")):0)}});function nt(Ut,te){for(var je=0,Xe=te.length;je<Xe;je++)if(Ut.indexOf(te[je])<0)return!1;return!0}function Et(Ut,te,je){F(Ut[je],function(Xe){Xe[0];var xt=Xe[1];te.removeEventListener(je,xt)}),delete Ut[je]}var qt="__cashEvents",me=".";function Le(Ut){return Ut[qt]=Ut[qt]||{}}function lt(Ut,te,je,Xe){Xe.guid=Xe.guid||$++;var xt=Le(Ut);xt[te]=xt[te]||[],xt[te].push([je,Xe]),Ut.addEventListener(te,Xe)}function ue(Ut){var te=Ut.split(me);return[te[0],te.slice(1).sort()]}function se(Ut,te,je,Xe){var xt=Le(Ut);if(te){var ce=xt[te];if(!ce)return;Xe&&(Xe.guid=Xe.guid||$++),xt[te]=ce.filter(function(ke){var Ze=ke[0],xr=ke[1];if(Xe&&xr.guid!==Xe.guid||!nt(Ze,je))return!0;Ut.removeEventListener(te,xr)})}else if(!je||!je.length)for(te in xt)Et(xt,Ut,te);else for(te in xt)se(Ut,te,je,Xe)}I.off=function(Ut,te){var je=this;return Ut===void 0?this.each(function(Xe,xt){return se(xt)}):F($t(Ut),function(Xe){var xt=ue(Xe),ce=xt[0],ke=xt[1];je.each(function(Ze,xr){return se(xr,ce,ke,te)})}),this},I.on=function(Ut,te,je,Xe){var xt=this;if(!Tt(Ut)){for(var ce in Ut)this.on(ce,te,Ut[ce]);return this}return J(te)&&(je=te,te=!1),F($t(Ut),function(ke){var Ze=ue(ke),xr=Ze[0],Yr=Ze[1];xt.each(function(Un,In){var lo=function uo(yn){if(!(yn.namespace&&!nt(Yr,yn.namespace.split(me)))){var Qn=In;if(te){for(var Fn=yn.target;!Q(Fn,te);)if(Fn===In||(Fn=Fn.parentNode,!Fn))return;Qn=Fn}yn.namespace=yn.namespace||"";var Qo=je.call(Qn,yn,yn.data);Xe&&se(In,xr,Yr,uo),Qo===!1&&(yn.preventDefault(),yn.stopPropagation())}};lo.guid=je.guid=je.guid||$++,lt(In,xr,Yr,lo)})}),this},I.one=function(Ut,te,je){return this.on(Ut,te,je,!0)},I.ready=function(Ut){var te=function(){return Ut(V)};return Oe.readyState!=="loading"?setTimeout(te):Oe.addEventListener("DOMContentLoaded",te),this},I.trigger=function(Ut,te){var je=Ut;if(Tt(Ut)){var Xe=ue(Ut),xt=Xe[0],ce=Xe[1];je=Oe.createEvent("HTMLEvents"),je.initEvent(xt,!0,!0),je.namespace=ce.join(me)}return je.data=te,this.each(function(ke,Ze){Ze.dispatchEvent(je)})};function nr(Ut){var te=[];return F(Ut.options,function(je){je.selected&&!je.disabled&&!je.parentNode.disabled&&te.push(je.value)}),te}function vr(Ut){return Ut.selectedIndex<0?null:Ut.options[Ut.selectedIndex].value}var Qe=/select-one/i,Ir=/select-multiple/i;function rn(Ut){var te=Ut.type;return Qe.test(te)?vr(Ut):Ir.test(te)?nr(Ut):Ut.value}var vt=/%20/g;function Wt(Ut,te){return"&"+encodeURIComponent(Ut)+"="+encodeURIComponent(te).replace(vt,"+")}var fe=/file|reset|submit|button|image/i,Vt=/radio|checkbox/i;I.serialize=function(){var Ut="";return this.each(function(te,je){F(je.elements||[je],function(Xe){if(!(Xe.disabled||!Xe.name||Xe.tagName==="FIELDSET")&&!fe.test(Xe.type)&&!(Vt.test(Xe.type)&&!Xe.checked)){var xt=rn(Xe);if(xt!==void 0){var ce=_t(xt)?xt:[xt];F(ce,function(ke){Ut+=Wt(Xe.name,ke)})}}})}),Ut.substr(1)},I.val=function(Ut){return Ut===void 0?this[0]&&rn(this[0]):this.each(function(te,je){var Xe=Ir.test(je.type),xt=Ut===null?Xe?[]:"":Ut;Xe&&_t(xt)?F(je.options,function(ce){ce.selected=xt.indexOf(ce.value)>=0}):je.value=xt})},I.clone=function(){return this.map(function(Ut,te){return te.cloneNode(!0)})},I.detach=function(){return this.each(function(Ut,te){te.parentNode&&te.parentNode.removeChild(te)})};var Ce=/^\s*<(\w+)[^>]*>/,Yt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,pr;function dr(){if(!pr){var Ut=Oe.createElement("table"),te=Oe.createElement("tr");pr={"*":Oe.createElement("div"),tr:Oe.createElement("tbody"),td:te,th:te,thead:Ut,tbody:Ut,tfoot:Ut}}}function on(Ut){if(dr(),!Tt(Ut))return[];if(Yt.test(Ut))return[Oe.createElement(RegExp.$1)];var te=Ce.test(Ut)&&RegExp.$1,je=pr[te]||pr["*"];return je.innerHTML=Ut,V(je.childNodes).detach().get()}V.parseHTML=on,I.empty=function(){var Ut=this[0];if(Ut)for(;Ut.firstChild;)Ut.removeChild(Ut.firstChild);return this};function Kr(Ut,te,je){je?Ut.insertBefore(te,Ut.childNodes[0]):Ut.appendChild(te)}function He(Ut,te,je){if(te!==void 0){var Xe=Tt(te);!Xe&&te.length?F(te,function(xt){return He(Ut,xt,je)}):F(Ut,Xe?function(xt){xt.insertAdjacentHTML(je?"afterbegin":"beforeend",te)}:function(xt,ce){return Kr(xt,ce?te.cloneNode(!0):te,je)})}}I.append=function(){var Ut=this;return F(arguments,function(te){He(Ut,te)}),this},I.appendTo=function(Ut){return He(V(Ut),this),this},I.html=function(Ut){if(Ut===void 0)return this[0]&&this[0].innerHTML;var te=Ut.nodeType?Ut[0].outerHTML:Ut;return this.each(function(je,Xe){Xe.innerHTML=te})},I.insertAfter=function(Ut){var te=this;return V(Ut).each(function(je,Xe){var xt=Xe.parentNode;te.each(function(ce,ke){xt.insertBefore(je?ke.cloneNode(!0):ke,Xe.nextSibling)})}),this},I.after=function(){var Ut=this;return F(yt.apply(arguments),function(te){yt.apply(V(te).slice()).insertAfter(Ut)}),this},I.insertBefore=function(Ut){var te=this;return V(Ut).each(function(je,Xe){var xt=Xe.parentNode;te.each(function(ce,ke){xt.insertBefore(je?ke.cloneNode(!0):ke,Xe)})}),this},I.before=function(){var Ut=this;return F(arguments,function(te){V(te).insertBefore(Ut)}),this},I.prepend=function(){var Ut=this;return F(arguments,function(te){He(Ut,te,!0)}),this},I.prependTo=function(Ut){return He(V(Ut),yt.apply(this.slice()),!0),this},I.remove=function(){return this.detach().off()},I.replaceWith=function(Ut){var te=this;return this.each(function(je,Xe){var xt=Xe.parentNode;if(xt){var ce=je?V(Ut).clone():V(Ut);if(!ce[0])return te.remove(),!1;xt.replaceChild(ce[0],Xe),V(ce[0]).after(ce.slice(1))}})},I.replaceAll=function(Ut){return V(Ut).replaceWith(this),this},I.text=function(Ut){return Ut===void 0?this[0]?this[0].textContent:"":this.each(function(te,je){je.textContent=Ut})};var pn=Oe&&Oe.documentElement;I.offset=function(){var Ut=this[0];if(Ut){var te=Ut.getBoundingClientRect();return{top:te.top+Re.pageYOffset-pn.clientTop,left:te.left+Re.pageXOffset-pn.clientLeft}}},I.offsetParent=function(){return V(this[0]&&this[0].offsetParent)},I.position=function(){var Ut=this[0];if(Ut)return{left:Ut.offsetLeft,top:Ut.offsetTop}},I.children=function(Ut){var te=[];return this.each(function(je,Xe){q.apply(te,Xe.children)}),te=V(Lt(te)),Ut?te.filter(function(je,Xe){return Q(Xe,Ut)}):te},I.contents=function(){var Ut=[];return this.each(function(te,je){q.apply(Ut,je.tagName==="IFRAME"?[je.contentDocument]:je.childNodes)}),V(Ut.length&&Lt(Ut))},I.find=function(Ut){for(var te=[],je=0,Xe=this.length;je<Xe;je++){var xt=dt(Ut,this[je]);xt.length&&q.apply(te,xt)}return V(te.length&&Lt(te))},I.has=function(Ut){var te=Tt(Ut)?function(je,Xe){return!!dt(Ut,Xe).length}:function(je,Xe){return Xe.contains(Ut)};return this.filter(te)},I.is=function(Ut){if(!Ut||!this[0])return!1;var te=G(Ut),je=!1;return this.each(function(Xe,xt){return je=te(Xe,xt,Ut),!je}),je},I.next=function(){return V(this[0]&&this[0].nextElementSibling)},I.not=function(Ut){if(!Ut||!this[0])return this;var te=G(Ut);return this.filter(function(je,Xe){return!te(je,Xe,Ut)})},I.parent=function(){var Ut=[];return this.each(function(te,je){je&&je.parentNode&&Ut.push(je.parentNode)}),V(Lt(Ut))},I.index=function(Ut){var te=Ut?V(Ut)[0]:this[0],je=Ut?this:V(te).parent().children();return ut.call(je,te)},I.closest=function(Ut){return!Ut||!this[0]?V():this.is(Ut)?this.filter(Ut):this.parent().closest(Ut)},I.parents=function(Ut){var te=[],je;return this.each(function(Xe,xt){for(je=xt;je&&je.parentNode&&je!==Oe.body.parentNode;)je=je.parentNode,(!Ut||Ut&&Q(je,Ut))&&te.push(je)}),V(Lt(te))},I.prev=function(){return V(this[0]&&this[0].previousElementSibling)},I.siblings=function(){var Ut=this[0];return this.parent().children().filter(function(te,je){return je!==Ut})};const $n=V},491:(wt,he,Pe)=>{Pe.d(he,{$Q:()=>ft,BM:()=>N,FW:()=>st,G1:()=>ut,GX:()=>U,L_:()=>q,Mx:()=>Ct,R3:()=>ht,S1:()=>$t,SJ:()=>I,Ut:()=>F,VB:()=>J,Vb:()=>G,cx:()=>yt,dL:()=>H,kl:()=>Tt,o5:()=>R,on:()=>Ft,pn:()=>k,r$:()=>et,rw:()=>B,sE:()=>Y,sN:()=>Q,t3:()=>V,ut:()=>dt});var Oe=Pe(50),Re=function(Lt,ve,bt){if(bt||arguments.length===2)for(var jt=0,Rt=ve.length,Xt;jt<Rt;jt++)(Xt||!(jt in ve))&&(Xt||(Xt=Array.prototype.slice.call(ve,0,jt)),Xt[jt]=ve[jt]);return Lt.concat(Xt||Array.prototype.slice.call(ve))},le="tag",Kt="attributes",ut="transitionend oTransitionEnd transitionend webkitTransitionEnd",Ct=function(Lt){return(Lt==null?void 0:Lt.nodeType)===Node.DOCUMENT_NODE},q=function(Lt){var ve=Lt&&Lt.parentNode;ve&&ve.removeChild(Lt)};function yt(){for(var Lt=[],ve=0;ve<arguments.length;ve++)Lt[ve]=arguments[ve];var bt=Array.isArray(Lt[0])?Lt[0]:Re([],Lt,!0);return bt.filter(Boolean).join(" ")}var Y=function(Lt,ve){return Lt.querySelectorAll(ve)},st=function(Lt,ve){return ve===void 0&&(ve={}),Lt&&Lt.setAttribute&&(0,Oe.each)(ve,function(bt,jt){return Lt.setAttribute(jt,bt)})},k=function(Lt){var ve;return Lt&&!!(Lt.offsetWidth||Lt.offsetHeight||!((ve=Lt.getClientRects)===null||ve===void 0)&&ve.call(Lt).length)},H=function(Lt,ve){var bt;(bt=Lt.parentNode)===null||bt===void 0||bt.replaceChild(ve,Lt)},ft=function(Lt,ve,bt){var jt=Lt.childNodes,Rt=jt.length,Xt=(0,Oe.isUndefined)(bt)?Rt:bt;(0,Oe.isString)(ve)&&(Lt.insertAdjacentHTML("beforeEnd",ve),ve=Lt.lastChild,Lt.removeChild(ve)),Xt>=Rt?Lt.appendChild(ve):Lt.insertBefore(ve,jt[Xt])},ht=function(Lt,ve){return ft(Lt,ve)},dt=function(Lt,ve,bt){ve===void 0&&(ve={});var jt=document.createElement(Lt);return ve&&(0,Oe.each)(ve,function(Rt,Xt){return jt.setAttribute(Xt,Rt)}),bt&&((0,Oe.isString)(bt)?jt.innerHTML=bt:jt.appendChild(bt)),jt},B=function(Lt){return document.createTextNode(Lt)},V=function(Lt,ve){var bt,jt=Lt.type;try{bt=new window[ve](jt,Lt)}catch{bt=document.createEvent(ve),bt.initEvent(jt,!0,!0)}return bt._parentEvent=Lt,jt.indexOf("key")===0&&(bt.keyCodeVal=Lt.keyCode,["keyCode","which"].forEach(function(Rt){Object.defineProperty(bt,Rt,{get:function(){return this.keyCodeVal}})})),bt},I=function(Lt,ve){ve===void 0&&(ve=[]);var bt=Array.isArray(ve)?ve:[ve];bt.forEach(function(jt){var Rt=jt[le]||"div",Xt=jt[Kt]||{},Ht=document.createElement(Rt);(0,Oe.each)(Xt,function(It,St){Ht.setAttribute(St,It)}),Lt.appendChild(Ht)})},N=function(Lt){return(Lt==null?void 0:Lt.nodeType)===Node.TEXT_NODE},W=function(Lt){return(Lt==null?void 0:Lt.nodeType)===Node.COMMENT_NODE},R=function(Lt){return Lt&&!N(Lt)&&!W(Lt)},F=function(Lt){var ve={top:0,left:0,width:0,height:0};if(!Lt)return ve;var bt;if(N(Lt)){var jt=document.createRange();jt.selectNode(Lt),bt=jt.getBoundingClientRect(),jt.detach()}return bt||(Lt.getBoundingClientRect?Lt.getBoundingClientRect():ve)},U=function(Lt){var ve=(Lt==null?void 0:Lt.ownerDocument)||document,bt=ve.documentElement,jt=ve.defaultView||window;return{x:(jt.pageXOffset||bt.scrollLeft||0)-(bt.clientLeft||0),y:(jt.pageYOffset||bt.scrollTop||0)-(bt.clientTop||0)}},$=function(Lt){return Lt.which||Lt.keyCode},Q=function(Lt){return String.fromCharCode($(Lt))},J=function(Lt){return Lt.touches&&Lt.touches[0]?Lt.touches[0]:Lt},Tt=function(Lt){return $(Lt)===27},et=function(Lt){return $(Lt)===13},_t=function(Lt){return Lt.ctrlKey},G=function(Lt){return _t(Lt)||Lt.metaKey},Ft=function(Lt,ve,bt,jt){var Rt=ve.split(/\s+/),Xt=(0,Oe.isArray)(Lt)?Lt:[Lt];Rt.forEach(function(Ht){Xt.forEach(function(It){return It==null?void 0:It.addEventListener(Ht,bt,jt)})})},$t=function(Lt,ve,bt,jt){var Rt=ve.split(/\s+/),Xt=(0,Oe.isArray)(Lt)?Lt:[Lt];Rt.forEach(function(Ht){Xt.forEach(function(It){return It==null?void 0:It.removeEventListener(Ht,bt,jt)})})}},163:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{appendStyles:()=>B,buildBase64UrlFromSvg:()=>Ht,camelCase:()=>W,capitalize:()=>Ft,createId:()=>Xt,deepMerge:()=>Tt,escape:()=>Q,escapeNodeContent:()=>J,find:()=>$,getComponentModel:()=>jt,getComponentView:()=>bt,getElement:()=>U,getGlobal:()=>k,getModel:()=>et,getUiClass:()=>dt,getUnitFromValue:()=>I,getViewEl:()=>Lt,hasDnd:()=>F,hasWin:()=>st,isBultInMethod:()=>Ct,isComponent:()=>ve,isDef:()=>Y,isEmptyObj:()=>G,isObject:()=>_t,isRule:()=>$t,matches:()=>ht,normalizeFloat:()=>R,normalizeKey:()=>q,setViewEl:()=>Rt,shallowDiff:()=>V,toLowerCase:()=>H,upFirst:()=>N,wait:()=>yt});var Oe=Pe(50),Re=Pe(491),le=function(){return le=Object.assign||function(It){for(var St,Bt=1,Me=arguments.length;Bt<Me;Bt++){St=arguments[Bt];for(var pe in St)Object.prototype.hasOwnProperty.call(St,pe)&&(It[pe]=St[pe])}return It},le.apply(this,arguments)},Kt=function(It,St,Bt){if(Bt||arguments.length===2)for(var Me=0,pe=St.length,Ae;Me<pe;Me++)(Ae||!(Me in St))&&(Ae||(Ae=Array.prototype.slice.call(St,0,Me)),Ae[Me]=St[Me]);return It.concat(Ae||Array.prototype.slice.call(St))},ut={},Ct=function(It){return(0,Oe.isFunction)(ut[It])},q=function(It){return Ct(It)?"_".concat(It):It},yt=function(It){return It===void 0&&(It=0),new Promise(function(St){return setTimeout(St,It)})},Y=function(It){return typeof It<"u"},st=function(){return typeof window<"u"},k=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:Pe.g},H=function(It){return(It||"").toLowerCase()},ft=st()?window.Element.prototype:{},ht=ft.matches||ft.webkitMatchesSelector||ft.mozMatchesSelector||ft.msMatchesSelector,dt=function(It,St){var Bt=It.getConfig(),Me=Bt.stylePrefix,pe=Bt.customUI;return[pe&&"".concat(Me,"cui"),St].filter(function(Ae){return Ae}).join(" ")},B=function(It,St){St===void 0&&(St={});var Bt=(0,Oe.isArray)(It)?Kt([],It,!0):[It];if(Bt.length){var Me=Bt.shift();if(Me&&(!St.unique||!document.querySelector('link[href="'.concat(Me,'"]')))){var pe=document.head,Ae=document.createElement("link");Ae.href=Me,Ae.rel="stylesheet",St.prepand?pe.insertBefore(Ae,pe.firstChild):pe.appendChild(Ae)}B(Bt)}},V=function(It,St){var Bt={},Me=(0,Oe.keys)(St);for(var pe in It)if(It.hasOwnProperty(pe)){var Ae=It[pe],ir=St[pe];Me.indexOf(pe)>=0?Ae!==ir&&(Bt[pe]=ir):Bt[pe]=null}for(var pe in St)St.hasOwnProperty(pe)&&(0,Oe.isUndefined)(It[pe])&&(Bt[pe]=St[pe]);return Bt},I=function(It){return It.replace(parseFloat(It),"")},N=function(It){return It[0].toUpperCase()+It.toLowerCase().slice(1)},W=function(It){return It.replace(/-./g,function(St){return St[1].toUpperCase()})},R=function(It,St,Bt){St===void 0&&(St=1),Bt===void 0&&(Bt=0);var Me=0;if(isNaN(It))return Bt;if(It=parseFloat(It),Math.floor(It)!==It){var pe=St.toString().split(".")[1];Me=pe?pe.length:0}return Me?parseFloat(It.toFixed(Me)):It},F=function(It){return"draggable"in document.createElement("i")&&(It?It.config.nativeDnD:!0)},U=function(It){if((0,Oe.isElement)(It)||(0,Re.BM)(It))return It;if(It&&It.getEl)return It.getEl()},$=function(It,St){var Bt=null;return It.some(function(Me,pe){return St(Me,pe,It)?(Bt=Me,1):0}),Bt},Q=function(It){return It===void 0&&(It=""),"".concat(It).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},J=function(It){return It===void 0&&(It=""),"".concat(It).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Tt=function(){for(var It=[],St=0;St<arguments.length;St++)It[St]=arguments[St];for(var Bt=le({},It[0]),Me=1;Me<It.length;Me++){var pe=le({},It[Me]);for(var Ae in pe){var ir=Bt[Ae],Or=pe[Ae];_t(ir)&&_t(Or)?Bt[Ae]=Tt(ir,Or):Bt[Ae]=Or}}return Bt},et=function(It,St){var Bt;return!St&&It&&It.__cashData?Bt=It.__cashData.model:St&&(0,Oe.isElement)(It)&&(Bt=St(It).data("model")),Bt},_t=function(It){return It&&!Array.isArray(It)&&typeof It=="object"},G=function(It){return Object.keys(It).length<=0},Ft=function(It){return It===void 0&&(It=""),It&&It.charAt(0).toUpperCase()+It.substring(1)},$t=function(It){return It&&It.toCSS},Lt=function(It){return It==null?void 0:It.__gjsv},ve=function(It){return!!(It!=null&&It.toHTML)},bt=function(It){return Lt(It)},jt=function(It){var St;return(St=bt(It))===null||St===void 0?void 0:St.model},Rt=function(It,St){It.__gjsv=St},Xt=function(It){It===void 0&&(It=16);for(var St="",Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Me=Bt.length,pe=0;pe<It;pe++)St+=Bt.charAt(Math.floor(Math.random()*Me));return St},Ht=function(It){if(It&&It.substr(0,4)==="<svg"){var St="";return st()?St=window.btoa(It):typeof Buffer<"u"&&(St=Buffer.from(It,"utf8").toString("base64")),St?"data:image/svg+xml;base64,".concat(St):It}return It}},828:(wt,he,Pe)=>{var Oe={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function Re(Kt){var ut=le(Kt);return Pe(ut)}function le(Kt){if(!Pe.o(Oe,Kt)){var ut=new Error("Cannot find module '"+Kt+"'");throw ut.code="MODULE_NOT_FOUND",ut}return Oe[Kt]}Re.keys=function(){return Object.keys(Oe)},Re.resolve=le,wt.exports=Re,Re.id=828},50:(wt,he,Pe)=>{Pe.r(he),Pe.d(he,{VERSION:()=>Re,after:()=>Hs,all:()=>mi,allKeys:()=>pr,any:()=>Mo,assign:()=>lo,before:()=>as,bind:()=>Vs,bindAll:()=>Ll,chain:()=>Ln,chunk:()=>$a,clone:()=>Qo,collect:()=>Do,compact:()=>Dl,compose:()=>Ii,constant:()=>Je,contains:()=>Pn,countBy:()=>Ws,create:()=>Fn,debounce:()=>ia,default:()=>ua,defaults:()=>uo,defer:()=>Rs,delay:()=>zo,detect:()=>Si,difference:()=>Wa,drop:()=>Vi,each:()=>qi,escape:()=>hr,every:()=>mi,extend:()=>In,extendOwn:()=>lo,filter:()=>Io,find:()=>Si,findIndex:()=>Bs,findKey:()=>ka,findLastIndex:()=>ya,findWhere:()=>Us,first:()=>cs,flatten:()=>lc,foldl:()=>Aa,foldr:()=>Cn,forEach:()=>qi,functions:()=>Yr,get:()=>_o,groupBy:()=>zs,has:()=>va,head:()=>cs,identity:()=>$o,include:()=>Pn,includes:()=>Pn,indexBy:()=>Gn,indexOf:()=>ls,initial:()=>sc,inject:()=>Aa,intersection:()=>la,invert:()=>xr,invoke:()=>vn,isArguments:()=>Nr,isArray:()=>Ae,isArrayBuffer:()=>bt,isBoolean:()=>J,isDataView:()=>pe,isDate:()=>Ft,isElement:()=>Tt,isEmpty:()=>Ir,isEqual:()=>Yt,isError:()=>Lt,isFinite:()=>Dr,isFunction:()=>Xt,isMap:()=>je,isMatch:()=>rn,isNaN:()=>Vr,isNull:()=>$,isNumber:()=>G,isObject:()=>U,isRegExp:()=>$t,isSet:()=>xt,isString:()=>_t,isSymbol:()=>ve,isTypedArray:()=>ue,isUndefined:()=>Q,isWeakMap:()=>Xe,isWeakSet:()=>ce,iteratee:()=>vo,keys:()=>Qe,last:()=>Ro,lastIndexOf:()=>Ua,map:()=>Do,mapObject:()=>oi,matcher:()=>Ao,matches:()=>Ao,max:()=>ta,memoize:()=>is,methods:()=>Yr,min:()=>Cs,mixin:()=>Ki,negate:()=>ui,noop:()=>un,now:()=>rt,object:()=>_i,omit:()=>Ts,once:()=>ss,pairs:()=>Ze,partial:()=>Di,partition:()=>Vo,pick:()=>sa,pluck:()=>aa,property:()=>ni,propertyOf:()=>Zo,random:()=>Bn,range:()=>ca,reduce:()=>Aa,reduceRight:()=>Cn,reject:()=>Ni,rest:()=>Vi,restArguments:()=>F,result:()=>nn,sample:()=>Fo,select:()=>Io,shuffle:()=>Ss,size:()=>jl,some:()=>Mo,sortBy:()=>Os,sortedIndex:()=>ba,tail:()=>Vi,take:()=>cs,tap:()=>fo,template:()=>Xr,templateSettings:()=>Vn,throttle:()=>Go,times:()=>Ci,toArray:()=>yi,toPath:()=>Bo,transpose:()=>Ma,unescape:()=>_n,union:()=>wi,uniq:()=>bi,unique:()=>bi,uniqueId:()=>Lr,unzip:()=>Ma,values:()=>ke,where:()=>No,without:()=>Sc,wrap:()=>ti,zip:()=>cc});var Oe={};Pe.r(Oe),Pe.d(Oe,{VERSION:()=>Re,after:()=>Hs,all:()=>mi,allKeys:()=>pr,any:()=>Mo,assign:()=>lo,before:()=>as,bind:()=>Vs,bindAll:()=>Ll,chain:()=>Ln,chunk:()=>$a,clone:()=>Qo,collect:()=>Do,compact:()=>Dl,compose:()=>Ii,constant:()=>Je,contains:()=>Pn,countBy:()=>Ws,create:()=>Fn,debounce:()=>ia,default:()=>Ri,defaults:()=>uo,defer:()=>Rs,delay:()=>zo,detect:()=>Si,difference:()=>Wa,drop:()=>Vi,each:()=>qi,escape:()=>hr,every:()=>mi,extend:()=>In,extendOwn:()=>lo,filter:()=>Io,find:()=>Si,findIndex:()=>Bs,findKey:()=>ka,findLastIndex:()=>ya,findWhere:()=>Us,first:()=>cs,flatten:()=>lc,foldl:()=>Aa,foldr:()=>Cn,forEach:()=>qi,functions:()=>Yr,get:()=>_o,groupBy:()=>zs,has:()=>va,head:()=>cs,identity:()=>$o,include:()=>Pn,includes:()=>Pn,indexBy:()=>Gn,indexOf:()=>ls,initial:()=>sc,inject:()=>Aa,intersection:()=>la,invert:()=>xr,invoke:()=>vn,isArguments:()=>Nr,isArray:()=>Ae,isArrayBuffer:()=>bt,isBoolean:()=>J,isDataView:()=>pe,isDate:()=>Ft,isElement:()=>Tt,isEmpty:()=>Ir,isEqual:()=>Yt,isError:()=>Lt,isFinite:()=>Dr,isFunction:()=>Xt,isMap:()=>je,isMatch:()=>rn,isNaN:()=>Vr,isNull:()=>$,isNumber:()=>G,isObject:()=>U,isRegExp:()=>$t,isSet:()=>xt,isString:()=>_t,isSymbol:()=>ve,isTypedArray:()=>ue,isUndefined:()=>Q,isWeakMap:()=>Xe,isWeakSet:()=>ce,iteratee:()=>vo,keys:()=>Qe,last:()=>Ro,lastIndexOf:()=>Ua,map:()=>Do,mapObject:()=>oi,matcher:()=>Ao,matches:()=>Ao,max:()=>ta,memoize:()=>is,methods:()=>Yr,min:()=>Cs,mixin:()=>Ki,negate:()=>ui,noop:()=>un,now:()=>rt,object:()=>_i,omit:()=>Ts,once:()=>ss,pairs:()=>Ze,partial:()=>Di,partition:()=>Vo,pick:()=>sa,pluck:()=>aa,property:()=>ni,propertyOf:()=>Zo,random:()=>Bn,range:()=>ca,reduce:()=>Aa,reduceRight:()=>Cn,reject:()=>Ni,rest:()=>Vi,restArguments:()=>F,result:()=>nn,sample:()=>Fo,select:()=>Io,shuffle:()=>Ss,size:()=>jl,some:()=>Mo,sortBy:()=>Os,sortedIndex:()=>ba,tail:()=>Vi,take:()=>cs,tap:()=>fo,template:()=>Xr,templateSettings:()=>Vn,throttle:()=>Go,times:()=>Ci,toArray:()=>yi,toPath:()=>Bo,transpose:()=>Ma,unescape:()=>_n,union:()=>wi,uniq:()=>bi,unique:()=>bi,uniqueId:()=>Lr,unzip:()=>Ma,values:()=>ke,where:()=>No,without:()=>Sc,wrap:()=>ti,zip:()=>cc});var Re="1.13.6",le=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Kt=Array.prototype,ut=Object.prototype,Ct=typeof Symbol<"u"?Symbol.prototype:null,q=Kt.push,yt=Kt.slice,Y=ut.toString,st=ut.hasOwnProperty,k=typeof ArrayBuffer<"u",H=typeof DataView<"u",ft=Array.isArray,ht=Object.keys,dt=Object.create,B=k&&ArrayBuffer.isView,V=isNaN,I=isFinite,N=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=Math.pow(2,53)-1;function F(gt,Dt){return Dt=Dt==null?gt.length-1:+Dt,function(){for(var de=Math.max(arguments.length-Dt,0),Te=Array(de),Be=0;Be<de;Be++)Te[Be]=arguments[Be+Dt];switch(Dt){case 0:return gt.call(this,Te);case 1:return gt.call(this,arguments[0],Te);case 2:return gt.call(this,arguments[0],arguments[1],Te)}var Ve=Array(Dt+1);for(Be=0;Be<Dt;Be++)Ve[Be]=arguments[Be];return Ve[Dt]=Te,gt.apply(this,Ve)}}function U(gt){var Dt=typeof gt;return Dt==="function"||Dt==="object"&&!!gt}function $(gt){return gt===null}function Q(gt){return gt===void 0}function J(gt){return gt===!0||gt===!1||Y.call(gt)==="[object Boolean]"}function Tt(gt){return!!(gt&&gt.nodeType===1)}function et(gt){var Dt="[object "+gt+"]";return function(de){return Y.call(de)===Dt}}const _t=et("String"),G=et("Number"),Ft=et("Date"),$t=et("RegExp"),Lt=et("Error"),ve=et("Symbol"),bt=et("ArrayBuffer");var jt=et("Function"),Rt=le.document&&le.document.childNodes;typeof Int8Array!="object"&&typeof Rt!="function"&&(jt=function(gt){return typeof gt=="function"||!1});const Xt=jt,Ht=et("Object");var It=H&&Ht(new DataView(new ArrayBuffer(8))),St=typeof Map<"u"&&Ht(new Map),Bt=et("DataView");function Me(gt){return gt!=null&&Xt(gt.getInt8)&&bt(gt.buffer)}const pe=It?Me:Bt,Ae=ft||et("Array");function ir(gt,Dt){return gt!=null&&st.call(gt,Dt)}var Or=et("Arguments");(function(){Or(arguments)||(Or=function(gt){return ir(gt,"callee")})})();const Nr=Or;function Dr(gt){return!ve(gt)&&I(gt)&&!isNaN(parseFloat(gt))}function Vr(gt){return G(gt)&&V(gt)}function Je(gt){return function(){return gt}}function nt(gt){return function(Dt){var de=gt(Dt);return typeof de=="number"&&de>=0&&de<=R}}function Et(gt){return function(Dt){return Dt==null?void 0:Dt[gt]}}const qt=Et("byteLength"),me=nt(qt);var Le=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function lt(gt){return B?B(gt)&&!pe(gt):me(gt)&&Le.test(Y.call(gt))}const ue=k?lt:Je(!1),se=Et("length");function nr(gt){for(var Dt={},de=gt.length,Te=0;Te<de;++Te)Dt[gt[Te]]=!0;return{contains:function(Be){return Dt[Be]===!0},push:function(Be){return Dt[Be]=!0,gt.push(Be)}}}function vr(gt,Dt){Dt=nr(Dt);var de=W.length,Te=gt.constructor,Be=Xt(Te)&&Te.prototype||ut,Ve="constructor";for(ir(gt,Ve)&&!Dt.contains(Ve)&&Dt.push(Ve);de--;)Ve=W[de],Ve in gt&&gt[Ve]!==Be[Ve]&&!Dt.contains(Ve)&&Dt.push(Ve)}function Qe(gt){if(!U(gt))return[];if(ht)return ht(gt);var Dt=[];for(var de in gt)ir(gt,de)&&Dt.push(de);return N&&vr(gt,Dt),Dt}function Ir(gt){if(gt==null)return!0;var Dt=se(gt);return typeof Dt=="number"&&(Ae(gt)||_t(gt)||Nr(gt))?Dt===0:se(Qe(gt))===0}function rn(gt,Dt){var de=Qe(Dt),Te=de.length;if(gt==null)return!Te;for(var Be=Object(gt),Ve=0;Ve<Te;Ve++){var fr=de[Ve];if(Dt[fr]!==Be[fr]||!(fr in Be))return!1}return!0}function vt(gt){if(gt instanceof vt)return gt;if(!(this instanceof vt))return new vt(gt);this._wrapped=gt}vt.VERSION=Re,vt.prototype.value=function(){return this._wrapped},vt.prototype.valueOf=vt.prototype.toJSON=vt.prototype.value,vt.prototype.toString=function(){return String(this._wrapped)};function Wt(gt){return new Uint8Array(gt.buffer||gt,gt.byteOffset||0,qt(gt))}var fe="[object DataView]";function Vt(gt,Dt,de,Te){if(gt===Dt)return gt!==0||1/gt===1/Dt;if(gt==null||Dt==null)return!1;if(gt!==gt)return Dt!==Dt;var Be=typeof gt;return Be!=="function"&&Be!=="object"&&typeof Dt!="object"?!1:Ce(gt,Dt,de,Te)}function Ce(gt,Dt,de,Te){gt instanceof vt&&(gt=gt._wrapped),Dt instanceof vt&&(Dt=Dt._wrapped);var Be=Y.call(gt);if(Be!==Y.call(Dt))return!1;if(It&&Be=="[object Object]"&&pe(gt)){if(!pe(Dt))return!1;Be=fe}switch(Be){case"[object RegExp]":case"[object String]":return""+gt==""+Dt;case"[object Number]":return+gt!=+gt?+Dt!=+Dt:+gt==0?1/+gt===1/Dt:+gt==+Dt;case"[object Date]":case"[object Boolean]":return+gt==+Dt;case"[object Symbol]":return Ct.valueOf.call(gt)===Ct.valueOf.call(Dt);case"[object ArrayBuffer]":case fe:return Ce(Wt(gt),Wt(Dt),de,Te)}var Ve=Be==="[object Array]";if(!Ve&&ue(gt)){var fr=qt(gt);if(fr!==qt(Dt))return!1;if(gt.buffer===Dt.buffer&&gt.byteOffset===Dt.byteOffset)return!0;Ve=!0}if(!Ve){if(typeof gt!="object"||typeof Dt!="object")return!1;var Fr=gt.constructor,it=Dt.constructor;if(Fr!==it&&!(Xt(Fr)&&Fr instanceof Fr&&Xt(it)&&it instanceof it)&&"constructor"in gt&&"constructor"in Dt)return!1}de=de||[],Te=Te||[];for(var Mt=de.length;Mt--;)if(de[Mt]===gt)return Te[Mt]===Dt;if(de.push(gt),Te.push(Dt),Ve){if(Mt=gt.length,Mt!==Dt.length)return!1;for(;Mt--;)if(!Vt(gt[Mt],Dt[Mt],de,Te))return!1}else{var ie=Qe(gt),be;if(Mt=ie.length,Qe(Dt).length!==Mt)return!1;for(;Mt--;)if(be=ie[Mt],!(ir(Dt,be)&&Vt(gt[be],Dt[be],de,Te)))return!1}return de.pop(),Te.pop(),!0}function Yt(gt,Dt){return Vt(gt,Dt)}function pr(gt){if(!U(gt))return[];var Dt=[];for(var de in gt)Dt.push(de);return N&&vr(gt,Dt),Dt}function dr(gt){var Dt=se(gt);return function(de){if(de==null)return!1;var Te=pr(de);if(se(Te))return!1;for(var Be=0;Be<Dt;Be++)if(!Xt(de[gt[Be]]))return!1;return gt!==Ut||!Xt(de[on])}}var on="forEach",Kr="has",He=["clear","delete"],pn=["get",Kr,"set"],$n=He.concat(on,pn),Ut=He.concat(pn),te=["add"].concat(He,on,Kr);const je=St?dr($n):et("Map"),Xe=St?dr(Ut):et("WeakMap"),xt=St?dr(te):et("Set"),ce=et("WeakSet");function ke(gt){for(var Dt=Qe(gt),de=Dt.length,Te=Array(de),Be=0;Be<de;Be++)Te[Be]=gt[Dt[Be]];return Te}function Ze(gt){for(var Dt=Qe(gt),de=Dt.length,Te=Array(de),Be=0;Be<de;Be++)Te[Be]=[Dt[Be],gt[Dt[Be]]];return Te}function xr(gt){for(var Dt={},de=Qe(gt),Te=0,Be=de.length;Te<Be;Te++)Dt[gt[de[Te]]]=de[Te];return Dt}function Yr(gt){var Dt=[];for(var de in gt)Xt(gt[de])&&Dt.push(de);return Dt.sort()}function Un(gt,Dt){return function(de){var Te=arguments.length;if(Dt&&(de=Object(de)),Te<2||de==null)return de;for(var Be=1;Be<Te;Be++)for(var Ve=arguments[Be],fr=gt(Ve),Fr=fr.length,it=0;it<Fr;it++){var Mt=fr[it];(!Dt||de[Mt]===void 0)&&(de[Mt]=Ve[Mt])}return de}}const In=Un(pr),lo=Un(Qe),uo=Un(pr,!0);function yn(){return function(){}}function Qn(gt){if(!U(gt))return{};if(dt)return dt(gt);var Dt=yn();Dt.prototype=gt;var de=new Dt;return Dt.prototype=null,de}function Fn(gt,Dt){var de=Qn(gt);return Dt&&lo(de,Dt),de}function Qo(gt){return U(gt)?Ae(gt)?gt.slice():In({},gt):gt}function fo(gt,Dt){return Dt(gt),gt}function Bo(gt){return Ae(gt)?gt:[gt]}vt.toPath=Bo;function bo(gt){return vt.toPath(gt)}function wo(gt,Dt){for(var de=Dt.length,Te=0;Te<de;Te++){if(gt==null)return;gt=gt[Dt[Te]]}return de?gt:void 0}function _o(gt,Dt,de){var Te=wo(gt,bo(Dt));return Q(Te)?de:Te}function va(gt,Dt){Dt=bo(Dt);for(var de=Dt.length,Te=0;Te<de;Te++){var Be=Dt[Te];if(!ir(gt,Be))return!1;gt=gt[Be]}return!!de}function $o(gt){return gt}function Ao(gt){return gt=lo({},gt),function(Dt){return rn(Dt,gt)}}function ni(gt){return gt=bo(gt),function(Dt){return wo(Dt,gt)}}function eo(gt,Dt,de){if(Dt===void 0)return gt;switch(de??3){case 1:return function(Te){return gt.call(Dt,Te)};case 3:return function(Te,Be,Ve){return gt.call(Dt,Te,Be,Ve)};case 4:return function(Te,Be,Ve,fr){return gt.call(Dt,Te,Be,Ve,fr)}}return function(){return gt.apply(Dt,arguments)}}function Wr(gt,Dt,de){return gt==null?$o:Xt(gt)?eo(gt,Dt,de):U(gt)&&!Ae(gt)?Ao(gt):ni(gt)}function vo(gt,Dt){return Wr(gt,Dt,1/0)}vt.iteratee=vo;function po(gt,Dt,de){return vt.iteratee!==vo?vt.iteratee(gt,Dt):Wr(gt,Dt,de)}function oi(gt,Dt,de){Dt=po(Dt,de);for(var Te=Qe(gt),Be=Te.length,Ve={},fr=0;fr<Be;fr++){var Fr=Te[fr];Ve[Fr]=Dt(gt[Fr],Fr,gt)}return Ve}function un(){}function Zo(gt){return gt==null?un:function(Dt){return _o(gt,Dt)}}function Ci(gt,Dt,de){var Te=Array(Math.max(0,gt));Dt=eo(Dt,de,1);for(var Be=0;Be<gt;Be++)Te[Be]=Dt(Be);return Te}function Bn(gt,Dt){return Dt==null&&(Dt=gt,gt=0),gt+Math.floor(Math.random()*(Dt-gt+1))}const rt=Date.now||function(){return new Date().getTime()};function Zt(gt){var Dt=function(Ve){return gt[Ve]},de="(?:"+Qe(gt).join("|")+")",Te=RegExp(de),Be=RegExp(de,"g");return function(Ve){return Ve=Ve==null?"":""+Ve,Te.test(Ve)?Ve.replace(Be,Dt):Ve}}const ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},hr=Zt(ar),Mr=xr(ar),_n=Zt(Mr),Vn=vt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Jr=/(.)^/,gr={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},At=/\\|'|\r|\n|\u2028|\u2029/g;function we(gt){return"\\"+gr[gt]}var cr=/^\s*(\w|\$)+\s*$/;function Xr(gt,Dt,de){!Dt&&de&&(Dt=de),Dt=uo({},Dt,vt.templateSettings);var Te=RegExp([(Dt.escape||Jr).source,(Dt.interpolate||Jr).source,(Dt.evaluate||Jr).source].join("|")+"|$","g"),Be=0,Ve="__p+='";gt.replace(Te,function(Mt,ie,be,qe,Fe){return Ve+=gt.slice(Be,Fe).replace(At,we),Be=Fe+Mt.length,ie?Ve+=`'+
((__t=(`+ie+`))==null?'':_.escape(__t))+
'`:be?Ve+=`'+
((__t=(`+be+`))==null?'':__t)+
'`:qe&&(Ve+=`';
`+qe+`
__p+='`),Mt}),Ve+=`';
`;var fr=Dt.variable;if(fr){if(!cr.test(fr))throw new Error("variable is not a bare identifier: "+fr)}else Ve=`with(obj||{}){
`+Ve+`}
`,fr="obj";Ve=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ve+`return __p;
`;var Fr;try{Fr=new Function(fr,"_",Ve)}catch(Mt){throw Mt.source=Ve,Mt}var it=function(Mt){return Fr.call(this,Mt,vt)};return it.source="function("+fr+`){
`+Ve+"}",it}function nn(gt,Dt,de){Dt=bo(Dt);var Te=Dt.length;if(!Te)return Xt(de)?de.call(gt):de;for(var Be=0;Be<Te;Be++){var Ve=gt==null?void 0:gt[Dt[Be]];Ve===void 0&&(Ve=de,Be=Te),gt=Xt(Ve)?Ve.call(gt):Ve}return gt}var xn=0;function Lr(gt){var Dt=++xn+"";return gt?gt+Dt:Dt}function Ln(gt){var Dt=vt(gt);return Dt._chain=!0,Dt}function xo(gt,Dt,de,Te,Be){if(!(Te instanceof Dt))return gt.apply(de,Be);var Ve=Qn(gt.prototype),fr=gt.apply(Ve,Be);return U(fr)?fr:Ve}var Uo=F(function(gt,Dt){var de=Uo.placeholder,Te=function(){for(var Be=0,Ve=Dt.length,fr=Array(Ve),Fr=0;Fr<Ve;Fr++)fr[Fr]=Dt[Fr]===de?arguments[Be++]:Dt[Fr];for(;Be<arguments.length;)fr.push(arguments[Be++]);return xo(gt,Te,this,this,fr)};return Te});Uo.placeholder=vt;const Di=Uo,Vs=F(function(gt,Dt,de){if(!Xt(gt))throw new TypeError("Bind must be called on a function");var Te=F(function(Be){return xo(gt,Te,Dt,this,de.concat(Be))});return Te}),jo=nt(se);function ma(gt,Dt,de,Te){if(Te=Te||[],!Dt&&Dt!==0)Dt=1/0;else if(Dt<=0)return Te.concat(gt);for(var Be=Te.length,Ve=0,fr=se(gt);Ve<fr;Ve++){var Fr=gt[Ve];if(jo(Fr)&&(Ae(Fr)||Nr(Fr)))if(Dt>1)ma(Fr,Dt-1,de,Te),Be=Te.length;else for(var it=0,Mt=Fr.length;it<Mt;)Te[Be++]=Fr[it++];else de||(Te[Be++]=Fr)}return Te}const Ll=F(function(gt,Dt){Dt=ma(Dt,!1,!1);var de=Dt.length;if(de<1)throw new Error("bindAll must be passed function names");for(;de--;){var Te=Dt[de];gt[Te]=Vs(gt[Te],gt)}return gt});function is(gt,Dt){var de=function(Te){var Be=de.cache,Ve=""+(Dt?Dt.apply(this,arguments):Te);return ir(Be,Ve)||(Be[Ve]=gt.apply(this,arguments)),Be[Ve]};return de.cache={},de}const zo=F(function(gt,Dt,de){return setTimeout(function(){return gt.apply(null,de)},Dt)}),Rs=Di(zo,vt,1);function Go(gt,Dt,de){var Te,Be,Ve,fr,Fr=0;de||(de={});var it=function(){Fr=de.leading===!1?0:rt(),Te=null,fr=gt.apply(Be,Ve),Te||(Be=Ve=null)},Mt=function(){var ie=rt();!Fr&&de.leading===!1&&(Fr=ie);var be=Dt-(ie-Fr);return Be=this,Ve=arguments,be<=0||be>Dt?(Te&&(clearTimeout(Te),Te=null),Fr=ie,fr=gt.apply(Be,Ve),Te||(Be=Ve=null)):!Te&&de.trailing!==!1&&(Te=setTimeout(it,be)),fr};return Mt.cancel=function(){clearTimeout(Te),Fr=0,Te=Be=Ve=null},Mt}function ia(gt,Dt,de){var Te,Be,Ve,fr,Fr,it=function(){var ie=rt()-Be;Dt>ie?Te=setTimeout(it,Dt-ie):(Te=null,de||(fr=gt.apply(Fr,Ve)),Te||(Ve=Fr=null))},Mt=F(function(ie){return Fr=this,Ve=ie,Be=rt(),Te||(Te=setTimeout(it,Dt),de&&(fr=gt.apply(Fr,Ve))),fr});return Mt.cancel=function(){clearTimeout(Te),Te=Ve=Fr=null},Mt}function ti(gt,Dt){return Di(Dt,gt)}function ui(gt){return function(){return!gt.apply(this,arguments)}}function Ii(){var gt=arguments,Dt=gt.length-1;return function(){for(var de=Dt,Te=gt[Dt].apply(this,arguments);de--;)Te=gt[de].call(this,Te);return Te}}function Hs(gt,Dt){return function(){if(--gt<1)return Dt.apply(this,arguments)}}function as(gt,Dt){var de;return function(){return--gt>0&&(de=Dt.apply(this,arguments)),gt<=1&&(Dt=null),de}}const ss=Di(as,2);function ka(gt,Dt,de){Dt=po(Dt,de);for(var Te=Qe(gt),Be,Ve=0,fr=Te.length;Ve<fr;Ve++)if(Be=Te[Ve],Dt(gt[Be],Be,gt))return Be}function vi(gt){return function(Dt,de,Te){de=po(de,Te);for(var Be=se(Dt),Ve=gt>0?0:Be-1;Ve>=0&&Ve<Be;Ve+=gt)if(de(Dt[Ve],Ve,Dt))return Ve;return-1}}const Bs=vi(1),ya=vi(-1);function ba(gt,Dt,de,Te){de=po(de,Te,1);for(var Be=de(Dt),Ve=0,fr=se(gt);Ve<fr;){var Fr=Math.floor((Ve+fr)/2);de(gt[Fr])<Be?Ve=Fr+1:fr=Fr}return Ve}function Gi(gt,Dt,de){return function(Te,Be,Ve){var fr=0,Fr=se(Te);if(typeof Ve=="number")gt>0?fr=Ve>=0?Ve:Math.max(Ve+Fr,fr):Fr=Ve>=0?Math.min(Ve+1,Fr):Ve+Fr+1;else if(de&&Ve&&Fr)return Ve=de(Te,Be),Te[Ve]===Be?Ve:-1;if(Be!==Be)return Ve=Dt(yt.call(Te,fr,Fr),Vr),Ve>=0?Ve+fr:-1;for(Ve=gt>0?fr:Fr-1;Ve>=0&&Ve<Fr;Ve+=gt)if(Te[Ve]===Be)return Ve;return-1}}const ls=Gi(1,Bs,ba),Ua=Gi(-1,ya);function Si(gt,Dt,de){var Te=jo(gt)?Bs:ka,Be=Te(gt,Dt,de);if(Be!==void 0&&Be!==-1)return gt[Be]}function Us(gt,Dt){return Si(gt,Ao(Dt))}function qi(gt,Dt,de){Dt=eo(Dt,de);var Te,Be;if(jo(gt))for(Te=0,Be=gt.length;Te<Be;Te++)Dt(gt[Te],Te,gt);else{var Ve=Qe(gt);for(Te=0,Be=Ve.length;Te<Be;Te++)Dt(gt[Ve[Te]],Ve[Te],gt)}return gt}function Do(gt,Dt,de){Dt=po(Dt,de);for(var Te=!jo(gt)&&Qe(gt),Be=(Te||gt).length,Ve=Array(Be),fr=0;fr<Be;fr++){var Fr=Te?Te[fr]:fr;Ve[fr]=Dt(gt[Fr],Fr,gt)}return Ve}function Oi(gt){var Dt=function(de,Te,Be,Ve){var fr=!jo(de)&&Qe(de),Fr=(fr||de).length,it=gt>0?0:Fr-1;for(Ve||(Be=de[fr?fr[it]:it],it+=gt);it>=0&&it<Fr;it+=gt){var Mt=fr?fr[it]:it;Be=Te(Be,de[Mt],Mt,de)}return Be};return function(de,Te,Be,Ve){var fr=arguments.length>=3;return Dt(de,eo(Te,Ve,4),Be,fr)}}const Aa=Oi(1),Cn=Oi(-1);function Io(gt,Dt,de){var Te=[];return Dt=po(Dt,de),qi(gt,function(Be,Ve,fr){Dt(Be,Ve,fr)&&Te.push(Be)}),Te}function Ni(gt,Dt,de){return Io(gt,ui(po(Dt)),de)}function mi(gt,Dt,de){Dt=po(Dt,de);for(var Te=!jo(gt)&&Qe(gt),Be=(Te||gt).length,Ve=0;Ve<Be;Ve++){var fr=Te?Te[Ve]:Ve;if(!Dt(gt[fr],fr,gt))return!1}return!0}function Mo(gt,Dt,de){Dt=po(Dt,de);for(var Te=!jo(gt)&&Qe(gt),Be=(Te||gt).length,Ve=0;Ve<Be;Ve++){var fr=Te?Te[Ve]:Ve;if(Dt(gt[fr],fr,gt))return!0}return!1}function Pn(gt,Dt,de,Te){return jo(gt)||(gt=ke(gt)),(typeof de!="number"||Te)&&(de=0),ls(gt,Dt,de)>=0}const vn=F(function(gt,Dt,de){var Te,Be;return Xt(Dt)?Be=Dt:(Dt=bo(Dt),Te=Dt.slice(0,-1),Dt=Dt[Dt.length-1]),Do(gt,function(Ve){var fr=Be;if(!fr){if(Te&&Te.length&&(Ve=wo(Ve,Te)),Ve==null)return;fr=Ve[Dt]}return fr==null?fr:fr.apply(Ve,de)})});function aa(gt,Dt){return Do(gt,ni(Dt))}function No(gt,Dt){return Io(gt,Ao(Dt))}function ta(gt,Dt,de){var Te=-1/0,Be=-1/0,Ve,fr;if(Dt==null||typeof Dt=="number"&&typeof gt[0]!="object"&&gt!=null){gt=jo(gt)?gt:ke(gt);for(var Fr=0,it=gt.length;Fr<it;Fr++)Ve=gt[Fr],Ve!=null&&Ve>Te&&(Te=Ve)}else Dt=po(Dt,de),qi(gt,function(Mt,ie,be){fr=Dt(Mt,ie,be),(fr>Be||fr===-1/0&&Te===-1/0)&&(Te=Mt,Be=fr)});return Te}function Cs(gt,Dt,de){var Te=1/0,Be=1/0,Ve,fr;if(Dt==null||typeof Dt=="number"&&typeof gt[0]!="object"&&gt!=null){gt=jo(gt)?gt:ke(gt);for(var Fr=0,it=gt.length;Fr<it;Fr++)Ve=gt[Fr],Ve!=null&&Ve<Te&&(Te=Ve)}else Dt=po(Dt,de),qi(gt,function(Mt,ie,be){fr=Dt(Mt,ie,be),(fr<Be||fr===1/0&&Te===1/0)&&(Te=Mt,Be=fr)});return Te}var ii=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function yi(gt){return gt?Ae(gt)?yt.call(gt):_t(gt)?gt.match(ii):jo(gt)?Do(gt,$o):ke(gt):[]}function Fo(gt,Dt,de){if(Dt==null||de)return jo(gt)||(gt=ke(gt)),gt[Bn(gt.length-1)];var Te=yi(gt),Be=se(Te);Dt=Math.max(Math.min(Dt,Be),0);for(var Ve=Be-1,fr=0;fr<Dt;fr++){var Fr=Bn(fr,Ve),it=Te[fr];Te[fr]=Te[Fr],Te[Fr]=it}return Te.slice(0,Dt)}function Ss(gt){return Fo(gt,1/0)}function Os(gt,Dt,de){var Te=0;return Dt=po(Dt,de),aa(Do(gt,function(Be,Ve,fr){return{value:Be,index:Te++,criteria:Dt(Be,Ve,fr)}}).sort(function(Be,Ve){var fr=Be.criteria,Fr=Ve.criteria;if(fr!==Fr){if(fr>Fr||fr===void 0)return 1;if(fr<Fr||Fr===void 0)return-1}return Be.index-Ve.index}),"value")}function Fi(gt,Dt){return function(de,Te,Be){var Ve=Dt?[[],[]]:{};return Te=po(Te,Be),qi(de,function(fr,Fr){var it=Te(fr,Fr,de);gt(Ve,fr,it)}),Ve}}const zs=Fi(function(gt,Dt,de){ir(gt,de)?gt[de].push(Dt):gt[de]=[Dt]}),Gn=Fi(function(gt,Dt,de){gt[de]=Dt}),Ws=Fi(function(gt,Dt,de){ir(gt,de)?gt[de]++:gt[de]=1}),Vo=Fi(function(gt,Dt,de){gt[de?0:1].push(Dt)},!0);function jl(gt){return gt==null?0:jo(gt)?gt.length:Qe(gt).length}function za(gt,Dt,de){return Dt in de}const sa=F(function(gt,Dt){var de={},Te=Dt[0];if(gt==null)return de;Xt(Te)?(Dt.length>1&&(Te=eo(Te,Dt[1])),Dt=pr(gt)):(Te=za,Dt=ma(Dt,!1,!1),gt=Object(gt));for(var Be=0,Ve=Dt.length;Be<Ve;Be++){var fr=Dt[Be],Fr=gt[fr];Te(Fr,fr,gt)&&(de[fr]=Fr)}return de}),Ts=F(function(gt,Dt){var de=Dt[0],Te;return Xt(de)?(de=ui(de),Dt.length>1&&(Te=Dt[1])):(Dt=Do(ma(Dt,!1,!1),String),de=function(Be,Ve){return!Pn(Dt,Ve)}),sa(gt,de,Te)});function sc(gt,Dt,de){return yt.call(gt,0,Math.max(0,gt.length-(Dt==null||de?1:Dt)))}function cs(gt,Dt,de){return gt==null||gt.length<1?Dt==null||de?void 0:[]:Dt==null||de?gt[0]:sc(gt,gt.length-Dt)}function Vi(gt,Dt,de){return yt.call(gt,Dt==null||de?1:Dt)}function Ro(gt,Dt,de){return gt==null||gt.length<1?Dt==null||de?void 0:[]:Dt==null||de?gt[gt.length-1]:Vi(gt,Math.max(0,gt.length-Dt))}function Dl(gt){return Io(gt,Boolean)}function lc(gt,Dt){return ma(gt,Dt,!1)}const Wa=F(function(gt,Dt){return Dt=ma(Dt,!0,!0),Io(gt,function(de){return!Pn(Dt,de)})}),Sc=F(function(gt,Dt){return Wa(gt,Dt)});function bi(gt,Dt,de,Te){J(Dt)||(Te=de,de=Dt,Dt=!1),de!=null&&(de=po(de,Te));for(var Be=[],Ve=[],fr=0,Fr=se(gt);fr<Fr;fr++){var it=gt[fr],Mt=de?de(it,fr,gt):it;Dt&&!de?((!fr||Ve!==Mt)&&Be.push(it),Ve=Mt):de?Pn(Ve,Mt)||(Ve.push(Mt),Be.push(it)):Pn(Be,it)||Be.push(it)}return Be}const wi=F(function(gt){return bi(ma(gt,!0,!0))});function la(gt){for(var Dt=[],de=arguments.length,Te=0,Be=se(gt);Te<Be;Te++){var Ve=gt[Te];if(!Pn(Dt,Ve)){var fr;for(fr=1;fr<de&&Pn(arguments[fr],Ve);fr++);fr===de&&Dt.push(Ve)}}return Dt}function Ma(gt){for(var Dt=gt&&ta(gt,se).length||0,de=Array(Dt),Te=0;Te<Dt;Te++)de[Te]=aa(gt,Te);return de}const cc=F(Ma);function _i(gt,Dt){for(var de={},Te=0,Be=se(gt);Te<Be;Te++)Dt?de[gt[Te]]=Dt[Te]:de[gt[Te][0]]=gt[Te][1];return de}function ca(gt,Dt,de){Dt==null&&(Dt=gt||0,gt=0),de||(de=Dt<gt?-1:1);for(var Te=Math.max(Math.ceil((Dt-gt)/de),0),Be=Array(Te),Ve=0;Ve<Te;Ve++,gt+=de)Be[Ve]=gt;return Be}function $a(gt,Dt){if(Dt==null||Dt<1)return[];for(var de=[],Te=0,Be=gt.length;Te<Be;)de.push(yt.call(gt,Te,Te+=Dt));return de}function Es(gt,Dt){return gt._chain?vt(Dt).chain():Dt}function Ki(gt){return qi(Yr(gt),function(Dt){var de=vt[Dt]=gt[Dt];vt.prototype[Dt]=function(){var Te=[this._wrapped];return q.apply(Te,arguments),Es(this,de.apply(vt,Te))}}),vt}qi(["pop","push","reverse","shift","sort","splice","unshift"],function(gt){var Dt=Kt[gt];vt.prototype[gt]=function(){var de=this._wrapped;return de!=null&&(Dt.apply(de,arguments),(gt==="shift"||gt==="splice")&&de.length===0&&delete de[0]),Es(this,de)}}),qi(["concat","join","slice"],function(gt){var Dt=Kt[gt];vt.prototype[gt]=function(){var de=this._wrapped;return de!=null&&(de=Dt.apply(de,arguments)),Es(this,de)}});const Ri=vt;var Yi=Ki(Oe);Yi._=Yi;const ua=Yi}},P0={};function ci(wt){var he=P0[wt];if(he!==void 0)return he.exports;var Pe=P0[wt]={exports:{}};return ub[wt].call(Pe.exports,Pe,Pe.exports,ci),Pe.exports}ci.n=wt=>{var he=wt&&wt.__esModule?()=>wt.default:()=>wt;return ci.d(he,{a:he}),he};ci.d=(wt,he)=>{for(var Pe in he)ci.o(he,Pe)&&!ci.o(wt,Pe)&&Object.defineProperty(wt,Pe,{enumerable:!0,get:he[Pe]})};ci.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();ci.o=(wt,he)=>Object.prototype.hasOwnProperty.call(wt,he);ci.r=wt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(wt,"__esModule",{value:!0})};var k0={};(()=>{ci.d(k0,{ZP:()=>Bp,kr:()=>Hp,j7:()=>cp});var wt=ci(50),he=ci(163);function Pe(p){for(var a=[],t=1;t<arguments.length;t++)a[t-1]=arguments[t];var r=p.raw;return r.reduce(function(o,l,v){var w=a[v-1],C=r[v-1];return Array.isArray(w)?w=w.join(""):C&&C.slice(-1)==="$"?o=o.slice(0,-1):w=(0,he.escape)(w),o+w+l})}var Oe={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const Re=Oe;var le=ci(316),Kt=ci.n(le),ut=ci(895);const Ct=function(p){var a=p.$;if(a&&a.prototype&&a.prototype.constructor.name!=="jQuery"){var t=a.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var l=this.get(0);return l&&l.focus(),this},t.bind=function(l,v){return this.on(l,v)},t.unbind=function(l,v){if((0,wt.isObject)(l)){for(var w in l)l.hasOwnProperty(w)&&this.off(w,l[w]);return this}else return this.off(l,v)},t.click=function(l){return l?this.on("click",l):this.trigger("click")},t.change=function(l){return l?this.on("change",l):this.trigger("change")},t.keydown=function(l){return l?this.on("keydown",l):this.trigger("keydown")},t.delegate=function(l,v,w,C){return C||(C=w),this.on(v,l,function(E){E.data=w,C(E)})},t.scrollLeft=function(){var l=this.get(0);l=l.nodeType==9?l.defaultView:l;var v=l instanceof Window?l:null;return v?v.pageXOffset:l.scrollLeft||0},t.scrollTop=function(){var l=this.get(0);l=l.nodeType==9?l.defaultView:l;var v=l instanceof Window?l:null;return v?v.pageYOffset:l.scrollTop||0};var r=a.prototype.offset;t.offset=function(l){var v,w;return l&&(v=l.top,w=l.left),typeof v<"u"&&this.css("top","".concat(v,"px")),typeof w<"u"&&this.css("left","".concat(w,"px")),r.call(this)},a.map=function(l,v){for(var w=[],C=0;C<l.length;C++)w.push(v(l[C],C));return w};var o=Array.prototype.indexOf;a.inArray=function(l,v,w){return v==null?-1:o.call(v,l,w)},a.Event=function(l,v){if(!(this instanceof a.Event))return new a.Event(l,v);this.type=l,this.isDefaultPrevented=function(){return!1}}}};var q=ci(346),yt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Y=function(p){yt(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(q.Hn),st=function(p){yt(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.getByComponent=function(t){var r=this;return this.filter(function(o){return r.getComponent(o)===t})[0]},a.prototype.addComponent=function(t,r){var o=this,l=((0,wt.isArray)(t)?t:[t]).filter(function(v){return!o.hasComponent(v)}).map(function(v){return new Y({component:v})})[0];return this.push(l,r)},a.prototype.getComponent=function(t){return t.get("component")},a.prototype.hasComponent=function(t){var r=this.getByComponent(t);return r&&this.contains(r)},a.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},a.prototype.allComponents=function(){var t=this;return this.map(function(r){return t.getComponent(r)}).filter(function(r){return r})},a.prototype.removeComponent=function(t,r){var o=this,l=((0,wt.isArray)(t)?t:[t]).map(function(v){return o.getByComponent(v)});return this.remove(l,r)},a}(q.FE);const k=st;var H=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ft=function(){return ft=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ft.apply(this,arguments)},ht=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},dt=function(){function p(a,t,r){this.debounced=[],this.collections=[],this.cls=[],this._em=a,this._name=t;var o=this.name.charAt(0).toLowerCase()+this.name.slice(1),l=(0,wt.isUndefined)(a.config[o])?a.config[this.name]:a.config[o],v=l===!0?{}:l||{};v.pStylePrefix=a.config.pStylePrefix||"",!(0,wt.isUndefined)(l)&&!l&&(v._disable=1),v.em=a,this._config=(0,he.deepMerge)(r||{},v)}return Object.defineProperty(p.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),p.prototype.render=function(a){},p.prototype.postLoad=function(a){},Object.defineProperty(p.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),p.prototype.getConfig=function(a){return a?this.config[a]:this.config},p.prototype.__logWarn=function(a,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(a),t)},p.prototype.destroy=function(){this.__destroy()},p.prototype.__destroy=function(){var a,t,r;(a=this.view)===null||a===void 0||a.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(r=this.state)===null||r===void 0||r.clear(),this.debounced.forEach(function(o){return o.cancel()}),this.collections.forEach(function(o){o.stopListening(),o.reset()})},p.prototype.__appendTo=function(){var a=this.getConfig().appendTo;if(a){var t=(0,wt.isElement)(a)?a:document.querySelector(a);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},p}();const B=dt;var V=function(p){H(a,p);function a(t,r,o,l,v,w){w===void 0&&(w={});var C=p.call(this,t,r,v)||this;return C.cls=[],C.private=!1,C.all=o,C.events=l,!w.skipListen&&C.__initListen(),C}return a.prototype.postLoad=function(t){},a.prototype.render=function(t){},a.prototype.getProjectData=function(t){var r={},o=this.storageKey;return o&&(r[o]=t||this.getAll()),r},a.prototype.loadProjectData=function(t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.all,l=r.onResult,v=r.reset,w=this.storageKey,C={action:"load"},E=o||this.all,j=t[w];if(typeof j=="string")try{j=JSON.parse(j)}catch{this.__logWarn("Data parsing failed",{input:j})}return v&&j&&E.reset(void 0,C),l?j&&l(j,C):j&&(0,he.isDef)(j.length)&&E.reset(j,C),j},a.prototype.clear=function(t){t===void 0&&(t={});var r=this.all;return r&&r.reset(void 0,t),this},a.prototype.getAll=function(){return ht([],this.all.models,!0)},a.prototype.getAllMap=function(){return this.getAll().reduce(function(t,r){return t[r.get(r.idAttribute)]=r,t},{})},a.prototype.__initListen=function(t){t===void 0&&(t={});var r=this,o=r.all,l=r.em,v=r.events;o&&l&&o.on("add",function(w,C,E){return l.trigger(v.add,w,E)}).on("remove",function(w,C,E){return l.trigger(v.remove,w,E)}).on("change",function(w,C){return l.trigger(v.update,w,w.changedAttributes(),C)}).on("all",this.__catchAllEvent,this),this.cls=[o].concat(t.collections||[]),(t.propagate||[]).forEach(function(w){var C=w.entity,E=w.event;C.on("all",function(j,Z,at,Pt){var Nt=Pt||at,re=ft({event:j},Nt);[l,o].map(function(oe){return oe.trigger(E,Z,re)})})})},a.prototype.__remove=function(t,r){var o=this;r===void 0&&(r={});var l=this.em,v=(0,wt.isString)(t)?this.get(t):t,w=function(){return v&&o.all.remove(v,r),v};return!r.silent&&(l==null||l.trigger(this.events.removeBefore,v,w,r)),!r.abort&&w()},a.prototype.__catchAllEvent=function(t,r,o,l){var v=this,w=v.em,C=v.events,E=l||o;w&&C.all&&w.trigger(C.all,{event:t,model:r,options:E}),this.__onAllEvent()},a.prototype.__appendTo=function(t){var r=this.config.appendTo;if(r){var o=(0,wt.isElement)(r)?r:document.querySelector(r);if(!o)return this.__logWarn('"appendTo" element not found');o.appendChild(this.render(t))}},a.prototype.__onAllEvent=function(){},a.prototype._createId=function(t){t===void 0&&(t=16);var r=this.getAll(),o=r.length+t,l=this.getAllMap(),v;do v=(0,he.createId)(o);while(l[v]);return v},a.prototype.__listenAdd=function(t,r){var o=this;t.on("add",function(l,v,w){return o.em.trigger(r,l,w)})},a.prototype.__listenRemove=function(t,r){var o=this;t.on("remove",function(l,v,w){return o.em.trigger(r,l,w)})},a.prototype.__listenUpdate=function(t,r){var o=this;t.on("change",function(l,v){return o.em.trigger(r,l,l.changedAttributes(),v)})},a.prototype.__destroy=function(){var t;this.cls.forEach(function(r){r.stopListening(),r.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},a}(dt),I={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const N=I;var W=ci(642),R={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const F=R;var U=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$=function(p){U(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},a.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var r=["width","height","widthMedia"];r.forEach(function(o){return t.checkUnit(o)})},a.prototype.checkUnit=function(t){var r=this.get(t)||"",o=(parseFloat(r)||0).toString()===r.toString();o&&this.set(t,"".concat(r,"px"))},a.prototype.getName=function(){return this.get("name")||this.get("id")},a.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},a}(q.Hn);const Q=$;var J=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tt=function(p){J(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(q.FE);const et=Tt;Tt.prototype.model=Q;var _t=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),G=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Ft=function(p){_t(a,p);function a(t){var r=p.call(this,t)||this;return r.config=t.config||{},r.em=r.config.em,r.ppfx=r.config.pStylePrefix||"",r.listenTo(r.em,"change:device",r.updateSelect),r}return a.prototype.template=function(t){var r=t.ppfx,o=t.label;return Pe(Lt||(Lt=G([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),r,o,r,r,r,r,r,r,r)},a.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},a.prototype.startAdd=function(){},a.prototype.updateDevice=function(){var t=this.em;if(t){var r=this.devicesEl;t.set("device",r?r.val():"")}},a.prototype.updateSelect=function(){var t=this,r=t.em,o=t.devicesEl;if(r&&r.getDeviceModel&&o){var l=r.getDeviceModel();o.val(l?l.get("id"):"")}},a.prototype.getOptions=function(){var t=this,r=t.collection,o=t.em,l="";return r.forEach(function(v){var w=v.attributes,C=w.name,E=w.id,j=o&&o.t&&o.t("deviceManager.devices.".concat(E))||C;l+='<option value="'.concat(E||C,'">').concat(j,"</option>")}),l},a.prototype.render=function(){var t=this,r=t.em,o=t.ppfx,l=t.$el,v=t.el,w=r&&r.t&&r.t("deviceManager.device");return l.html(this.template({ppfx:o,label:w})),this.devicesEl=l.find(".".concat(o,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(r.get("device")),v.className="".concat(o,"devices-c"),this},a}(q.G7);const $t=Ft;var Lt,ve=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bt=function(){return bt=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bt.apply(this,arguments)},jt="device",Rt="".concat(jt,":"),Xt="".concat(Rt,"select"),Ht="".concat(Rt,"update"),It="".concat(Rt,"add"),St="".concat(Rt,"remove"),Bt="".concat(St,":before"),Me="change:device",pe={all:jt,select:Xt,update:Ht,add:It,remove:St,removeBefore:Bt},Ae=function(p){ve(a,p);function a(t){var r,o=p.call(this,t,"DeviceManager",new et,pe,F)||this;return o.Device=Q,o.Devices=et,o.storageKey="",o.devices=o.all,(r=o.config.devices)===null||r===void 0||r.forEach(function(l){return o.add(l,{silent:!0})}),o.select(o.config.default||o.devices.at(0)),t.on(Me,o._onSelect,o),o}return a.prototype._onSelect=function(t,r,o){var l=this,v=l.em,w=l.events,C=t.previous("device"),E=this.get(r),j=w.select;v.trigger(j,E,this.get(C)),this.__catchAllEvent(j,E,o)},a.prototype.add=function(t,r){r===void 0&&(r={});var o,l=r;if((0,wt.isString)(t)){var v=r;l=arguments[2]||{},o=bt(bt({},l),{id:t,name:l.name||t,width:v})}else o=t;return o.id||(o.id=o.name||this._createId()),this.devices.add(o,l)},a.prototype.get=function(t){var r=this.getAll().filter(function(o){return o.get("name")===t})[0];return r||this.devices.get(t)||null},a.prototype.remove=function(t,r){return r===void 0&&(r={}),this.__remove(t,r)},a.prototype.getDevices=function(){return this.devices.models},a.prototype.select=function(t,r){r===void 0&&(r={});var o=(0,wt.isString)(t)?this.get(t):t;return o&&this.em.set("device",o.get("id"),r),this},a.prototype.getSelected=function(){return this.get(this.em.get("device"))},a.prototype.getAll=function(){return this.devices},a.prototype.render=function(){var t,r=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new $t({collection:this.devices,config:bt({em:r},this.config)}),this.view.render().el},a.prototype.destroy=function(){this.__destroy()},a}(V);const ir=Ae;var Or;(function(p){p.add="page:add",p.addBefore="page:add:before",p.remove="page:remove",p.removeBefore="page:remove:before",p.select="page:select",p.selectBefore="page:select:before",p.update="page:update",p.all="page"})(Or||(Or={}));const Nr=Or;var Dr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vr=function(p){Dr(a,p);function a(t,r,o){return p.call(this,r,{module:t,modelConstructor:o})||this}return a.prototype.add=function(t,r){var o=this,l,v=(0,wt.isArray)(t)?t:(0,wt.isUndefined)(t)?void 0:[t];return v=(l=v==null?void 0:v.map(function(w){return w instanceof o.newModel?w:new o.newModel(o.module,w)}))!==null&&l!==void 0?l:[void 0],p.prototype.add.call(this,(0,wt.isArray)(t)?v:v[0],r)},a.prototype.preinitialize=function(t,r){this.newModel=r.modelConstructor,this.module=r.module},a}(q.FE);const Je=Vr;var nt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Et=function(){return Et=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Et.apply(this,arguments)},qt=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},me="__aw",Le="__ah",lt=function(p,a){var t,r=p.get(a),o=(t=p.view)===null||t===void 0?void 0:t.el[a==="width"?"offsetWidth":"offsetHeight"];return(0,wt.isNumber)(r)?r:(0,wt.isString)(r)&&r.endsWith("px")?parseFloat(r):o||0},ue=function(p){nt(a,p);function a(t,r){var o=p.call(this,t,r)||this,l=o.em,v=o.attributes,w=v.styles,C=v.component,E=l.Components,j=E.getConfig(),Z=l.Css.getAll(),at={},Pt={em:l,config:j,frame:o,idMap:at};if(!(0,he.isComponent)(C)){var Nt=(0,he.isObject)(C)?C:{components:C};!Nt.type&&(Nt.type="wrapper");var re=E.getType("wrapper").model;o.set("component",new re(Nt,Pt))}if(!w)o.set("styles",Z);else if(!(0,he.isObject)(w)){var oe=w;(0,wt.keys)(at).length&&(oe=(0,wt.isString)(oe)?l.Parser.parseCss(oe):oe,l.Css.checkId(oe,{idMap:at})),Z.add(oe),o.set("styles",Z)}return!r.width&&o.set(me,1),!r.height&&o.set(Le,1),!o.id&&o.set("id",(0,he.createId)()),o}return a.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(a.prototype,"width",{get:function(){return lt(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return lt(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),a.prototype.initRefs=function(){var t=this.refFrame;if((0,wt.isString)(t)){var r=this.module.framesById[t];r&&this.set({refFrame:r},{silent:!0})}},a.prototype.getBoxRect=function(){var t=this.attributes,r=t.x,o=t.y,l=this,v=l.width,w=l.height;return{x:r,y:o,width:v,height:w}},a.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},a.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},a.prototype.getComponent=function(){return this.get("component")},a.prototype.getStyles=function(){return this.get("styles")},a.prototype.disable=function(){this.trigger("disable")},a.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var r=this.collection;return r&&r.remove(this)},a.prototype.getHead=function(){return qt([],this.head,!0)},a.prototype.setHead=function(t){return this.set("head",qt([],t,!0))},a.prototype.addHeadItem=function(t){this.head.push(t)},a.prototype.getHeadByAttr=function(t,r,o){return this.head.filter(function(l){return l.attributes&&l.attributes[t]==r&&(!o||o===l.tag)})[0]},a.prototype.removeHeadByAttr=function(t,r,o){var l=this.getHeadByAttr(t,r,o),v=this.head.indexOf(l);v>=0&&this.head.splice(v,1)},a.prototype.addLink=function(t){var r="link";!this.getHeadByAttr("href",t,r)&&this.addHeadItem({tag:r,attributes:{href:t,rel:"stylesheet"}})},a.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},a.prototype.addScript=function(t){var r="script";!this.getHeadByAttr("src",t,r)&&this.addHeadItem({tag:r,attributes:{src:t}})},a.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},a.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},a.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",Et({frame:this},t))},a.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},a.prototype.toJSON=function(t){t===void 0&&(t={});var r=W.Z.prototype.toJSON.call(this,t),o=(0,wt.result)(this,"defaults");return t.fromUndo&&delete r.component,delete r.styles,delete r.changesCount,r[me]&&delete r.width,r[Le]&&delete r.height,r.refFrame&&(r.refFrame=r.refFrame.id,delete r.component),(0,wt.forEach)(r,function(l,v){v.indexOf("_")===0&&delete r[v]}),(0,wt.forEach)(o,function(l,v){r[v]===l&&delete r[v]}),(0,wt.forEach)(["attributes","head"],function(l){(0,wt.isEmpty)(r[l])&&delete r[l]}),r},a}(W.Z);const se=ue;var nr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vr=function(p){nr(a,p);function a(t,r){r===void 0&&(r=[]);var o=p.call(this,t,r,se)||this;return o.loadedItems=0,o.itemsToLoad=0,(0,wt.bindAll)(o,"itemLoaded"),o.on("add",o.onAdd),o.on("reset",o.onReset),o.on("remove",o.onRemove),o.forEach(function(l){return o.onAdd(l)}),o}return a.prototype.onAdd=function(t){this.module.framesById[t.id]=t},a.prototype.onReset=function(t,r){var o=this,l=(r==null?void 0:r.previousModels)||[];l.map(function(v){return o.onRemove(v)})},a.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},a.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},a.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},a.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},a.prototype.listenToLoadItems=function(t){var r=this;this.forEach(function(o){return o[t?"on":"off"]("loaded",r.itemLoaded)})},a}(Je);const Qe=vr;var Ir=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rn=function(p){Ir(a,p);function a(t){var r=this,o=t.em,l=t.config,v=l.scripts,w=l.styles;return r=p.call(this,t,{scripts:v,styles:w})||this,r.set("frames",new Qe(t)),r.on("change:zoom",r.onZoomChange),r.on("change:x change:y",r.onCoordsChange),r.on("change:pointer change:pointerScreen",r.onPointerChange),r.listenTo(o,"change:device ".concat(Ht),r.updateDevice),r.listenTo(o,Nr.select,r._pageUpdated),r}return a.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:q.pH,pointerScreen:q.pH}},Object.defineProperty(a.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),a.prototype.init=function(){var t=this.em,r=t.Pages._initPage();this.set("frames",r.getFrames()),this.updateDevice({frame:r.getMainFrame()})},a.prototype._pageUpdated=function(t,r){var o=this.em;o.setSelected(),o.get("readyCanvas")&&o.stopDefault(),r==null||r.getFrames().map(function(l){return l.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},a.prototype.updateDevice=function(t){t===void 0&&(t={});var r=this.em,o=r.getDeviceModel(),l=t.frame||r.getCurrentFrameModel();if(l&&o){var v=o.attributes,w=v.width,C=v.height;l.set({width:w,height:C},{noUndo:1})}},a.prototype.onZoomChange=function(){var t=this,r=t.em,o=t.module,l=this.get("zoom");l<1&&this.set("zoom",1),r.trigger(o.events.zoom)},a.prototype.onCoordsChange=function(){var t=this,r=t.em,o=t.module;r.trigger(o.events.coords)},a.prototype.onPointerChange=function(){var t=this,r=t.em,o=t.module;r.trigger(o.events.pointer)},a.prototype.getPointerCoords=function(t){t===void 0&&(t=q.vA.World);var r=this.attributes,o=r.pointer,l=r.pointerScreen;return t===q.vA.World?o:l},a}(W.Z);const vt=rn;var Wt=ci(675),fe=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vt=function(p){fe(a,p);function a(t,r){r===void 0&&(r=[]);var o=p.call(this,t,r,Wt.Z)||this;o.on("add",o.onAdd),o.on("change",o.onChange),o.on("remove",o.onRemove);var l=o.em;o.refreshDbn=(0,wt.debounce)(function(){return o.refresh()},0);var v="component:resize styleable:change component:input component:update frame:updated undo redo";return o.listenTo(l,v,function(){return o.refreshDbn()}),o}return Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),a.prototype.refresh=function(){var t=this,r=t.em,o=t.events;r.trigger(o.spot)},a.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},a.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},a.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},a.prototype.__trgEvent=function(t,r){var o=this.module,l=o.em;l.trigger(t,r),this.refreshDbn()},a}(Je);const Ce=Vt;var Yt;(function(p){p.dragEnter="canvas:dragenter",p.dragOver="canvas:dragover",p.dragEnd="canvas:dragend",p.dragData="canvas:dragdata",p.drop="canvas:drop",p.spot="canvas:spot",p.spotAdd="canvas:spot:add",p.spotUpdate="canvas:spot:update",p.spotRemove="canvas:spot:remove",p.coords="canvas:coords",p.zoom="canvas:zoom",p.pointer="canvas:pointer",p.refresh="canvas:refresh",p.frameLoad="canvas:frame:load",p.frameLoadHead="canvas:frame:load:head",p.frameLoadBody="canvas:frame:load:body"})(Yt||(Yt={}));const pr=Yt;var dr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),on=function(p){dr(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"module",{get:function(){var t,r;return(r=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&r!==void 0?r:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),a.prototype.preinitialize=function(t){this.className=""},a}(q.G7);const Kr=on;var He=ci(491),pn=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$n=function(p){pn(a,p);function a(t,r){t===void 0&&(t={}),r===void 0&&(r=!1);var o=p.call(this,t)||this;return o.itemsView="",o.itemType="type",o.reuseView=!1,o.viewCollection=[],r&&o.listenTo(o.collection,"add",o.addTo),o}return a.prototype.addTo=function(t){this.add(t)},a.prototype.itemViewNotFound=function(t){},a.prototype.add=function(t,r){var o=this,l=o.reuseView,v=o.viewCollection,w=r||null,C=t.get(this.itemType),E;t.view&&l?E=t.view:E=this.renderView(t,C),v.push(E);var j=E.render().el;w?w.appendChild(j):this.$el.append(j)},a.prototype.render=function(){var t=this,r=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(o){return t.add(o,r)}),this.$el.append(r),this.onRender(),this},a.prototype.onRender=function(){},a.prototype.onRemoveBefore=function(t,r){},a.prototype.onRemove=function(t,r){},a.prototype.remove=function(t){t===void 0&&(t={});var r=this.viewCollection;return this.onRemoveBefore(r,t),this.clearItems(),q.G7.prototype.remove.apply(this,t),this.onRemove(r,t),this},a.prototype.clearItems=function(){this.viewCollection},a}(Kr);const Ut=$n;var te=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),je=function(p){te(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.config=t.config||{};var o=r.model;return r.listenTo(o,"change",r.render),r.listenTo(o,"destroy remove",r.remove),r.listenTo(o.get("selectors"),"change",r.render),r}return a.prototype.tagName=function(){return"style"},a.prototype.render=function(){var t=this,r=t.model,o=t.el,l=r.get("important");return o.innerHTML=r.toCSS({important:l}),this},a}(q.G7);const Xe=je;var xt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ce=function(p){xt(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype._createElement=function(){return document.createTextNode("")},a.prototype.render=function(){var t=this.model,r=t.get("important");return this.el.textContent=t.getDeclaration({important:r}),this},a}(Xe);const ke=ce;var Ze=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xr=function(p,a){return"".concat(p).concat(a?"-".concat(parseFloat(a)):"")},Yr=function(p){Ze(a,p);function a(t){var r=p.call(this,t)||this;(0,wt.bindAll)(r,"sortRules");var o=t.config||{};r.atRules={},r.config=o,r.em=o.em,r.pfx=o.stylePrefix||"",r.className=r.pfx+"rules";var l=r.collection;return r.listenTo(l,"add",r.addTo),r.listenTo(l,"reset",r.render),r}return a.prototype.addTo=function(t){this.addToCollection(t)},a.prototype.addToCollection=function(t,r){if(this.renderStarted){var o=r||null,l=this.config,v={model:t,config:l},w,C;if(t.get("atRuleType")==="keyframes"){var E=t.getAtRule(),j=this.atRules[E];if(!j){var Z=document.createElement("style");j=document.createTextNode(""),Z.appendChild(document.createTextNode("".concat(E,"{"))),Z.appendChild(j),Z.appendChild(document.createTextNode("}")),this.atRules[E]=j,w=Z}C=new ke(v),j.appendData(C.render().el.textContent)}else C=new Xe(v),w=C.render().el;var at=this.className,Pt=t.get("mediaText"),Nt=xr(at),re=Nt;if(Pt&&(re=xr(at,this.getMediaWidth(Pt))),w){var oe=o||this.el,De=void 0;try{De=oe.querySelector("#".concat(re))}catch{}De||(De=oe.querySelector("#".concat(Nt))),De==null||De.appendChild(w)}return w}},a.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},a.prototype.sortRules=function(t,r){var o=this.em,l=(o.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!l)return 0;var v=l?t:r,w=l?r:t;return v-w},a.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var r=this,o=r.em,l=r.$el,v=r.collection,w=this.className,C=document.createDocumentFragment();l.empty();var E=o.Devices.getAll().pluck("priority").sort(this.sortRules);return E.every(function(j){return j})&&E.unshift(0),E.forEach(function(j){return C.appendChild((0,He.ut)("div",{id:xr(w,j)}))}),v.each(function(j){return t.addToCollection(j,C)}),l.append(C),l.attr("class",w),this},a}(q.G7);const Un=Yr;var In=function(){return In=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},In.apply(this,arguments)},lo=function(){function p(a,t){var r=this;this.em=a,this.canvas=a.Canvas;var o=t||this.canvas.getFrames().map(function(v){return v.getComponent().getEl()}),l=Array.isArray(o)?o:[o];this.el=l[0],this.counter=0,(0,wt.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),l.forEach(function(v){return r.toggleEffects(v,!0)})}return p.prototype.toggleEffects=function(a,t){var r={on:He.on,off:He.S1},o=t?"on":"off";r[o](a,"dragenter",this.handleDragEnter),r[o](a,"dragover",this.handleDragOver),r[o](a,"drop",this.handleDrop),r[o](a,"dragleave",this.handleDragLeave)},p.prototype.__customTglEff=function(a){var t,r=a?He.on:He.S1,o=this.el.ownerDocument,l=(t=o.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=a?{onStart:function(v){var w=v.sorter;(0,He.on)(l,"pointermove",w.onMove)},onEnd:function(v){var w=v.sorter;(0,He.S1)(l,"pointermove",w.onMove)},customTarget:function(v){var w=v.event;return o.elementFromPoint(w.clientX,w.clientY)}}:null,r(l,"pointerenter",this.handleDragEnter),r(l,"pointermove",this.handleDragOver),r(document,"pointerup",this.handleDrop),r(l,"pointerout",this.handleDragLeave)},p.prototype.startCustom=function(){this.__customTglEff(!0)},p.prototype.endCustom=function(a){this.over?this.endDrop(a):this.__customTglEff(!1)},p.prototype.endDrop=function(a,t){var r=this,o=r.em,l=r.dragStop;this.counter=0,l&&l(a||!this.over),this.__customTglEff(!1),o.trigger("canvas:dragend",t)},p.prototype.handleDragLeave=function(a){this.updateCounter(-1,a)},p.prototype.updateCounter=function(a,t){this.counter+=a,this.counter===0&&this.endDrop(!0,t)},p.prototype.handleDragEnter=function(a){var t=this,r=this,o=r.em,l=r.canvas,v=a.dataTransfer,w=o.get("dragContent");if(!(!w&&!l.getConfig().allowExternalDrop)&&(this.updateCounter(1,a),!this.over)){this.over=!0;var C=o.Utils,E=w||"<br>",j,Z;if(o.stopDefault(),o.inAbsoluteMode()){var at=o.Components.getWrapper(),Pt=at.append({})[0],Nt=o.Commands.run("core:component-drag",{event:a,guidesInfo:1,center:1,target:Pt,onEnd:function(oe,De,Ye){var We=Ye.cancelled,Sr;if(!We){Sr=at.append(E)[0];var Br=l.getOffset(),cn=Pt.getStyle(),wn=cn.top,Rr=cn.left,jn=cn.position,Wn=(0,He.GX)(oe.target),Gr=parseInt("".concat(parseFloat(Rr)+Wn.x-Br.left),10),rr=parseInt("".concat(parseFloat(wn)+Wn.y-Br.top),10);Sr.addStyle({left:Gr+"px",top:rr+"px",position:jn})}t.handleDragEnd(Sr,v),Pt.remove()}});j=function(oe){return Nt.stop(a,{cancel:oe})},Z=function(oe){return E=oe}}else{var re=new C.Sorter(In({em:o,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:l.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(oe){return t.handleDragEnd(oe,v)},document:this.el.ownerDocument},this.sortOpts||{}));re.setDropContent(E),re.startSort(),this.sorter=re,j=function(oe){oe&&(re.moved=!1),re.endMove()},Z=function(oe){return re.setDropContent(oe)}}this.dragStop=j,this.dragContent=Z,o.trigger("canvas:dragenter",v,E)}},p.prototype.handleDragEnd=function(a,t){var r=this.em;this.over=!1,a&&(r.set("dragResult",a),r.trigger("canvas:drop",t,a)),r.runDefault({preserveSelected:1})},p.prototype.handleDragOver=function(a){a.preventDefault(),this.em.trigger("canvas:dragover",a)},p.prototype.handleDrop=function(a){a.preventDefault();var t=this.dragContent,r=a.dataTransfer,o=this.getContentByData(r).content;a.target.style.border="",o&&t&&t(o),this.endDrop(!o,a)},p.prototype.getContentByData=function(a){var t=this.em,r=a&&a.types,o=a&&a.files||[],l=t.get("dragContent"),v=a&&a.getData("text");if(o.length){v=[];for(var w=0;w<o.length;w++){var C=o[w],E=C.type.split("/")[0];E=="image"&&v.push({type:E,file:C,attributes:{alt:C.name}})}}else if(l)v=l;else if((0,wt.indexOf)(r,"text/html")>=0)v=a&&a.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,wt.indexOf)(r,"text/uri-list")>=0)v={type:"link",attributes:{href:v},content:v};else if((0,wt.indexOf)(r,"text/json")>=0){var j=a&&a.getData("text/json");j&&(v=JSON.parse(j))}else r.length===1&&r[0]==="text/plain"&&(v="<div>".concat(v,"</div>"));var Z={content:v};return t.trigger("canvas:dragdata",a,Z),Z},p}();const uo=lo;var yn=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qn=function(){return Qn=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Qn.apply(this,arguments)},Fn=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Qo=function(p){yn(a,p);function a(t,r){var o=p.call(this,{model:t})||this;o.dragging=!1,o.loaded=!1,o.lastMaxHeight=0,o.tools={},(0,wt.bindAll)(o,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var l=o.el;o.module._config=Qn(Qn({},o.config||{}),{frameView:o}),o.frameWrapView=r,o.showGlobalTools=(0,wt.debounce)(o.showGlobalTools.bind(o),50);var v=o.getCanvasModel();return o.listenTo(t,"change:head",o.updateHead),o.listenTo(v,"change:styles",o.renderStyles),t.view=o,(0,he.setViewEl)(l,o),o}return Object.defineProperty(a.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),a.prototype.getBoxRect=function(){var t=this,r=t.el,o=t.module,l=o.getCanvasView(),v=o.getCoords(),w=r.getBoundingClientRect(),C=l.getCanvasOffset(),E=l.getViewportDelta(),j=o.getZoomMultiplier(),Z=(w.x-C.left-E.x-v.x)*j,at=(w.y-C.top-E.y-v.y)*j,Pt=w.width*j,Nt=w.height*j;return{x:Z,y:at,width:Pt,height:Nt}},a.prototype.updateHead=function(){var t=this.model,r=this.getHead(),o=[],l=[],v=t.head,w=t.previous("head"),C=function(j){return j===void 0&&(j={}),Object.keys(j).sort().map(function(Z){return"[".concat(Z,'="').concat(j[Z],'"]')}).join("")},E=function(j,Z,at){j.forEach(function(Pt){var Nt=Pt.tag,re=Pt.attributes,oe=Z.some(function(De){return De.tag===Nt&&C(De.attributes)===C(re)});!oe&&at.push(Pt)})};E(v,w,l),E(w,v,o),o.forEach(function(j){var Z,at=r.querySelector("".concat(j.tag).concat(C(j.attributes)));(Z=at==null?void 0:at.parentNode)===null||Z===void 0||Z.removeChild(at)}),(0,He.SJ)(r,l)},a.prototype.getEl=function(){return this.el},a.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},a.prototype.getWindow=function(){return this.getEl().contentWindow},a.prototype.getDoc=function(){return this.getEl().contentDocument},a.prototype.getHead=function(){return this.getDoc().querySelector("head")},a.prototype.getBody=function(){return this.getDoc().querySelector("body")},a.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},a.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,He.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},a.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},a.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},a.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},a.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},a.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},a.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},a.prototype.getOffsetRect=function(){var t=this.el,r=this.getBody(),o=r.scrollTop,l=r.scrollLeft,v=t.offsetHeight,w=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:v,width:w,scrollTop:o,scrollLeft:l,scrollBottom:o+v,scrollRight:l+w}},a.prototype._getTool=function(t){var r=this.tools,o=this.getToolsEl();return r[t]||(r[t]=o.querySelector(t)),r[t]},a.prototype.remove=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),Kr.prototype.remove.apply(this,r),this},a.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},a.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,r=this.em.Canvas,o=this.getWindow(),l=o.pageYOffset,v=t||0,w=r.getConfig().autoscrollLimit,C=this.getRect().height-w,E=l;if(v<w&&(E-=w-v),v>C&&(E+=v-C),!(0,wt.isUndefined)(t)&&E!==l&&E>0&&E<this.lastMaxHeight){var j=this.getGlobalToolsEl();j.style.opacity="0",this.showGlobalTools(),o.scrollTo(0,E),r.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},a.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,He.VB)(t).clientY*this.em.getZoomDecimal()},a.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},a.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},a.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var r=this.getWindow(),o=t?"on":"off",l={on:He.on,off:He.S1};l[o](r,"mousemove dragover",this.updateClientY),l[o](r,"mouseup",this.stopAutoscroll)},a.prototype.render=function(){var t=this,r=t.$el,o=t.ppfx,l=t.em;return r.attr({class:"".concat(o,"frame")}),this.renderScripts(),l.trigger("frame:render",this),this},a.prototype.renderScripts=function(){var t=this,r=this,o=r.el,l=r.model,v=r.em,w="frame:load",C={el:o,model:l,view:this},E=this.getCanvasModel(),j=function(Z){var at;if(Z.length>0){var Pt=Z.shift(),Nt=(0,He.ut)("script",Qn({type:"text/javascript"},(0,wt.isString)(Pt)?{src:Pt}:Pt));(at=o.contentDocument)===null||at===void 0||at.head.appendChild(Nt),Nt.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?j(Z):Nt.onerror=Nt.onload=j.bind(null,Z)}else v==null||v.trigger(pr.frameLoadHead,C),t.renderBody(),v==null||v.trigger(pr.frameLoadBody,C),v==null||v.trigger(w,C)};o.onload=function(){var Z=t.config.frameContent;if(Z){var at=t.getDoc();at.open(),at.write(Z),at.close()}C.window=t.getWindow(),v==null||v.trigger("".concat(w,":before"),C),v==null||v.trigger(pr.frameLoad,C),j(Fn([],E.get("scripts"),!0))}},a.prototype.renderStyles=function(t){t===void 0&&(t={});var r=this.getHead(),o=this.getCanvasModel(),l=function(Z){return Z.map(function(at){return{tag:"link",attributes:Qn({rel:"stylesheet"},(0,wt.isString)(at)?{href:at}:at)}})},v=l(t.prev||o.previous("styles")),w=l(o.get("styles")),C=[],E=[],j=function(Z,at,Pt){Z.forEach(function(Nt){var re=Nt.attributes.href,oe=at.some(function(De){return De.attributes.href===re});!oe&&Pt.push(Nt)})};j(w,v,E),j(v,w,C),C.forEach(function(Z){var at,Pt=r.querySelector('link[href="'.concat(Z.attributes.href,'"]'));(at=Pt==null?void 0:Pt.parentNode)===null||at===void 0||at.removeChild(Pt)}),(0,He.SJ)(r,E)},a.prototype.renderBody=function(){var t=this,r,o,l=this,v=l.config,w=l.em,C=l.model,E=l.ppfx,j=this.getDoc(),Z=this.getBody(),at=this.getWindow(),Pt=C.hasAutoHeight(),Nt=w.config;at._isEditor=!0,this.renderStyles({prev:[]});var re="#ffca6f";(0,He.R3)(Z,`<style>
      `.concat(Nt.baseCss||v.frameStyle||"",`

      `).concat(Pt?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(Pt?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(E,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(E,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(E,`selected-parent {
        outline: 2px solid `).concat(re,` !important
      }

      .`).concat(E,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(E,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(E,`no-pointer {
        pointer-events: none;
      }

      .`).concat(E,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(E,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(E,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(E,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(E,`is__grabbing,
      .`).concat(E,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(Nt.canvasCss||"",`
      `).concat(Nt.protectedCss||"",`
    </style>`));var oe=C.root,De=w.Components.getType("wrapper").view;this.wrapper=new De({model:oe,config:Qn(Qn({},oe.config),{em:w,frameView:this})}).render(),(0,He.R3)(Z,(r=this.wrapper)===null||r===void 0?void 0:r.el),(0,He.R3)(Z,new Un({collection:C.getStyles(),config:Qn(Qn({},w.Css.getConfig()),{frameView:this})}).render().el),(0,He.R3)(Z,this.getJsContainer()),(0,He.on)(Z,"click",function(Ye){var We;return Ye&&((We=Ye.target)===null||We===void 0?void 0:We.tagName)=="A"&&Ye.preventDefault()}),(0,He.on)(Z,"submit",function(Ye){return Ye&&Ye.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!v.infiniteCanvas}}].forEach(function(Ye){return Ye.event.split(" ").forEach(function(We){j.addEventListener(We,function(Sr){return t.el.dispatchEvent((0,He.t3)(Sr,Ye.class))},Ye.opts)})}),this._toggleEffects(!0),(0,he.hasDnd)(w)&&(this.droppable=new uo(w,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,C.trigger("loaded")},a.prototype._toggleEffects=function(t){var r=t?He.on:He.S1,o=this.getWindow();o&&r(o,"".concat(He.G1," resize"),this._emitUpdate)},a.prototype._emitUpdate=function(){this.model._emitUpdated()},a}(Kr);const fo=Qo;var Bo=ci(668),bo=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wo=function(){return wo=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},wo.apply(this,arguments)},_o=function(p){bo(a,p);function a(t,r){var o=p.call(this,{model:t})||this;return(0,wt.bindAll)(o,"onScroll","frameLoaded","updateOffset","remove","startDrag"),wo(wo({},t.config),{frameWrapView:o}),o.cv=r,o.frame=new fo(t,o),o.classAnim="".concat(o.ppfx,"frame-wrapper--anim"),o.updateOffset=(0,wt.debounce)(o.updateOffset.bind(o),0),o.updateSize=(0,wt.debounce)(o.updateSize.bind(o),0),o.listenTo(t,"loaded",o.frameLoaded),o.listenTo(t,"change:x change:y",o.updatePos),o.listenTo(t,"change:width change:height",o.updateSize),o.listenTo(t,"destroy remove",o.remove),o.updatePos(),o.setupDragger(),o}return a.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},a.prototype.setupDragger=function(){var t=this,r=this,o=r.module,l=r.model,v,w,C,E=function(j){o.toggleFramesEvents(j)};this.dragger=new Bo.Z({onStart:function(){var j=l.attributes,Z=j.x,at=j.y;C=t.em.getZoomMultiplier(),v=Z,w=at,E(!1)},onEnd:function(){return E(!0)},setPosition:function(j){l.set({x:v+j.x*C,y:w+j.y*C})}})},a.prototype.startDrag=function(t){var r;t&&((r=this.dragger)===null||r===void 0||r.start(t))},a.prototype.__clear=function(t){var r=this.frame;r&&r.remove(t),(0,He.L_)(this.elTools)},a.prototype.remove=function(t){var r=this;return this.__clear(t),Kr.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(o){return r[o]=0}),this},a.prototype.updateOffset=function(){var t,r=this,o=r.em,l=r.$el,v=r.frame;!o||o.destroyed||(o.runDefault({preserveSelected:1}),l.removeClass(this.classAnim),(t=v==null?void 0:v.model)===null||t===void 0||t._emitUpdated())},a.prototype.updatePos=function(t){var r=this,o=r.model,l=r.el,v=o.attributes,w=v.x,C=v.y,E=l.style;this.frame.rect=void 0,E.left=isNaN(w)?w:"".concat(w,"px"),E.top=isNaN(C)?C:"".concat(C,"px"),t&&this.updateOffset()},a.prototype.updateSize=function(){this.updateDim()},a.prototype.updateDim=function(){var t=this,r=t.em,o=t.el,l=t.$el,v=t.model,w=t.classAnim,C=t.frame;if(C){C.rect=void 0,l.addClass(w);var E=this.__handleSize(),j=E.noChanges,Z=E.width,at=E.height;((0,wt.isNull)(Z)||(0,wt.isNull)(at))&&v.set(wo(wo({},Z?{}:{width:o.offsetWidth}),at?{}:{height:o.offsetHeight}),{silent:1}),r.stopDefault({preserveSelected:1}),j?this.updateOffset():setTimeout(this.updateOffset,350)}},a.prototype.onScroll=function(){var t=this,r=t.frame,o=t.em;o.trigger("frame:scroll",{frame:r,body:r.getBody(),target:r.getWindow()})},a.prototype.frameLoaded=function(){var t=this,r=t.frame;t.config,r.getWindow().onscroll=this.onScroll,this.updateDim()},a.prototype.__handleSize=function(){var t,r,o="px",l=this,v=l.model,w=l.el,C=w.style,E=v.attributes,j=E.width,Z=E.height,at=C.width||"",Pt=C.height||"",Nt=j||"",re=Z||"",oe=at==Nt&&Pt==re,De=(0,wt.isNumber)(Nt)?"".concat(Nt).concat(o):Nt,Ye=(0,wt.isNumber)(re)?"".concat(re).concat(o):re;if(C.width=De,v.hasAutoHeight()){var We=this.frame.el;if(We.contentDocument){var Sr=We.contentDocument,Br=new ResizeObserver(function(){C.height="".concat(Sr.body.scrollHeight,"px")});Br.observe(Sr.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=Br}}else C.height=Ye,(r=this.sizeObserver)===null||r===void 0||r.disconnect(),delete this.sizeObserver;return{noChanges:oe,width:j,height:Z,newW:Nt,newH:re}},a.prototype.render=function(){var t=this,r=t.frame,o=t.$el,l=t.ppfx,v=t.cv,w=t.model,C=t.el,E=w.attributes.onRender;this.__clear(),this.__handleSize(),r.render(),o.empty().attr({class:"".concat(l,"frame-wrapper")}).append(`
      <div class="`.concat(l,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(l,`frame-wrapper__name" data-action-move>
          `).concat(w.get("name")||"",`
        </div>
        <div class="`).concat(l,`frame-wrapper__top-r">
          <div class="`).concat(l,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(l,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(l,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(l,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(r.el);var j=(0,He.ut)("div",{class:"".concat(l,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(l,`highlighter" data-hl></div>
      <div class="`).concat(l,`badge" data-badge></div>
      <div class="`).concat(l,`placeholder">
        <div class="`).concat(l,`placeholder-int"></div>
      </div>
      <div class="`).concat(l,`ghost"></div>
      <div class="`).concat(l,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(l,`resizer"></div>
      <div class="`).concat(l,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(l,`offset-fixed-v"></div>
    `));this.elTools=j;var Z=v==null?void 0:v.toolsWrapper;return Z&&Z.appendChild(j),E&&E({el:C,elTop:C.querySelector("[data-frame-top]"),elRight:C.querySelector("[data-frame-right]"),elBottom:C.querySelector("[data-frame-bottom]"),elLeft:C.querySelector("[data-frame-left]"),frame:w,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},a}(Kr);const va=_o;var $o=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ao=function(p){$o(a,p);function a(t,r){t===void 0&&(t={});var o=p.call(this,t,!0)||this;return o.listenTo(o.collection,"reset",o.render),o.canvasView=r.canvasView,o._module=r.module,o}return a.prototype.onRemoveBefore=function(t,r){r===void 0&&(r={}),t.forEach(function(o){return o.remove(r)})},a.prototype.onRender=function(){var t=this,r=t.$el,o=t.ppfx;r.attr({class:"".concat(o,"frames")})},a.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(r){return r.remove()}),this.viewCollection=[]},a.prototype.renderView=function(t,r){return new va(t,this.canvasView)},a}(Ut);const ni=Ao;var eo=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wr=function(){return Wr=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Wr.apply(this,arguments)},vo=function(p){eo(a,p);function a(t){var r=p.call(this,{model:t})||this;r.ready=!1,(0,wt.bindAll)(r,"clearOff","onKeyPress","onWheel","onPointer");var o=r,l=o.em,v=o.pfx,w=o.ppfx,C=r.module.events;return r.className="".concat(v,"canvas ").concat(w,"no-touch-actions").concat(l.config.customUI?"":" ".concat(v,"canvas-bg")),r.clsUnscale="".concat(v,"unscale"),r._initFrames(),r.listenTo(l,C.refresh,r.clearOff),r.listenTo(l,"component:selected",r.checkSelected),r.listenTo(l,"".concat(C.coords," ").concat(C.zoom),r.updateFrames),r.listenTo(t,"change:frames",r._onFramesUpdate),r.toggleListeners(!0),r}return a.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},a.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},a.prototype._initFrames=function(){var t=this,r=t.frames,o=t.model,l=t.config,v=t.em,w=o.frames;v.set("readyCanvas",0),w.once("loaded:all",function(){return v.set("readyCanvas",1)}),r==null||r.remove(),this.frames=new ni({collection:w},Wr(Wr({},l),{canvasView:this}))},a.prototype.checkSelected=function(t,r){var o;r===void 0&&(r={});var l=r.scroll,v=this.em.getCurrentFrame();l&&((o=t.views)===null||o===void 0||o.forEach(function(w){w.frameView===v&&w.scrollIntoView(l)}))},a.prototype.remove=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,Kr.prototype.remove.apply(this,r),this.toggleListeners(!1),this},a.prototype.preventDefault=function(t){var r;t&&(t.preventDefault(),(r=t._parentEvent)===null||r===void 0||r.preventDefault())},a.prototype.toggleListeners=function(t){var r=this,o=r.el,l=r.config,v=t?He.on:He.S1;v(document,"keypress",this.onKeyPress),v(window,"scroll resize",this.clearOff),v(o,"wheel",this.onWheel,{passive:!l.infiniteCanvas}),v(o,"pointermove",this.onPointer)},a.prototype.screenToWorld=function(t,r){var o=this.module,l=o.getCoords(),v=o.getZoomMultiplier(),w=this.getViewportDelta();return{x:(t-l.x-w.x)*v,y:(r-l.y-w.y)*v}},a.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var r=this.getCanvasOffset(),o=(0,He.GX)(),l={x:t.clientX-r.left+o.x,y:t.clientY-r.top+o.y};if(t._parentEvent){var v=t.target.getBoundingClientRect(),w=this.module.getZoomDecimal();l.x=v.left-r.left+o.x+t.clientX*w,l.y=v.top-r.top+o.y+t.clientY*w}this.model.set({pointerScreen:l,pointer:this.screenToWorld(l.x,l.y)})}},a.prototype.onKeyPress=function(t){var r=this.em,o=(0,He.sN)(t);o===" "&&r.getZoomDecimal()!==1&&!r.Canvas.isInputFocused()&&(this.preventDefault(t),r.Editor.runCommand("core:canvas-move"))},a.prototype.onWheel=function(t){var r=this,o=r.module,l=r.config;if(l.infiniteCanvas){this.preventDefault(t);var v=t.deltaX,w=t.deltaY,C=o.getZoomDecimal(),E=(0,He.Vb)(t),j=o.getCoords();if(E){var Z=C-w*C*.01;o.setZoom(Z*100);var at=this.model.getPointerCoords(q.vA.Screen),Pt=this.getCanvasOffset(),Nt=at.x-Pt.width/2,re=at.y-Pt.height/2,oe=Z/C,De=Nt-(Nt-j.x)*oe,Ye=re-(re-j.y)*oe;o.setCoords(De,Ye)}else this.onPointer(t),o.setCoords(j.x-v,j.y-w)}},a.prototype.updateFrames=function(t){var r=this.em,o=this.toolsWrapper,l={preserveSelected:1};this.updateFramesArea(),this.clearOff(),o.style.display="none",r.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){r.stopDefault(l),r.runDefault(l),o.style.display=""},300)},a.prototype.updateFramesArea=function(){var t=this,r=t.framesArea,o=t.model,l=t.module,v=t.cvStyle,w=t.clsUnscale,C=l.getZoomMultiplier();if(r){var E=o.attributes,j=E.x,Z=E.y,at=l.getZoomDecimal();r.style.transform="scale(".concat(at,") translate(").concat(j*C,"px, ").concat(Z*C,"px)")}v&&(v.innerHTML=`
        .`.concat(w," { scale: ").concat(C,` }
      `))},a.prototype.fitViewport=function(t){var r,o;t===void 0&&(t={});var l=this,v=l.em,w=l.module,C=l.model,E=this.getCanvasOffset(),j=t.el,Z=j&&((r=(0,he.getComponentView)(j))===null||r===void 0?void 0:r.frameView),at=Z?Z.model:t.frame||v.getCurrentFrameModel()||C.frames.at(0),Pt=at.attributes,Nt=Pt.x,re=Pt.y,oe={x:Nt??0,y:re??0,width:at.width,height:at.height};if(j){var De=this.getElBoxRect(j);oe.x=oe.x+De.x,oe.y=oe.y+De.y,oe.width=De.width,oe.height=De.height}var Ye=t.ignoreHeight,We=(o=t.gap)!==null&&o!==void 0?o:0,Sr=(0,wt.isNumber)(We),Br=Sr?We:We.x,cn=Sr?We:We.y,wn=oe.width+Br*2,Rr=oe.height+cn*2,jn=E.width,Wn=E.height,Gr=jn/wn,rr=Wn/Rr,fn=Ye?Gr:Math.min(Gr,rr),mn=fn*100;w.setZoom(mn);var ji=-oe.x+(at.width>=jn?jn/2-wn/2:-Br),Ha=-oe.y+Wn/2-Rr/2,ha={x:(ji+Br)*fn,y:(Ha+cn)*fn};if(Ye){var hl=w.getZoomMultiplier(),ic=Wn*hl,Xu=ic-Wn,md=Xu/2;ha.y=(-oe.y+cn)*fn-md/hl}w.setCoords(ha.x,ha.y)},a.prototype.isElInViewport=function(t){var r=(0,he.getElement)(t),o=(0,He.Ut)(r),l=this.getFrameOffset(r),v=o.top,w=o.left;return v>=0&&w>=0&&v<=l.height&&w<=l.width},a.prototype.offset=function(t,r){r===void 0&&(r={});var o=r.noScroll,l=(0,He.Ut)(t),v=o?{x:0,y:0}:(0,He.GX)(t);return{top:l.top+v.y,left:l.left+v.x,width:l.width,height:l.height}},a.prototype.getRectToScreen=function(t){var r,o,l,v,w=this.module.getZoomDecimal(),C=this.module.getCoords(),E=this.getViewportDelta(),j=((r=t.x)!==null&&r!==void 0?r:0)*w+C.x+E.x||0,Z=((o=t.y)!==null&&o!==void 0?o:0)*w+C.y+E.y||0;return{x:j,y:Z,width:((l=t.width)!==null&&l!==void 0?l:0)*w,height:((v=t.height)!==null&&v!==void 0?v:0)*w}},a.prototype.getElBoxRect=function(t,r){var o,l,v;r===void 0&&(r={});var w=this.module,C=(0,He.Ut)(t),E=C.width,j=C.height,Z=C.left,at=C.top,Pt=(o=(0,he.getComponentView)(t))===null||o===void 0?void 0:o.frameView,Nt=Pt==null?void 0:Pt.getBoxRect(),re=w.getZoomMultiplier(),oe=(l=Nt==null?void 0:Nt.x)!==null&&l!==void 0?l:0,De=(v=Nt==null?void 0:Nt.y)!==null&&v!==void 0?v:0,Ye=this.el,We=(0,He.GX)(),Sr=Z+oe+(Ye.scrollLeft+We.x)*re,Br=at+De+(Ye.scrollTop+We.y)*re,cn={x:Sr,y:Br,width:E,height:j};return r.local&&(cn.x=Z,cn.y=at),r.toScreen?this.getRectToScreen(cn):cn},a.prototype.getViewportRect=function(t){t===void 0&&(t={});var r=this.getCanvasOffset(),o=r.top,l=r.left,v=r.width,w=r.height,C=this.module;if(t.toWorld){var E=C.getZoomMultiplier(),j=C.getCoords(),Z=this.getViewportDelta(),at=-j.x-Z.x||0,Pt=-j.y-Z.y||0;return{x:at*E,y:Pt*E,width:v*E,height:w*E}}else return{x:l,y:o,width:v,height:w}},a.prototype.getViewportDelta=function(t){var r=this.module.getZoomMultiplier(),o=this.getCanvasOffset(),l=o.width,v=o.height,w=l*r,C=v*r,E=w-l,j=C-v;return{x:E/2/r,y:j/2/r}},a.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},a.prototype.getFrameOffset=function(t){var r;if(!this.frmOff||t){var o=(r=this.frame)===null||r===void 0?void 0:r.el,l=t==null?void 0:t.ownerDocument.defaultView,v=l?l.frameElement:o;this.frmOff=this.offset(v||o)}return this.frmOff},a.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},a.prototype.getElementPos=function(t,r){r===void 0&&(r={});var o=this.module.getZoomDecimal(),l=this.getFrameOffset(t),v=this.el,w=this.getCanvasOffset(),C=this.offset(t,r),E=r.avoidFrameOffset?0:l.top,j=r.avoidFrameOffset?0:l.left,Z=r.avoidFrameZoom?C.top:C.top*o,at=r.avoidFrameZoom?C.left:C.left*o,Pt=r.avoidFrameOffset?Z:Z+E-w.top+v.scrollTop,Nt=r.avoidFrameOffset?at:at+j-w.left+v.scrollLeft,re=r.avoidFrameZoom?C.height:C.height*o,oe=r.avoidFrameZoom?C.width:C.width*o;return{top:Pt,left:Nt,height:re,width:oe,zoom:o,rect:C}},a.prototype.getElementOffsets=function(t){if(!t||(0,He.BM)(t))return{};var r={},o=window.getComputedStyle(t),l=this.module.getZoomDecimal(),v=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return v.forEach(function(w){r[w]=parseFloat(o[w])*l}),r},a.prototype.getPosition=function(t){var r;t===void 0&&(t={});var o=(r=this.frame)===null||r===void 0?void 0:r.el.contentDocument;if(!o)return{top:0,left:0,width:0,height:0};var l=o.body,v=this.module.getZoomDecimal(),w=this.getFrameOffset(),C=this.getCanvasOffset(),E=t.noScroll;return{top:w.top+(E?0:l.scrollTop)*v-C.top,left:w.left+(E?0:l.scrollLeft)*v-C.left,width:C.width,height:C.height}},a.prototype.updateScript=function(t){var r=t.model,o=r.getId();if(!t.scriptContainer){t.scriptContainer=(0,He.ut)("div",{"data-id":o});var l=this.getJsContainer();l==null||l.appendChild(t.scriptContainer)}t.el.id=o,t.scriptContainer.innerHTML="";var v=document.createElement("script"),w=r.getScriptString(),C=r.get("script-props")?w:`function(){
`.concat(w,`
;}`),E=JSON.stringify(r.__getScriptProps());v.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(o,`');
        if (!item) return;
        (`).concat(C,".bind(item))(").concat(E,`)
      }, 1);`),setTimeout(function(){var j=t.scriptContainer;j==null||j.appendChild(v)},0)},a.prototype.getJsContainer=function(t){var r=this.getFrameView(t);return r==null?void 0:r.getJsContainer()},a.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},a.prototype._renderFrames=function(){if(this.ready){var t=this,r=t.model,o=t.frames,l=t.em,v=t.framesArea,w=r.frames;w.listenToLoad(),o.render();var C=w.at(0),E=C==null?void 0:C.view;l.setCurrentFrame(E),v==null||v.appendChild(o.el),this.frame=E,this.updateFramesArea()}},a.prototype.renderFrames=function(){this._renderFrames()},a.prototype.render=function(){var t=this,r=t.el,o=t.$el,l=t.ppfx,v=t.config,w=t.em;o.html(this.template());var C=o.find("[data-frames]");this.framesArea=C.get(0);var E=o.find("[data-tools]");return this.toolsWrapper=E.get(0),E.append(`
      <div class="`.concat(l,"tools ").concat(l,`tools-gl" style="pointer-events:none">
        <div class="`).concat(l,`placeholder">
          <div class="`).concat(l,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(l,`tools" style="pointer-events:none">
        `).concat(v.extHl?'<div class="'.concat(l,'highlighter-sel"></div>'):"",`
        <div class="`).concat(l,`badge"></div>
        <div class="`).concat(l,`ghost"></div>
        <div class="`).concat(l,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(l,`resizer"></div>
        <div class="`).concat(l,`offset-v"></div>
        <div class="`).concat(l,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=r.querySelector("#".concat(l,"tools")),this.hlEl=r.querySelector(".".concat(l,"highlighter")),this.badgeEl=r.querySelector(".".concat(l,"badge")),this.placerEl=r.querySelector(".".concat(l,"placeholder")),this.ghostEl=r.querySelector(".".concat(l,"ghost")),this.toolbarEl=r.querySelector(".".concat(l,"toolbar")),this.resizerEl=r.querySelector(".".concat(l,"resizer")),this.offsetEl=r.querySelector(".".concat(l,"offset-v")),this.fixedOffsetEl=r.querySelector(".".concat(l,"offset-fixed-v")),this.toolsGlobEl=r.querySelector(".".concat(l,"tools-gl")),this.spotsEl=r.querySelector("[data-spots]"),this.cvStyle=r.querySelector("[data-canvas-style]"),this.el.className=(0,he.getUiClass)(w,this.className),this.ready=!0,this._renderFrames(),this},a}(Kr);const po=vo;var oi=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),un=function(){return un=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},un.apply(this,arguments)},Zo=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Ci=function(p){oi(a,p);function a(t){var r=p.call(this,t,"Canvas",N)||this;return r.events=Yt,r.framesById={},r.canvas=new vt(r),r.spots=new Ce(r),r.model=r.canvas,r.startAutoscroll=r.startAutoscroll.bind(r),r.stopAutoscroll=r.stopAutoscroll.bind(r),r}return a.prototype.getCanvasView=function(){return this.canvasView},a.prototype.postLoad=function(){this.model.init()},a.prototype.getModel=function(){return this.canvas},a.prototype.getElement=function(){return this.getCanvasView().el},a.prototype.getFrame=function(t){return this.getFrames()[t||0]},a.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},a.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},a.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},a.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},a.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},a.prototype._getLocalEl=function(t,r,o){var l=t,v=r==null?void 0:r.frameView;return l=v?v[o]():l,l},a.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},a.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},a.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},a.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},a.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},a.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},a.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},a.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},a.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},a.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},a.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},a.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new po(this.canvas),this.canvasView.render().el},a.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),r=this.offset(this.getElement());return{top:t.top-r.top,left:t.left-r.left}},a.prototype.offset=function(t){return this.getCanvasView().offset(t)},a.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},a.prototype.getElementPos=function(t,r){return this.getCanvasView().getElementPos(t,r)},a.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},a.prototype.getRect=function(){var t,r=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},o=r.top,l=o===void 0?0:o,v=r.left,w=v===void 0?0:v;return un(un({},this.getCanvasView().getCanvasOffset()),{topScroll:l,leftScroll:w})},a.prototype.getTargetToElementDim=function(t,r,o){o===void 0&&(o={});var l=o||{},v=this.getCanvasView().getPosition();if(v){var w=l.elPos||this.getCanvasView().getElementPos(r),C=o.toRight||0,E=l.targetHeight||t.offsetHeight,j=l.targetWidth||t.offsetWidth,Z=l.event||null,at=w.top-E,Pt=w.left;Pt+=C?w.width:0,Pt=C?Pt-j:Pt;var Nt=Pt<v.left?v.left:Pt,re=at<v.top?v.top:at;re=re>w.top+w.height?w.top+w.height:re;var oe={top:re,left:Nt,elementTop:w.top,elementLeft:w.left,elementWidth:w.width,elementHeight:w.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:v.top,canvasLeft:v.left,canvasWidth:v.width,canvasHeight:v.height};return Z&&this.em&&this.em.trigger(Z,oe),oe}},a.prototype.canvasRectOffset=function(t,r,o){var l=this;o===void 0&&(o={});var v=function(C){var E=C.defaultView;return E==null?void 0:E.frameElement},w=function(C,E,j){E===void 0&&(E=1);var Z=l.em.getZoomDecimal(),at=E?"top":"left",Pt=C.ownerDocument,Nt=o.offset?v(Pt):{},re=Nt.offsetTop,oe=re===void 0?0:re,De=Nt.offsetLeft,Ye=De===void 0?0:De,We=Pt.body||{},Sr=We.scrollTop,Br=Sr===void 0?0:Sr,cn=We.scrollLeft,wn=cn===void 0?0:cn,Rr=E?Br:wn,jn=E?oe:Ye;return j[at]-(Rr-jn)*Z};return{top:w(t,1,r),left:w(t,0,r)}},a.prototype.getTargetToElementFixed=function(t,r,o){o===void 0&&(o={});var l=o.pos||this.getElementPos(t,{noScroll:!0}),v=o.canvasOff||this.canvasRectOffset(t,l),w=r.offsetHeight||0,C=r.offsetWidth||0,E=l.left+l.width,j=this.getCanvasView(),Z=j.getPosition(),at=j.getFrameOffset(t),Pt=o.event,Nt=-w,re=(0,wt.isUndefined)(o.left)?l.width-C:o.left;if(re=l.left<-re?-l.left:re,re=E>Z.width?re-(E-Z.width):re,v.top<w){var oe=l.height+w,De=oe<at.height;De?Nt=Nt+oe:Nt=-v.top<l.height?-v.top:l.height}var Ye={top:Nt,left:re,canvasOffsetTop:v.top,canvasOffsetLeft:v.left,elRect:l,canvasOffset:v,canvasRect:Z,targetWidth:C,targetHeight:w};return Pt&&this.em.trigger(Pt,Ye),Ye},a.prototype.getMouseRelativePos=function(t,r){r===void 0&&(r={});var o=r.subWinOffset,l=t.target.ownerDocument,v=l.defaultView||l.parentWindow,w=v.frameElement,C=o?v.pageYOffset:0,E=o?v.pageXOffset:0,j=this.getZoomMultiplier(),Z=0,at=0;if(w){var Pt=w.getBoundingClientRect();Z=Pt.top||0,at=Pt.left||0}return{y:(t.clientY+Z-C)*j,x:(t.clientX+at-E)*j}},a.prototype.getMouseRelativeCanvas=function(t,r){var o,l=this.getZoomDecimal(),v=(o=this.getCanvasView().getPosition(r))!==null&&o!==void 0?o:{},w=v.top,C=w===void 0?0:w,E=v.left,j=E===void 0?0:E;return{y:t.clientY*l+C,x:t.clientX*l+j}},a.prototype.hasFocus=function(){return this.getDocument().hasFocus()},a.prototype.isInputFocused=function(){var t=this.getDocument(),r=this.getFrameEl(),o=Zo(["body"],this.config.notTextable,!0),l=r&&document.activeElement===r,v=l?t&&t.activeElement:document.activeElement;return v&&!o.some(function(w){return v.matches(w)})},a.prototype.scrollTo=function(t,r){r===void 0&&(r={});var o=(0,he.getElement)(t),l=o&&(0,he.getViewEl)(o);l&&l.scrollIntoView(r)},a.prototype.startAutoscroll=function(t){var r=t&&t.view||this.em.getCurrentFrame();r&&r.startAutoscroll()},a.prototype.stopAutoscroll=function(t){var r=t&&t.view||this.em.getCurrentFrame();r&&r.stopAutoscroll()},a.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},a.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},a.prototype.setCoords=function(t,r,o){var l;o===void 0&&(o={});var v=t||t===0,w=r||r===0,C={x:this.canvas.get("x"),y:this.canvas.get("y")};if(v&&(C.x=parseFloat("".concat(t))),w&&(C.y=parseFloat("".concat(r))),o.toWorld){var E=(l=this.canvasView)===null||l===void 0?void 0:l.getViewportDelta();E&&(v&&(C.x=C.x-E.x),w&&(C.y=C.y-E.y))}return this.canvas.set(C),this},a.prototype.getCoords=function(){var t=this.canvas.attributes,r=t.x,o=t.y;return{x:r,y:o}},a.prototype.getPointer=function(t){var r=this.canvas.attributes,o=r.pointer,l=r.pointerScreen;return t?l:o},a.prototype.getZoomDecimal=function(){return this.getZoom()/100},a.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},a.prototype.fitViewport=function(t){var r;(r=this.canvasView)===null||r===void 0||r.fitViewport(t)},a.prototype.toggleFramesEvents=function(t){var r=this.getFramesEl().style;r.pointerEvents=t?"":"none"},a.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},a.prototype.addFrame=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),this.canvas.frames.add(new se(this,un({},t)),r)},a.prototype.getLastDragResult=function(){return this.em.get("dragResult")},a.prototype.addSpot=function(t,r){var o;r===void 0&&(r={});var l=t,v=this.getSpots(l);if(v.length){var w=v[0];return w.set(l),w}var C=l.componentView||((o=l.component)===null||o===void 0?void 0:o.view),E=new Wt.Z(this,un(un({},l),{id:l.id||"cs_".concat(l.type,"_").concat(C==null?void 0:C.cid),type:l.type||""}));return this.spots.add(E,r),E},a.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},a.prototype.removeSpots=function(t){t===void 0&&(t={});var r=(0,wt.isArray)(t)?t:this.getSpots(t),o=this.spots.remove(r);return o},a.prototype.hasCustomSpot=function(t){var r=this.config.customSpots;return!!(r===!0||r&&t&&r[t])},a.prototype.getWorldRectToScreen=function(t){var r;return(r=this.canvasView)===null||r===void 0?void 0:r.getRectToScreen(t)},a.prototype.refresh=function(t){t===void 0&&(t={});var r=this,o=r.em,l=r.events,v=r.canvasView;v==null||v.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),o.trigger("canvas:updateTools")),o.set("canvasOffset",this.getOffset()),o.trigger(l.refresh,t)},a.prototype.refreshSpots=function(){this.spots.refresh()},a.prototype.destroy=function(){var t=this,r;this.canvas.stopListening(),(r=this.canvasView)===null||r===void 0||r.remove(),["model","droppable"].forEach(function(o){return t[o]={}})},a}(B);const Bn=Ci,rt={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var Zt="text/html",ar=Zt;const hr=function(p,a){a===void 0&&(a={});var t=new DOMParser,r=a.htmlType||ar,o=r===Zt,l=o?p:"<div>".concat(p,"</div>"),v=t.parseFromString(l,r),w;if(o){var C=v.head,E=v.body,j=C.querySelectorAll("script");(0,wt.each)(j,function(at){return E.appendChild(at)});var Z=[];(0,wt.each)(C.children,function(at){return Z.push(at)}),(0,wt.each)(Z,function(at,Pt){return E.insertBefore(at,E.children[Pt])}),w=E}else w=v.firstChild;return w};var Mr=function(){return Mr=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Mr.apply(this,arguments)},_n="data-gjs-",Vn="parse:html",Jr=function(p,a){return a===void 0&&(a={}),{compTypes:"",modelAttrStart:_n,getPropAttribute:function(t,r){var o=t.replace(this.modelAttrStart,""),l=(r==null?void 0:r.length)||0,v=r==null?void 0:r.substring(0,1),w=r==null?void 0:r.substring(l-1),C=r==="true"?!0:r==="false"?!1:r;try{C=v=="{"&&w=="}"||v=="["&&w=="]"?JSON.parse(C):C}catch{}return{name:o,value:C}},splitPropsFromAttr:function(t){var r=this;t===void 0&&(t={});var o={},l={};return(0,wt.each)(t,function(v,w){if(w.indexOf(r.modelAttrStart)===0){var C=r.getPropAttribute(w,v);o[C.name]=C.value}else l[w]=v}),{props:o,attrs:l}},parseStyle:function(t){for(var r={};t.indexOf("/*")>=0;){var o=t.indexOf("/*"),l=t.indexOf("*/")+2;t=t.replace(t.slice(o,l),"")}for(var v=t.split(";"),w=0,C=v.length;w<C;w++){var E=v[w].trim();if(E){var j=E.split(":"),Z=j[0].trim(),at=j.slice(1).join(":").trim();r[Z]?((0,wt.isArray)(r[Z])||(r[Z]=[r[Z]]),r[Z].push(at)):r[Z]=at}}return r},parseClass:function(t){for(var r=[],o=t.split(" "),l=0,v=o.length;l<v;l++){var w=o[l].trim();w&&r.push(w)}return r},parseNode:function(t,r){r===void 0&&(r={});for(var o=[],l=t.childNodes,v=0,w=l.length;v<w;v++){var C=l[v],E=C.attributes||[],j=E.length,Z=o[o.length-1],at=C.childNodes.length,Pt=this.compTypes,Nt={};if(Pt){var re="",oe=C.getAttribute&&C.getAttribute("".concat(this.modelAttrStart,"type"));if(oe)Nt={type:oe};else{for(var De=0;De<Pt.length;De++){var Ye=Pt[De];if(re=Ye.model.isComponent(C,r),re){typeof re!="object"&&(re={type:Ye.id});break}}Nt=re}}if(!Nt.tagName){var We=C.tagName||"",Sr=C.namespaceURI||"";Nt.tagName=We&&Sr==="http://www.w3.org/1999/xhtml"?We.toLowerCase():We}j&&(Nt.attributes={});for(var Br=0;Br<j;Br++){var cn=E[Br].nodeName,wn=E[Br].nodeValue;if(cn=="style")Nt.style=this.parseStyle(wn);else if(cn=="class")Nt.classes=this.parseClass(wn);else{if(cn=="contenteditable")continue;if(cn.indexOf(this.modelAttrStart)===0){var Rr=this.getPropAttribute(cn,wn);Nt[Rr.name]=Rr.value}else wn===""&&C[cn]===!0&&(wn=!0),Nt.attributes[cn]=wn}}if(at&&!Nt.components){var jn=C.childNodes[0];at===1&&jn.nodeType===3?(!Nt.type&&(Nt.type="text"),Nt.components={type:"textnode",content:jn.nodeValue}):Nt.components=this.parseNode(C,Mr(Mr({},r),{inSvg:r.inSvg||Nt.type==="svg"}))}if(Nt.type=="textnode"){if(Z&&Z.type=="textnode"){Z.content+=Nt.content;continue}if(!r.keepEmptyTextNodes){var Wn=C.nodeValue;if(Wn!=" "&&!Wn.trim())continue}}!at&&"".concat(C.outerHTML).slice(-2)==="/>"&&(Nt.void=!0);var Gr=Nt.components;if(!Nt.type&&Gr){for(var rr=a.textTypes,fn=rr===void 0?[]:rr,mn=a.textTags,ji=mn===void 0?[]:mn,Ha=1,ha=0,hl=0;hl<Gr.length;hl++){var ic=Gr[hl],Xu=ic.type;if(!fn.includes(Xu)&&!ji.includes(ic.tagName)){Ha=0;break}Xu==="textnode"&&(ha=1)}Ha&&ha&&(Nt.type="text")}!Nt.tagName&&(0,wt.isUndefined)(Nt.content)||o.push(Nt)}return o},parse:function(t,r,o){var l;o===void 0&&(o={});var v=(p==null?void 0:p.get("Config"))||{},w={html:[]},C=Mr(Mr({},a),o),E=Mr(Mr(Mr({},a.optionsHtml),{htmlType:((l=a.optionsHtml)===null||l===void 0?void 0:l.htmlType)||a.htmlType}),o),j=E.preParser,Z=(0,wt.isFunction)(j)?j(t,{editor:p==null?void 0:p.getEditor()}):t,at=(0,wt.isFunction)(C.parserHtml)?C.parserHtml(Z,E):hr(Z,E),Pt=at.querySelectorAll("script"),Nt=Pt.length,re=(0,wt.isUndefined)(v.allowScripts)?E.allowScripts:v.allowScripts;if(!re)for(;Nt--;)Pt[Nt].parentNode.removeChild(Pt[Nt]);if((!E.allowUnsafeAttr||!E.allowUnsafeAttrValue)&&this.__sanitizeNode(at,E),r){for(var oe=at.querySelectorAll("style"),De=oe.length,Ye="";De--;)Ye=oe[De].innerHTML+Ye,oe[De].parentNode.removeChild(oe[De]);Ye&&(w.css=r.parse(Ye))}p==null||p.trigger("".concat(Vn,":root"),{input:Z,root:at});var We=this.parseNode(at,C),Sr=We.length===1&&!C.returnArray?We[0]:We;return w.html=Sr,p==null||p.trigger(Vn,{input:Z,output:w}),w},__sanitizeNode:function(t,r){var o=this,l=t.attributes||[],v=t.childNodes||[],w=[];(0,wt.each)(l,function(C){var E=C.nodeName||"",j=C.nodeValue||"";!r.allowUnsafeAttr&&E.startsWith("on")&&w.push(E),!r.allowUnsafeAttrValue&&j.startsWith("javascript:")&&w.push(E)}),w.map(function(C){return t.removeAttribute(C)}),(0,wt.each)(v,function(C){return o.__sanitizeNode(C,r)})}}};const gr=Jr;var At=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),we=function(){return we=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},we.apply(this,arguments)},cr=gr(),Xr=function(p){return(0,wt.isArray)(p)?p[p.length-1]:p},nn=function(p){At(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.parseStyle=function(t){return cr.parseStyle(t)},a.prototype.extendStyle=function(t){return we(we({},this.getStyle()),t)},a.prototype.getStyle=function(t){var r=this.get("style")||{},o=we({},r);return t&&(0,wt.isString)(t)?o[t]:o},a.prototype.setStyle=function(t,r){var o=this;t===void 0&&(t={}),r===void 0&&(r={}),(0,wt.isString)(t)&&(t=this.parseStyle(t));var l=this.getStyle(r);r.partial||r.avoidStore?(r.avoidStore=!0,t.__p=!0):delete t.__p;var v=we({},t),w=we({},v);(0,wt.keys)(w).forEach(function(E){w[E]===""&&delete w[E]}),this.set("style",w,r);var C=(0,he.shallowDiff)(l,v);return delete C.__p,(0,wt.keys)(C).forEach(function(E){var j=o.em;r.noEvent||(o.trigger("change:style:".concat(E)),j&&(j.trigger("styleable:change",o,E,r),j.trigger("styleable:change:".concat(E),o,E,r)))}),v},a.prototype.addStyle=function(t,r,o){var l;r===void 0&&(r=""),o===void 0&&(o={}),typeof t=="string"?t=(l={},l[t]=r,l):o=r||{},o.addStyle=t,t=this.extendStyle(t),this.setStyle(t,o)},a.prototype.removeStyle=function(t){var r=this.getStyle();delete r[t],this.setStyle(r)},a.prototype.styleToString=function(t){t===void 0&&(t={});var r=[],o=this.getStyle(t),l=t.important,v=function(C){var E=(0,wt.isArray)(l)?l.indexOf(C)>=0:l,j=C.substring(0,2),Z=j==="__";if(Z)return"continue";var at=o[C],Pt=(0,wt.isArray)(at)?at:[at];Pt.forEach(function(Nt){var re="".concat(Nt).concat(E?" !important":"");re&&r.push("".concat(C,":").concat(re,";"))})};for(var w in o)v(w);return r.join("")},a.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},a.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},a}(q.Hn);const xn=nn;var Lr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ln=function(){return Ln=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ln.apply(this,arguments)},xo=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Uo=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Di=function(p,a){if(a===void 0&&(a=[]),!p)return[];var t=(0,wt.isArray)(p)||(0,wt.isFunction)(p.map)?p:[p];return t.map(function(r){a.push(r.getId()),Di(r.components().models,a)}),a},Vs=function(p,a,t){a===void 0&&(a={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var r=t.visitedCmps,o=(0,wt.isArray)(p)?p:[p];return o.map(function(l){var v=l.attributes,w=v===void 0?{}:v,C=l.components,E=l.tagName,j=l.style,Z=w.id;w.draggable;var at=xo(w,["id","draggable"]),Pt=l;if(Z){if(r[Z])r[Z].push(Pt),Z=Gn.getNewId(a),Pt.attributes.id=Z;else if(r[Z]=[],a[Z]){Pt=a[Z];var Nt=Pt;E&&Nt.set({tagName:E},Ln(Ln({},t),{silent:!0})),(0,wt.keys)(at).length&&Nt.addAttributes(at,Ln({},t)),(0,wt.keys)(j).length&&Nt.addStyle(j,t)}}if(C){var re=Vs(C,a);if((0,wt.isFunction)(Pt.components)){var oe=Pt.components();oe.length>0&&oe.reset(re,t)}else Pt.components=re}return Pt})},jo=function(p){Lr(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.initialize=function(t,r){r===void 0&&(r={}),this.opt=r,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var o=r.em,l=r.config;this.config=l,this.em=o,this.domc=r.domc||(o==null?void 0:o.Components)},a.prototype.resetChildren=function(t,r){var o=this;r===void 0&&(r={});var l=this,v=r.previousModels||[],w=v.filter(function(j){return!t.get(j.cid)}),C=Di(t),E=Di(v).filter(function(j){return C.indexOf(j)>=0});r.keepIds=(r.keepIds||[]).concat(E),w.forEach(function(j){return o.removeChildren(j,l,r)}),t.each(function(j){return o.onAdd(j)})},a.prototype.resetFromString=function(t,r){var o,l;t===void 0&&(t=""),r===void 0&&(r={}),r.keepIds=Di(this);var v=this,w=v.domc,C=v.em,E=v.parent,j=C==null?void 0:C.Css,Z=(w==null?void 0:w.allById())||{},at=this.parseString(t,r),Pt=Vs(at,Z,r),Nt=r.visitedCmps,re=Nt===void 0?{}:Nt;Object.keys(re).forEach(function(oe){var De=re[oe];if(De.length){var Ye=(j==null?void 0:j.getRules("#".concat(oe)))||[];Ye.length&&De.forEach(function(We){Ye.forEach(function(Sr){var Br=Sr.clone();Br.set("selectors",["#".concat(We.attributes.id)]),j.getAll().add(Br)})})}}),this.reset(Pt,r),C==null||C.trigger("component:content",E,r,t),(l=(o=E).__checkInnerChilds)===null||l===void 0||l.call(o)},a.prototype.removeChildren=function(t,r,o){var l=this;if(o===void 0&&(o={}),!!t){var v=this,w=v.domc,C=v.em,E=o.temporary||o.fromUndo;if(t.prevColl=this,!E){var j=t.getId(),Z=C.Selectors.getAll(),at=C.Css.getAll(),Pt=(o.keepIds||[]).indexOf(j)<0,Nt=w?w.allById():{};delete Nt[j];var re=Pt?at.remove(at.filter(function(Ye){return Ye.getSelectors().getFullString()==="#".concat(j)}),o):[];Z.remove(re.map(function(Ye){return Ye.getSelectors().at(0)})),t.opt.temporary||(C.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),C.trigger("component:remove",t));var oe=t.components();oe.forEach(function(Ye){return l.removeChildren(Ye,r,o)})}var De=t.components();C.stopListening(De),C.stopListening(t),C.stopListening(t.get("classes")),t.__postRemove()}},a.prototype.model=function(t,r){var o=r.collection.opt,l=o.em,v,w=l.Components.componentTypes;r.em=l,r.config=o.config,r.componentTypes=w,r.domc=o.domc;for(var C=0;C<w.length;C++){var E=w[C].id;if(E==t.type){v=w[C].model;break}}return v||(v=w[w.length-1].model,l&&t.type&&l.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:r})),new v(t,r)},a.prototype.parseString=function(t,r){r===void 0&&(r={});var o=this,l=o.em,v=o.domc,w=l.Css,C=l.Parser.parseHtml(t);if(Gn.checkId(C.html,C.css,v.componentsById,r),C.css&&w&&!r.temporary){r.at;var E=xo(r,["at"]);w.addCollection(C.css,Ln(Ln({},E),{extend:1}))}return C.html},a.prototype.add=function(t,r){var o=this;r===void 0&&(r={}),r.keepIds=Uo(Uo([],r.keepIds||[],!0),Di(r.previousModels),!0),(0,wt.isString)(t)?t=this.parseString(t,r):(0,wt.isArray)(t)&&(t=Uo([],t,!0),t.forEach(function(w,C){if((0,wt.isString)(w)){var E=o.parseString(w,r);t[C]=(0,wt.isArray)(E)&&!E.length?null:E}}));var l=(0,wt.isArray)(t);t=(l?t:[t]).filter(Boolean).map(function(w){return o.processDef(w)}),t=l?(0,wt.flatten)(t,1):t[0];var v=q.FE.prototype.add.apply(this,[t,r]);return this.__firstAdd=v,v},a.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var r=this,o=r.em,l=r.config,v=l===void 0?{}:l,w=v.processor,C=t;if(w){C=Ln({},C);var E=w(C);E&&((0,wt.each)(C,function(oe,De){return delete C[De]}),(0,wt.extend)(C,E))}if(C.$$typeof&&typeof C.props=="object"){C=Ln({},C),C.props=Ln({},C.props);var j=o.Components,Z=o.Parser,at=Z.parserHtml;(0,wt.each)(C,function(oe,De){(0,wt.includes)(["props","type"],De)||delete C[De]});var Pt=C.props,Nt=Pt.children;delete Pt.children,delete C.props;var re=at.splitPropsFromAttr(Pt);C.attributes=re.attrs,Nt&&(C.components=Nt),C.type?j.getType(C.type)||(C.tagName=C.type,delete C.type):C.type="textnode",(0,wt.extend)(C,re.props)}return C},a.prototype.onAdd=function(t,r,o){o===void 0&&(o={});var l=this,v=l.domc,w=l.em,C=t.getStyle(),E=w&&w.getConfig().avoidInlineStyle;if(v&&v.Component.ensureInList(t),!(0,wt.isEmpty)(C)&&!E&&w&&w.get&&w.getConfig().forceClass&&!o.temporary){var j=t.cid;w.Css.setClassRule(j,C),t.setStyle({}),t.addClass(j)}t.__postAdd({recursive:!0})},a}(q.FE);const ma=jo;var Ll=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),is=1,zo=2,Rs=function(p){Ll(a,p);function a(t,r){r===void 0&&(r={});var o=p.call(this,t,r)||this,l=r.config,v=l===void 0?{}:l,w=o.get("name"),C=o.get("label");w?C||o.set("label",w):o.set("name",C);var E=o.get("name"),j=v.escapeName,Z=j?j(E):a.escapeName(E);return o.set("name",Z),o.em=r.em,o}return a.prototype.defaults=function(){return{name:"",label:"",type:is,active:!0,private:!1,protected:!1,_undo:!0}},a.prototype.isId=function(){return this.get("type")===zo},a.prototype.isClass=function(){return this.get("type")===is},a.prototype.getFullName=function(t){t===void 0&&(t={});var r=t.escape,o=this.get("name"),l="";switch(this.get("type")){case is:l=".";break;case zo:l="#";break}return l+(r?r(o):o)},a.prototype.toString=function(){return this.getFullName()},a.prototype.getName=function(){return this.get("name")||""},a.prototype.getLabel=function(){return this.get("label")||""},a.prototype.setLabel=function(t){return this.set("label",t)},a.prototype.getActive=function(){return!!this.get("active")},a.prototype.setActive=function(t){return this.set("active",t)},a.prototype.toJSON=function(t){t===void 0&&(t={});var r=this.em,o=q.Hn.prototype.toJSON.call(this,[t]),l=(0,wt.result)(this,"defaults");if(r&&r.getConfig().avoidDefaults){(0,wt.forEach)(l,function(w,C){o[C]===w&&delete o[C]}),o.label===o.name&&delete o.label;var v=(0,wt.keys)(o).length;v===1&&o.name&&(o=o.name),v===2&&o.name&&o.type&&(o=this.getFullName())}return o},a.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w-\\:@\\/]+)/gi,"-")},a.TYPE_CLASS=is,a.TYPE_ID=zo,a}(q.Hn);const Go=Rs;Rs.prototype.idAttribute="name";var ia=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ti=function(p,a){return p.reduce(function(t,r,o){return t.concat(ti(p.slice(o+1),"".concat(a).concat(r)))},[a])},ui=function(p){ia(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Go.TYPE_CLASS)},a.prototype.getStyleable=function(){return(0,wt.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},a.prototype.getValid=function(t){var r=t===void 0?{}:t,o=r.noDisabled;return(0,wt.filter)(this.models,function(l){return!l.get("private")}).filter(function(l){return o?l.get("active"):1})},a.prototype.getFullString=function(t,r){r===void 0&&(r={});var o=[],l=t||this;return l.forEach(function(v){return o.push(v.getFullName(r))}),r.sort&&o.sort(),o.join("").trim()},a.prototype.getFullName=function(t){t===void 0&&(t={});var r=t.combination,o=t.array,l=[],v=this.map(function(w){return w.getFullName(t)}).sort();return r?v.forEach(function(w,C){l=l.concat(ti(v.slice(C+1),w))}):l=v,o?l:r?l.join(","):l.join("")},a}(q.FE);const Ii=ui;ui.prototype.model=Go;var Hs=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),as=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},ss=function(p){Hs(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},a.prototype.getId=function(){return this.get("id")},a.prototype.getLabel=function(){return this.get("label")},a}(q.Hn);const ka=ss;function vi(p){var a=new Set,t=new Map,r={items:[]};p.forEach(function(l){var v=l.category;if(v){a.add(v);var w=t.get(v);w?w.push(l):t.set(v,[l])}else r.items.push(l)});var o=Array.from(a).map(function(l){return{category:l,items:t.get(l)||[]}});return as(as([],o,!0),[r],!1)}var Bs=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ya="category",ba=function(p){Bs(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.initCategory=function(t){var r=t.get(ya),o=r instanceof ka;if(r&&!o){(0,wt.isString)(r)?r={id:r,label:r}:(0,he.isObject)(r)&&!r.id&&(r.id=r.label);var l=this.getCategories().add(r);return t.set(ya,l,{silent:!0}),l}else if(o){var l=r;return this.getCategories().add(l),l}},a}(q.FE),Gi=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ls=function(p){Gi(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.add=function(t,r){var o=(0,wt.isArray)(t)?t:[t];return o.forEach(function(l){return l&&(l.id=(0,he.normalizeKey)("".concat(l.id)))}),p.prototype.add.call(this,t,r)},a.prototype.get=function(t){return p.prototype.get.call(this,(0,wt.isString)(t)?(0,he.normalizeKey)(t):t)},a}(q.FE);const Ua=ls;ls.prototype.model=ka;var Si;(function(p){p.select="trait:select",p.value="trait:value",p.custom="trait:custom",p.all="trait"})(Si||(Si={}));const Us=Si;var qi=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Do=function(){return Do=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Do.apply(this,arguments)},Oi=function(p){qi(a,p);function a(t,r){var o=p.call(this,t)||this,l=o.attributes,v=l.target,w=l.name;return!o.get("id")&&o.set("id",w),v&&o.setTarget(v),o.em=r,o}return a.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(a.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ka?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),a.prototype.setTarget=function(t){if(t){var r=this.attributes,o=r.name,l=r.changeProp,v=r.value,w=r.getValue;this.target=t,this.unset("target");var C=l?"change:".concat(o):"change:attributes:".concat(o);this.listenTo(t,C,this.targetUpdated);var E=v||(w?void 0:this.getValue());!(0,wt.isUndefined)(E)&&this.set({value:E},{silent:!0})}},a.prototype.getId=function(){return this.get("id")},a.prototype.getType=function(){return this.get("type")},a.prototype.getName=function(){return this.get("name")},a.prototype.getLabel=function(t){var r;t===void 0&&(t={});var o=t.locale,l=o===void 0?!0:o,v=this.getId(),w=this.get("label")||this.getName();return l&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.labels.".concat(v)))||w},a.prototype.getValue=function(t){return this.getTargetValue(t)},a.prototype.setValue=function(t,r){var o=this;r===void 0&&(r={});var l=this,v=l.component,w=l.em,C=r.partial,E={},j=this.attributes.setValue;if(j){j({value:t,component:v,editor:w==null?void 0:w.getEditor(),trait:this,partial:!!C,options:r,emitUpdate:function(){return o.targetUpdated()}});return}C&&(E.avoidStore=!0),this.setTargetValue(t,E)},a.prototype.getDefault=function(){return this.get("default")},a.prototype.getOptions=function(){return this.get("options")||[]},a.prototype.getOption=function(t){var r=this,o=(0,he.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(l){return r.getOptionId(l)===o})[0]},a.prototype.getOptionId=function(t){return t.id||t.value},a.prototype.getOptionLabel=function(t,r){var o;r===void 0&&(r={});var l=r.locale,v=l===void 0?!0:l,w=(0,wt.isString)(t)?this.getOption(t):t,C=this.getOptionId(w),E=w.label||w.name||C,j=this.getName();return v&&((o=this.em)===null||o===void 0?void 0:o.t("traitManager.traits.options.".concat(j,".").concat(C)))||E},a.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var r=this,o=r.em,l=r.category,v=t.locale,w=v===void 0?!0:v,C=l==null?void 0:l.getId(),E=l==null?void 0:l.getLabel();return w&&(o==null?void 0:o.t("traitManager.categories.".concat(C)))||E||""},a.prototype.runCommand=function(){var t=this.em,r=this.attributes.command;if(r&&t)return(0,wt.isString)(r)?t.Commands.run(r):r(t.Editor,this)},a.prototype.props=function(){return this.attributes},a.prototype.targetUpdated=function(){var t=this,r=t.component,o=t.em,l=this.getTargetValue({useType:!0});this.set({value:l},{fromTarget:1});var v={trait:this,component:r,value:l};r.trigger(Us.value,v),o==null||o.trigger(Us.value,v),o==null||o.trigger("trait:update",v)},a.prototype.getTargetValue=function(t){t===void 0&&(t={});var r=this,o=r.component,l=r.em,v=this.getName(),w=this.get("getValue"),C;if(w?C=w({editor:l==null?void 0:l.getEditor(),trait:this,component:o}):this.changeProp?C=o.get(v):C=o.getAttributes()[v],t.useType){var E=this.getType();if(E==="checkbox"){var j=this.attributes,Z=j.valueTrue,at=j.valueFalse;!(0,wt.isUndefined)(Z)&&Z===C?C=!0:!(0,wt.isUndefined)(at)&&at===C&&(C=!1)}}return(0,wt.isUndefined)(C)?"":C},a.prototype.setTargetValue=function(t,r){var o;r===void 0&&(r={});var l=this,v=l.component,w=l.attributes,C=this.getName();if(!(0,wt.isUndefined)(t)){var E=t;if(t==="false"?E=!1:t==="true"&&(E=!0),this.getType()==="checkbox"){var j=w.valueTrue,Z=w.valueFalse;E&&!(0,wt.isUndefined)(j)&&(E=j),!E&&!(0,wt.isUndefined)(Z)&&(E=Z)}var at=(o={},o[C]=E,o);at.__p=r.avoidStore?null:void 0,this.changeProp?v.set(at,r):v.addAttributes(at,r)}},a.prototype.setValueFromInput=function(t,r,o){r===void 0&&(r=!0),o===void 0&&(o={});var l={value:t};this.set(l,Do(Do({},o),{avoidStore:1})),r&&(this.set("value","",o),this.set(l,o))},a.prototype.getInitValue=function(){var t=this.component,r=this.getName(),o;if(t){var l=t.get("attributes");o=this.changeProp?t.get(r):l[r]}return o||this.get("value")||this.get("default")},a}(q.Hn);const Aa=Oi;var Cn=function(){function p(a){a===void 0&&(a={}),this.config=a}return p.prototype.build=function(a,t){return(0,wt.isString)(a)?this.buildFromString(a,t):new Aa(a,t)},p.prototype.buildFromString=function(a,t){var r={name:a,type:"text"};switch(a){case"target":r.type="select",r.default=!1,r.options=this.config.optionsTarget;break}return new Aa(r,t)},p}();const Io=Cn;var Ni=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mi=function(p){Ni(a,p);function a(t,r){var o=p.call(this,t)||this;o.categories=new Ua,o.em=r.em,o.on("add",o.handleAdd),o.on("reset",o.handleReset);var l=o.module,v=l==null?void 0:l.getConfig();return o.tf=new Io(v),o}return Object.defineProperty(a.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),a.prototype.getCategories=function(){return this.categories},a.prototype.handleReset=function(t,r){var o=r===void 0?{}:r,l=o.previousModels,v=l===void 0?[]:l;v.forEach(function(w){return w.trigger("remove")})},a.prototype.handleAdd=function(t){t.em=this.em;var r=this.target;r&&(t.target=r),this.initCategory(t)},a.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(r){return r.setTarget(t)})},a.prototype.add=function(t,r){if(t!=null){var o=this,l=o.target,v=o.em;if((0,wt.isArray)(t)){for(var w=[],C=0,E=t.length;C<E;C++){var j=t[C];w[C]=j instanceof Aa?j:this.tf.build(j,v),w[C].setTarget(l)}return p.prototype.add.call(this,w,r)}var Z=t instanceof Aa?t:this.tf.build(t,v);return Z.setTarget(l),p.prototype.add.call(this,Z,r)}},a}(ba);const Mo=mi;var Pn=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vn=function(){return vn=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},vn.apply(this,arguments)},aa=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},No=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},ta=function(p){return p.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Cs=function(p){return!!(p!=null&&p.getConfig().avoidInlineStyle)},ii="component:drag",yi="__symbols",Fo="__symbol",Ss="__symbol_ovrd",Os="component:update",Fi="".concat(Os,"-inside"),zs=function(p){Pn(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[Fo]=0,t[yi]=0,t[Ss]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.updated=function(t,r,o){},a.prototype.removed=function(){},a.prototype.initialize=function(t,r){var o=this;t===void 0&&(t={}),r===void 0&&(r={}),(0,wt.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var l=r.em,v=this.parent(),w=v==null?void 0:v.attributes,C=this.get("propagate");if(C&&this.set("propagate",(0,wt.isArray)(C)?C:[C]),w&&w.propagate&&!C){var E={},j=w.propagate;j.forEach(function(re){return E[re]=v.get(re)}),E.propagate=j,this.set(vn(vn({},E),t))}if(r&&r.config&&r.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),r.em=l,this.opt=r,this.em=l,this.frame=r.frame,this.config=r.config||{},this.set("attributes",vn(vn({},(0,wt.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=a.createId(this,r),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(Fi,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(re){var oe="add remove ".concat(re!=="components"?"change":"");o.listenTo(o.get(re),oe.trim(),function(){for(var De=[],Ye=0;Ye<arguments.length;Ye++)De[Ye]=arguments[Ye];return o.emitUpdate.apply(o,No([re],De,!1))})}),!r.temporary){var Z=l&&l.Css,at=this.attributes,Pt=at.styles,Nt=at.type;Pt&&Z&&Z.addCollection(Pt,{avoidUpdateStyle:!0},{group:"cmp:".concat(Nt)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),l&&l.trigger("component:create",this)}},a.prototype.__postAdd=function(t){t===void 0&&(t={});var r=this.em,o=r==null?void 0:r.UndoManager,l=this.components();o&&!this.__hasUm&&(o.add(l),o.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&l.map(function(v){return v.__postAdd(t)})},a.prototype.__postRemove=function(){var t=this.em,r=t==null?void 0:t.get("UndoManager");r&&(r.remove(this.components()),r.remove(this.getSelectors()),delete this.__hasUm)},a.prototype.__onChange=function(t,r){var o=this,l=this.changedAttributes()||{};(0,wt.keys)(l).forEach(function(v){return o.emitUpdate(v)}),["status","open","toolbar","traits"].forEach(function(v){return delete l[v]}),(0,he.isEmptyObj)(l)||(this.__changesUp(r),this.__propSelfToParent({component:this,changed:l,options:r}))},a.prototype.__onStyleChange=function(t){var r=this,o=this.em;if(o){var l="component:styleUpdate",v=(0,wt.keys)(t),w={style:t};o.trigger(l,this,w),v.forEach(function(C){return o.trigger("".concat(l,":").concat(C),r,w)})}},a.prototype.__changesUp=function(t){var r=this,o=r.em,l=r.frame;[l,o].forEach(function(v){return v&&v.changesUp(t)})},a.prototype.__propSelfToParent=function(t){this.trigger(Os,t),this.__propToParent(t)},a.prototype.__propToParent=function(t){var r=this.parent();r&&r.trigger(Fi,t)},a.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},a.prototype.is=function(t){return this.get("type")==t},a.prototype.props=function(){return this.attributes},a.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},a.prototype.setDragMode=function(t){return this.set("dmode",t)},a.prototype.getDragMode=function(){return this.get("dmode")||""},a.prototype.find=function(t){var r,o=[],l=(r=this.view)===null||r===void 0?void 0:r.$el.find(t);return l==null||l.each(function(v){var w=l.eq(v),C=w.data("model");C&&o.push(C)}),o},a.prototype.findType=function(t){var r=[],o=function(l){return l.forEach(function(v){v.is(t)&&r.push(v),o(v.components())})};return o(this.components()),r},a.prototype.closest=function(t){var r,o=(r=this.view)===null||r===void 0?void 0:r.$el.closest(t);return o!=null&&o.length?o.data("model"):void 0},a.prototype.closestType=function(t){for(var r=this.parent();r&&!r.is(t);)r=r.parent();return r},a.prototype.contains=function(t){var r=!1;if(!t)return r;var o=function(l){!r&&l.forEach(function(v){v===t&&(r=!0),!r&&o(v.components())})};return o(this.components()),r},a.prototype.tagUpdated=function(){this.trigger("rerender")},a.prototype.replaceWith=function(t,r){r===void 0&&(r={});var o=this.collection,l=o.indexOf(this);o.remove(this);var v=o.add(t,vn(vn({},r),{at:l}));return(0,wt.isArray)(v)?v:[v]},a.prototype.attrUpdated=function(t,r,o){var l=this;o===void 0&&(o={});var v=this.get("attributes"),w=v.class;w&&this.setClass(w),delete v.class;var C=v.style;C&&this.setStyle(C),delete v.style;var E=vn({},this.previous("attributes")),j=(0,he.shallowDiff)(E,this.get("attributes"));(0,wt.keys)(j).forEach(function(Z){return l.trigger("change:attributes:".concat(Z),l,j[Z],o)})},a.prototype.setAttributes=function(t,r){return r===void 0&&(r={}),this.set("attributes",vn({},t),r),this},a.prototype.addAttributes=function(t,r){return r===void 0&&(r={}),this.setAttributes(vn(vn({},this.getAttributes({noClass:!0})),t),r)},a.prototype.removeAttributes=function(t,r){t===void 0&&(t=[]),r===void 0&&(r={});var o=Array.isArray(t)?t:[t],l=this.getAttributes();return o.map(function(v){return delete l[v]}),this.setAttributes(l,r)},a.prototype.getStyle=function(t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=this.em,l=(0,wt.isString)(t)?t:"",v=l?r:t;if(Cs(o)&&!v.inline){var w=o.get("state"),C=o.Css,E=C.getIdRule(this.getId(),vn({state:w},v));if(this.rule=E,E)return E.getStyle(l)}return p.prototype.getStyle.call(this,l)},a.prototype.setStyle=function(t,r){var o=this;t===void 0&&(t={}),r===void 0&&(r={});var l=this,v=l.opt,w=l.em;if(Cs(w)&&!v.temporary&&!r.inline){var C=this.get("style")||{};t=(0,wt.isString)(t)?this.parseStyle(t):t,t=vn(vn({},t),C);var E=w.get("state"),j=w.Css,Z=this.getStyle(r);this.rule=j.setIdRule(this.getId(),t,vn({state:E},r));var at=(0,he.shallowDiff)(Z,t);this.set("style","",{silent:!0}),(0,wt.keys)(at).forEach(function(Pt){return o.trigger("change:style:".concat(Pt))})}else t=p.prototype.setStyle.apply(this,arguments);return v.temporary||this.__onStyleChange(r.addStyle||t),t},a.prototype.getAttributes=function(t){t===void 0&&(t={});var r=this.em,o=[],l=vn({},this.get("attributes")),v=r==null?void 0:r.Selectors,w=this.getId();if(t.noClass?delete l.class:(this.classes.forEach(function(j){return o.push((0,wt.isString)(j)?j:j.getName())}),o.length&&(l.class=o.join(" "))),!t.noStyle){var C=this.get("style");(0,he.isObject)(C)&&!(0,he.isEmptyObj)(C)&&(l.style=this.styleToString({inline:1}))}if(!(0,wt.has)(l,"id")){var E=!1;(Cs(r)||!(0,wt.isEmpty)(this.getStyle()))&&(E=!!(v!=null&&v.get(w,v.Selector.TYPE_ID))),(this.__getSymbol()||this.__getSymbols()||this.get("script-export")||this.get("script"))&&(E=!0),E&&(l.id=w)}return l},a.prototype.addClass=function(t){var r=this.em.Selectors.addClass(t);return this.classes.add(r)},a.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},a.prototype.removeClass=function(t){var r=[];t=(0,wt.isArray)(t)?t:[t];var o=this.classes,l=Go.TYPE_CLASS;return t.forEach(function(v){var w=v.split(" ");w.forEach(function(C){var E=o.where({name:C,type:l})[0];E&&r.push(o.remove(E))})}),r},a.prototype.getClasses=function(){var t=this.getAttributes(),r=t.class;return r?r.split(" "):[]},a.prototype.__logSymbol=function(t,r,o){o===void 0&&(o={});var l=this.__getSymbol(),v=this.__getSymbols();!l&&!v||this.em.log(t,{model:this,toUp:r,context:"symbols",opts:o})},a.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},a.prototype.__isSymbol=function(){return(0,wt.isArray)(this.get(yi))},a.prototype.__isSymbolOrInst=function(){return!!(this.__isSymbol()||this.get(Fo))},a.prototype.__isSymbolTop=function(){var t=this.parent(),r=this.__isSymbolOrInst();return r&&(!t||t&&!t.__isSymbol()&&!t.__getSymbol())},a.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var t=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),r=this.__getSymbTop(),o=r.__isSymbol()?r:r.__getSymbol();return o!==t},a.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},a.prototype.__getSymbol=function(){var t=this.get(Fo);if(t&&(0,wt.isString)(t)){var r=this.__getAllById()[t];r?(t=r,this.set(Fo,r)):t=0}return t},a.prototype.__getSymbols=function(){var t=this,r=this.get(yi);return r&&(0,wt.isArray)(r)&&(r.forEach(function(o,l){o&&(0,wt.isString)(o)&&(r[l]=t.__getAllById()[o])}),r=r.filter(function(o){return o&&!(0,wt.isString)(o)})),r},a.prototype.__isSymbOvrd=function(t){t===void 0&&(t="");var r=this.get(Ss),o=t.split(":")[0],l=t!==o?[t,o]:[t];return r===!0||(0,wt.isArray)(r)&&l.some(function(v){return r.indexOf(v)>=0})},a.prototype.__getSymbToUp=function(t){var r=this;t===void 0&&(t={});var o=[],l=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||l&&this.__isSymbOvrd(l))return o;var v=this.__getSymbols()||[],w=this.__getSymbol(),C=w?No([w],w.__getSymbols()||[],!0):v;return o=C.filter(function(E){return E!==r}).filter(function(E){return!(l&&E.__isSymbOvrd(l))}),o},a.prototype.__getSymbTop=function(t){for(var r=this,o=this.parent(t);o&&(o.__isSymbol()||o.__getSymbol());)r=o,o=o.parent(t);return r},a.prototype.__upSymbProps=function(t,r){var o=this;r===void 0&&(r={});var l=this.changedAttributes()||{},v=l.attributes||{};if(delete l.status,delete l.open,delete l[yi],delete l[Fo],delete l[Ss],delete l.attributes,delete v.id,(0,he.isEmptyObj)(v)||(l.attributes=v),!(0,he.isEmptyObj)(l)){var w=this.__getSymbToUp(r);(0,wt.keys)(l).map(function(C){o.__isSymbOvrd(C)&&delete l[C]}),this.__logSymbol("props",w,{opts:r,changed:l}),w.forEach(function(C){var E=vn({},l);(0,wt.keys)(E).map(function(j){C.__isSymbOvrd(j)&&delete E[j]}),C.set(E,vn({fromInstance:o},r))})}},a.prototype.__upSymbCls=function(t,r,o){var l=this;o===void 0&&(o={});var v=this.__getSymbToUp(o);this.__logSymbol("classes",v,{opts:o}),v.forEach(function(w){w.set("classes",l.get("classes"),{fromInstance:l})}),this.__changesUp(o)},a.prototype.__upSymbComps=function(t,r,o){var l=this,v=o||r||{},w=v.fromInstance,C=v.fromUndo,E={fromInstance:w,fromUndo:C},j=t.opt.temporary;if(o)if(o.add){var Pt=[],Nt=!!this.__getSymbols(),Z=this.__getSymbToUp(vn(vn({},E),{changed:"components:add"}));if(Z.length){var re=t.__getSymbol();Pt=(re?re.__getSymbols():t.__getSymbols())||[],Pt=No([],Pt,!0),Pt.push(re||t)}!j&&this.__logSymbol("add",Z,{opts:o,addedInstances:Pt.map(function(Rr){return Rr.cid}),added:t.cid}),Z.forEach(function(Rr){var jn=Rr.__getSymbTop(),Wn=Pt.filter(function(rr){var fn=rr.__getSymbTop({prev:1});return jn&&fn&&fn===jn})[0],Gr=Wn||t.clone({symbol:!0,symbolInv:Nt});Rr.append(Gr,vn({fromInstance:l},o))})}else{var oe=t.__getSymbol();if(oe&&!o.temporary&&oe.set(yi,oe.__getSymbols().filter(function(wn){return wn!==t})),!t.__isSymbolTop()){var De="components:remove",Ye=o.index,We=t.parent(),Sr=vn({fromInstance:t},o),Br=t.__isSymbolNested(),cn=function(Rr){var jn=Rr.parent();jn&&!jn.__isSymbOvrd(De)&&Rr.remove(Sr)},Z=We!=null&&We.__isSymbOvrd(De)?[]:t.__getSymbToUp(E);Br&&(Z=We==null?void 0:We.__getSymbToUp(vn(vn({},E),{changed:De})),cn=function(Rr){var jn=Rr.components().at(Ye);jn&&jn.remove(vn({fromInstance:We},Sr))}),!j&&this.__logSymbol("remove",Z,{opts:o,removed:t.cid,isSymbNested:Br}),Z.forEach(cn)}}else{var Z=this.__getSymbToUp(vn(vn({},E),{changed:"components:reset"})),at=t.models;this.__logSymbol("reset",Z,{components:at}),Z.forEach(function(wn){var Rr=at.map(function(jn){return jn.clone({symbol:!0})});wn.components().reset(Rr,vn({fromInstance:l},r))})}this.__changesUp(v)},a.prototype.initClasses=function(t,r,o){o===void 0&&(o={});var l="change:classes",v=this.get("attributes")||{},w=v.class,C=aa(v,["class"]),E=[this,l,this.initClasses],j=this.get("classes")||w||[],Z=(0,wt.isString)(j)?j.split(" "):j;this.stopListening.apply(this,E);var at=this.normalizeClasses(Z),Pt=new Ii([]);return this.set("classes",Pt,o),Pt.add(at),Pt.on("add remove reset",this.__upSymbCls),w&&at.length&&this.set("attributes",C),this.listenTo.apply(this,E),this},a.prototype.initComponents=function(){var t="change:components",r=[this,t,this.initComponents];this.stopListening.apply(this,r);var o=new ma([],this.opt);o.parent=this;var l=this.get("components"),v=!this.opt.avoidChildren;return this.set("components",o),v&&l&&o.add((0,wt.isFunction)(l)?l(this):l,this.opt),o.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,r),this},a.prototype.initTraits=function(t){var r=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var l=vn({},this.get("attributes")),v=this.traits;return v.each(function(w){if(!w.changeProp){var C=w.getName(),E=w.getInitValue();C&&E&&(l[C]=E)}}),v.length&&this.set("attributes",l),this.on(o,this.initTraits),t&&r&&r.trigger("component:toggled"),this},a.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",r=["change:".concat(t),this.initScriptProps];this.off.apply(this,r);var o=this.previous(t)||[],l=this.get(t)||[],v=o.map(function(C){return"change:".concat(C)}).join(" "),w=l.map(function(C){return"change:".concat(C)}).join(" ");v&&this.off(v,this.__scriptPropsChange),w&&this.on(w,this.__scriptPropsChange),this.on.apply(this,r)}},a.prototype.__scriptPropsChange=function(t,r,o){o===void 0&&(o={}),!o.avoidStore&&this.trigger("rerender")},a.prototype.append=function(t,r){r===void 0&&(r={});var o=(0,wt.isArray)(t)?No([],t,!0):[t],l=o.map(function(w){return(0,wt.isString)(w)||w.collection&&w.collection.remove(w,{temporary:!0}),w}),v=this.components().add(l,r);return(0,wt.isArray)(v)?v:[v]},a.prototype.components=function(t,r){r===void 0&&(r={});var o=this.get("components");return(0,wt.isUndefined)(t)?o:(o.reset(void 0,r),t?this.append(t,r):[])},a.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},a.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},a.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},a.prototype.parent=function(t){t===void 0&&(t={});var r=this.collection||t.prev&&this.prevColl;return r?r.parent:void 0},a.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},a.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},a.prototype.initToolbar=function(){var t=this.em,r=this,o=t&&t.getConfig().stylePrefix||"";if(!r.get("toolbar")&&t){var l=[];r.collection&&l.push({label:t.getIcon("arrowUp"),command:function(v){return v.runCommand("core:component-exit",{force:1})}}),r.get("draggable")&&l.push({attributes:{class:"".concat(o,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),r.get("copyable")&&l.push({label:t.getIcon("copy"),command:"tlb-clone"}),r.get("removable")&&l.push({label:t.getIcon("delete"),command:"tlb-delete"}),r.set("toolbar",l)}},a.prototype.__loadTraits=function(t,r){r===void 0&&(r={});var o=t||this.traits;if(!(o instanceof Mo)){o=(0,wt.isFunction)(o)?o(this):o;var l=new Mo([],this.opt);l.setTarget(this),o.length&&(o.forEach(function(v){return v.attributes&&delete v.attributes.value}),l.add(o)),this.set({traits:l},r)}return this},a.prototype.getTraits=function(){return this.__loadTraits(),No([],this.traits.models,!0)},a.prototype.setTraits=function(t){var r=(0,wt.isArray)(t)?t:[t];return this.set({traits:r}),this.getTraits()},a.prototype.getTrait=function(t){return this.getTraits().filter(function(r){return r.get("id")===t||r.get("name")===t})[0]||null},a.prototype.updateTrait=function(t,r){var o,l=this.getTrait(t);return l&&l.set(r),(o=this.em)===null||o===void 0||o.trigger("component:toggled"),this},a.prototype.getTraitIndex=function(t){var r=this.getTrait(t);return r?this.traits.indexOf(r):-1},a.prototype.removeTrait=function(t){var r=this,o,l=(0,wt.isArray)(t)?t:[t],v=l.map(function(E){return r.getTrait(E)}),w=this.traits,C=v.length?w.remove(v):[];return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,wt.isArray)(C)?C:[C]},a.prototype.addTrait=function(t,r){var o;r===void 0&&(r={}),this.__loadTraits();var l=this.traits.add(t,r);return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,wt.isArray)(l)?l:[l]},a.prototype.normalizeClasses=function(t){var r=[],o=this.em,l=o==null?void 0:o.Selectors;return l?t.models?No([],t.models,!0):(t.forEach(function(v){return r.push(l.add(v))}),r):[]},a.prototype.clone=function(t){t===void 0&&(t={});var r=this.em,o=vn({},this.attributes),l=vn({},this.opt),v=this.getId(),w=r==null?void 0:r.Css;o.attributes=vn({},o.attributes),delete o.attributes.id,o.components=[],o.classes=[],o.traits=[],this.__isSymbolTop()&&(t.symbol=!0),this.get("components").each(function(Nt,re){o.components[re]=Nt.clone(vn(vn({},t),{_inner:1}))}),this.get("traits").each(function(Nt,re){o.traits[re]=Nt.clone()}),this.get("classes").each(function(Nt,re){o.classes[re]=Nt.get("name")}),o.status="",l.collection=null;var C=new this.constructor(o,l),E="#".concat(C.getId()),j=w?w.getRules("#".concat(v)):[];j.forEach(function(Nt){var re=Nt.clone();re.set("selectors",[E]),w.getAll().add(re)}),C.set(yi,0);var Z=this.__getSymbol(),at=this.__getSymbols();!t.symbol&&(Z||at)?(C.set(Fo,0),C.set(yi,0)):Z?(Z.set(yi,No(No([],Z.__getSymbols(),!0),[C],!1)),C.__initSymb()):t.symbol&&(this.__isSymbol()?(this.set(yi,No(No([],at,!0),[C],!1)),C.set(Fo,this),C.__initSymb()):t.symbolInv?(this.set(yi,[C]),C.set(Fo,this),[this,C].map(function(Nt){return Nt.__initSymb()})):(C.set(yi,[this]),[this,C].map(function(Nt){return Nt.__initSymb()}),this.set(Fo,C)));var Pt="component:clone";return r&&r.trigger(Pt,C),this.trigger(Pt,C),C},a.prototype.getName=function(t){t===void 0&&(t={});var r=this.em,o=this.attributes,l=o.type,v=o.tagName,w=o.name,C=l||v,E=l?"":v,j="domComponents.names.",Z=w&&(r==null?void 0:r.t("".concat(j).concat(w))),at=E&&(r==null?void 0:r.t("".concat(j).concat(E))),Pt=r&&(r.t("".concat(j).concat(l))||r.t("".concat(j).concat(v))),Nt=this.get("custom-name");return(t.noCustom?"":Nt)||Z||w||at||(0,he.capitalize)(E)||Pt||(0,he.capitalize)(C)},a.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},a.prototype.toHTML=function(t){t===void 0&&(t={});var r=this,o=[],l=t.tag,v=l||r.get("tagName"),w=r.get("void"),C=t.attributes,E=this.getAttrToHTML();if(delete t.tag,C&&((0,wt.isFunction)(C)?E=C(r,E)||{}:(0,he.isObject)(C)&&(E=C)),t.withProps){var j=this.toJSON();(0,wt.forEach)(j,function(Ye,We){var Sr=["classes","attributes","components"];We[0]!=="_"&&Sr.indexOf(We)<0&&(E["data-gjs-".concat(We)]=(0,wt.isArray)(Ye)||(0,he.isObject)(Ye)?JSON.stringify(Ye):(0,wt.isBoolean)(Ye)?"".concat(Ye):Ye)})}for(var Z in E){var at=E[Z];if(!(0,wt.isUndefined)(at)&&at!==null)if((0,wt.isBoolean)(at))at&&o.push(Z);else{var Pt="";if(t.altQuoteAttr&&(0,wt.isString)(at)&&at.indexOf('"')>=0)Pt="'".concat(at.replace(/'/g,"&apos;"),"'");else{var Nt=(0,wt.isString)(at)?at.replace(/"/g,"&quot;"):at;Pt='"'.concat(Nt,'"')}o.push("".concat(Z,"=").concat(Pt))}}var re=o.length?" ".concat(o.join(" ")):"",oe=r.getInnerHTML(t),De="<".concat(v).concat(re).concat(w?"/":"",">").concat(oe);return!w&&(De+="</".concat(v,">")),De},a.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},a.prototype.__innerHTML=function(t){t===void 0&&(t={});var r=this.components();return r.length?r.map(function(o){return o.toHTML(t)}).join(""):this.content},a.prototype.getAttrToHTML=function(){var t=this.getAttributes();return Cs(this.em)&&delete t.style,t},a.prototype.toJSON=function(t){t===void 0&&(t={});var r=le.Model.prototype.toJSON.call(this,t);if(r.attributes=this.getAttributes(),delete r.attributes.class,delete r.toolbar,delete r.traits,delete r.status,delete r.open,delete r._undoexc,delete r.delegate,!t.fromUndo){var o=r[Fo],l=r[yi];l&&(0,wt.isArray)(l)&&(r[yi]=l.filter(function(v){return v}).map(function(v){return v.getId?v.getId():v})),o&&!(0,wt.isString)(o)&&(r[Fo]=o.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(r),r},a.prototype.getChangedProps=function(t){var r=t||le.Model.prototype.toJSON.apply(this),o=(0,wt.result)(this,"defaults");return(0,wt.forEach)(o,function(l,v){["type"].indexOf(v)===-1&&r[v]===l&&delete r[v]}),(0,wt.isEmpty)(r.type)&&delete r.type,(0,wt.forEach)(["attributes","style"],function(l){(0,wt.isEmpty)(o[l])&&(0,wt.isEmpty)(r[l])&&delete r[l]}),(0,wt.forEach)(["classes","components"],function(l){(!r[l]||(0,wt.isEmpty)(o[l])&&!r[l].length)&&delete r[l]}),r},a.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},a.prototype.setId=function(t,r){var o=vn({},this.get("attributes"));return o.id=t,this.set("attributes",o,r),this},a.prototype.getEl=function(t){var r=this.getView(t);return r&&r.el},a.prototype.getView=function(t){var r=this,o=r.view,l=r.views,v=r.em,w=t||(v==null?void 0:v.getCurrentFrameModel());return w&&(o=l.filter(function(C){return C.frameView===w.view})[0]),o},a.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),r=t==null?void 0:t.model;return this.getView(r)},a.prototype.__getScriptProps=function(){var t=this.props(),r=this.get("script-props")||[];return r.reduce(function(o,l){return o[l]=t[l],o},{})},a.prototype.getScriptString=function(t){var r=this,o=t||this.get("script")||"";if(!o)return o;if(this.get("script-props"))o=o.toString().trim();else{if((0,wt.isFunction)(o)){var l=o.toString().trim();l=l.slice(l.indexOf("{")+1,l.lastIndexOf("}")),o=l.trim()}var v=this.em.getConfig(),w=ta(v.tagVarStart||"{[ "),C=ta(v.tagVarEnd||" ]}"),E=new RegExp("".concat(w,"([\\w\\d-]*)").concat(C),"g");o=o.replace(E,function(j,Z){r.scriptUpdated();var at=r.attributes[Z]||"";return(0,wt.isArray)(at)||typeof at=="object"?JSON.stringify(at):at})}return o},a.prototype.emitUpdate=function(t){for(var r,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];var v=this.em,w=Os+(t?":".concat(t):""),C=t&&this.get(t);t&&this.updated.apply(this,No([t,C,t&&this.previous(t)],o,!1)),this.trigger.apply(this,No([w],o,!1)),v&&v.trigger.apply(v,No([w,this],o,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(r={},r[t]=C,r),options:o[2]||o[1]||{}})},a.prototype.onAll=function(t){return(0,wt.isFunction)(t)&&(t(this),this.components().forEach(function(r){return r.onAll(t)})),this},a.prototype.forEachChild=function(t){(0,wt.isFunction)(t)&&this.components().forEach(function(r){t(r),r.forEachChild(t)})},a.prototype.remove=function(t){var r=this;t===void 0&&(t={});var o=this.em,l=this.collection,v=function(){l&&l.remove(r,vn(vn({},t),{action:"remove-component"})),l||(r.components("",t),r.components().removeChildren(r,void 0,t))},w=vn({},t);return[this,o].map(function(C){return C.trigger("component:remove:before",r,v,w)}),!w.abort&&v(),this},a.prototype.move=function(t,r){if(r===void 0&&(r={}),t){var o=r.at,l=this.index(),v=t===this.parent(),w=l===o||l===o-1;(!v||!w)&&(v&&o&&o>l&&(r.at=o-1),this.remove({temporary:1}),t.append(this,r),this.emitUpdate())}return this},a.prototype.isInstanceOf=function(t){var r,o,l=(o=(r=this.em)===null||r===void 0?void 0:r.Components.getType(t))===null||o===void 0?void 0:o.model;return l?this instanceof l:!1},a.prototype.isChildOf=function(t){for(var r=(0,wt.isString)(t),o=this.parent();o;){if(r){if(o.isInstanceOf(t))return!0}else if(o===t)return!0;o=o.parent()}return!1},a.prototype.resetId=function(t){var r=this.em,o=this.getId();if(!o)return this;var l=a.createId(this);this.setId(l);var v=r==null?void 0:r.Css.getIdRule(o),w=v==null?void 0:v.get("selectors").at(0);return w==null||w.set("name",l),this},a.prototype._getStyleRule=function(t){var r=t===void 0?{}:t,o=r.id,l=this.em,v=o||this.getId();return l==null?void 0:l.Css.getIdRule(v)},a.prototype._getStyleSelector=function(t){var r=this._getStyleRule(t);return r==null?void 0:r.get("selectors").at(0)},a.prototype._idUpdated=function(t,r,o){if(o===void 0&&(o={}),!o.idUpdate){var l=this.ccid,v=(this.get("attributes")||{}).id,w=(this.previous("attributes")||{}).id||l,C=a.getList(this);if(C[v]||!v&&w)return this.setId(w,{idUpdate:!0});delete C[w],C[v]=this,this.ccid=v;var E=this._getStyleSelector({id:w});E&&E.set({name:v,label:v})}},a.getDefaults=function(){return(0,wt.result)(this.prototype,"defaults")},a.isComponent=function(t){return{tagName:(0,he.toLowerCase)(t.tagName)}},a.ensureInList=function(t){var r=a.getList(t),o=t.getId(),l=r[o];if(!l)r[o]=t;else if(l!==t){var v=a.getIncrementId(o,r);t.setId(v),r[v]=t}t.components().forEach(function(w){return a.ensureInList(w)})},a.createId=function(t,r){r===void 0&&(r={});var o=a.getList(t),l=r.idMap,v=l===void 0?{}:l,w=t.get("attributes").id,C;return w?(C=a.getIncrementId(w,o,r),t.setId(C),w!==C&&(v[w]=C)):C=a.getNewId(o),o[C]=t,C},a.getNewId=function(t){for(var r=Object.keys(t).length,o=r.toString().length+2,l=(Math.random()+1.1).toString(36).slice(-o),v="i".concat(l);t[v];)v=a.getNewId(t);return v},a.getIncrementId=function(t,r,o){o===void 0&&(o={});var l=o.keepIds,v=l===void 0?[]:l,w=1,C=t;if(v.indexOf(t)<0)for(;r[C];)w++,C="".concat(t,"-").concat(w);return C},a.getList=function(t){var r=t.opt,o=r===void 0?{}:r,l=o.domc,v=o.em,w=l||(v==null?void 0:v.Components);return w?w.componentsById:{}},a.checkId=function(t,r,o,l){r===void 0&&(r=[]),o===void 0&&(o={}),l===void 0&&(l={});var v=(0,wt.isArray)(t)?t:[t],w=l.keepIds,C=w===void 0?[]:w,E=l.idMap,j=E===void 0?{}:E;v.forEach(function(Z){Z.attributes;var at=Z.attributes,Pt=at===void 0?{}:at,Nt=Z.components,re=Pt.id;if(re&&o[re]&&C.indexOf(re)<0){var oe=a.getIncrementId(re,o);j[re]=oe,Pt.id=oe,(0,wt.isArray)(r)&&r.forEach(function(De){var Ye=De.selectors;Ye.forEach(function(We,Sr){We==="#".concat(re)&&(Ye[Sr]="#".concat(oe))})})}Nt&&a.checkId(Nt,r,o,l)})},a}(xn);const Gn=zs;var Ws=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vo=function(){return Vo=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Vo.apply(this,arguments)},jl=function(p){Ws(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Vo(Vo({},p.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),a.prototype.toHTML=function(){var t=this.content,r=this.parent();return r!=null&&r.is("script")?t:this.__escapeContent(t)},a.prototype.__escapeContent=function(t){return(0,he.escapeNodeContent)(t)},a.isComponent=function(t){var r;if(t.nodeType===3)return{type:"textnode",content:(r=t.textContent)!==null&&r!==void 0?r:""}},a}(Gn);const za=jl;var sa=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ts=function(){return Ts=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ts.apply(this,arguments)},sc=function(p){sa(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Ts({},p.prototype.defaults)},enumerable:!1,configurable:!0}),a.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},a.isComponent=function(t){var r;if(t.nodeType==8)return{type:"comment",content:(r=t.textContent)!==null&&r!==void 0?r:""}},a}(za);const cs=sc;var Vi=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ro=function(){return Ro=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ro.apply(this,arguments)},Dl="iframe",lc=function(p){Vi(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Ro(Ro({},p.prototype.defaults),{type:Dl,tagName:Dl,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===Dl},a}(Gn);const Wa=lc;var Sc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bi=function(){return bi=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bi.apply(this,arguments)},wi='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',la=function(p){Sc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return bi(bi({},p.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(wi,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(wi,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){p.prototype.initialize.call(this,t,r);var o=this.get("attributes").src;o&&(0,he.buildBase64UrlFromSvg)((0,wt.result)(this,"defaults").src)!==o&&this.set("src",o,{silent:!0})},a.prototype.initToolbar=function(){p.prototype.initToolbar.call(this);var t=this.em;if(t){var r=t.Commands,o="image-editor";if(r.has(o)){for(var l=!1,v=this.get("toolbar"),w=0;w<v.length;w++)if(v[w].command==="image-editor"){l=!0;break}l||(v.push({attributes:{class:"fa fa-pencil"},command:o}),this.set("toolbar",v))}}},a.prototype.getAttrToHTML=function(){var t=p.prototype.getAttrToHTML.call(this),r=this.getSrcResult();return r&&(t.src=r),t},a.prototype.getSrcResult=function(t){t===void 0&&(t={});var r=this.get(t.fallback?"fallback":"src")||"",o=r;return r&&r.substr(0,4)==="<svg"&&(o=(0,he.buildBase64UrlFromSvg)(r)),o},a.prototype.isDefaultSrc=function(){var t=this.get("src"),r=(0,wt.result)(this,"defaults").src;return t===r||t===(0,he.buildBase64UrlFromSvg)(r)},a.prototype.toJSON=function(t){var r=p.prototype.toJSON.call(this,t),o=r.attributes;return o&&r.src===o.src&&delete r.src,r},a.prototype.parseUri=function(t){var r={},o=function(l){l===void 0&&(l="");for(var v={},w=l.substring(1).split("&"),C=0;C<w.length;C++){var E=w[C].split("="),j=decodeURIComponent(E[0]);j&&(v[j]=decodeURIComponent(E[1]||""))}return v};if((0,he.hasWin)())r=document.createElement("a"),r.href=t;else if(typeof URL<"u")try{r=new URL(t)}catch{}return{hostname:r.hostname||"",pathname:r.pathname||"",protocol:r.protocol||"",search:r.search||"",hash:r.hash||"",port:r.port||"",query:o(r.search)}},a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)==="img"},a}(Gn);const Ma=la;var cc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_i=function(){return _i=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},_i.apply(this,arguments)},ca=function(p){cc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return _i(_i({},p.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){p.prototype.initialize.call(this,t,r),this.__checkInnerChilds()},a.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var r=function(o){o.isInstanceOf("textnode")||o.set({locked:!0,layerable:!1})};(0,wt.isFunction)(t)?this.forEachChild(function(o){t(o)&&r(o)}):this.forEachChild(r)}},a}(Gn);const $a=ca;var Es=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ki=function(){return Ki=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ki.apply(this,arguments)},Ri="label",Yi=function(p){Es(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Ki(Ki({},p.prototype.defaults),{type:Ri,tagName:Ri,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===Ri},a}($a);const ua=Yi;var gt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dt=function(){return Dt=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Dt.apply(this,arguments)},de="link",Te=function(p){gt(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Dt(Dt({},p.prototype.defaults),{type:de,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),a.isComponent=function(t,r){r===void 0&&(r={});var o;if((0,he.toLowerCase)(t.tagName)==="a"){var l=r.textTags||[];o={type:de,editable:!1};var v=t.childNodes,w=v.length;w||delete o.editable,(0,wt.forEach)(v,function(C){var E=C.tagName;(C.nodeType==3&&C.textContent.trim()!==""||E&&l.indexOf((0,he.toLowerCase)(E))>=0)&&delete o.editable})}return o},a}($a);const Be=Te;var Ve=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fr=function(){return fr=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},fr.apply(this,arguments)},Fr=function(p){Ve(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){var t=p.prototype.defaults;return fr(fr({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){this.get("src")?this.parseFromSrc():this.updateSrc(),p.prototype.initialize.call(this,t,r),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},a.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},a.prototype.getMapUrl=function(){var t=this.get("address"),r=this.get("zoom"),o=this.get("mapType");t=t?"&q="+t:"",r=r?"&z="+r:"",o=o?"&t="+o:"";var l=this.get("mapUrl")+"?"+t+r+o;return l+="&output=embed",l},a.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),r=t.query;r.q&&this.set("address",r.q),r.z&&this.set("zoom",r.z),r.t&&this.set("mapType",r.t)},a.isComponent=function(t){if((0,he.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},a}(Ma);const it=Fr;var Mt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(){return ie=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ie.apply(this,arguments)},be="script",qe=function(p){Mt(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return ie(ie({},p.prototype.defaults),{type:be,tagName:be,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===be},a}(Gn);const Fe=qe;var ur=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kr=function(){return kr=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},kr.apply(this,arguments)},hn="svg",Nn=function(p){ur(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return kr(kr({},p.prototype.defaults),{type:hn,tagName:hn,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),a.prototype.getName=function(){var t=this.get("tagName"),r=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),r||t},a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===hn},a}(Gn);const Eo=Nn;var Ga=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),us=function(){return us=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},us.apply(this,arguments)},Yc=function(p){Ga(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return us(us({},p.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),a.isComponent=function(t,r){return r===void 0&&(r={}),!!r.inSvg},a}(Eo);const ef=Yc;var pp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),La=function(){return La=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},La.apply(this,arguments)},Hi="table",rf=function(p){pp(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return La(La({},p.prototype.defaults),{type:Hi,tagName:Hi,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){p.prototype.initialize.call(this,t,r);var o=this.get("components");!o.length&&o.add({type:"tbody"})},a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===Hi},a}(Gn);const uc=rf;var xu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oc=function(){return Oc=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Oc.apply(this,arguments)},gl="tbody",Il=function(p){xu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Oc(Oc({},p.prototype.defaults),{type:gl,tagName:gl,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){p.prototype.initialize.call(this,t,r);var o=this.get("components"),l=this.get("columns"),v=this.get("rows");if(!o.length){for(var w=[];v--;){for(var C=[],E=l;E--;)C.push({type:"cell",classes:["cell"]});w.push({type:"row",classes:["row"],components:C})}o.add(w)}},a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===gl},a}(Gn);const Ti=Il;var $s=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qa=function(){return qa=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},qa.apply(this,arguments)},vl=function(p){$s(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return qa(qa({},p.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return["td","th"].indexOf((0,he.toLowerCase)(t.tagName))>=0},a}(Gn);const fc=vl;var ml=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pc=function(){return pc=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},pc.apply(this,arguments)},Tc="tfoot",dc=function(p){ml(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return pc(pc({},p.prototype.defaults),{type:Tc,tagName:Tc})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===Tc},a}(Ti);const Cu=dc;var Nl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gs=function(){return Gs=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Gs.apply(this,arguments)},Zi="thead",yl=function(p){Nl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Gs(Gs({},p.prototype.defaults),{type:Zi,tagName:Zi})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===Zi},a}(Ti);const wa=yl;var Fl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bl=function(){return bl=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bl.apply(this,arguments)},qs="tr",Ps=function(p){Fl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return bl(bl({},p.prototype.defaults),{tagName:qs,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),a.isComponent=function(t){return(0,he.toLowerCase)(t.tagName)===qs},a}(Gn);const Zc=Ps;var hc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ks=function(){return Ks=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ks.apply(this,arguments)},Xc="video",Vl="yt",Ys="vi",Rl="ytnc",fs="so",ja=function(p){return p&&p!=="0"},wl=function(p){hc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Ks(Ks({},p.prototype.defaults),{type:Xc,tagName:Xc,videoId:"",void:!1,provider:fs,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(t,r){this.em=r.em,this.get("src")&&this.parseFromSrc(),this.updatePropsFromAttr(),this.updateTraits(),this.on("change:provider",this.updateTraits),this.on("change:videoId change:provider",this.updateSrc),p.prototype.initialize.call(this,t,r)},a.prototype.updatePropsFromAttr=function(){if(this.get("provider")===fs){var t=this.get("attributes"),r=t.controls,o=t.autoplay,l=t.loop,v={};(0,he.isDef)(r)&&(v.controls=!!r),(0,he.isDef)(o)&&(v.autoplay=!!o),(0,he.isDef)(l)&&(v.loop=!!l),(0,he.isEmptyObj)(v)||this.set(v)}},a.prototype.updateTraits=function(){var t=this.em,r=this.get("provider"),o="iframe",l;switch(r){case Vl:case Rl:l=this.getYoutubeTraits();break;case Ys:l=this.getVimeoTraits();break;default:o="video",l=this.getSourceTraits()}this.set({tagName:o},{silent:!0}),this.set({traits:l}),t.get("ready")&&t.trigger("component:toggled")},a.prototype.parseFromSrc=function(){var t=this.get("provider"),r=this.parseUri(this.get("src")),o=r.query;switch(t){case Vl:case Rl:case Ys:this.set("videoId",r.pathname.split("/").pop()),o.list&&this.set("list",o.list),ja(o.autoplay)&&this.set("autoplay",!0),ja(o.loop)&&this.set("loop",!0),parseInt(o.controls)===0&&this.set("controls",!1),ja(o.color)&&this.set("color",o.color),o.rel==="0"&&this.set("rel",0),o.modestbranding==="1"&&this.set("modestbranding",1);break}},a.prototype.updateSrc=function(){var t=this.get("provider"),r="";switch(t){case Vl:r=this.getYoutubeSrc();break;case Rl:r=this.getYoutubeNoCookieSrc();break;case Ys:r=this.getVimeoSrc();break}this.set({src:r})},a.prototype.getAttrToHTML=function(){var t=p.prototype.getAttrToHTML.call(this),r=this.get("provider");switch(r){case Vl:case Rl:case Ys:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},a.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Vl,name:"Youtube"},{value:Rl,name:"Youtube (no cookie)"},{value:Ys,name:"Vimeo"}]}},a.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},a.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},a.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},a.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},a.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},a.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},a.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),r=this.get("ytUrl"),o=this.get("list");return r+=t+(t.indexOf("?")<0?"?":""),r+=o?"&list=".concat(o):"",r+=this.get("autoplay")?"&autoplay=1&mute=1":"",r+=this.get("controls")?"":"&controls=0&showinfo=0",r+=this.get("loop")?"&loop=1&playlist=".concat(t):"",r+=this.get("rel")?"":"&rel=0",r+=this.get("modestbranding")?"&modestbranding=1":"",r},a.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},a.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},a.isComponent=function(t){var r=t.tagName,o=t.src,l=/youtube\.com\/embed/.test(o),v=/youtube-nocookie\.com\/embed/.test(o),w=/player\.vimeo\.com\/video/.test(o),C=l||v||w;if((0,he.toLowerCase)(r)==Xc||(0,he.toLowerCase)(r)=="iframe"&&C){var E={type:"video"};return o&&(E.src=o),C&&(l?E.provider=Vl:v?E.provider=Rl:w&&(E.provider=Ys)),E}},a}(Ma);const Jc=wl;var Hl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Su=function(){return Su=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Su.apply(this,arguments)},dp=function(p){Hl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(a.prototype,"defaults",{get:function(){return Su(Su({},p.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),a.prototype.__postAdd=function(){var t,r=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(r==null||r.add(this)),p.prototype.__postAdd.call(this)},a.prototype.__postRemove=function(){var t,r=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return r==null||r.remove(this),p.prototype.__postRemove.call(this)},a.isComponent=function(){return!1},a}(Gn);const Ou=dp;var Tu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_l=function(p){Tu(a,p);function a(){var t=p!==null&&p.apply(this,arguments)||this;return t.compView=Bi,t}return a.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var r=this.collection;this.listenTo(r,"add",this.addTo),this.listenTo(r,"reset",this.resetChildren),this.listenTo(r,"remove",this.removeChildren)},a.prototype.removeChildren=function(t,r,o){var l=this;o===void 0&&(o={}),t.views.forEach(function(w){if(w){var C=w.childrenView,E=w.scriptContainer;C&&C.stopListening(),(0,He.L_)(E),w.remove.apply(w)}});var v=t.components();v.forEach(function(w){return l.removeChildren(w,r,o)})},a.prototype.addTo=function(t,r,o){o===void 0&&(o={});var l=this.em,v=this.collection.indexOf(t);if(this.addToCollection(t,null,v),l&&!o.temporary){var w=function(C){l.trigger("component:add",C),C.components().forEach(function(E){return w(E)})};w(t)}},a.prototype.addToCollection=function(t,r,o){for(var l=this,v=l.config,w=l.opts,C=l.em,E=r||null,j=v.frameView,Z=(j==null?void 0:j.model)&&t.getView(j.model),at=w.componentTypes||(C==null?void 0:C.Components.getTypes()),Pt=t.get("type")||"default",Nt=this.compView,re=0;re<at.length;re++)if(at[re].id==Pt){Nt=at[re].view;break}var oe=Z||new Nt({model:t,config:v,componentTypes:at}),De;try{De=oe.render().el}catch(Br){De=document.createTextNode(""),C.logError(Br)}if(E)E.appendChild(De);else{var Ye=this.parentEl,We=Ye.childNodes;if((0,wt.isUndefined)(o))Ye.appendChild(De);else{var Sr=We.length==o;Sr&&o--,Sr||!We.length?Ye.appendChild(De):Ye.insertBefore(De,We[o])}}return t.opt.temporary||C==null||C.trigger("component:mount",t),De},a.prototype.resetChildren=function(t,r){var o=this,l=r===void 0?{}:r,v=l.previousModels,w=v===void 0?[]:v;this.parentEl.innerHTML="",w.forEach(function(C){return o.removeChildren(C,o.collection)}),t.each(function(C){return o.addToCollection(C)})},a.prototype.render=function(t){var r=this,o=this.el,l=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(v){return r.addToCollection(v,l)}),o.innerHTML="",o.appendChild(l),this},a}(q.G7);const ps=_l;var gc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bl=function(){return Bl=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Bl.apply(this,arguments)},nf=function(p){gc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.className=function(){return this.getClasses()},a.prototype.tagName=function(){return this.model.get("tagName")},a.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},a.prototype.initialize=function(t){t===void 0&&(t={});var r=this.model,o=t.config||{},l=o.em,v=r.opt||{},w=this,C=w.$el,E=w.el;this.opts=t,this.modelOpt=v,this.config=o,this.em=l,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.attr=r.get("attributes"),this.classe=this.attr.class||[],this.listenTo(r,"change:style",this.updateStyle),this.listenTo(r,"change:attributes",this.renderAttributes),this.listenTo(r,"change:highlightable",this.updateHighlight),this.listenTo(r,"change:status change:locked",this.updateStatus),this.listenTo(r,"change:script rerender",this.reset),this.listenTo(r,"change:content",this.updateContent),this.listenTo(r,"change",this.handleChange),this.listenTo(r,"active",this.onActive),this.listenTo(r,"disable",this.onDisable),C.data("model",r),(0,he.setViewEl)(E,this),r.view=this,this.frameView&&r.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Bl(Bl({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!v.temporary&&this.init(this._clbObj())},Object.defineProperty(a.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"createDoc",{get:function(){var t,r,o=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((r=this.opts.config)===null||r===void 0)&&r.useFrameDoc?o:document},enumerable:!1,configurable:!0}),a.prototype.__isDraggable=function(){var t=this,r=t.model,o=t.config,l=r.attributes.draggable;return o.draggableComponents&&l},a.prototype._clbObj=function(){var t=this,r=t.em,o=t.model,l=t.el;return{editor:r==null?void 0:r.getEditor(),model:o,el:l}},a.prototype.init=function(t){},a.prototype.removed=function(t){},a.prototype.onRender=function(t){},a.prototype.onActive=function(t){},a.prototype.onDisable=function(t){},a.prototype.remove=function(){var t;p.prototype.remove.call(this);var r=this,o=r.model,l=r.$el,v=o.views,w=this.frameView||{};return o.components().forEach(function(C){var E=C.getView(w.model);E==null||E.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),v.splice(v.indexOf(this),1),this.removed(this._clbObj()),l.data({model:"",collection:"",view:""}),this},a.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},a.prototype.initClasses=function(){var t=this.model,r=t.classes,o="change:classes";r instanceof Ii&&(this.stopListening(t,o,this.initClasses),this.listenTo(t,o,this.initClasses),this.listenTo(r,"add remove change reset",this.updateClasses),r.length&&this.importClasses())},a.prototype.initComponents=function(t){t===void 0&&(t={});var r=this,o=r.model,l=r.$el,v=r.childrenView,w="change:components",C=o.get("components"),E=[o,w,this.initComponents];C instanceof ma&&(l.data("collection",C),v&&v.remove(),this.stopListening.apply(this,E),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,E))},a.prototype.handleChange=function(){var t=this.model,r=(0,wt.keys)(t.changed);if(!(r.length===1&&r[0]==="status")){t.emitUpdate();for(var o in t.changed)t.emitUpdate(o)}},a.prototype.importClasses=function(){var t=this,r=t.em,o=t.model,l=r.Selectors;l&&o.classes.forEach(function(v){return l.add(v.getName())})},a.prototype.updateStatus=function(t){t===void 0&&(t={});var r=this,o=r.em,l=r.el,v=r.ppfx,w=r.model,C=o==null?void 0:o.Canvas,E=C==null?void 0:C.config.extHl,j=w.get("status"),Z="".concat(v,"selected"),at="".concat(Z,"-parent"),Pt="".concat(v,"freezed"),Nt="".concat(v,"hovered"),re="".concat(v,"no-pointer"),oe="".concat(v,"pointer-init"),De=[Z,at,Pt,Nt,re],Ye=E&&!t.noExtHl?"":Z;this.$el.removeClass(De.join(" "));var We=l.getAttribute("class")||"",Sr=[We],Br=!(C!=null&&C.hasCustomSpot(Wt.q.Select)),cn=!(C!=null&&C.hasCustomSpot(Wt.q.Target));switch(j){case"selected":Br&&Sr.push(Ye);break;case"selected-parent":cn&&Sr.push(at);break;case"freezed":Sr.push(Pt);break;case"freezed-selected":Sr.push(Pt),Br&&Sr.push(Ye);break;case"hovered":!t.avoidHover&&Sr.push(Nt);break}(0,wt.isBoolean)(w.locked)&&Sr.push(w.locked?re:oe);var wn=Sr.filter(Boolean).join(" ");wn&&l.setAttribute("class",wn)},a.prototype.updateHighlight=function(){var t=this.model,r=t.get("textable"),o=t.get("highlightable")&&(r||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",o?!0:"")},a.prototype.updateStyle=function(t,r,o){o===void 0&&(o={});var l=this,v=l.model,w=l.em;if(Cs(w)&&!o.inline){var C=this.__cmpStyleOpts,E=v.getStyle(C);!(0,wt.isEmpty)(E)&&v.setStyle(E,C)}else this.setAttribute("style",v.styleToString(o))},a.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},a.prototype.setAttribute=function(t,r){var o=this.$el;r?o.attr(t,r):o.removeAttr(t)},a.prototype.getClasses=function(){return this.model.getClasses().join(" ")},a.prototype.updateAttributes=function(){var t=[],r=this,o=r.model,l=r.$el,v=r.el,w=o.attributes,C=w.textable,E=w.type,j=Bl(Bl({id:o.getId(),"data-gjs-type":E||"default"},this.__isDraggable()&&{draggable:!0}),C&&{contenteditable:"false"});(0,wt.each)(v.attributes,function(at){return t.push(at.nodeName)}),t.forEach(function(at){return l.removeAttr(at)}),this.updateStyle(),this.updateHighlight();var Z=Bl(Bl({},j),o.getAttributes());(0,wt.keys)(Z).forEach(function(at){return Z[at]===!1&&delete Z[at]}),l.attr(Z)},a.prototype.updateContent=function(){var t=this.model.content,r=this.model.components().length;this.getChildrenContainer().innerHTML=r?"":t},a.prototype.prevDef=function(t){t.preventDefault()},a.prototype.updateScript=function(){var t=this,r=t.model,o=t.em;r.get("script")&&(o==null||o.Canvas.getCanvasView().updateScript(this))},a.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},a.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},r=this.el,o=0,l=0,v=function(w){var C=w.offsetParent;C?(o+=C.offsetTop,l+=C.offsetLeft,v(C)):(t.top=r.offsetTop+o,t.left=r.offsetLeft+l,t.bottom=t.top+r.offsetHeight,t.right=t.left+r.offsetWidth)};return v(r),t},a.prototype.isInViewport=function(){var t=this,r=t.el,o=t.em,l=t.frameView,v=o.Canvas.getCanvasView(),w=v.getElBoxRect(r,{local:!0}),C=l.el,E=C.clientHeight,j=C.clientWidth,Z=w.y,at=w.x,Pt=Z+w.height,Nt=at+w.width,re=Z>=0&&Z<E,oe=Pt>0&&Pt<E,De=Nt>=0&&Nt<j,Ye=at>0&&at<=j,We=(re||oe)&&(De||Ye);return We},a.prototype.scrollIntoView=function(t){var r;t===void 0&&(t={});var o=this.isInViewport();if(!o||t.force){var l=this.el;if(t.behavior!=="smooth"){var v=this.getOffsetRect();(r=l.ownerDocument.defaultView)===null||r===void 0||r.scrollTo(0,v.top)}else l.scrollIntoView(Bl({behavior:"smooth",block:"nearest"},t))}},a.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,He.dL)(t,this.el),this.render()},a.prototype._setData=function(){var t=this.model,r=t.components(),o=this;this.$el.data({model:t,collection:r,view:o})},a.prototype._createElement=function(t){return this.createDoc.createElement(t)},a.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),r=this.childrenView||new ps({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});r.render(t),this.childrenView=r;for(var o=Array.prototype.slice.call(r.el.childNodes),l=0,v=o.length;l<v;l++)t.appendChild(o.shift())},a.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},a.prototype.onAttrUpdate=function(){},a.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,he.setViewEl)(this.el,this),this.postRender(),this)},a.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},a.getEvents=function(){return(0,wt.result)(this.prototype,"events")},a}(q.G7);const Bi=nf;var Qc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Da=function(p){Qc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype._setAttributes=function(){},a.prototype.renderAttributes=function(){},a.prototype.updateStatus=function(){},a.prototype.updateClasses=function(){},a.prototype.setAttribute=function(){},a.prototype.updateAttributes=function(){},a.prototype.initClasses=function(){},a.prototype.initComponents=function(){},a.prototype.delegateEvents=function(){return this},a.prototype._createElement=function(){return document.createTextNode("")},a.prototype.render=function(){var t=this,r=t.model,o=t.el;return r.opt.temporary?this:(o.textContent=r.content,this)},a}(Bi);const Ho=Da;var Ei=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ei=function(p){Ei(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype._createElement=function(){return document.createComment(this.model.content)},a}(Ho);const Zs=ei;var tu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Eu=function(p){tu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"div"},a.prototype.initialize=function(t){p.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},a.prototype.updateSrc=function(){var t=(0,He.sE)(this.el,"iframe")[0];t&&(0,He.FW)(t,{src:this.__getSrc()})},a.prototype.render=function(){p.prototype.render.call(this);var t=(0,He.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},a.prototype.__getSrc=function(){return this.model.getAttributes().src||""},a}(Bi);const Pu=Eu;var Df=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),If=function(p){Df(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"img"},a.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},a.prototype.initialize=function(t){p.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},a.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,r=t.model,o=t.em,l=r.get("file");if(l&&o){var v=o.Assets.FileUploader();v==null||v.uploadFile({dataTransfer:{files:[l]}},function(w){var C=w&&w.data&&w.data[0],E=C&&((0,wt.isString)(C)?C:C.src);E&&r.set({src:E})}),r.set("file","")}}},a.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},a.prototype.updateClasses=function(){p.prototype.updateClasses.call(this);var t=this,r=t.el,o=t.classEmpty,l=t.model,v=l.getSrcResult()&&!l.isDefaultSrc(),w=v?"remove":"add";r.classList[w](o)},a.prototype.onActive=function(t){t==null||t.stopPropagation();var r=this,o=r.em,l=r.model,v=o==null?void 0:o.Assets;v&&l.get("editable")&&v.open({select:function(w,C){l.set({src:w.getSrc()}),C&&v.close()},target:l,types:["image"],accept:"image/*"})},a.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},a.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},a.prototype.noDrag=function(t){return t.preventDefault(),!1},a.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,r=t.$el,o=t.model,l=r.attr("class")||"";return!o.get("src")&&r.attr("class","".concat(l," ").concat(this.classEmpty).trim()),this.postRender(),this},a}(Bi);const Ul=If;var ks=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ec=function(){return Ec=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ec.apply(this,arguments)},ku=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},vc=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Au=function(p){ks(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},a.prototype.initialize=function(t){p.prototype.initialize.call(this,t),(0,wt.bindAll)(this,"disableEditing","onDisable");var r=this.model,o=this.em;this.listenTo(r,"focus",this.onActive),this.listenTo(r,"change:content",this.updateContentText),this.listenTo(r,"sync:content",this.syncContent),this.rte=o==null?void 0:o.RichTextEditor},a.prototype.updateContentText=function(t,r,o){o===void 0&&(o={}),!o.fromDisable&&this.disableEditing()},a.prototype.canActivate=function(){var t=this,r=t.model,o=t.rteEnabled,l=t.em,v=l==null?void 0:l.getEditing(),w=v===r,C=!0,E=!1,j;if((o||!r.get("editable")||w||(E=r.isChildOf("text")))&&(C=!1,E&&!r.get("textable"))){for(var Z=r.parent();Z&&!Z.isInstanceOf("text");)Z=Z.parent();Z&&Z.get("editable")?j=Z:C=!0}return{result:C,delegate:j}},a.prototype.onActive=function(t){var r,o;return ku(this,void 0,void 0,function(){var l,v,w,C,E,j,Z,at,Pt;return vc(this,function(Nt){switch(Nt.label){case 0:return l=this,v=l.rte,w=l.em,C=this.canActivate(),E=C.result,j=C.delegate,E?((o=t==null?void 0:t.stopPropagation)===null||o===void 0||o.call(t),Z=this,[4,this.getContent()]):(j&&((r=t==null?void 0:t.stopPropagation)===null||r===void 0||r.call(t),w.setSelected(j),j.trigger("active",t)),[2]);case 1:if(Z.lastContent=Nt.sent(),!v)return[3,5];Nt.label=2;case 2:return Nt.trys.push([2,4,,5]),at=this,[4,v.enable(this,this.activeRte,{event:t})];case 3:return at.activeRte=Nt.sent(),[3,5];case 4:return Pt=Nt.sent(),w.logError(Pt),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},a.prototype.onDisable=function(t){this.disableEditing(t)},a.prototype.disableEditing=function(t){return t===void 0&&(t={}),ku(this,void 0,void 0,function(){var r,o,l,v,w,C,E,j;return vc(this,function(Z){switch(Z.label){case 0:if(r=this,o=r.model,l=r.rte,v=r.activeRte,w=r.em,C=o&&o.get("editable"),!l)return[3,8];Z.label=1;case 1:return Z.trys.push([1,3,,4]),[4,l.disable(this,v,t)];case 2:return Z.sent(),[3,4];case 3:return E=Z.sent(),w.logError(E),[3,4];case 4:return j=C,j?[4,this.getContent()]:[3,6];case 5:j=Z.sent()!==this.lastContent,Z.label=6;case 6:return j?[4,this.syncContent(t)]:[3,8];case 7:Z.sent(),this.lastContent="",Z.label=8;case 8:return this.toggleEvents(),[2]}})})},a.prototype.getContent=function(){return ku(this,void 0,void 0,function(){var t,r,o,l;return vc(this,function(v){switch(v.label){case 0:return t=this,r=t.rte,o=t.activeRte,l="",r?[4,r.getContent(this,o)]:[3,2];case 1:l=v.sent(),v.label=2;case 2:return[2,l]}})})},a.prototype.syncContent=function(t){return t===void 0&&(t={}),ku(this,void 0,void 0,function(){var r,o,l,v,w,C,E;return vc(this,function(j){switch(j.label){case 0:return r=this,o=r.model,l=r.rte,v=r.rteEnabled,!v&&!t.force?[2]:[4,this.getContent()];case 1:return w=j.sent(),C=o.components(),E=Ec({fromDisable:1},t),o.set("content","",E),l!=null&&l.customRte&&!l.customRte.parseContent?(C.length&&C.reset(void 0,Ec(Ec({},t),{keepIds:Di(C)})),o.set("content",w,E)):C.resetFromString(w,t),[2]}})})},a.prototype.insertComponent=function(t,r){var o;r===void 0&&(r={});var l=this,v=l.model,w=l.el,C=w.ownerDocument,E=C.getSelection();if(E!=null&&E.rangeCount){var j=E.getRangeAt(0),Z=j.startContainer,at=j.startOffset,Pt=(0,he.getComponentModel)(Z),Nt=[];if(Pt&&(!((o=Pt.is)===null||o===void 0)&&o.call(Pt,"textnode"))){var re=Pt.collection;re.forEach(function(Ye){if(Ye===Pt){var We="textnode",Sr=r.useDomContent?Z.textContent||"":Ye.content;Nt.push({type:We,content:Sr.slice(0,at)}),Nt.push(t),Nt.push({type:We,content:Sr.slice(at)})}else Nt.push(Ye)});var oe=Nt.filter(Boolean),De=oe.indexOf(t);return re.reset(oe,r),re.at(De)}}return v.append(t,r)},a.prototype.onInput=function(){var t=this.em,r="component",o=["".concat(r,":update"),"".concat(r,":input")].join(" ");t&&t.trigger(o,this.model)},a.prototype.disablePropagation=function(t){t.stopPropagation()},a.prototype.toggleEvents=function(t){var r=this,o=r.em,l=r.model,v=r.$el,w={on:He.on,off:He.S1},C=t?"on":"off";o.setEditing(t?this:!1),this.rteEnabled=!!t;var E=[this.el.ownerDocument,document];if(w.off(E,"mousedown",this.onDisable),w[C](E,"mousedown",this.onDisable),o[C]("toolbar:run:before",this.onDisable),l&&(l[C]("removed",this.onDisable),l.trigger("rte:".concat(t?"enable":"disable"))),v==null||v.off("mousedown",this.disablePropagation),v&&v[C]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var j=this.el;j;)j.draggable=!t,j=j.parentNode,j&&j.tagName=="BODY"&&(j=0)},a}(Bi);const Nf=Au;var Mu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ka=function(p){Mu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.render=function(){return p.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},a}(Nf);const fi=Ka;var co=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ui=function(p){co(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(fi);const Lu=Ui;var hp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_a=function(p){hp(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"div"},a.prototype.events=function(){return{}},a.prototype.initialize=function(t){p.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},a.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},a.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},a.prototype.render=function(){return p.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},a}(Ul);const Co=_a;var Xs=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mc=function(p){Xs(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"script"},a.prototype.events=function(){return{}},a}(Bi);const xl=mc;var Ff=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zl=function(p){Ff(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},a}(Bi);const Vf=zl;var Pc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kc=function(p){Pc(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Bi);const of=kc;var af=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Js=function(p){af(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Bi);const Rf=Js;var eu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cl=function(p){eu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Bi);const ru=Cl;var Sl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hf=function(p){Sl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Bi);const $p=Hf;var ju=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ia=function(p){ju(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Bi);const So=Ia;var ds=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xa=function(p){ds(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return{}},a}(Bi);const Ol=xa;var nu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sf=function(p){nu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"div"},a.prototype.events=function(){return{}},a.prototype.initialize=function(){Bi.prototype.initialize.apply(this,arguments);var t=this.model,r=["loop","autoplay","controls","color","rel","modestbranding","poster"],o=r.map(function(l){return"change:".concat(l)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,o,this.updateVideo)},a.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},a.prototype.updateSrc=function(){var t=this,r=t.model,o=t.videoEl;if(o){var l=r.get("provider"),v=r.get("src");switch(l){case"yt":v=r.getYoutubeSrc();break;case"ytnc":v=r.getYoutubeNoCookieSrc();break;case"vi":v=r.getVimeoSrc();break}o.src=v}},a.prototype.updateVideo=function(){var t=this,r=t.model,o=t.videoEl,l=r.get("provider");switch(l){case"yt":case"ytnc":case"vi":r.trigger("change:videoId");break;default:if(o){var v=o;v.loop=r.get("loop"),v.autoplay=r.get("autoplay"),v.controls=r.get("controls"),v.poster=r.get("poster")}}},a.prototype.renderByProvider=function(t){var r;switch(t){case"yt":r=this.renderYoutube();break;case"ytnc":r=this.renderYoutubeNoCookie();break;case"vi":r=this.renderVimeo();break;default:r=this.renderSource()}return this.videoEl=r,r},a.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},a.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},a.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},a.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},a.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},a.prototype.render=function(){Bi.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},a}(Ul);const Du=sf;var Bf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lf=function(p){Bf(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.tagName=function(){return"div"},a}(Bi);const Pi=lf;var Iu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fa=function(){return fa=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},fa.apply(this,arguments)},Wl=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Ac;(function(p){p[p.InvalidSource=0]="InvalidSource",p[p.SourceReject=1]="SourceReject",p[p.TargetReject=2]="TargetReject"})(Ac||(Ac={}));var Mc=function(p){Iu(a,p);function a(t){var r=p.call(this,t,"DomComponents",new ma(void 0,{em:t}))||this;r.componentTypes=[{id:"cell",model:fc,view:Rf},{id:"row",model:Zc,view:So},{id:"table",model:uc,view:Ol},{id:"thead",model:wa,view:$p},{id:"tbody",model:Ti,view:of},{id:"tfoot",model:Cu,view:ru},{id:"map",model:it,view:Co},{id:"link",model:Be,view:fi},{id:"label",model:ua,view:Lu},{id:"video",model:Jc,view:Du},{id:"image",model:Ma,view:Ul},{id:"script",model:Fe,view:xl},{id:"svg-in",model:ef,view:Vf},{id:"svg",model:Eo,view:Vf},{id:"iframe",model:Wa,view:Pu},{id:"comment",model:cs,view:Zs},{id:"textnode",model:za,view:Ho},{id:"text",model:$a,view:Nf},{id:"wrapper",model:Ou,view:Pi},{id:"default",model:Gn,view:Bi}],r.componentsById={},r.Component=Gn,r.Components=ma,r.ComponentView=Bi,r.ComponentsView=ps,r.storageKey="components",t&&(r.config.components=t.config.components||r.config.components);for(var o in rt)o in r.config||(r.config[o]=rt[o]);var l=r.config.pStylePrefix;if(l&&(r.config.stylePrefix=l+r.config.stylePrefix),t){t.get("Parser").compTypes=r.componentTypes,t.on("change:componentHovered",r.componentHovered,r);var v=t.get("selected");t.listenTo(v,"add",function(w,C,E){return r.selectAdd(v.getComponent(w),E)}),t.listenTo(v,"remove",function(w,C,E){return r.selectRemove(v.getComponent(w),E)})}return r}return a.prototype.load=function(t){var r=this;return this.loadProjectData(t,{onResult:function(o){var l=r.getWrapper();if(l||(r.em.Pages.add({},{select:!0}),l=r.getWrapper()),(0,wt.isArray)(o))o.length&&l.components(o);else{var v=o.components,w=v===void 0?[]:v,C=Wl(o,["components"]);l.set(C),l.components(w)}}})},a.prototype.store=function(){return{}},a.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),r=t==null?void 0:t.getMainFrame();return r==null?void 0:r.getComponent()},a.prototype.getWrapper=function(){return this.getComponent()},a.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},a.prototype.addComponent=function(t,r){return r===void 0&&(r={}),this.getComponents().add(t,r)},a.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},a.prototype.clear=function(t){t===void 0&&(t={});var r=this.getComponents();return r==null||r.filter(Boolean).forEach(function(o){return o.remove(t)}),this},a.prototype.setComponents=function(t,r){r===void 0&&(r={}),this.clear(r).addComponent(t,r)},a.prototype.addType=function(t,r){var o=this.em,l=r.model,v=l===void 0?{}:l,w=r.view,C=w===void 0?{}:w,E=r.isComponent,j=r.extend,Z=r.extendView,at=r.extendFn,Pt=at===void 0?[]:at,Nt=r.extendFnView,re=Nt===void 0?[]:Nt,oe=this.getType(t),De=this.getType(j),Ye=this.getType(Z),We=De||oe||this.getType("default"),Sr=We.model,Br=Ye?Ye.view:We.view,cn=function(jn,Wn,Gr){return jn.reduce(function(rr,fn){var mn=Wn[fn],ji=Gr.prototype[fn];return mn&&ji&&(rr[fn]=function(){for(var Ha=[],ha=0;ha<arguments.length;ha++)Ha[ha]=arguments[ha];ji.bind(this).apply(void 0,Ha),mn.bind(this).apply(void 0,Ha)}),rr},{})};if(typeof v=="object"){var wn={defaults:v.defaults};delete v.defaults,r.model=Sr.extend(fa(fa({},v),cn(Pt,v,Sr)),{isComponent:oe&&!De&&!E?Sr.isComponent:E||function(){return 0}}),Object.defineProperty(r.model.prototype,"defaults",{get:function(){return fa(fa({},(0,wt.result)(Sr.prototype,"defaults")||{}),(0,wt.result)(wn,"defaults")||{})}})}typeof C=="object"&&(r.view=Br.extend(fa(fa({},C),cn(re,C,Br)))),oe?(oe.model=r.model,oe.view=r.view):(r.id=t,this.componentTypes.unshift(r));var Rr="component:type:".concat(oe?"update":"add");return o==null||o.trigger(Rr,oe||r),this},a.prototype.getType=function(t){for(var r=this.componentTypes,o=0;o<r.length;o++){var l=r[o].id;if(l==t)return r[o]}},a.prototype.removeType=function(t){var r=this.componentTypes,o=this.getType(t);if(o){var l=r.indexOf(o);return r.splice(l,1),o}},a.prototype.getTypes=function(){return this.componentTypes},a.prototype.selectAdd=function(t,r){var o=this;r===void 0&&(r={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(l){return o.em.trigger(l,t,r)}))},a.prototype.selectRemove=function(t,r){var o=this;r===void 0&&(r={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(l){return o.em.trigger(l,t,r)}))},a.prototype.componentHovered=function(){var t=this.em,r=t.get("componentHovered"),o=t.previous("componentHovered"),l="hovered";o&&o.get("status")==l&&o.set({status:"",state:""}),r&&(0,wt.isEmpty)(r.get("status"))&&r.set("status",l)},a.prototype.getShallowWrapper=function(){var t=this,r=t.shallow,o=t.em;if(!r&&o){var l=o.shallow;if(!l)return;var v=l.Components;if(v.componentTypes=this.componentTypes,r=v.getWrapper(),r){var w=[Os,Fi].join(" ");r.on(w,(0,wt.debounce)(function(){return r==null?void 0:r.components("")},100))}this.shallow=r}return r},a.prototype.isComponent=function(t){return(0,he.isComponent)(t)},a.prototype.canMove=function(t,r,o){var l={result:!1,reason:Ac.InvalidSource,target:t,source:null};if(!r||!t)return l;var v=(0,he.isComponent)(r)?r:null;if(!v){var w=this.getShallowWrapper();v=(w==null?void 0:w.append(r)[0])||null}if(l.source=v,!v)return l;var C=v.get("draggable");if((0,wt.isFunction)(C))C=!!C(v,t,o);else{var E=t.getEl();C=(0,wt.isArray)(C)?C.join(","):C,C=(0,wt.isString)(C)?E==null?void 0:E.matches(C):C}if(!C)return fa(fa({},l),{reason:Ac.SourceReject});var j=t.get("droppable");if((0,wt.isFunction)(j))j=!!j(v,t,o);else if(j===!1&&t.isInstanceOf("text")&&v.get("textable"))j=!0;else{var E=v.getEl();j=(0,wt.isArray)(j)?j.join(","):j,j=(0,wt.isString)(j)?E==null?void 0:E.matches(j):j}var Z=[t].concat(t.parents()).indexOf(v)>-1;return!j||Z?fa(fa({},l),{reason:Ac.TargetReject}):fa(fa({},l),{result:!0})},a.prototype.allById=function(){return this.componentsById},a.prototype.getById=function(t){return this.componentsById[t]||null},a.prototype.destroy=function(){var t,r=this.allById();Object.keys(r).forEach(function(o){return r[o]&&r[o].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(o){return{}})},a}(V);const Nu=Mc;var Fu={stylePrefix:"css-",rules:[]};const Lc=Fu;var Uf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jc=Number.MAX_VALUE,zf=function(p){var a=/(-?\d*\.?\d+)\w{0,}/.exec(p);return a?a[0]:""},Qs=function(p){Uf(a,p);function a(){var t=p.call(this)||this;return(0,wt.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return a.prototype.buildFromModel=function(t,r){var o=this;r===void 0&&(r={});var l="",v=this.em,w=v&&v.getConfig().avoidInlineStyle,C=t.styleToString(),E=t.classes;this.ids.push("#".concat(t.getId())),E.forEach(function(Z){return o.compCls.push(Z.getFullName())}),!w&&C&&(l="#".concat(t.getId(),"{").concat(C,"}"));var j=t.components();return j.forEach(function(Z){return l+=o.buildFromModel(Z,r)}),l},a.prototype.build=function(t,r){var o=this;r===void 0&&(r={});var l=r.json,v=r.em,w=r.cssc||(v==null?void 0:v.Css);this.em=v,this.compCls=[],this.ids=[],this.model=t;var C=[],E=t?this.buildFromModel(t,r):"",j=(0,wt.isUndefined)(r.clearStyles)&&v?v.getConfig().clearStyles:r.clearStyles;if(w){var Z=r.rules||w.getAll(),at={},Pt=[];r.onlyMatched&&t&&(0,he.hasWin)()&&(Z=this.matchedRules(t,Z)),Z.forEach(function(Nt){var re=Nt.getAtRule();if(re){var oe=at[re];oe?oe.push(Nt):at[re]=[Nt];return}var De=o.buildFromRule(Nt,Pt,r);l?C.push(De):E+=De}),this.sortMediaObject(at).forEach(function(Nt){var re="",oe=Nt.key,De=Nt.value;De.forEach(function(Ye){var We=o.buildFromRule(Ye,Pt,r);Ye.get("singleAtRule")?E+="".concat(oe,"{").concat(We,"}"):re+=We,l&&C.push(We)}),re&&(E+="".concat(oe,"{").concat(re,"}"))}),v&&j&&Z.remove&&Z.remove(Pt)}return l?C.filter(function(Nt){return Nt}):E},a.prototype.buildFromRule=function(t,r,o){var l=this,v;o===void 0&&(o={});var w="",C=this.model,E=t.selectorsToString({skipAdd:1}),j=t.get("selectorsAdd"),Z=t.get("singleAtRule"),at;if((v=t.get("selectors"))===null||v===void 0||v.forEach(function(Nt){var re=Nt.getFullName();(l.compCls.indexOf(re)>=0||l.ids.indexOf(re)>=0||o.keepUnusedStyles)&&(at=1)}),E&&at||j||Z||!C){var Pt=t.getDeclaration({body:1});Pt&&(o.json?w=t:w+=Pt)}else r.push(t);return w},a.prototype.matchedRules=function(t,r){var o=this,l=t.getEl(),v=[];return r.forEach(function(w){try{w.selectorsToString().split(",").some(function(C){return l==null?void 0:l.matches(o.__cleanSelector(C))})&&v.push(w)}catch{}}),t.components().forEach(function(w){v=v.concat(o.matchedRules(w,r))}),v=v.filter(function(w,C){return v.indexOf(w)===C}),v},a.prototype.getQueryLength=function(t){var r=/(-?\d*\.?\d+)\w{0,}/.exec(t);return r?parseFloat(r[1]):jc},a.prototype.sortMediaObject=function(t){var r=this;t===void 0&&(t={});var o=[];return(0,wt.each)(t,function(l,v){return o.push({key:v,value:l})}),o.sort(function(l,v){var w=[l.key,v.key].every(function(j){return j.indexOf("min-width")!==-1}),C=w?l.key:v.key,E=w?v.key:l.key;return r.getQueryLength(C)-r.getQueryLength(E)})},a.prototype.sortRules=function(t,r){var o=function(C){return C.get("mediaText")||""},l=[o(t),o(r)].every(function(C){return C.indexOf("min-width")!==-1}),v=o(l?t:r),w=o(l?r:t);return this.getQueryLength(v)-this.getQueryLength(w)},a.prototype.__cleanSelector=function(t){return t.split(" ").map(function(r){return r.split(":")[0]}).join(" ")},a}(q.Hn);const Wf=Qs;var As=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tl=function(){return tl=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},tl.apply(this,arguments)},gp=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Vu=((0,he.hasWin)()?window:{}).CSS,$f=function(p){As(a,p);function a(t,r){r===void 0&&(r={});var o=p.call(this,t)||this;return o.config=t||{},o.opt=r,o.em=r.em,o.ensureSelectors(null,null,{}),o.on("change",o.__onChange),o}return a.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},a.prototype.__onChange=function(t,r){var o=this.em,l=this.changedAttributes();l&&!(0,he.isEmptyObj)(l)&&(o==null||o.changesUp(r))},a.prototype.clone=function(){var t=tl({},this.opt),r=tl({},this.attributes);return r.selectors=this.get("selectors").map(function(o){return o.clone()}),new this.constructor(r,t)},a.prototype.ensureSelectors=function(t,r,o){var l=this.em,v=l==null?void 0:l.get("SelectorManager"),w=[this,"change:selectors",this.ensureSelectors],C=this.getSelectors();if(this.stopListening.apply(this,w),C.models&&(C=gp([],C.models,!0)),C=(0,wt.isString)(C)?[C]:C,Array.isArray(C)){var E=C.filter(function(j){return j}).map(function(j){return v?v.add(j):j});C=new Ii(E)}this.set("selectors",C,o),this.listenTo.apply(this,w)},a.prototype.getAtRule=function(){var t=this.get("atRuleType"),r=this.get("mediaText"),o=t?"@".concat(t):r?"@media":"";return o+(r&&o?" ".concat(r):"")},a.prototype.selectorsToString=function(t){t===void 0&&(t={});var r=[],o=this.get("state"),l=this.get("selectorsAdd"),v={escape:function(E){return Vu&&Vu.escape?Vu.escape(E):E}},w=this.get("selectors").getFullString(0,v),C=o&&!t.skipState?":".concat(o):"";return w&&r.push("".concat(w).concat(C)),l&&!t.skipAdd&&r.push(l),r.join(", ")},a.prototype.getDeclaration=function(t){t===void 0&&(t={});var r="",o=this.attributes.important,l=this.selectorsToString(t),v=this.styleToString(tl({important:o},t)),w=this.get("singleAtRule");return(l||w)&&(v||t.allowEmpty)&&(r=w?v:"".concat(l,"{").concat(v,"}")),r},a.prototype.getDevice=function(){var t=this.em,r=this.attributes,o=r.atRuleType,l=r.mediaText,v=(t==null?void 0:t.get("DeviceManager").getDevices())||[],w=v.filter(function(C){return C.getWidthMedia()===""})[0];return o!=="media"||!l?w||null:v.filter(function(C){return C.getWidthMedia()===zf(l)})[0]||null},a.prototype.getState=function(){var t=this.em,r=this.get("state"),o=(t==null?void 0:t.get("SelectorManager").getStates())||[];return o.filter(function(l){return l.getName()===r})[0]||null},a.prototype.getComponent=function(){var t,r=this.getSelectors(),o=r.length==1&&r.at(0),l=o&&o.isId()&&o.get("name");return l&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(l))||null},a.prototype.toCSS=function(t){t===void 0&&(t={});var r="",o=this.getAtRule(),l=this.getDeclaration(t);return(l||t.allowEmpty)&&(r=l),o&&r&&(r="".concat(o,"{").concat(r,"}")),r},a.prototype.toJSON=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var l=q.Hn.prototype.toJSON.apply(this,r);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var v=this.defaults();(0,wt.forEach)(v,function(w,C){l[C]===w&&delete l[C]}),delete l.style.__p,(0,wt.isEmpty)(l.selectors)&&delete l.selectors,(0,wt.isEmpty)(l.style)&&delete l.style}return l},a.prototype.compare=function(t,r,o,l){var v;l===void 0&&(l={});var w=r||"",C=o||"",E=l.selectorsAdd||"",j=l.atRuleType||"",Z=!(0,wt.isArray)(t)&&!t.models?[t]:t.models||t;C&&!j&&(j="media");var at=Z.map(function(oe){return oe.getFullName()}),Pt=(v=this.get("selectors"))===null||v===void 0?void 0:v.map(function(oe){return oe.getFullName()}),Nt=at.slice().sort(),re=Pt.slice().sort();return!(at.length!==Pt.length||!Nt.every(function(oe,De){return oe===re[De]})||this.get("state")!==w||this.get("mediaText")!==C||this.get("selectorsAdd")!==E||this.get("atRuleType")!==j)},a}(xn);const hs=$f;var Dc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$l=function(p){Dc(a,p);function a(t,r){var o=p.call(this,t)||this;return o.editor=r==null?void 0:r.em,setTimeout(function(){o.on("remove",o.onRemove),o.on("add",o.onAdd)}),o}return a.prototype.toJSON=function(t){var r=q.FE.prototype.toJSON.call(this,t);return r.filter(function(o){return o.style&&!o.shallow})},a.prototype.onAdd=function(t,r,o){t.ensureSelectors(t,r,o)},a.prototype.onRemove=function(t){var r=this.editor;r.stopListening(t),r.UndoManager.remove(t)},a.prototype.add=function(t,r){return r===void 0&&(r={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),r.em=this.editor,q.FE.prototype.add.apply(this,[t,r])},a}(q.FE);const ou=$l;$l.prototype.model=hs;var cf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gl=function(){return Gl=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Gl.apply(this,arguments)},ql=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Kl=function(p){cf(a,p);function a(t){var r=p.call(this,t,"CssComposer",null,{},Lc)||this;r.Selectors=Ii,r.storageKey="styles";var o=r.config,l=o.pStylePrefix;return l&&(o.stylePrefix=l+o.stylePrefix),o.rules=r.em.config.style||o.rules||"",r.rules=new ou([],o),r}return a.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},a.prototype.postLoad=function(){var t,r=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");r&&r.add(this.getAll())},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},a.prototype.add=function(t,r,o,l,v){l===void 0&&(l={}),v===void 0&&(v={});var w=r||"",C=o||"",E=Gl({},l),j=this.get(t,w,C,E);return j&&j.config&&!j.config.singleAtRule||(E.state=w,E.mediaText=C,E.selectors=[],C&&!E.atRuleType&&(E.atRuleType="media"),j=new hs(E,this.config),j.get("selectors").add(t,v),this.rules.add(j,v)),j},a.prototype.get=function(t,r,o,l){var v=t;if((0,wt.isString)(t)){var w=this.em.Selectors,C=t.split(",")[0].trim(),E=this.em.Parser.parserCss.checkNode({selectors:C})[0];v=w.get(E.selectors)}return this.rules.find(function(j){return j.compare(v,r,o,l)})||null},a.prototype.getAll=function(){return this.rules},a.prototype.addCollection=function(t,r,o){r===void 0&&(r={}),o===void 0&&(o={});var l=this.em,v=[];(0,wt.isString)(t)&&(t=l.Parser.parseCss(t));for(var w=t instanceof Array?t:[t],C=0,E=w.length;C<E;C++){var j=w[C]||{};if(j.selectors){var Z=l==null?void 0:l.Selectors;Z||console.warn("Selector Manager not found");for(var at=j.selectors,Pt=at instanceof Array?at:[at],Nt=[],re=0,oe=Pt.length;re<oe;re++){var De=Z.add(Pt[re]);Nt.push(De)}var Ye=this.get(Nt,j.state,j.mediaText,j),We=this.add(Nt,j.state,j.mediaText,j,r),Sr=!Ye||!r.avoidUpdateStyle,Br=j.style||{};if((0,he.isObject)(o)&&We.set(o,r),Sr){var cn=r.extend?Gl(Gl({},We.get("style")),Br):Br;We.set("style",cn,r)}v.push(We)}}return v},a.prototype.addRules=function(t){return this.addCollection(t)},a.prototype.setRule=function(t,r,o){r===void 0&&(r={}),o===void 0&&(o={});var l=o.atRuleType,v=o.atRuleParams,w=this.em.Parser.parserCss.checkNode({selectors:t,style:r})[0],C=w.state,E=w.selectorsAdd,j=this.em.Selectors,Z=j.add(w.selectors),at=this.add(Z,C,v,{selectorsAdd:E,atRule:l});return o.addStyles?at.addStyle(r,o):at.setStyle(r,o),at},a.prototype.getRule=function(t,r){r===void 0&&(r={});var o=this.em,l=o.Selectors,v=o.Parser.parserCss.checkNode({selectors:t})[0],w=l.get(v.selectors),C=v.state,E=v.selectorsAdd,j=r.atRuleType,Z=r.atRuleParams;return w?this.get(w,C,Z,{selectorsAdd:E,atRuleType:j}):void 0},a.prototype.getRules=function(t){var r=this.getAll();if(!t)return ql([],r.models,!0);var o={sort:!0},l=(0,wt.isString)(t)?t.split(",").map(function(w){return w.trim()}):t,v=r.filter(function(w){return l.indexOf(w.getSelectors().getFullString(null,o))>=0});return v},a.prototype.setIdRule=function(t,r,o){r===void 0&&(r={}),o===void 0&&(o={});var l=o.addOpts,v=l===void 0?{}:l,w=o.mediaText,C=o.state||"",E=(0,wt.isUndefined)(w)?this.em.getCurrentMedia():w,j=this.em.Selectors,Z=j.add({name:t,type:Go.TYPE_ID},v),at=this.add(Z,C,E,{},v);return at.setStyle(r,Gl(Gl({},o),v)),at},a.prototype.getIdRule=function(t,r){r===void 0&&(r={});var o=r.mediaText,l=r.state||"",v=(0,wt.isUndefined)(o)?this.em.getCurrentMedia():o,w=this.em.Selectors.get(t,Go.TYPE_ID);return w&&this.get(w,l,v)},a.prototype.setClassRule=function(t,r,o){r===void 0&&(r={}),o===void 0&&(o={});var l=o.state||"",v=o.mediaText||this.em.getCurrentMedia(),w=this.em.Selectors,C=w.add({name:t,type:Go.TYPE_CLASS}),E=this.add(C,l,v);return E.setStyle(r,o),E},a.prototype.getClassRule=function(t,r){r===void 0&&(r={});var o=r.state||"",l=r.mediaText||this.em.getCurrentMedia(),v=this.em.Selectors.get(t,Go.TYPE_CLASS);return v&&this.get(v,o,l)},a.prototype.remove=function(t,r){var o=(0,wt.isString)(t)?this.getRules(t):t,l=this.getAll().remove(o,r);return(0,wt.isArray)(l)?l:[l]},a.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},a.prototype.getComponentRules=function(t,r){r===void 0&&(r={});var o=r.state,l=r.mediaText,v=r.current;v&&(o=this.em.get("state")||"",l=this.em.getCurrentMedia());var w=t.getId(),C=this.getAll().filter(function(E){return!(0,wt.isUndefined)(o)&&E.get("state")!==o||!(0,wt.isUndefined)(l)&&E.get("mediaText")!==l?!1:E.getSelectorsString()==="#".concat(w)});return C},a.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new Un({collection:this.rules,config:this.config}),this.rulesView.render().el},a.prototype.checkId=function(t,r){r===void 0&&(r={});var o=r.idMap,l=o===void 0?{}:o,v=[];if(!Object.keys(l).length)return v;var w=Array.isArray(t)?t:[t];return w.forEach(function(C){var E=C.selectors;if(E&&E.length==1){var j=E[0];if((0,wt.isString)(j)){if(j[0]==="#"){var Z=j.substring(1),at=l[Z];Z&&at&&(E[0]="#".concat(at),v.push(C))}}else if(j.name&&j.type===Go.TYPE_ID){var at=l[j.name];at&&(j.name=at,v.push(C))}}}),v},a.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},a}(V);const ki=Kl;var Ru={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const Gf=Ru;var vp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ca=function(p){vp(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(a.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ka?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),a.prototype.getId=function(){return this.id},a.prototype.getLabel=function(){return this.get("label")},a.prototype.getMedia=function(){return this.get("media")},a.prototype.getContent=function(){return this.get("content")},a.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,wt.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},a}(q.Hn);const Yl=Ca;var uf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yc=function(p){uf(a,p);function a(t,r){var o=p.call(this,t)||this;return o.em=r.em,o.on("add",o.handleAdd),o}return a.prototype.getCategories=function(){return this.em.Blocks.getCategories()},a.prototype.handleAdd=function(t){this.initCategory(t)},a}(ba);const iu=yc;yc.prototype.model=Yl;var au;(function(p){p.add="block:add",p.remove="block:remove",p.removeBefore="block:remove:before",p.update="block:update",p.dragStart="block:drag:start",p.drag="block:drag",p.dragEnd="block:drag:stop",p.custom="block:custom",p.all="block"})(au||(au={}));var Ic=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qf=function(p){Ic(a,p);function a(t,r){r===void 0&&(r={});var o=p.call(this,t)||this,l=o.model;return o.em=r.em,o.config=r,o.endDrag=o.endDrag.bind(o),o.ppfx=r.pStylePrefix||"",o.listenTo(l,"destroy remove",o.remove),o.listenTo(l,"change",o.render),o}return a.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},a.prototype.__getModule=function(){return this.em.Blocks},a.prototype.handleClick=function(t){var r=this,o=r.config,l=r.model,v=r.em,w=l.get("onClick")||o.appendOnClick;if(v.trigger("block:click",l,t),w){if((0,wt.isFunction)(w))return w(l,v==null?void 0:v.getEditor(),{event:t})}else return;var C=o.getSorter(),E=l.get("content"),j=v.getSelected();C.setDropContent(E);var Z,at,Pt;if(j)if(at=C.validTarget(j.getEl(),E),at.valid)Z=j;else{var Nt=j.parent();Nt&&(at=C.validTarget(Nt.getEl(),E),at.valid&&(Z=Nt,Pt=Nt.components().indexOf(j)+1))}if(!Z){var re=v.getWrapper();at=C.validTarget(re.getEl(),E),at.valid&&(Z=re)}var oe=Z&&Z.append(E,{at:Pt})[0];oe&&v.setSelected(oe,{scroll:1})},a.prototype.startDrag=function(t){var r=this,o=r.config,l=r.em,v=r.model,w=v.get("disable");if(!(t.button!==0||!o.getSorter||this.el.draggable||w)){l.refreshCanvas();var C=o.getSorter();C.__currentBlock=v,C.setDragHelper(this.el,t),C.setDropContent(this.model.get("content")),C.startSort(this.el),(0,He.on)(document,"mouseup",this.endDrag)}},a.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},a.prototype.handleDrag=function(t){this.__getModule().__drag(t)},a.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},a.prototype.endDrag=function(){(0,He.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},a.prototype.render=function(){var t,r=this,o=r.em,l=r.el,v=r.$el,w=r.ppfx,C=r.model,E=C.get("disable"),j=C.get("attributes")||{},Z=j.class||"",at="".concat(w,"block"),Pt=o&&o.t("blockManager.labels.".concat(C.id))||C.get("label"),Nt=C.get("render"),re=C.get("media"),oe=E?"".concat(at,"--disable"):"".concat(w,"four-color-h");v.attr(j),l.className="".concat(Z," ").concat(at," ").concat(w,"one-bg ").concat(oe).trim(),l.innerHTML=`
      `.concat(re?'<div class="'.concat(at,'__media">').concat(re,"</div>"):"",`
      <div class="`).concat(at,'-label">').concat(Pt,`</div>
    `),l.title=j.title||((t=l.textContent)===null||t===void 0?void 0:t.trim()),l.setAttribute("draggable","".concat(!!((0,he.hasDnd)(o)&&!E)));var De=Nt&&Nt({el:l,model:C,className:at,prefix:w});return De&&(l.innerHTML=De),this},a}(q.G7);const Ms=qf;var Nc=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zl=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Hu=function(p){Nc(a,p);function a(t,r,o){var l=p.call(this,t)||this;l.config=r;var v=r.pStylePrefix||"";return l.em=r.em,l.catName=o,l.pfx=v,l.caretR="fa fa-caret-right",l.caretD="fa fa-caret-down",l.iconClass="".concat(v,"caret-icon"),l.activeClass="".concat(v,"open"),l.className="".concat(v).concat(o,"-category"),l.listenTo(l.model,"change:open",l.updateVisibility),l.model.view=l,l}return a.prototype.events=function(){return{"click [data-title]":"toggle"}},a.prototype.template=function(t){var r=t.pfx,o=t.label,l=t.catName;return Pe(Bu||(Bu=Zl([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),r,r,o,r,l)},a.prototype.attributes=function(){return this.model.get("attributes")||{}},a.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},a.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},a.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},a.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},a.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},a.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},a.prototype.append=function(t){this.getTypeEl().appendChild(t)},a.prototype.render=function(){var t=this,r=t.em,o=t.el,l=t.$el,v=t.model,w=t.pfx,C=t.catName,E=r.t("".concat(C,"Manager.categories.").concat(v.id))||v.get("label");return o.innerHTML=this.template({pfx:w,label:E,catName:C}),l.addClass(this.className),l.css({order:v.get("order")}),this.updateVisibility(),this},a}(q.G7);const Xi=Hu;var Bu,Kf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),el=function(){return el=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},el.apply(this,arguments)},Fc=function(p){Kf(a,p);function a(t,r){var o=p.call(this,t)||this;o.renderedCategories=new Map,(0,wt.bindAll)(o,"getSorter","onDrag","onDrop","onMove"),o.config=r||{},o.categories=t.categories||"";var l=o.config.pStylePrefix||"";o.ppfx=l,o.noCatClass="".concat(l,"blocks-no-cat"),o.blockContClass="".concat(l,"blocks-c"),o.catsClass="".concat(l,"block-categories");var v=o.collection;return o.listenTo(v,"add",o.addTo),o.listenTo(v,"reset",o.render),o.em=o.config.em,o.em&&(o.config.getSorter=o.getSorter),o}return a.prototype.__getModule=function(){return this.em.Blocks},a.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=el(el({},this.config),t)},a.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var r=t.Utils,o=t.Canvas;this.sorter=new r.Sorter({container:o.getBody(),placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:o.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},a.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},a.prototype.onMove=function(t){this.__getModule().__drag(t)},a.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},a.prototype.addTo=function(t){this.add(t)},a.prototype.add=function(t,r){var o=this,l=o.config,v=o.renderedCategories,w=t.get("attributes"),C=new Ms({model:t,attributes:w},l),E=C.render().el,j=t.parent.initCategory(t);if(j&&this.categories&&!l.ignoreCategories){var Z=j.getId(),at=this.getCategoriesEl(),Pt=v.get(Z);!Pt&&at&&(Pt=new Xi({model:j},l,"block").render(),v.set(Z,Pt),at.appendChild(Pt.el)),Pt==null||Pt.append(E);return}r?r.appendChild(E):this.append(E)},a.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},a.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},a.prototype.append=function(t){var r=this.getBlocksEl();r&&r.appendChild(t)},a.prototype.render=function(){var t=this,r=this.ppfx,o=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(v){return t.add(v,o)}),this.append(o);var l="".concat(this.blockContClass,"s ").concat(r,"one-bg ").concat(r,"two-color");return this.$el.addClass(l),this.rendered=!0,this},a}(q.G7);const rl=Fc;var su=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Na=function(){return Na=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Na.apply(this,arguments)},bc=function(p){su(a,p);function a(t){var r,o=p.call(this,t,"BlockManager",new iu(((r=t.config.blockManager)===null||r===void 0?void 0:r.blocks)||[],{em:t}),au,Gf)||this;return o.events=au,o.Block=Yl,o.Blocks=iu,o.Category=ka,o.Categories=Ua,o.storageKey="",o.blocks=o.all,o.blocksVisible=new iu(o.blocks.models,{em:t}),o.categories=new Ua,o.blocks.on("add",function(l){return o.blocksVisible.add(l)}),o.blocks.on("remove",function(l){return o.blocksVisible.remove(l)}),o.blocks.on("reset",function(l){return o.blocksVisible.reset(l.models)}),o.__onAllEvent=(0,wt.debounce)(function(){return o.__trgCustom()},0),o}return a.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},a.prototype.__customData=function(){var t=this,r=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:r.container,dragStart:function(o,l){return t.startDrag(o,l)},drag:function(o){return t.__drag(o)},dragStop:function(o){return t.endDrag(o)}}},a.prototype.__startDrag=function(t,r){var o=this,l=o.em,v=o.events,w=o.blocks,C=t.getContent?t.getContent():t;this._dragBlock=t,l.set({dragResult:null,dragContent:C}),[l,w].map(function(E){return E.trigger(v.dragStart,t,r)})},a.prototype.__drag=function(t){var r=this,o=r.em,l=r.events,v=r.blocks,w=this._dragBlock;[o,v].map(function(C){return C.trigger(l.drag,w,t)})},a.prototype.__endDrag=function(t){t===void 0&&(t={});var r=this,o=r.em,l=r.events,v=r.blocks,w=this._dragBlock,C=t.component||o.get("dragResult");if(delete this._dragBlock,C&&w){var E="activeOnRender",j=C.get&&C.get(E),Z=w.get("activate")||j,at=w.get("select"),Pt=(0,wt.isArray)(C)?C[0]:C;(at||Z&&at!==!1)&&o.setSelected(Pt),Z&&(Pt.trigger("active"),j&&Pt.unset(E)),w.get("resetId")&&Pt.onAll(function(Nt){return Nt.resetId()})}o.set({dragResult:null,dragContent:null}),w&&[o,v].map(function(Nt){return Nt.trigger(l.dragEnd,C,w)})},a.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},a.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Na(Na({},this._bhv||{}),t)},a.prototype.__getBehaviour=function(){return this._bhv||{}},a.prototype.startDrag=function(t,r){this.__startDrag(t,r),this.__getFrameViews().forEach(function(o){var l;return(l=o.droppable)===null||l===void 0?void 0:l.startCustom()})},a.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.endCustom(t)}),this.__endDrag()},a.prototype.postRender=function(){var t=this,r=t.categories,o=t.config,l=t.em,v=this.blocksVisible;this.blocksView=new rl({collection:v,categories:r},Na(Na({},o),{em:l})),this.__appendTo(v.models),this.__trgCustom()},a.prototype.add=function(t,r,o){o===void 0&&(o={});var l=r||{};return l.id=t,this.blocks.add(l,o)},a.prototype.get=function(t){return this.blocks.get(t)},a.prototype.getAll=function(){return this.blocks},a.prototype.getAllVisible=function(){return this.blocksVisible},a.prototype.remove=function(t,r){return r===void 0&&(r={}),this.__remove(t,r)},a.prototype.getCategories=function(){return this.categories},a.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},a.prototype.getDragBlock=function(){return this._dragBlock},a.prototype.getBlocksByCategory=function(t){return vi(t||this.getAll().models)},a.prototype.render=function(t,r){r===void 0&&(r={});var o=this,l=o.categories,v=o.config,w=o.em,C=t||this.getAll().models;if(r.external){var E=new iu(C,{em:w});return new rl({collection:E,categories:l},Na(Na({em:w},v),r)).render().el}return this.blocksView&&(this.blocksView.updateConfig(r),this.blocksView.collection.reset(C),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},a.prototype.destroy=function(){var t,r=[this.blocks,this.blocksVisible,this.categories];r.map(function(o){return o.stopListening()}),r.map(function(o){return o.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},a}(V);const Yf=bc;var ff={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const nl=ff;var Tl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vc=function(p){Tl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{name:"",label:""}},a.prototype.getName=function(){return this.get("name")},a.prototype.getLabel=function(){return this.get("label")||this.getName()},a}(q.Hn);const pf=Vc;Vc.prototype.idAttribute="name";var Uu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),df=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},lu="contentEditable",mp=function(p){Uu(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this,o=t.config||{};return r.config=o,r.module=t.module,r.coll=t.coll||null,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.em=o.em,r.listenTo(r.model,"change:active",r.updateStatus),r}return a.prototype.template=function(){var t=this,r=t.pfx,o=t.model,l=t.config,v=o.get("label")||"";return Pe(cu||(cu=df([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),r,r,r,v,r,r,l.iconTagRemove)},a.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},a.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},a.prototype.startEditTag=function(){var t=this.em,r=this.getInputEl();r[lu]="true",r.focus(),t==null||t.setEditing(!0)},a.prototype.endEditTag=function(){var t=this,r=t.model,o=t.em,l=this.getInputEl(),v=l.textContent||"",w=o==null?void 0:o.Selectors;l[lu]="false",o==null||o.setEditing(!1),w&&w.rename(r,v)!==r&&(l.innerText=r.getLabel())},a.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},a.prototype.removeTag=function(){this.module.removeSelected(this.model)},a.prototype.updateStatus=function(){var t=this,r=t.model,o=t.$el,l=t.config,v=l.iconTagOn,w=l.iconTagOff,C=o.find("[data-tag-status]");r.get("active")?(C.html(v),o.removeClass("opac50")):(C.html(w),o.addClass("opac50"))},a.prototype.render=function(){var t=this,r=t.pfx,o=t.ppfx,l=t.$el,v=t.model,w="".concat(r,"tag"),C=["".concat(w," ").concat(o,"three-bg")];return v.get("protected")&&C.push("".concat(w,"-protected")),l.html(this.template()),l.attr("class",C.join(" ")),this.updateStatus(),this},a}(q.G7);const Sa=mp;var cu,yp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rc=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},hf=function(p){yp(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.config=t.config||{},r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.className=r.pfx+"tags",r.stateInputId=r.pfx+"states",r.stateInputC=r.pfx+"input-c",r.states=r.config.states||[];var o=r.config.em,l=r.collection;r.target=o;var v=o.Selectors;r.module=v,r.em=o,r.componentChanged=(0,wt.debounce)(r.componentChanged.bind(r),0),r.checkSync=(0,wt.debounce)(r.checkSync.bind(r),0);var w="component:toggled component:update:classes",C="component:update:classes change:state";return r.listenTo(o,w,r.componentChanged),r.listenTo(o,"styleManager:update",r.componentChanged),r.listenTo(o,C,r.__handleStateChange),r.listenTo(o,"styleable:change change:device",r.checkSync),r.listenTo(l,"add",r.addNew),r.listenTo(l,"reset",r.renderClasses),r.listenTo(l,"remove",r.tagRemoved),r.listenTo(v.getAll(),v.events.state,(0,wt.debounce)(function(){return r.renderStates()},0)),r.delegateEvents(),r}return a.prototype.template=function(t){var r=t.labelInfo,o=t.labelHead,l=t.iconSync,v=t.iconAdd,w=t.pfx,C=t.ppfx;return Pe(Bc||(Bc=Rc([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),w,w,w,w,o,w,w,w,C,C,C,w,C,C,w,C,w,w,w,w,w,v,w,w,l,w,w,r,w)},a.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},a.prototype.syncStyle=function(){var t=this.em,r=this.getTarget(),o=t.Css,l={noDisabled:1},v=this.getCommonSelectors({opts:l}),w=t.get("state"),C=t.getCurrentMedia(),E=[],j=o.get(v,w,C)||o.add(v,w,C),Z;this.getTargets().forEach(function(at){var Pt=o.getIdRule(at.getId(),{state:w,mediaText:C});Z=Pt.getStyle(),Pt.setStyle({}),E.push(Pt)}),Z&&j.addStyle(Z),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:r,selectors:v,mediaText:C,rule:j,ruleComponents:E,state:w})},a.prototype.tagRemoved=function(t){this.updateStateVis()},a.prototype.addNew=function(t){this.addToClasses(t)},a.prototype.startNewTag=function(){var t,r;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(r=this.$input)===null||r===void 0||r.show().focus()},a.prototype.endNewTag=function(){var t,r;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(r=this.$input)===null||r===void 0||r.hide().val("")},a.prototype.onInputKeyUp=function(t){var r;t.keyCode===13?(t.preventDefault(),this.addNewTag((r=this.$input)===null||r===void 0?void 0:r.val())):t.keyCode===27&&this.endNewTag()},a.prototype.checkStates=function(){var t=this.em.getState(),r=this.getStates();r&&r.val(t)},a.prototype.componentChanged=function(t){var r=t===void 0?{}:t,o=r.targets;this.updateSelection(o)},a.prototype.updateSelection=function(t){var r=t||this.getTargets();r=(0,wt.isArray)(r)?r:[r];var o=[];return r&&r.length&&(o=this.getCommonSelectors({targets:r}),this.checkSync({validSelectors:o})),this.collection.reset(o),this.updateStateVis(r),this.module.__trgCustom(),o},a.prototype.getCommonSelectors=function(t){var r=t===void 0?{}:t,o=r.targets,l=r.opts,v=l===void 0?{}:l,w=o||this.getTargets();return this.module.__getCommonSelectors(w,v)},a.prototype._commonSelectors=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(t=this.module).__common.apply(t,r)},a.prototype.checkSync=function(){var t=this,r=t.$btnSyncEl,o=t.config,l=t.collection,v=this.getTarget(),w;if(v&&o.componentFirst&&l.length){var C=v.getStyle();w=!(0,wt.isEmpty)(C)}r&&r[w?"show":"hide"]()},a.prototype.getTarget=function(){return this.target.getSelected()},a.prototype.getTargets=function(){return this.target.getSelectedAll()},a.prototype.updateStateVis=function(t){var r=this.em,o=r&&r.getConfig().avoidInlineStyle,l=this.collection.length||o?"":"none";this.getStatesC().css("display",l),this.updateSelector(t)},a.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},a.prototype.updateSelector=function(t){var r=this,o=this.el.querySelector("[data-selected]"),l=[],v=t||this.getTargets();v=(0,wt.isArray)(v)?v:[v],v.forEach(function(w){return l.push(r.__getName(w))}),o&&(o.innerHTML=l.join(", ")),this.checkStates()},a.prototype.__getName=function(t){var r=this,o=r.pfx,l=r.config,v=r.em,w=l.selectedName,C=l.componentFirst,E;if((0,wt.isString)(t))E=Pe(Zf||(Zf=Rc(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),o,t);else{var j=t==null?void 0:t.getSelectors();if(!j)return"";var Z=j.getStyleable(),at=v.get("state"),Pt=t.getId?Pe(gf||(gf=Rc(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),o,t.getName(),o,t.getId()):"";E=this.collection.getFullString(Z),E=E?Pe(Xf||(Xf=Rc(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),o,E):t.get("selectorsAdd")||Pt,E=C&&Pt?Pt:E,E+=at?Pe(bp||(bp=Rc(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),o,at):"",E=w?w({result:E,state:at,target:t}):E}return E&&'<span class="'.concat(o,'sel">').concat(E,"</span>")},a.prototype.stateChanged=function(t){var r=this.em,o=t.target.value;r.set("state",o)},a.prototype.addNewTag=function(t){var r=t.trim();r&&(this.module.addSelected({label:r}),this.endNewTag())},a.prototype.addToClasses=function(t,r){var o=r,l=this.getClasses(),v=new Sa({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return o?o.appendChild(v):l.append(v),v},a.prototype.renderClasses=function(){var t=this,r=document.createDocumentFragment(),o=this.getClasses();o.empty(),this.collection.each(function(l){return t.addToClasses(l,r)}),o.append(r)},a.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},a.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},a.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},a.prototype.renderStates=function(){var t=this,r=t.module,o=t.em,l=o.t("selectorManager.emptyState"),v=r.getStates().map(function(C){var E=o.t("selectorManager.states.".concat(C.id))||C.getLabel()||C.id;return'<option value="'.concat(C.id,'">').concat(E,"</option>")}).join(""),w=this.getStates();w&&w.html('<option value="">'.concat(l,"</option>").concat(v)),this.checkStates()},a.prototype.render=function(){var t=this,r=t.em,o=t.pfx,l=t.ppfx,v=t.config,w=t.$el,C=t.el,E=v.render,j=v.iconSync,Z=v.iconAdd,at={iconSync:j,iconAdd:Z,labelHead:r.t("selectorManager.label"),labelInfo:r.t("selectorManager.selected"),ppfx:l,pfx:o,el:C};w.html(this.template(at));var Pt=E&&E(at);return Pt&&Pt!==C&&w.empty().append(Pt),this.$input=w.find("[data-input]"),this.$addBtn=w.find("[data-add]"),this.$classes=w.find("#"+o+"tags-c"),this.$btnSyncEl=w.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),w.attr("class","".concat(this.className," ").concat(l,"one-bg ").concat(l,"two-color")),this},a}(q.G7);const Hc=hf;var Bc,Zf,gf,Xf,bp,El=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ol=function(){return ol=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ol.apply(this,arguments)},wc=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},gs=function(p){return(0,wt.isString)(p)&&p[0]=="#"},Ls=function(p){return(0,wt.isString)(p)&&p[0]=="."},Uc="selector",zc="".concat(Uc,":"),Xl="".concat(zc,"add"),ai="".concat(zc,"update"),vf="".concat(zc,"remove"),Wo="".concat(vf,":before"),Pl="".concat(zc,"custom"),vs="".concat(zc,"state"),ms={all:Uc,update:ai,add:Xl,remove:vf,removeBefore:Wo,state:vs,custom:Pl},Wc=function(p){El(a,p);function a(t){var r=p.call(this,t,"SelectorManager",new Ii([]),ms,nl,{skipListen:!0})||this;r.Selector=Go,r.Selectors=Ii,r.storageKey="",(0,wt.bindAll)(r,"__updateSelectedByComponents");var o=r.config,l=o.pStylePrefix;l&&(o.stylePrefix=l+o.stylePrefix),r.all=new Ii(o.selectors),r.selected=new Ii([],{em:t,config:o}),r.states=new q.FE(o.states.map(function(w){return new pf(w)}),{model:pf}),r.model=new q.Hn({cFirst:o.componentFirst,_undo:!0}),r.__update=(0,wt.debounce)(function(){return r.__trgCustom()},0),r.__initListen({collections:[r.states,r.selected],propagate:[{entity:r.states,event:r.events.state}]}),t.on("change:state",function(w,C){return t.trigger(vs,C)}),r.model.on("change:cFirst",function(w,C){return t.trigger("selector:type",C)}),t.on("component:toggled component:update:classes",r.__updateSelectedByComponents);var v="component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target";return r.model.listenTo(t,v,function(){return r.__update()}),r}return a.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},a.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?wc([],this.all.models,!0):this.all:[]},a.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},a.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},a.prototype.select=function(t,r){r===void 0&&(r={});var o=Array.isArray(t)?t:[t],l=this.em.Styles.select(o,r);this.selected.reset(this.__getCommonSelectors(l));var v=this.selectorTags,w=l.filter(function(C){return C}).map(function(C){return(0,he.isComponent)(C)||(0,he.isRule)(C)&&!C.get("selectorsAdd")?C:C.getSelectorsString()});return v&&v.componentChanged({targets:w}),this},a.prototype.addSelector=function(t,r,o){r===void 0&&(r={}),o===void 0&&(o={});var l=ol({},r);(0,wt.isObject)(t)?l=t:l.name=t,gs(l.name)?(l.name=l.name.substr(1),l.type=Go.TYPE_ID):Ls(l.name)&&(l.name=l.name.substr(1)),l.label&&!l.name&&(l.name=this.escapeName(l.label));var v=l.name,w=this.getConfig(),C=this,E=C.all,j=C.em,Z=v?this.get(v,l.type):E.where(l)[0];if(!Z){var at=l instanceof Go?l:new Go(l,ol(ol({},o),{config:w,em:j}));return E.add(at,o)}return Z},a.prototype.getSelector=function(t,r){return r===void 0&&(r=Go.TYPE_CLASS),gs(t)?(t=t.substr(1),r=Go.TYPE_ID):Ls(t)&&(t=t.substr(1)),this.all.where({name:t,type:r})[0]},a.prototype.add=function(t,r){var o=this;r===void 0&&(r={});var l=(0,wt.isString)(t)?{}:r;return(0,wt.isArray)(t)?t.map(function(v){return o.addSelector(v,r,l)}):this.addSelector(t,r,l)},a.prototype.addClass=function(t){var r=this,o=[];return(0,wt.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(l){return o.push(r.addSelector(l))}),o},a.prototype.get=function(t,r){var o=this;if((0,wt.isArray)(t)){var l=[],v=t.map(function(w){return o.getSelector(w)}).filter(Boolean);return v.forEach(function(w){return l.indexOf(w)<0&&l.push(w)}),l}else return this.getSelector(t,r)},a.prototype.remove=function(t,r){return this.__remove(t,r)},a.prototype.rename=function(t,r,o){var l=this.escapeName(r),v=this.get(l);return v||t.set({name:l,label:r},o)},a.prototype.setState=function(t){return this.em.setState(t),this},a.prototype.getState=function(){return this.em.getState()},a.prototype.getStates=function(){return wc([],this.states.models,!0)},a.prototype.setStates=function(t,r){return this.states.reset(t.map(function(o){return new pf(o)}),r)},a.prototype.getSelected=function(){return this.__getCommon()},a.prototype.getSelectedAll=function(){return wc([],this.selected.models,!0)},a.prototype.addSelected=function(t){var r=this.add(t);this.em.getSelectedAll().forEach(function(o){o.getSelectors().add(r)})},a.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(r){!t.get("protected")&&r&&r.getSelectors().remove(t)})},a.prototype.duplicateSelected=function(t,r){var o=this;r===void 0&&(r={});var l=this.em,v=this.getSelected();if(!(v.indexOf(t)<0)){var w=this.getState(),C=l.getCurrentMedia(),E=l.Css.get(v,w,C),j=E==null?void 0:E.getStyle();if(l.getSelectedAll().forEach(function(at){var Pt=at.getSelectors();if(Pt.includes(t)){var Nt=r.suffix||" copy",re=t.getLabel(),oe=o.addSelector("".concat(re).concat(Nt)),De=Pt.indexOf(t);Pt.remove(t),Pt.add(oe,{at:De})}}),j){var Z=l.Css.add(this.getSelected(),w,C);Z.setStyle(j)}}},a.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},a.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},a.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},a.prototype.escapeName=function(t){var r=this.getConfig().escapeName;return r?r(t):Go.escapeName(t)},a.prototype.render=function(t){var r=this.selectorTags,o=this.getConfig(),l=r==null?void 0:r.el;return this.selected.reset(t),this.selectorTags=new Hc({el:l,collection:this.selected,module:this,config:o}),this.selectorTags.render().el},a.prototype.destroy=function(){var t=this,r=t.selectorTags,o=t.model;o.stopListening(),this.__update.cancel(),this.__destroy(),r==null||r.remove(),this.selectorTags=void 0},a.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},a.prototype.__getCommonSelectors=function(t,r){r===void 0&&(r={});var o=t.map(function(l){return l.getSelectors&&l.getSelectors().getValid(r)}).filter(Boolean);return this.__common.apply(this,o)},a.prototype.__common=function(){for(var t=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length?r.length===1?r[0]:r.length===2?r[0].filter(function(l){return r[1].indexOf(l)>=0}):r.slice(1).reduce(function(l,v){return t.__common(l,v)},r[0]):[]},a.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},a}(V);const $c=Wc;var Jf={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Jl=Jf;var Ya,Fa={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},_c=(Ya={},Ya[Fa.MEDIA_RULE]="media",Ya[Fa.FONT_FACE_RULE]="font-face",Ya[Fa.PAGE_RULE]="page",Ya[Fa.KEYFRAMES_RULE]="keyframes",Ya[Fa.COUNTER_STYLE_RULE]="counter-style",Ya[Fa.SUPPORTS_RULE]="supports",Ya[Fa.DOCUMENT_RULE]="document",Ya[Fa.FONT_FEATURE_VALUES_RULE]="font-feature-values",Ya[Fa.VIEWPORT_RULE]="viewport",Ya),Gc=(0,wt.keys)(_c),Ql=[Fa.FONT_FACE_RULE,Fa.PAGE_RULE,Fa.COUNTER_STYLE_RULE,Fa.VIEWPORT_RULE],Oo=Gc.filter(function(p){return Ql.indexOf(Number(p))<0}).map(function(p){return _c[p]}).concat(["container","layer"]),xc=Ql.map(function(p){return _c[p]}),tc=function(p){p===void 0&&(p="");for(var a=[],t=[],r=p.split(","),o=0,l=r.length;o<l;o++){var v=r[o].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(v)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(v)){var w=v.split(".").filter(Boolean);t.push(w)}else a.push(v)}return{result:t,add:a}},uu=function(p){for(var a=p.style,t={},r=0,o=a.length;r<o;r++){var l=a[r],v=a.getPropertyValue(l),w=a.getPropertyPriority(l);t[l]="".concat(v).concat(w?" !".concat(w):"")}return t},Qf=function(p){var a=p.conditionText||p.media&&p.media.mediaText||p.name||p.selectorText||"";return a.trim()},qo=function(p,a,t){a===void 0&&(a={}),t===void 0&&(t={});var r={},o=p.length,l=p[o-1],v=l?l.split(/:(.+)/):[],w=v[1],C=t.atRule,E=t.selectorsAdd,j=t.mediaText,Z=xc.indexOf(C)>=0;return Z&&(r.singleAtRule=!0),C&&(r.atRuleType=C),E&&(r.selectorsAdd=E),j&&(r.mediaText=j),w&&(p[o-1]=v[0],r.state=w,v.splice(v.length-1,1)),r.selectors=p,r.style=a,r},fu=function(p){var a=p.cssText,t=a===void 0?"":a;return Oo.find(function(r){return t.indexOf("@".concat(r))===0})},pu=function(p){for(var a=[],t=p.cssRules||[],r=0,o=t.length;r<o;r++){var l=t[r],v=l.type,w=!1,C="",E="",j=l.selectorText||l.keyText||"",Z=Ql.indexOf(v)>=0;if(Z)w=!0,C=_c[v],E=Qf(l);else if(Gc.indexOf("".concat(v))>=0||!v&&fu(l)){var at=pu(l),Pt=_c[v]||fu(l);E=Qf(l);for(var Nt=0,re=at.length;Nt<re;Nt++){var oe=at[Nt];E&&(oe.mediaText=E),oe.atRuleType=Pt}a=a.concat(at)}if(!(!j&&!Z)){for(var De=uu(l),Ye=tc(j),We=Ye.add,Sr=Ye.result,Br=void 0,cn=0,wn=Sr.length;cn<wn;cn++){var Rr=qo(Sr[cn],De,{atRule:_c[v]});a.push(Rr),Br=Rr}if(We.length){var jn=We.join(", ");if(Br)Br.selectorsAdd=jn;else{var Rr={selectors:[],selectorsAdd:jn,style:De};w&&(Rr.singleAtRule=w),C&&(Rr.atRuleType=C),E&&(Rr.mediaText=E),a.push(Rr)}}}}return a};const f=function(p){var a=document.createElement("style");a.innerHTML=p,document.head.appendChild(a);var t=a.sheet;return document.head.removeChild(a),t?pu(t):[]};var g=function(p,a){return a===void 0&&(a={}),{parse:function(t){var r=this,o=[],l=a.parserCss,v=p==null?void 0:p.Editor,w=l?l(t,v):f(t);return w.forEach(function(C){return o=o.concat(r.checkNode(C))}),p==null||p.trigger("parse:css",{input:t,output:o,nodes:w}),o},checkNode:function(t){var r=t.selectors,o=t.style,l=[t];if((0,wt.isString)(r)){var v=[],w=t,C=tc(r),E=C.result,j=C.add.join(", "),Z={atRule:w.atRule,mediaText:w.params};if(E.length?E.forEach(function(Pt){v.push(qo(Pt,o,Z))}):v.push(qo([],o,Z)),j){var at=v[v.length-1];at.selectorsAdd=j}l=v}return l}}};const S=g;var _=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T=function(p){_(a,p);function a(t){var r=p.call(this,t,"Parser",Jl)||this,o=r.config;return r.parserCss=S(t,o),r.parserHtml=gr(t,o),r}return a.prototype.parseHtml=function(t,r){r===void 0&&(r={});var o=this,l=o.em,v=o.parserHtml;return v.compTypes=l.Components.getTypes()||{},v.parse(t,this.parserCss,r)},a.prototype.parseCss=function(t){return this.parserCss.parse(t)},a.prototype.destroy=function(){},a}(B);const D=T;var K={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(p){return p},onLoad:function(p){return p},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(p){return p},onLoad:function(p){return p}}}};const X=K;var mt=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},pt=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Jt=function(){function p(){}return p.prototype.store=function(a,t){return t===void 0&&(t={}),mt(this,void 0,void 0,function(){return pt(this,function(r){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(a)),[2,a]})})},p.prototype.load=function(a){return a===void 0&&(a={}),mt(this,void 0,void 0,function(){var t;return pt(this,function(r){return t={},this.hasLocal(a,!0)&&(t=JSON.parse(localStorage.getItem(a.key)||"{}")),[2,t]})})},p.prototype.hasLocal=function(a,t){if(a===void 0&&(a={}),a.checkLocal&&(!(0,he.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},p}();const ee=Jt;function xe(p){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xe(p)}function ge(p){var a=this.constructor;return this.then(function(t){return a.resolve(p()).then(function(){return t})},function(t){return a.resolve(p()).then(function(){return a.reject(t)})})}const Ge=ge;function Ke(p){var a=this;return new a(function(t,r){if(!(p&&typeof p.length<"u"))return r(new TypeError(xe(p)+" "+p+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(p);if(o.length===0)return t([]);var l=o.length;function v(C,E){if(E&&(xe(E)==="object"||typeof E=="function")){var j=E.then;if(typeof j=="function"){j.call(E,function(Z){v(C,Z)},function(Z){o[C]={status:"rejected",reason:Z},--l===0&&t(o)});return}}o[C]={status:"fulfilled",value:E},--l===0&&t(o)}for(var w=0;w<o.length;w++)v(w,o[w])})}const ze=Ke;function er(p,a){this.name="AggregateError",this.errors=p,this.message=a||""}er.prototype=Error.prototype;function mr(p){var a=this;return new a(function(t,r){if(!(p&&typeof p.length<"u"))return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(p);if(o.length===0)return r();for(var l=[],v=0;v<o.length;v++)try{a.resolve(o[v]).then(t).catch(function(w){l.push(w),l.length===o.length&&r(new er(l,"All promises were rejected"))})}catch(w){r(w)}})}const br=mr;var Ar=setTimeout;function Tr(p){return!!(p&&typeof p.length<"u")}function Er(){}function gn(p,a){return function(){p.apply(a,arguments)}}function Ur(p){if(!(this instanceof Ur))throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Zn(p,this)}function zn(p,a){for(;p._state===3;)p=p._value;if(p._state===0){p._deferreds.push(a);return}p._handled=!0,Ur._immediateFn(function(){var t=p._state===1?a.onFulfilled:a.onRejected;if(t===null){(p._state===1?zr:qn)(a.promise,p._value);return}var r;try{r=t(p._value)}catch(o){qn(a.promise,o);return}zr(a.promise,r)})}function zr(p,a){try{if(a===p)throw new TypeError("A promise cannot be resolved with itself.");if(a&&(xe(a)==="object"||typeof a=="function")){var t=a.then;if(a instanceof Ur){p._state=3,p._value=a,mo(p);return}else if(typeof t=="function"){Zn(gn(t,a),p);return}}p._state=1,p._value=a,mo(p)}catch(r){qn(p,r)}}function qn(p,a){p._state=2,p._value=a,mo(p)}function mo(p){p._state===2&&p._deferreds.length===0&&Ur._immediateFn(function(){p._handled||Ur._unhandledRejectionFn(p._value)});for(var a=0,t=p._deferreds.length;a<t;a++)zn(p,p._deferreds[a]);p._deferreds=null}function Yn(p,a,t){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof a=="function"?a:null,this.promise=t}function Zn(p,a){var t=!1;try{p(function(r){t||(t=!0,zr(a,r))},function(r){t||(t=!0,qn(a,r))})}catch(r){if(t)return;t=!0,qn(a,r)}}Ur.prototype.catch=function(p){return this.then(null,p)},Ur.prototype.then=function(p,a){var t=new this.constructor(Er);return zn(this,new Yn(p,a,t)),t},Ur.prototype.finally=Ge,Ur.all=function(p){return new Ur(function(a,t){if(!Tr(p))return t(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(p);if(r.length===0)return a([]);var o=r.length;function l(w,C){try{if(C&&(xe(C)==="object"||typeof C=="function")){var E=C.then;if(typeof E=="function"){E.call(C,function(j){l(w,j)},t);return}}r[w]=C,--o===0&&a(r)}catch(j){t(j)}}for(var v=0;v<r.length;v++)l(v,r[v])})},Ur.any=br,Ur.allSettled=ze,Ur.resolve=function(p){return p&&xe(p)==="object"&&p.constructor===Ur?p:new Ur(function(a){a(p)})},Ur.reject=function(p){return new Ur(function(a,t){t(p)})},Ur.race=function(p){return new Ur(function(a,t){if(!Tr(p))return t(new TypeError("Promise.race accepts an array"));for(var r=0,o=p.length;r<o;r++)Ur.resolve(p[r]).then(a,t)})},Ur._immediateFn=typeof setImmediate=="function"&&function(p){setImmediate(p)}||function(p){Ar(p,0)},Ur._unhandledRejectionFn=function(a){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};const ro=Ur;(0,he.hasWin)()&&(window.Promise=window.Promise||ro);const Tn=typeof fetch=="function"?fetch.bind():function(p,a){return new ro(function(t,r){var o=new XMLHttpRequest;o.open(a.method||"get",p),o.withCredentials=a.credentials=="include";for(var l in a.headers||{})o.setRequestHeader(l,a.headers[l]);o.onload=function(v){return t({status:o.status,statusText:o.statusText,text:function(){return ro.resolve(o.responseText)}})},o.onerror=r,o.upload&&a.onProgress&&(o.upload.onprogress=a.onProgress),a.body?o.send(a.body):o.send()})};var Rn=function(){return Rn=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Rn.apply(this,arguments)},Kn=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},kn=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},si=function(){function p(){}return p.prototype.store=function(a,t){return t===void 0&&(t={}),Kn(this,void 0,void 0,function(){return kn(this,function(r){switch(r.label){case 0:return[4,this.request(t.urlStore,this.__props(t,a),t)];case 1:return[2,r.sent()]}})})},p.prototype.load=function(a){return a===void 0&&(a={}),Kn(this,void 0,void 0,function(){return kn(this,function(t){switch(t.label){case 0:return[4,this.request(a.urlLoad,this.__props(a),a)];case 1:return[2,t.sent()]}})})},p.prototype.request=function(a,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),Tn(a,t).then(function(o){var l=o.text(),v=(o.status/200|0)===1;return v?l:l.then(Promise.reject)}).then(function(o){var l=o&&(0,wt.isString)(o);return r.contentTypeJson&&l?JSON.parse(o):o})},p.prototype.__props=function(a,t){a===void 0&&(a={});var r=a.contentTypeJson,o=a.headers||{},l=a.fetchOptions||{},v="X-Requested-With",w="Content-Type",C;if((0,wt.isUndefined)(o[v])&&(o[v]="XMLHttpRequest"),(0,wt.isUndefined)(o[w])&&r&&(o[w]="application/json; charset=utf-8"),t)if(r)C=JSON.stringify(t);else{C=new FormData;for(var E in t)C.append(E,t[E])}var j={method:C?"POST":"GET",credentials:a.credentials,headers:o,body:C};return Rn(Rn({},j),(0,wt.isFunction)(l)?l(j):l)},p}();const pi=si;var so;(function(p){p.start="storage:start",p.startStore="storage:start:store",p.startLoad="storage:start:load",p.load="storage:load",p.store="storage:store",p.after="storage:after",p.afterStore="storage:after:store",p.afterLoad="storage:after:load",p.end="storage:end",p.endStore="storage:end:store",p.endLoad="storage:end:load",p.error="storage:error",p.errorStore="storage:error:store",p.errorLoad="storage:error:load"})(so||(so={}));const On=so;var Za=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sn=function(){return Sn=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Sn.apply(this,arguments)},di=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},zi=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},io="local",Oa="remote",ys=function(p){Za(a,p);function a(t){var r=p.call(this,t,"StorageManager",X)||this;r.storages={},r.events=On;var o=r.config;return o._disable&&(o.type=void 0),r.storages={},r.add(io,new ee),r.add(Oa,new pi),r.setCurrent(o.type),r}return a.prototype.isAutosave=function(){return!!this.config.autosave},a.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},a.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},a.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},a.prototype.add=function(t,r){return this.storages[t]=r,this},a.prototype.get=function(t){return this.storages[t]},a.prototype.getStorages=function(){return this.storages},a.prototype.getCurrent=function(){return this.config.currentStorage},a.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},a.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},a.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},a.prototype.store=function(t,r){return r===void 0&&(r={}),di(this,void 0,void 0,function(){var o,l,v,w,C,E;return zi(this,function(j){switch(j.label){case 0:o=this.getCurrentStorage(),l=Sn(Sn({},this.getCurrentOptions()),r),v=this.getRecoveryStorage(),w=this.getCurrentOptions(io),j.label=1;case 1:return j.trys.push([1,5,,9]),[4,this.__exec(o,l,t)];case 2:return j.sent(),C=v,C?[4,this.__exec(v,w,{})]:[3,4];case 3:C=j.sent(),j.label=4;case 4:return[3,9];case 5:return E=j.sent(),v?[4,this.__exec(v,w,t)]:[3,7];case 6:return j.sent(),[3,8];case 7:throw E;case 8:return[3,9];case 9:return[2,t]}})})},a.prototype.load=function(t){return t===void 0&&(t={}),di(this,void 0,void 0,function(){var r,o,l,v,w;return zi(this,function(C){switch(C.label){case 0:return r=this.getCurrentStorage(),o=Sn(Sn({},this.getCurrentOptions()),t),l=this.getRecoveryStorage(),l?[4,this.__exec(l,this.getCurrentOptions(io))]:[3,5];case 1:if(w=C.sent(),(0,wt.isEmpty)(w))return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return C.sent(),v=w,[3,5];case 4:return C.sent(),[3,5];case 5:return v?[3,7]:[4,this.__exec(r,o)];case 6:v=C.sent(),C.label=7;case 7:return[2,v||{}]}})})},a.prototype.__askRecovery=function(){var t=this.em,r=this.getRecovery();return new Promise(function(o,l){(0,wt.isFunction)(r)?r(o,l,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?o(null):l()})},a.prototype.getRecovery=function(){return this.config.recovery},a.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===Oa&&this.get(io)},a.prototype.__exec=function(t,r,o){var l;return di(this,void 0,void 0,function(){var v,w,C,E,j,Z,at,Pt,Nt,re,oe,De,Ye;return zi(this,function(We){switch(We.label){case 0:if(v=o?"store":"load",w=this.getConfig(),C=w.onStore,E=w.onLoad,this.onStart(v,o),!t)return[2,o||{}];We.label=1;case 1:return We.trys.push([1,14,,15]),Z=(l=this.em)===null||l===void 0?void 0:l.getEditor(),at=void 0,o?(Nt=C,Nt?[4,C(o,Z)]:[3,3]):[3,7];case 2:Nt=We.sent(),We.label=3;case 3:return Pt=Nt||o,re=r.onStore,re?[4,r.onStore(Pt,Z)]:[3,5];case 4:re=We.sent(),We.label=5;case 5:return Pt=re||Pt,[4,t.store(Pt,r)];case 6:return at=We.sent(),j=o,[3,13];case 7:return[4,t.load(r)];case 8:return at=We.sent(),j=this.__clearKeys(at),oe=r.onLoad,oe?[4,r.onLoad(j,Z)]:[3,10];case 9:oe=We.sent(),We.label=10;case 10:return j=oe||j,De=E,De?[4,E(j,Z)]:[3,12];case 11:De=We.sent(),We.label=12;case 12:j=De||j,We.label=13;case 13:return this.onAfter(v,j,at),this.onEnd(v,j,at),[3,15];case 14:throw Ye=We.sent(),this.onError(v,Ye),Ye;case 15:return[2,j]}})})},a.prototype.__clearKeys=function(t){t===void 0&&(t={});var r=this.getConfig(),o=new RegExp("^".concat(r.id)),l={};for(var v in t){var w=v.replace(o,"");l[w]=t[v]}return l},a.prototype.getCurrentOptions=function(t){var r=this.getConfig(),o=t||this.getCurrent();return r.options[o]||{}},a.prototype.onStart=function(t,r){var o=this.em;if(o){var l=t==="load"?On.startLoad:On.startStore;o.trigger(On.start,t,r),o.trigger(l,r)}},a.prototype.onAfter=function(t,r,o){var l=this.em;if(l){var v=t==="load"?On.afterLoad:On.afterStore;l.trigger(On.after),l.trigger(v,r,o);var w=t==="load"?On.load:On.store;l.trigger(w,r,o)}},a.prototype.onEnd=function(t,r,o){var l=this.em;if(l){var v=t==="load"?On.endLoad:On.endStore;l.trigger(On.end,t,r,o),l.trigger(v,r,o)}},a.prototype.onError=function(t,r){var o=this.em;if(o){var l=t==="load"?On.errorLoad:On.errorStore;o.trigger(On.error,r,t),o.trigger(l,r),this.onEnd(t,r)}},a.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},a.prototype.destroy=function(){this.storages={}},a}(B);const wp=ys;var ri={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const Cc=ri;var Ta=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bs=function(){return bs=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bs.apply(this,arguments)},du=function(p){Ta(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.events={},r.appendInput=!0;var o=t.config,l=o===void 0?{}:o,v=r,w=v.model,C=v.eventCapture,E=w.target,j=w.attributes.type;r.config=l,r.em=l.em,r.pfx=l.stylePrefix||"",r.ppfx=l.pStylePrefix||"",r.target=E,r.className=r.pfx+"trait",r.clsField="".concat(r.ppfx,"field ").concat(r.ppfx,"field-").concat(j);var Z=[["change:value",r.onValueChange],["remove",r.removeView]];return Z.forEach(function(at){var Pt=at[0],Nt=at[1];w.off(Pt,Nt),r.listenTo(w,Pt,Nt)}),w.view=r,r.listenTo(w,"change:label",r.render),r.listenTo(w,"change:placeholder",r.rerender),r.events={},C.forEach(function(at){return r.events[at]="onChange"}),r.delegateEvents(),r.init(),r}return a.prototype.attributes=function(){return this.model.get("attributes")||{}},a.prototype.templateLabel=function(t){var r=this.ppfx,o=this.getLabel();return'<div class="'.concat(r,'label" title="').concat(o,'">').concat(o,"</div>")},a.prototype.templateInput=function(t){var r=this.clsField;return'<div class="'.concat(r,'" data-input></div>')},a.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},a.prototype.removeView=function(){this.remove(),this.removed()},a.prototype.init=function(){},a.prototype.removed=function(){},a.prototype.onRender=function(t){},a.prototype.onUpdate=function(t){},a.prototype.onEvent=function(t){},a.prototype.onChange=function(t){var r=this.getInputElem();r&&!(0,wt.isUndefined)(r.value)&&this.model.set("value",r.value),this.onEvent(bs(bs({},this.getClbOpts()),{event:t}))},a.prototype.getValueForTarget=function(){return this.model.get("value")},a.prototype.setInputValue=function(t){var r=this.getInputElem();r&&(r.value=t)},a.prototype.onValueChange=function(t,r,o){if(o===void 0&&(o={}),o.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var l=this.getValueForTarget();t.setTargetValue(l,o)}},a.prototype.renderLabel=function(){var t=this,r=t.$el,o=t.target,l=this.getLabel(),v=this.templateLabel(o);this.createLabel&&(v=this.createLabel({label:l,component:o,trait:this})||""),r.find("[data-label]").append(v)},a.prototype.getLabel=function(){var t=this.em,r=this.model.attributes,o=r.label,l=r.name;return t.t("traitManager.traits.labels.".concat(l))||(0,he.capitalize)(o||l).replace(/-/g," ")},a.prototype.getComponent=function(){return this.target},a.prototype.getInputEl=function(){if(!this.$input){var t=this,r=t.em,o=t.model,l=o,v=o.attributes.name,w=l.get("placeholder")||l.get("default")||"",C=l.get("type")||"text",E=l.get("min"),j=l.get("max"),Z=this.getModelValue(),at=(0,ut.default)('<input type="'.concat(C,'">')),Pt=r.t("traitManager.traits.attributes.".concat(v))||{};at.attr(bs({placeholder:w},Pt)),(0,wt.isUndefined)(Z)||(l.set({value:Z},{silent:!0}),at.prop("value",Z)),E&&at.prop("min",E),j&&at.prop("max",j),this.$input=at}return this.$input.get(0)},a.prototype.getInputElem=function(){var t=this,r=t.input,o=t.$input;return r||o&&o.get&&o.get(0)||this.getElInput()},a.prototype.getModelValue=function(){return this.model.getValue()},a.prototype.getElInput=function(){return this.elInput},a.prototype.renderField=function(){var t=this,r=t.$el,o=t.appendInput,l=t.model,v=r.find("[data-input]"),w=v[v.length-1],C=l.el;C||(C=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,wt.isString)(C)?(w.innerHTML=C,this.elInput=w.firstChild):(o?w.appendChild(C):w.insertBefore(C,w.firstChild),this.elInput=C),l.el=this.elInput},a.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},a.prototype.rerender=function(){delete this.model.el,this.render()},a.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},a.prototype.render=function(){var t=this,r=t.$el,o=t.pfx,l=t.ppfx,v=t.model,w=v.attributes,C=w.type,E=w.id,j=this.hasLabel&&this.hasLabel(),Z="".concat(o,"trait");delete this.$input;var at='<div class="'.concat(Z," ").concat(Z,"--").concat(C,`">
      `).concat(j?'<div class="'.concat(l,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(l,"field-wrp ").concat(l,"field-wrp--").concat(C,`" data-input>
        `).concat(this.templateInput?(0,wt.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return r.empty().append(at),j&&this.renderLabel(),this.renderField(),this.el.className="".concat(Z,"__wrp ").concat(Z,"__wrp-").concat(E),this.postUpdate(),this.onRender(this.getClbOpts()),this},a}(q.G7);const c=du;du.prototype.eventCapture=["change"];var d=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),b=function(p){d(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.templateInput=function(){return""},a.prototype.onChange=function(){this.handleClick()},a.prototype.handleClick=function(){this.model.runCommand()},a.prototype.renderLabel=function(){this.model.get("label")&&c.prototype.renderLabel.apply(this)},a.prototype.getInputEl=function(){var t=this,r=t.model,o=t.ppfx,l=r.props(),v=l.labelButton,w=l.text,C=l.full,E=v||w,j="".concat(o,"btn"),Z='<button type="button" class="'.concat(j,"-prim").concat(C?" ".concat(j,"--full"):"",'">').concat(E,"</button>");return Z},a}(c);const y=b;b.prototype.eventCapture=["click button"];var x=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M=function(p){x(a,p);function a(){var t=p!==null&&p.apply(this,arguments)||this;return t.appendInput=!1,t}return a.prototype.templateInput=function(){var t=this,r=t.ppfx,o=t.clsField;return'<label class="'.concat(o,`" data-input>
    <i class="`).concat(r,`chk-icon"></i>
  </label>`)},a.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},a.prototype.setInputValue=function(t){var r=this.getInputElem();r&&(r.checked=!!t)},a.prototype.getInputEl=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=!this.$input,l=c.prototype.getInputEl.apply(this,t);if(o){var v=void 0,w=void 0,C=this,E=C.model,j=C.target,Z=E.attributes.valueFalse,at=E.getName();E.changeProp?(v=j.get(at),w=v):(w=j.get("attributes")[at],v=!!(w||w==="")),!(0,wt.isUndefined)(Z)&&w===Z&&(v=!1),l.checked=v}return l},a}(c);const z=M;function tt(p,a){if(!(0,he.hasWin)())return;var t={beforeShow:Pt,move:Pt,change:Pt,show:Pt,hide:Pt,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],o=!!/msie/i.exec(window.navigator.userAgent),l=function(){function ae(Pr,Hr){return!!~(""+Pr).indexOf(Hr)}var $e=document.createElement("div"),Qt=$e.style;return Qt.cssText="background-color:rgba(0,0,0,.5)",ae(Qt.backgroundColor,"rgba")||ae(Qt.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),w=function(){var ae="";if(o)for(var $e=1;$e<=6;$e++)ae+="<div class='sp-"+$e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",ae,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function C(ae,$e,Qt,Pr){for(var Hr=[],an=0;an<ae.length;an++){var Jn=ae[an];if(Jn){var oo=rr(Jn),Hn=oo.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Hn+=rr.equals($e,Jn)?" sp-thumb-active":"";var ga=oo.toString(Pr.preferredFormat||"rgb"),ns=l?"background-color:"+oo.toRgbString():"filter:"+oo.toFilter();Hr.push('<span title="'+ga+'" data-color="'+oo.toRgbString()+'" class="'+Hn+'"><span class="sp-thumb-inner" style="'+ns+';"></span></span>')}else{var Ba="sp-clear-display";Hr.push(p("<div />").append(p('<span data-color="" style="background-color:transparent;" class="'+Ba+'"></span>').attr("title",Pr.noColorSelectedText)).html())}}return"<div class='sp-cf "+Qt+"'>"+Hr.join("")+"</div>"}function E(){for(var ae=0;ae<r.length;ae++)r[ae]&&r[ae].hide()}function j(ae,$e){var Qt=p.extend({},t,ae);return Qt.callbacks={move:re(Qt.move,$e),change:re(Qt.change,$e),show:re(Qt.show,$e),hide:re(Qt.hide,$e),beforeShow:re(Qt.beforeShow,$e)},Qt}function Z(ae,$e){var Qt=j($e,ae),Pr=Qt.flat,Hr=Qt.showSelectionPalette,an=Qt.localStorageKey,Jn=Qt.theme,oo=Qt.callbacks,Hn=De(Sd,10),ga=!1,ns=!1,Ba=!0,fp=0,Qu=0,kf=0,Qi=0,Af=0,hv=0,gv=0,bd=0,wd=0,rg=0,Mf=1,vv=[],ng=[],mv={},Lf=Qt.selectionPalette.slice(0),X0=Qt.maxSelectionSize,d0="sp-dragging",Up=null,og=ae.ownerDocument;og.body;var os=p(ae),Xy=!1,go=p(w,og).addClass(Jn),J0=go.find(".sp-picker-container"),yv=go.find(".sp-color"),bv=go.find(".sp-dragger"),Jy=go.find(".sp-hue"),wv=go.find(".sp-slider"),ig=go.find(".sp-alpha-inner"),h0=go.find(".sp-alpha"),_v=go.find(".sp-alpha-handle"),jf=go.find(".sp-input"),g0=go.find(".sp-palette"),v0=go.find(".sp-initial"),m0=go.find(".sp-cancel"),Qy=go.find(".sp-clear"),y0=go.find(".sp-choose"),t0=go.find(".sp-palette-toggle"),xv=os.is("input"),Q0=xv&&os.attr("type")==="color"&&Ye(),e0=xv&&!Pr,uh=e0?p(v).addClass(Jn).addClass(Qt.className).addClass(Qt.replacerClassName):p([]),ag=e0?uh:os,fh=uh.find(".sp-preview-inner"),sg=Qt.color||xv&&os.val(),ph=!1,dh=Qt.preferredFormat,tb=!Qt.showButtons||Qt.clickoutFiresChange,zp=!sg,_d=Qt.allowEmpty&&!Q0;function r0(){if(Qt.showPaletteOnly&&(Qt.showPalette=!0),t0.text(Qt.showPaletteOnly?Qt.togglePaletteMoreText:Qt.togglePaletteLessText),Qt.palette){vv=Qt.palette.slice(0),ng=p.isArray(vv[0])?vv:[vv],mv={};for(var Mn=0;Mn<ng.length;Mn++)for(var Dn=0;Dn<ng[Mn].length;Dn++){var Jo=rr(ng[Mn][Dn]).toRgbString();mv[Jo]=!0}}go.toggleClass("sp-flat",Pr),go.toggleClass("sp-input-disabled",!Qt.showInput),go.toggleClass("sp-alpha-enabled",Qt.showAlpha),go.toggleClass("sp-clear-enabled",_d),go.toggleClass("sp-buttons-disabled",!Qt.showButtons),go.toggleClass("sp-palette-buttons-disabled",!Qt.togglePaletteOnly),go.toggleClass("sp-palette-disabled",!Qt.showPalette),go.toggleClass("sp-palette-only",Qt.showPaletteOnly),go.toggleClass("sp-initial-disabled",!Qt.showInitial),go.addClass(Qt.className).addClass(Qt.containerClassName),Sd()}function eb(){if(o&&go.find("*:not(input)").attr("unselectable","on"),r0(),e0&&os.after(uh).hide(),_d||Qy.hide(),Pr)os.after(go).hide();else{var Mn=Qt.appendTo==="parent"?os.parent():p(Qt.appendTo);Mn.length!==1&&(Mn=p("body")),Mn.append(go)}b0(),ag.bind("click.spectrum touchstart.spectrum",function(to){Xy||x0(),to.stopPropagation(),p(to.target).is("input")||to.preventDefault()}),(os.is(":disabled")||Qt.disabled===!0)&&E0(),go.click(Nt),jf.change(a0),jf.bind("paste",function(){setTimeout(a0,1)}),jf.keydown(function(to){to.keyCode==13&&a0()}),m0.text(Qt.cancelText),m0.bind("click.spectrum",function(to){to.stopPropagation(),to.preventDefault(),O0(),Wp()}),Qy.attr("title",Qt.clearText),Qy.bind("click.spectrum",function(to){to.stopPropagation(),to.preventDefault(),zp=!0,hh(),Pr&&Cd(!0)}),y0.text(Qt.chooseText),y0.bind("click.spectrum",function(to){to.stopPropagation(),to.preventDefault(),o&&jf.is(":focus")&&jf.trigger("change"),nb()&&(Cd(!0),Wp())}),t0.text(Qt.showPaletteOnly?Qt.togglePaletteMoreText:Qt.togglePaletteLessText),t0.bind("click.spectrum",function(to){to.stopPropagation(),to.preventDefault(),Qt.showPaletteOnly=!Qt.showPaletteOnly,!Qt.showPaletteOnly&&!Pr&&go.css("left","-="+(J0.outerWidth(!0)+5)),r0()}),oe(h0,function(to,tf,Od){Mf=to/Af,zp=!1,Od.shiftKey&&(Mf=Math.round(Mf*10)/10),hh()},o0,i0),oe(Jy,function(to,tf){bd=parseFloat(tf/Qi),zp=!1,Qt.showAlpha||(Mf=1),hh()},o0,i0),oe(yv,function(to,tf,Od){if(!Od.shiftKey)Up=null;else if(!Up){var Sv=wd*fp,lg=Qu-rg*Qu,cg=Math.abs(to-Sv)>Math.abs(tf-lg);Up=cg?"x":"y"}var lb=!Up||Up==="x",cb=!Up||Up==="y";lb&&(wd=parseFloat(to/fp)),cb&&(rg=parseFloat((Qu-tf)/Qu)),zp=!1,Qt.showAlpha||(Mf=1),hh()},o0,i0),sg?(xd(sg),gh(),dh=Qt.preferredFormat||rr(sg).getFormat(),n0(sg)):gh(),Pr&&s0();function Dn(to){return to.data&&to.data.ignore?(xd(p(to.target).closest(".sp-thumb-el").data("color")),hh()):(xd(p(to.target).closest(".sp-thumb-el").data("color")),hh(),Qt.hideAfterPaletteSelect&&(Cd(!0),Wp())),!1}var Jo=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";g0.delegate(".sp-thumb-el",Jo,Dn),v0.delegate(".sp-thumb-el:nth-child(1)",Jo,{ignore:!0},Dn)}function b0(){if(an&&window.localStorage){try{var Mn=window.localStorage[an].split(",#");Mn.length>1&&(delete window.localStorage[an],p.each(Mn,function(Dn,Jo){n0(Jo)}))}catch{}try{Lf=window.localStorage[an].split(";")}catch{}}}function n0(Mn){if(Hr){var Dn=rr(Mn).toRgbString();if(!mv[Dn]&&p.inArray(Dn,Lf)===-1)for(Lf.push(Dn);Lf.length>X0;)Lf.shift();if(an&&window.localStorage)try{window.localStorage[an]=Lf.join(";")}catch{}}}function rb(){var Mn=[];if(Qt.showPalette)for(var Dn=0;Dn<Lf.length;Dn++){var Jo=rr(Lf[Dn]).toRgbString();mv[Jo]||Mn.push(Lf[Dn])}return Mn.reverse().slice(0,Qt.maxSelectionSize)}function w0(){var Mn=ac(),Dn=p.map(ng,function(Jo,to){return C(Jo,Mn,"sp-palette-row sp-palette-row-"+to,Qt)});b0(),Lf&&Dn.push(C(rb(),Mn,"sp-palette-row sp-palette-row-selection",Qt)),g0.html(Dn.join(""))}function _0(){if(Qt.showInitial){var Mn=ph,Dn=ac();v0.html(C([Mn,Dn],Dn,"sp-palette-row-initial",Qt))}}function o0(){(Qu<=0||fp<=0||Qi<=0)&&Sd(),ns=!0,go.addClass(d0),Up=null,os.trigger("dragstart.spectrum",[ac()])}function i0(){ns=!1,go.removeClass(d0),os.trigger("dragstop.spectrum",[ac()])}function a0(){var Mn=jf.val();if((Mn===null||Mn==="")&&_d)xd(null),Cd(!0);else{var Dn=rr(Mn);Dn.isValid()?(xd(Dn),Cd(!0)):jf.addClass("sp-validation-error")}}function x0(){ga?Wp():s0()}function s0(){var Mn=p.Event("beforeShow.spectrum");if(ga){Sd();return}if(os.trigger("beforeShow.spectrum",[ac()]),!(oo.beforeShow(ac())===!1||Mn.isDefaultPrevented())){E(),ga=!0;var Dn=p(og);Dn.bind("keydown.spectrum",C0),Dn.bind("click.spectrum",S0),p(window).bind("resize.spectrum",Hn),uh.addClass("sp-active"),go.removeClass("sp-hidden"),Sd(),gh(),ph=ac(),_0(),oo.show(ph),os.trigger("show.spectrum",[ph])}}function C0(Mn){Mn.keyCode===27&&Wp()}function S0(Mn){Mn.button!=2&&(ns||(tb?Cd(!0):O0(),Wp()))}function Wp(){!ga||Pr||(ga=!1,p(og).unbind("keydown.spectrum",C0),p(og).unbind("click.spectrum",S0),p(window).unbind("resize.spectrum",Hn),uh.removeClass("sp-active"),go.addClass("sp-hidden"),oo.hide(ac()),os.trigger("hide.spectrum",[ac()]))}function O0(){xd(ph,!0)}function xd(Mn,Dn){if(rr.equals(Mn,ac())){gh();return}var Jo,to;!Mn&&_d?zp=!0:(zp=!1,Ba=!Mn,Jo=rr(Mn),to=Jo.toHsv(),bd=to.h%360/360,wd=to.s,rg=to.v,Mf=to.a),gh(),Jo&&Jo.isValid()&&!Dn&&(dh=Qt.preferredFormat||Jo.getFormat())}function ac(Mn){return Mn=Mn||{},_d&&zp?null:rr.fromRatio({h:bd,s:wd,v:rg,a:Math.round(Mf*100)/100},{format:Mn.format||dh})}function nb(){return!jf.hasClass("sp-validation-error")}function hh(){gh(),oo.move(ac()),os.trigger("move.spectrum",[ac()])}function gh(){jf.removeClass("sp-validation-error"),T0();var Mn=rr.fromRatio({h:bd,s:1,v:1});yv.css("background-color",Mn.toHexString());var Dn=dh;Mf<1&&!(Mf===0&&Dn==="name")&&(Dn==="hex"||Dn==="hex3"||Dn==="hex6"||Dn==="name")&&(Dn="rgb");var Jo=ac({format:Dn}),to="";if(fh.removeClass("sp-clear-display"),fh.css("background-color","transparent"),!Jo&&_d)fh.addClass("sp-clear-display");else{var tf=Jo.toHexString(),Od=Jo.toRgbString();if(l||Jo.alpha===1?fh.css("background-color",Od):(fh.css("background-color","transparent"),fh.css("filter",Jo.toFilter())),Qt.showAlpha){var Sv=Jo.toRgb();Sv.a=0;var lg=rr(Sv).toRgbString(),cg="linear-gradient(left, "+lg+", "+tf+")";o?ig.css("filter",rr(lg).toFilter({gradientType:1},tf)):(ig.css("background","-webkit-"+cg),ig.css("background","-moz-"+cg),ig.css("background","-ms-"+cg),ig.css("background","linear-gradient(to right, "+lg+", "+tf+")"))}to=Jo.toString(Dn)}Qt.showInput&&jf.val(to),Qt.showPalette&&w0(),_0()}function T0(){var Mn=wd,Dn=rg;if(_d&&zp)_v.hide(),wv.hide(),bv.hide();else{_v.show(),wv.show(),bv.show();var Jo=Mn*fp,to=Qu-Dn*Qu;Jo=Math.max(-kf,Math.min(fp-kf,Jo-kf)),to=Math.max(-kf,Math.min(Qu-kf,to-kf)),bv.css({top:to+"px",left:Jo+"px"});var tf=Mf*Af;_v.css({left:tf-hv/2+"px"});var Od=bd*Qi;wv.css({top:Od-gv+"px"})}}function Cd(Mn){var Dn=ac(),Jo="",to=Ba?!0:!rr.equals(Dn,ph);Dn&&(Jo=Dn.toString(dh),!ga&&n0(Dn)),xv&&os.val(Jo),Mn&&to&&(oo.change(Dn),os.trigger("change",[Dn]))}function Sd(){ga&&(fp=yv.width(),Qu=yv.height(),kf=bv.height(),Jy.width(),Qi=Jy.height(),gv=wv.height(),Af=h0.width(),hv=_v.width(),Pr||(go.css("position","absolute"),Qt.offset?go.offset(Qt.offset):go.offset(at(go,ag))),T0(),Qt.showPalette&&w0(),os.trigger("reflow.spectrum"))}function ob(){os.show(),ag.unbind("click.spectrum touchstart.spectrum"),go.remove(),uh.remove(),r[Cv.id]=null}function ib(Mn,Dn){if(Mn===a)return p.extend({},Qt);if(Dn===a)return Qt[Mn];Qt[Mn]=Dn,Mn==="preferredFormat"&&(dh=Qt.preferredFormat),r0()}function ab(){Xy=!1,os.attr("disabled",!1),ag.removeClass("sp-disabled")}function E0(){Wp(),Xy=!0,os.attr("disabled",!0),ag.addClass("sp-disabled")}function sb(Mn){Qt.offset=Mn,Sd()}eb();var Cv={show:s0,hide:Wp,toggle:x0,reflow:Sd,option:ib,enable:ab,disable:E0,offset:sb,set:function(Mn){xd(Mn),Cd()},get:ac,destroy:ob,container:go};return Cv.id=r.push(Cv)-1,Cv}function at(ae,$e){for(var Qt=$e[0],Pr=ae[0],Hr=Pr.parentElement,an=Qt.getBoundingClientRect(),Jn=Pr.offsetWidth,oo=Pr.offsetHeight,Hn={top:0,left:0,width:Qt.offsetWidth,height:Qt.offsetHeight};Qt&&(Hn.top+=Qt.offsetTop-Qt.scrollTop,Hn.left+=Qt.offsetLeft-Qt.scrollLeft,!(Qt===Hr||!Hr.contains(Qt.offsetParent)));)Qt=Qt.offsetParent;return an.right+Jn>window.innerWidth-window.scrollX&&an.right-Jn>0&&(Hn.left-=Jn-Hn.width),an.bottom+oo<window.innerHeight-window.scrollY?Hn.top+=Hn.height:Hn.top-=oo,Hn}function Pt(){}function Nt(ae){ae.stopPropagation()}function re(ae,$e){var Qt=Array.prototype.slice,Pr=Qt.call(arguments,2);return function(){return ae.apply($e,Pr.concat(Qt.call(arguments)))}}function oe(ae,$e,Qt,Pr){$e=$e||function(){},Qt=Qt||function(){},Pr=Pr||function(){};var Hr=document,an=!1,Jn={},oo=0,Hn=0,ga="ontouchstart"in window,ns={};ns.selectstart=Ba,ns.dragstart=Ba,ns["touchmove mousemove"]=fp,ns["touchend mouseup"]=kf;function Ba(Qi){Qi.stopPropagation&&Qi.stopPropagation(),Qi.preventDefault&&Qi.preventDefault(),Qi.returnValue=!1}function fp(Qi){if(an){if(o&&Hr.documentMode<9&&!Qi.button)return kf();var Af=Qi&&Qi.touches&&Qi.touches[0],hv=Af&&Af.pageX||Qi.pageX,gv=Af&&Af.pageY||Qi.pageY,bd=Math.max(0,Math.min(hv-Jn.left,Hn)),wd=Math.max(0,Math.min(gv-Jn.top,oo));ga&&Ba(Qi),$e.apply(ae,[bd,wd,Qi])}}function Qu(Qi){var Af=Qi.which?Qi.which==3:Qi.button==2;!Af&&!an&&Qt.apply(ae,arguments)!==!1&&(an=!0,oo=p(ae).height(),Hn=p(ae).width(),Jn=p(ae).offset(),p(Hr).bind(ns),p(Hr.body).addClass("sp-dragging"),fp(Qi),Ba(Qi))}function kf(){an&&(p(Hr).unbind(ns),p(Hr.body).removeClass("sp-dragging"),setTimeout(function(){Pr.apply(ae,arguments)},0)),an=!1}p(ae).bind("touchstart mousedown",Qu)}function De(ae,$e,Qt){var Pr;return function(){var Hr=this,an=arguments,Jn=function(){Pr=null,ae.apply(Hr,an)};Qt&&clearTimeout(Pr),(Qt||!Pr)&&(Pr=setTimeout(Jn,$e))}}function Ye(){return p.fn.spectrum.inputTypeColorSupport()}var We="spectrum.id";p.fn.spectrum=function(ae,$e){if(typeof ae=="string"){var Qt=this,Pr=Array.prototype.slice.call(arguments,1);return this.each(function(){var Hr=r[p(this).data(We)];if(Hr){var an=Hr[ae];if(!an)throw new Error("Spectrum: no such method: '"+ae+"'");ae=="get"?Qt=Hr.get():ae=="container"?Qt=Hr.container:ae=="option"?Qt=Hr.option.apply(Hr,Pr):ae=="destroy"?(Hr.destroy(),p(this).removeData(We)):an.apply(Hr,Pr)}}),Qt}return this.spectrum("destroy").each(function(){var Hr=p.extend({},ae,p(this).data()),an=Z(this,Hr);p(this).data(We,an.id)})},p.fn.spectrum.load=!0,p.fn.spectrum.loadOpts={},p.fn.spectrum.draggable=oe,p.fn.spectrum.defaults=t,p.fn.spectrum.inputTypeColorSupport=function ae(){if(typeof ae._cachedResult>"u"){var $e=p("<input type='color'/>")[0];ae._cachedResult=$e.type==="color"&&$e.value!==""}return ae._cachedResult},p.spectrum={},p.spectrum.localization={},p.spectrum.palettes={},p.fn.spectrum.processNativeColorInputs=function(){var ae=p("input[type=color]");ae.length&&!Ye()&&ae.spectrum({preferredFormat:"hex6"})};var Sr=/^[\s,#]+/,Br=/\s+$/,cn=0,wn=Math,Rr=wn.round,jn=wn.min,Wn=wn.max,Gr=wn.random,rr=function(ae,$e){if(ae=ae||"",$e=$e||{},ae instanceof rr)return ae;if(!(this instanceof rr))return new rr(ae,$e);var Qt=fn(ae);this._originalInput=ae,this._r=Qt.r,this._g=Qt.g,this._b=Qt.b,this._a=Qt.a,this._roundA=Rr(100*this._a)/100,this._format=$e.format||Qt.format,this._gradientType=$e.gradientType,this._r<1&&(this._r=Rr(this._r)),this._g<1&&(this._g=Rr(this._g)),this._b<1&&(this._b=Rr(this._b)),this._ok=Qt.ok,this._tc_id=cn++};rr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ae=this.toRgb();return(ae.r*299+ae.g*587+ae.b*114)/1e3},setAlpha:function(ae){return this._a=p0(ae),this._roundA=Rr(100*this._a)/100,this},toHsv:function(){var ae=ha(this._r,this._g,this._b);return{h:ae.h*360,s:ae.s,v:ae.v,a:this._a}},toHsvString:function(){var ae=ha(this._r,this._g,this._b),$e=Rr(ae.h*360),Qt=Rr(ae.s*100),Pr=Rr(ae.v*100);return this._a==1?"hsv("+$e+", "+Qt+"%, "+Pr+"%)":"hsva("+$e+", "+Qt+"%, "+Pr+"%, "+this._roundA+")"},toHsl:function(){var ae=ji(this._r,this._g,this._b);return{h:ae.h*360,s:ae.s,l:ae.l,a:this._a}},toHslString:function(){var ae=ji(this._r,this._g,this._b),$e=Rr(ae.h*360),Qt=Rr(ae.s*100),Pr=Rr(ae.l*100);return this._a==1?"hsl("+$e+", "+Qt+"%, "+Pr+"%)":"hsla("+$e+", "+Qt+"%, "+Pr+"%, "+this._roundA+")"},toHex:function(ae){return ic(this._r,this._g,this._b,ae)},toHexString:function(ae){return"#"+this.toHex(ae)},toHex8:function(){return Xu(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Rr(this._r),g:Rr(this._g),b:Rr(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Rr(this._r)+", "+Rr(this._g)+", "+Rr(this._b)+")":"rgba("+Rr(this._r)+", "+Rr(this._g)+", "+Rr(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Rr(oa(this._r,255)*100)+"%",g:Rr(oa(this._g,255)*100)+"%",b:Rr(oa(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Rr(oa(this._r,255)*100)+"%, "+Rr(oa(this._g,255)*100)+"%, "+Rr(oa(this._b,255)*100)+"%)":"rgba("+Rr(oa(this._r,255)*100)+"%, "+Rr(oa(this._g,255)*100)+"%, "+Rr(oa(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:W0[ic(this._r,this._g,this._b,!0)]||!1},toFilter:function(ae){var $e="#"+Xu(this._r,this._g,this._b,this._a),Qt=$e,Pr=this._gradientType?"GradientType = 1, ":"";if(ae){var Hr=rr(ae);Qt=Hr.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Pr+"startColorstr="+$e+",endColorstr="+Qt+")"},toString:function(ae){var $e=!!ae;ae=ae||this._format;var Qt=!1,Pr=this._a<1&&this._a>=0,Hr=!$e&&Pr&&(ae==="hex"||ae==="hex6"||ae==="hex3"||ae==="name");return Hr?ae==="name"&&this._a===0?this.toName():this.toRgbString():(ae==="rgb"&&(Qt=this.toRgbString()),ae==="prgb"&&(Qt=this.toPercentageRgbString()),(ae==="hex"||ae==="hex6")&&(Qt=this.toHexString()),ae==="hex3"&&(Qt=this.toHexString(!0)),ae==="hex8"&&(Qt=this.toHex8String()),ae==="name"&&(Qt=this.toName()),ae==="hsl"&&(Qt=this.toHslString()),ae==="hsv"&&(Qt=this.toHsvString()),Qt||this.toHexString())},_applyModification:function(ae,$e){var Qt=ae.apply(null,[this].concat([].slice.call($e)));return this._r=Qt._r,this._g=Qt._g,this._b=Qt._b,this.setAlpha(Qt._a),this},lighten:function(){return this._applyModification(D0,arguments)},brighten:function(){return this._applyModification(I0,arguments)},darken:function(){return this._applyModification(N0,arguments)},desaturate:function(){return this._applyModification(md,arguments)},saturate:function(){return this._applyModification(pv,arguments)},greyscale:function(){return this._applyModification(Ju,arguments)},spin:function(){return this._applyModification(F0,arguments)},_applyCombination:function(ae,$e){return ae.apply(null,[this].concat([].slice.call($e)))},analogous:function(){return this._applyCombination(U0,arguments)},complement:function(){return this._applyCombination(V0,arguments)},monochromatic:function(){return this._applyCombination(z0,arguments)},splitcomplement:function(){return this._applyCombination(B0,arguments)},triad:function(){return this._applyCombination(R0,arguments)},tetrad:function(){return this._applyCombination(H0,arguments)}},rr.fromRatio=function(ae,$e){if(typeof ae=="object"){var Qt={};for(var Pr in ae)ae.hasOwnProperty(Pr)&&(Pr==="a"?Qt[Pr]=ae[Pr]:Qt[Pr]=eg(ae[Pr]));ae=Qt}return rr(ae,$e)};function fn(ae){var $e={r:0,g:0,b:0},Qt=1,Pr=!1,Hr=!1;return typeof ae=="string"&&(ae=Z0(ae)),typeof ae=="object"&&(ae.hasOwnProperty("r")&&ae.hasOwnProperty("g")&&ae.hasOwnProperty("b")?($e=mn(ae.r,ae.g,ae.b),Pr=!0,Hr=String(ae.r).substr(-1)==="%"?"prgb":"rgb"):ae.hasOwnProperty("h")&&ae.hasOwnProperty("s")&&ae.hasOwnProperty("v")?(ae.s=eg(ae.s),ae.v=eg(ae.v),$e=hl(ae.h,ae.s,ae.v),Pr=!0,Hr="hsv"):ae.hasOwnProperty("h")&&ae.hasOwnProperty("s")&&ae.hasOwnProperty("l")&&(ae.s=eg(ae.s),ae.l=eg(ae.l),$e=Ha(ae.h,ae.s,ae.l),Pr=!0,Hr="hsl"),ae.hasOwnProperty("a")&&(Qt=ae.a)),Qt=p0(Qt),{ok:Pr,format:ae.format||Hr,r:jn(255,Wn($e.r,0)),g:jn(255,Wn($e.g,0)),b:jn(255,Wn($e.b,0)),a:Qt}}function mn(ae,$e,Qt){return{r:oa(ae,255)*255,g:oa($e,255)*255,b:oa(Qt,255)*255}}function ji(ae,$e,Qt){ae=oa(ae,255),$e=oa($e,255),Qt=oa(Qt,255);var Pr=Wn(ae,$e,Qt),Hr=jn(ae,$e,Qt),an,Jn,oo=(Pr+Hr)/2;if(Pr==Hr)an=Jn=0;else{var Hn=Pr-Hr;switch(Jn=oo>.5?Hn/(2-Pr-Hr):Hn/(Pr+Hr),Pr){case ae:an=($e-Qt)/Hn+($e<Qt?6:0);break;case $e:an=(Qt-ae)/Hn+2;break;case Qt:an=(ae-$e)/Hn+4;break}an/=6}return{h:an,s:Jn,l:oo}}function Ha(ae,$e,Qt){var Pr,Hr,an;ae=oa(ae,360),$e=oa($e,100),Qt=oa(Qt,100);function Jn(ga,ns,Ba){return Ba<0&&(Ba+=1),Ba>1&&(Ba-=1),Ba<1/6?ga+(ns-ga)*6*Ba:Ba<1/2?ns:Ba<2/3?ga+(ns-ga)*(2/3-Ba)*6:ga}if($e===0)Pr=Hr=an=Qt;else{var oo=Qt<.5?Qt*(1+$e):Qt+$e-Qt*$e,Hn=2*Qt-oo;Pr=Jn(Hn,oo,ae+1/3),Hr=Jn(Hn,oo,ae),an=Jn(Hn,oo,ae-1/3)}return{r:Pr*255,g:Hr*255,b:an*255}}function ha(ae,$e,Qt){ae=oa(ae,255),$e=oa($e,255),Qt=oa(Qt,255);var Pr=Wn(ae,$e,Qt),Hr=jn(ae,$e,Qt),an,Jn,oo=Pr,Hn=Pr-Hr;if(Jn=Pr===0?0:Hn/Pr,Pr==Hr)an=0;else{switch(Pr){case ae:an=($e-Qt)/Hn+($e<Qt?6:0);break;case $e:an=(Qt-ae)/Hn+2;break;case Qt:an=(ae-$e)/Hn+4;break}an/=6}return{h:an,s:Jn,v:oo}}function hl(ae,$e,Qt){ae=oa(ae,360)*6,$e=oa($e,100),Qt=oa(Qt,100);var Pr=wn.floor(ae),Hr=ae-Pr,an=Qt*(1-$e),Jn=Qt*(1-Hr*$e),oo=Qt*(1-(1-Hr)*$e),Hn=Pr%6,ga=[Qt,Jn,an,an,oo,Qt][Hn],ns=[oo,Qt,Qt,Jn,an,an][Hn],Ba=[an,an,oo,Qt,Qt,Jn][Hn];return{r:ga*255,g:ns*255,b:Ba*255}}function ic(ae,$e,Qt,Pr){var Hr=[yd(Rr(ae).toString(16)),yd(Rr($e).toString(16)),yd(Rr(Qt).toString(16))];return Pr&&Hr[0].charAt(0)==Hr[0].charAt(1)&&Hr[1].charAt(0)==Hr[1].charAt(1)&&Hr[2].charAt(0)==Hr[2].charAt(1)?Hr[0].charAt(0)+Hr[1].charAt(0)+Hr[2].charAt(0):Hr.join("")}function Xu(ae,$e,Qt,Pr){var Hr=[yd(K0(Pr)),yd(Rr(ae).toString(16)),yd(Rr($e).toString(16)),yd(Rr(Qt).toString(16))];return Hr.join("")}rr.equals=function(ae,$e){return!ae||!$e?!1:rr(ae).toRgbString()==rr($e).toRgbString()},rr.random=function(){return rr.fromRatio({r:Gr(),g:Gr(),b:Gr()})};function md(ae,$e){$e=$e===0?0:$e||10;var Qt=rr(ae).toHsl();return Qt.s-=$e/100,Qt.s=dv(Qt.s),rr(Qt)}function pv(ae,$e){$e=$e===0?0:$e||10;var Qt=rr(ae).toHsl();return Qt.s+=$e/100,Qt.s=dv(Qt.s),rr(Qt)}function Ju(ae){return rr(ae).desaturate(100)}function D0(ae,$e){$e=$e===0?0:$e||10;var Qt=rr(ae).toHsl();return Qt.l+=$e/100,Qt.l=dv(Qt.l),rr(Qt)}function I0(ae,$e){$e=$e===0?0:$e||10;var Qt=rr(ae).toRgb();return Qt.r=Wn(0,jn(255,Qt.r-Rr(255*-($e/100)))),Qt.g=Wn(0,jn(255,Qt.g-Rr(255*-($e/100)))),Qt.b=Wn(0,jn(255,Qt.b-Rr(255*-($e/100)))),rr(Qt)}function N0(ae,$e){$e=$e===0?0:$e||10;var Qt=rr(ae).toHsl();return Qt.l-=$e/100,Qt.l=dv(Qt.l),rr(Qt)}function F0(ae,$e){var Qt=rr(ae).toHsl(),Pr=(Rr(Qt.h)+$e)%360;return Qt.h=Pr<0?360+Pr:Pr,rr(Qt)}function V0(ae){var $e=rr(ae).toHsl();return $e.h=($e.h+180)%360,rr($e)}function R0(ae){var $e=rr(ae).toHsl(),Qt=$e.h;return[rr(ae),rr({h:(Qt+120)%360,s:$e.s,l:$e.l}),rr({h:(Qt+240)%360,s:$e.s,l:$e.l})]}function H0(ae){var $e=rr(ae).toHsl(),Qt=$e.h;return[rr(ae),rr({h:(Qt+90)%360,s:$e.s,l:$e.l}),rr({h:(Qt+180)%360,s:$e.s,l:$e.l}),rr({h:(Qt+270)%360,s:$e.s,l:$e.l})]}function B0(ae){var $e=rr(ae).toHsl(),Qt=$e.h;return[rr(ae),rr({h:(Qt+72)%360,s:$e.s,l:$e.l}),rr({h:(Qt+216)%360,s:$e.s,l:$e.l})]}function U0(ae,$e,Qt){$e=$e||6,Qt=Qt||30;var Pr=rr(ae).toHsl(),Hr=360/Qt,an=[rr(ae)];for(Pr.h=(Pr.h-(Hr*$e>>1)+720)%360;--$e;)Pr.h=(Pr.h+Hr)%360,an.push(rr(Pr));return an}function z0(ae,$e){$e=$e||6;for(var Qt=rr(ae).toHsv(),Pr=Qt.h,Hr=Qt.s,an=Qt.v,Jn=[],oo=1/$e;$e--;)Jn.push(rr({h:Pr,s:Hr,v:an})),an=(an+oo)%1;return Jn}rr.mix=function(ae,$e,Qt){Qt=Qt===0?0:Qt||50;var Pr=rr(ae).toRgb(),Hr=rr($e).toRgb(),an=Qt/100,Jn=an*2-1,oo=Hr.a-Pr.a,Hn;Jn*oo==-1?Hn=Jn:Hn=(Jn+oo)/(1+Jn*oo),Hn=(Hn+1)/2;var ga=1-Hn,ns={r:Hr.r*Hn+Pr.r*ga,g:Hr.g*Hn+Pr.g*ga,b:Hr.b*Hn+Pr.b*ga,a:Hr.a*an+Pr.a*(1-an)};return rr(ns)},rr.readability=function(ae,$e){var Qt=rr(ae),Pr=rr($e),Hr=Qt.toRgb(),an=Pr.toRgb(),Jn=Qt.getBrightness(),oo=Pr.getBrightness(),Hn=Math.max(Hr.r,an.r)-Math.min(Hr.r,an.r)+Math.max(Hr.g,an.g)-Math.min(Hr.g,an.g)+Math.max(Hr.b,an.b)-Math.min(Hr.b,an.b);return{brightness:Math.abs(Jn-oo),color:Hn}},rr.isReadable=function(ae,$e){var Qt=rr.readability(ae,$e);return Qt.brightness>125&&Qt.color>500},rr.mostReadable=function(ae,$e){for(var Qt=null,Pr=0,Hr=!1,an=0;an<$e.length;an++){var Jn=rr.readability(ae,$e[an]),oo=Jn.brightness>125&&Jn.color>500,Hn=3*(Jn.brightness/125)+Jn.color/500;(oo&&!Hr||oo&&Hr&&Hn>Pr||!oo&&!Hr&&Hn>Pr)&&(Hr=oo,Pr=Hn,Qt=rr($e[an]))}return Qt};var Zy=rr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W0=rr.hexNames=$0(Zy);function $0(ae){var $e={};for(var Qt in ae)ae.hasOwnProperty(Qt)&&($e[ae[Qt]]=Qt);return $e}function p0(ae){return ae=parseFloat(ae),(isNaN(ae)||ae<0||ae>1)&&(ae=1),ae}function oa(ae,$e){G0(ae)&&(ae="100%");var Qt=q0(ae);return ae=jn($e,Wn(0,parseFloat(ae))),Qt&&(ae=parseInt(ae*$e,10)/100),wn.abs(ae-$e)<1e-6?1:ae%$e/parseFloat($e)}function dv(ae){return jn(1,Wn(0,ae))}function Pf(ae){return parseInt(ae,16)}function G0(ae){return typeof ae=="string"&&ae.indexOf(".")!=-1&&parseFloat(ae)===1}function q0(ae){return typeof ae=="string"&&ae.indexOf("%")!=-1}function yd(ae){return ae.length==1?"0"+ae:""+ae}function eg(ae){return ae<=1&&(ae=ae*100+"%"),ae}function K0(ae){return Math.round(parseFloat(ae)*255).toString(16)}function Y0(ae){return Pf(ae)/255}var up=function(){var ae="[-\\+]?\\d+%?",$e="[-\\+]?\\d*\\.\\d+%?",Qt="(?:"+$e+")|(?:"+ae+")",Pr="[\\s|\\(]+("+Qt+")[,|\\s]+("+Qt+")[,|\\s]+("+Qt+")\\s*\\)?",Hr="[\\s|\\(]+("+Qt+")[,|\\s]+("+Qt+")[,|\\s]+("+Qt+")[,|\\s]+("+Qt+")\\s*\\)?";return{rgb:new RegExp("rgb"+Pr),rgba:new RegExp("rgba"+Hr),hsl:new RegExp("hsl"+Pr),hsla:new RegExp("hsla"+Hr),hsv:new RegExp("hsv"+Pr),hsva:new RegExp("hsva"+Hr),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Z0(ae){ae=ae.replace(Sr,"").replace(Br,"").toLowerCase();var $e=!1;if(Zy[ae])ae=Zy[ae],$e=!0;else if(ae=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Qt;return(Qt=up.rgb.exec(ae))?{r:Qt[1],g:Qt[2],b:Qt[3]}:(Qt=up.rgba.exec(ae))?{r:Qt[1],g:Qt[2],b:Qt[3],a:Qt[4]}:(Qt=up.hsl.exec(ae))?{h:Qt[1],s:Qt[2],l:Qt[3]}:(Qt=up.hsla.exec(ae))?{h:Qt[1],s:Qt[2],l:Qt[3],a:Qt[4]}:(Qt=up.hsv.exec(ae))?{h:Qt[1],s:Qt[2],v:Qt[3]}:(Qt=up.hsva.exec(ae))?{h:Qt[1],s:Qt[2],v:Qt[3],a:Qt[4]}:(Qt=up.hex8.exec(ae))?{a:Y0(Qt[1]),r:Pf(Qt[2]),g:Pf(Qt[3]),b:Pf(Qt[4]),format:$e?"name":"hex8"}:(Qt=up.hex6.exec(ae))?{r:Pf(Qt[1]),g:Pf(Qt[2]),b:Pf(Qt[3]),format:$e?"name":"hex"}:(Qt=up.hex3.exec(ae))?{r:Pf(Qt[1]+""+Qt[1]),g:Pf(Qt[2]+""+Qt[2]),b:Pf(Qt[3]+""+Qt[3]),format:$e?"name":"hex"}:!1}window.tinycolor=rr,p(function(){p.fn.spectrum.load&&p.fn.spectrum.processNativeColorInputs()})}var ct=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ot=function(p){ct(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this,o=t.ppfx||"";return r.opts=t,r.ppfx=o,r.em=t.target||{},!t.onChange&&r.listenTo(r.model,"change:value",r.handleModelChange),r}return a.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},a.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},a.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},a.prototype.elementUpdated=function(){this.model.trigger("el:change")},a.prototype.setValue=function(t,r){var o=this.model,l=t||o.get("defaults"),v=this.getInputEl();v&&(v.value=l)},a.prototype.handleModelChange=function(t,r,o){this.setValue(r,o)},a.prototype.handleChange=function(t){t.stopPropagation();var r=this.getInputEl().value;this.__onInputChange(r),this.elementUpdated()},a.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},a.prototype.getInputEl=function(){if(!this.inputEl){var t=this,r=t.model,o=t.opts,l=o.type||"text",v=r.get("placeholder")||r.get("defaults")||r.get("default")||"";this.inputEl=(0,ut.default)('<input type="'.concat(l,'" placeholder="').concat(v,'">'))}return this.inputEl.get(0)},a.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},a}(q.G7);const ne=Ot;Ot.prototype.events={change:"handleChange"};var ye=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ue=function(){return Ue=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ue.apply(this,arguments)};ut.default&&tt(ut.default);var Ie=function(p){var a=p.getFormat()==="name"&&p.toName(),t=p.getAlpha()==1?p.toHexString():p.toRgbString();return a||t.replace(/ /g,"")},lr=function(p){ye(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},a.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},a.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},a.prototype.remove=function(){return p.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},a.prototype.handleChange=function(t){t.stopPropagation();var r=t.target.value;(0,wt.isUndefined)(r)||this.__onInputChange(r)},a.prototype.__onInputChange=function(t){var r=this,o=r.model,l=r.opts,v=l.onChange,w=t,C=this.getColorEl();if(C){C.spectrum("set",w);var E=C.spectrum("get"),j=w&&Ie(E);j&&(w=j)}v?v(w):o.set({value:w},{fromInput:1})},a.prototype.setValue=function(t,r){r===void 0&&(r={});var o=this.model,l=(0,wt.isUndefined)(r.def)?o.get("defaults"):r.def,v=(0,wt.isUndefined)(t)?(0,wt.isUndefined)(l)?"":l:t,w=this.getInputEl(),C=this.getColorEl(),E=v!="none"?v:"";w.value=v,C.get(0).style.backgroundColor=E,(r.fromTarget||r.fromInput&&!r.avoidStore)&&(C.spectrum("set",E),this.noneColor=v=="none",this.movedColor=E)},a.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var r=this,o=r.em,l=r.model,v=r.opts,w=this.ppfx,C=v.onChange,E=(0,ut.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),j=E.get(0).style,Z=o&&o.getConfig&&o.getConfig().colorPicker||{};this.movedColor="";var at=!1,Pt;this.$el.find("[data-colorp-c]").append(E);var Nt=function(re,oe){oe===void 0&&(oe=!0),C?C(re,!oe):(oe&&l.setValueFromInput(0,!1),l.setValueFromInput(re,oe))};E.spectrum(Ue(Ue(Ue({color:l.getValue()||!1,containerClassName:"".concat(w,"one-bg ").concat(w,"two-color ").concat(w,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},Z),l.get("colorPicker")||{}),{move:function(re){var oe=Ie(re);t.movedColor=oe,j.backgroundColor=oe,Nt(oe,!1)},change:function(re){at=!0;var oe=Ie(re);j.backgroundColor=oe,Nt(oe),t.noneColor=!1},show:function(re){at=!1,t.movedColor="",Pt=C?l.getValue({noDefault:!0}):Ie(re)},hide:function(){!at&&(Pt||C)&&(t.noneColor&&(Pt=""),j.backgroundColor=Pt,E.spectrum("set",Pt),Nt(Pt,!1))}})),o&&o.on&&this.listenTo(o,"component:selected",function(){t.movedColor&&Nt(t.movedColor),at=!0,t.movedColor="",E.spectrum("hide")}),this.colorEl=E}return this.colorEl},a.prototype.render=function(){return ne.prototype.render.call(this),this.getColorEl(),this},a}(ne);const wr=lr;var jr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$r=function(p){jr(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.templateInput=function(){return""},a.prototype.getInputEl=function(){if(!this.input){var t=this.model,r=this.getModelValue(),o=new wr({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),l=o.render();l.setValue(r,{fromTarget:1}),this.input=l.el}return this.input},a}(c);const Zr=$r;var qr=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tn=function(p){qr(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;return(0,wt.bindAll)(r,"moveIncrement","upIncrement"),r.doc=document,r.listenTo(r.model,"change:unit",r.handleModelChange),r}return a.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},a.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},a.prototype.setValue=function(t,r){var o=r||{},l=this.validateInputValue(t,{deepCheck:1}),v={value:l.value,unit:""};(l.unit||l.force)&&(v.unit=l.unit),this.model.set(v,o),o.silent&&this.handleModelChange()},a.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},a.prototype.handleUnitChange=function(t){t.stopPropagation();var r=this.getUnitEl().value;this.model.set("unit",r),this.elementUpdated()},a.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},a.prototype.elementUpdated=function(){this.model.trigger("el:change")},a.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var r=this.getUnitEl();r&&(r.value=t.get("unit")||"")},a.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,r=t.get("units")||[];if(r.length){var o=['<option value="" disabled hidden>-</option>'];r.forEach(function(v){var w=v==t.get("unit")?"selected":"";o.push("<option ".concat(w,">").concat(v,"</option>"))});var l=document.createElement("div");l.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(o.join(""),"</select>"),this.unitEl=l.firstChild}}return this.unitEl},a.prototype.upArrowClick=function(){var t=this.model,r=t.get("step"),o=parseFloat(t.get("value"));this.setValue(this.normalizeValue(o+r)),this.elementUpdated()},a.prototype.downArrowClick=function(){var t=this.model,r=t.get("step"),o=parseFloat(t.get("value"));this.setValue(this.normalizeValue(o-r)),this.elementUpdated()},a.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var r=this.model.get("value")||0;r=this.normalizeValue(r),this.current={y:t.pageY,val:r},(0,He.on)(this.doc,"mousemove",this.moveIncrement),(0,He.on)(this.doc,"mouseup",this.upIncrement)},a.prototype.moveIncrement=function(t){this.moved=!0;var r=this.model,o=r.get("step"),l=this.current,v=this.normalizeValue(l.val+(l.y-t.pageY)*o),w=this.validateInputValue(v),C=w.value,E=w.unit;return this.prValue=C,r.set({value:C,unit:E},{avoidStore:1}),!1},a.prototype.upIncrement=function(){var t=this.model,r=t.get("step");if((0,He.S1)(this.doc,"mouseup",this.upIncrement),(0,He.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var o=this.prValue-r;t.set("value",o,{avoidStore:1}).set("value",o+r),this.elementUpdated()}},a.prototype.normalizeValue=function(t,r){r===void 0&&(r=0);var o=this.model,l=o.get("step"),v=0;if(isNaN(t))return r;if(t=parseFloat(t),Math.floor(t)!==t){var w=l.toString().split(".")[1];v=w?w.length:0}return v?parseFloat(t.toFixed(v)):t},a.prototype.validateInputValue=function(t,r){r===void 0&&(r={});var o=0,l=r||{},v=this.model,w="",C=(0,wt.isUndefined)(t)?w:t,E=r.units||v.get("units")||[],j=v.get("unit")||E.length&&E[0]||"",Z=(0,wt.isUndefined)(r.max)?v.get("max"):r.max,at=(0,wt.isUndefined)(r.min)?v.get("min"):r.min,Pt=!!v.get("limitlessMax"),Nt=!!v.get("limitlessMin");if(l.deepCheck){var re=v.get("fixedValues")||[];if(C===""&&(j=""),C){var oe=new RegExp("^"+re.join("|"),"g");if(re.length&&oe.test(C))C=C.match(oe)[0],j="",o=1;else{var De=C+"";C+="",C=parseFloat(C.replace(",",".")),C=isNaN(C)?w:C;var Ye=De.replace(C,"");(0,wt.indexOf)(E,Ye)>=0&&(j=Ye)}}}return!Pt&&!(0,wt.isUndefined)(Z)&&Z!==""&&(C=C>Z?Z:C),!Nt&&!(0,wt.isUndefined)(at)&&at!==""&&(C=C<at?at:C),{force:o,value:C,unit:j}},a.prototype.render=function(){ne.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},a}(ne);const bn=tn;tn.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var dn=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xn=function(p){dn(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.getValueForTarget=function(){var t=this.model,r=t.attributes,o=r.value,l=r.unit;return!(0,wt.isUndefined)(o)&&o!==""?o+l:t.get("default")},a.prototype.getInputEl=function(){if(!this.input){var t=this,r=t.ppfx,o=t.model,l=this.getModelValue(),v=new bn({contClass:"".concat(r,"field-int"),type:"number",model:o,ppfx:r});v.render(),this.$input=v.inputEl,this.$unit=v.unitEl,o.set("value",l,{fromTarget:!0}),this.$input.val(l),this.input=v.el}return this.input},a}(c);const Ko=Xn;var pa=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hi=function(p){pa(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;return r.listenTo(r.model,"change:options",r.rerender),r}return a.prototype.templateInput=function(){var t=this,r=t.ppfx,o=t.clsField;return'<div class="'.concat(o,`">
      <div data-input></div>
      <div class="`).concat(r,`sel-arrow">
        <div class="`).concat(r,`d-s-arrow"></div>
      </div>
    </div>`)},a.prototype.getInputEl=function(){if(!this.$input){var t=this,r=t.model,o=t.em,l=r.get("name"),v=r.get("options")||[],w=[],C="<select>";v.forEach(function(Z){var at="",Pt,Nt,re;(0,wt.isString)(Z)?(Pt=Z,Nt=Z):(Pt=Z.name||Z.label||Z.value,Nt="".concat((0,wt.isUndefined)(Z.value)?Z.id:Z.value).replace(/"/g,"&quot;"),re=Z.style?Z.style.replace(/"/g,"&quot;"):"",at+=re?' style="'.concat(re,'"'):"");var oe=o.t("traitManager.traits.options.".concat(l,".").concat(Nt))||Pt;C+='<option value="'.concat(Nt,'"').concat(at,">").concat(oe,"</option>"),w.push(Nt)}),C+="</select>",this.$input=(0,ut.default)(C);var E=r.getTargetValue(),j=w.indexOf(E)>=0?E:r.get("default");!(0,wt.isUndefined)(j)&&this.$input.val(j)}return this.$input.get(0)},a}(c);const Xa=hi;var ws=ci(330),Wi=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ja="data-categories",da="data-no-categories",Ji=function(p){Wi(a,p);function a(t,r){var o=p.call(this,t)||this;o.reuseView=!0,o.renderedCategories=new Map,o.itemsView=r;var l=t.config||{};o.config=l;var v=t.editor;o.em=v;var w=l.pStylePrefix||"";return o.ppfx=w,o.pfx=w+l.stylePrefix||"",o.className="".concat(o.pfx,"traits"),o.traitContClass="".concat(w,"traits-c"),o.classNoCat="".concat(w,"traits-empty-c"),o.catsClass="".concat(w,"trait-categories"),o.collection=new Mo([],{em:v}),o.listenTo(v,"component:toggled",o.updatedCollection),o.updatedCollection(),o}return a.prototype.updatedCollection=function(){var t=this,r=t.ppfx,o=t.em,l=o.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(r,"one-bg ").concat(r,"two-color"),this.collection=(l==null?void 0:l.traits)||new Mo([],{em:o}),this.render()},a.prototype.add=function(t,r){var o=this,l=o.config,v=o.renderedCategories,w=this.itemView,C=t.get(this.itemType);this.itemsView&&this.itemsView[C]&&(w=this.itemsView[C]);var E=new w({config:l,model:t,attributes:t.get("attributes")}),j=E.render().el,Z=t.parent.initCategory(t);if(Z){var at=Z.getId(),Pt=this.getCategoriesEl(),Nt=v.get(at);!Nt&&Pt&&(Nt=new Xi({model:Z},l,"trait").render(),v.set(at,Nt),Pt.appendChild(Nt.el)),Nt==null||Nt.append(j);return}r?r.appendChild(j):this.append(j)},a.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(Ja,"]"))),this.catsEl},a.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(da,"]"))),this.traitsEl},a.prototype.append=function(t){var r=this.getTraitsEl();r==null||r.appendChild(t)},a.prototype.render=function(){var t=this,r=this,o=r.el,l=r.ppfx,v=r.catsClass,w=r.traitContClass,C=r.classNoCat,E=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,o.innerHTML=`
      <div class="`.concat(v,'" ').concat(Ja,`></div>
      <div class="`).concat(C," ").concat(w,'" ').concat(da,`></div>
    `),this.collection.forEach(function(Z){return t.add(Z,E)}),this.append(E);var j="".concat(w,"s ").concat(l,"one-bg ").concat(l,"two-color");return this.$el.addClass(j),this.rendered=!0,this},a}(ws.Z);const $i=Ji;Ji.prototype.itemView=c;var Ai=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qa=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},mf=function(p){Ai(a,p);function a(t){var r=p.call(this,t,"TraitManager",Cc)||this;r.TraitsView=$i,r.events=Si,r.state=new q.Hn({traits:[]}),r.types={text:c,number:Ko,select:Xa,checkbox:z,color:Zr,button:y};var o=r,l=o.state,v=o.config,w=o.events,C=v.pStylePrefix;C&&(v.stylePrefix="".concat(C).concat(v.stylePrefix)),(0,wt.bindAll)(r,"__onSelect");var E=(0,wt.debounce)(function(){return r.__upSel()},0),j=(0,wt.debounce)(function(){return r.__onUp()},0);return l.listenTo(t,"component:toggled",E),l.listenTo(t,w.value,j),l.on("change:traits",r.__onSelect),r.debounced=[E,j],r}return a.prototype.select=function(t){var r=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:r}),this.__trgCustom()},a.prototype.getCategories=function(){var t,r=this.getComponent(),o=((t=r==null?void 0:r.traits.categories)===null||t===void 0?void 0:t.models)||[];return Qa([],o,!0)},a.prototype.getTraits=function(){return this.getCurrent()},a.prototype.getTraitsByCategory=function(t){return vi(t||this.getTraits())},a.prototype.getComponent=function(){return this.state.attributes.component},a.prototype.addType=function(t,r){var o=this.getType("text");this.types[t]=o.extend(r)},a.prototype.getType=function(t){return this.getTypes()[t]},a.prototype.getTypes=function(){return this.types},a.prototype.getTraitsViewer=function(){return this.view},a.prototype.getCurrent=function(){return this.state.get("traits")||[]},a.prototype.render=function(){var t=this.view,r=this.em;return t=new $i({el:t==null?void 0:t.el,collection:[],editor:r,config:this.getConfig()},this.getTypes()),this.view=t,t.el},a.prototype.postRender=function(){this.__appendTo()},a.prototype.__onSelect=function(){var t=this,r=t.em,o=t.events,l=t.state,v=l.attributes,w=v.component,C=v.traits;r.trigger(o.select,{component:w,traits:C})},a.prototype.__trgCustom=function(t){t===void 0&&(t={});var r=this,o=r.em,l=r.events,v=r.__ctn;this.__ctn=v||t.container,o.trigger(l.custom,this.__customData())},a.prototype.__customData=function(){return{container:this.__ctn}},a.prototype.__upSel=function(){this.select(this.em.getSelected())},a.prototype.__onUp=function(){this.select(this.getComponent())},a}(B);const il=mf;var Ea={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const ec=Ea;var li=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gp=function(p){li(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.items=[],r.opt=t;var o=t.config||{};r.config=o,r.parentView=t.parentView;var l=o.stylePrefix||"",v=o.pStylePrefix||"",w=r.collection;r.listenTo(w,"add",r.addTo),r.listenTo(w,"reset resetNavigator",r.render),r.listenTo(w,"remove",r.removeChildren),r.className="".concat(l,"layers");var C=o.em;if(o.sortable&&!r.opt.sorter){var E=C.Utils;r.opt.sorter=new E.Sorter({container:o.sortContainer||r.el,containerSel:".".concat(r.className),itemSel:".".concat(l,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:v,pfx:l,em:C})}return r.$el.data("collection",w),t.parent&&r.$el.data("model",t.parent),r}return a.prototype.removeChildren=function(t){var r=t.viewLayer;r&&(r.remove(),delete t.viewLayer)},a.prototype.addTo=function(t){var r=this.collection.indexOf(t);this.addToCollection(t,null,r)},a.prototype.addToCollection=function(t,r,o){var l=this,v=l.parentView,w=l.opt,C=l.config,E=w.ItemView,j=w.opened,Z=w.module,at=w.level,Pt=w.sorter,Nt=r||null,re=new E({ItemView:E,level:at,model:t,parentView:v,config:C,sorter:Pt,opened:j,module:Z}),oe=re.render().el;if(Nt)Nt.appendChild(oe);else if(typeof o<"u"){var De="before";this.$el.children().length==o&&(o--,De="after"),o<0?this.$el.append(oe):this.$el.children().eq(o)[De](oe)}else this.$el.append(oe);return this.items.push(re),oe},a.prototype.remove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return q.G7.prototype.remove.apply(this,t),this.items.map(function(o){return o.remove()}),this},a.prototype.render=function(){var t=this,r=document.createDocumentFragment(),o=this.el;return o.innerHTML="",this.collection.each(function(l){return t.addToCollection(l,r)}),o.appendChild(r),o.className=this.className,this},a}(q.G7);const qc=Gp;var Kc=ci(790),hu={stylePrefix:"com-",defaults:{},strict:!0};const ts=hu;var yf=ci(713),qp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Td=function(){return Td=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Td.apply(this,arguments)},Kp=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},ug=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],fg={preserveSelected:1},pg=function(p){return function(a){return p.trigger("".concat(ii,":start"),a)}},dg=function(p){return function(a){return p.trigger(ii,a)}},_p=function(p,a,t){return t===void 0&&(t={}),function(r,o,l){a.forEach(function(v){return v.set("status",v.get("selectable")?"selected":"")}),p.setSelected(a),a[0].emitUpdate(),p.trigger("".concat(ii,":end"),l),setTimeout(function(){return p.runDefault(fg)}),(t.altMode||l.cancelled)&&p.set("_cmpDrag",1)}},Ev=function(p){qp(a,p);function a(t){var r=p.call(this,t,"Commands",ts)||this;r.CommandAbstract=Kc.default,r.defaultCommands={},r.commands={},r.active={},r.events=yf.Z;var o=r.config,l=o.pStylePrefix,v=r.defaultCommands;l&&(o.stylePrefix=l+o.stylePrefix),Object.keys(o.defaults).forEach(function(C){var E=o.defaults[C];E.id&&r.add(E.id,E)}),v["tlb-delete"]={run:function(C){return C.runCommand("core:component-delete")}},v["tlb-clone"]={run:function(C){C.runCommand("core:copy"),C.runCommand("core:paste",{action:"clone-component"})}},v["tlb-move"]={run:function(C,E,j){var Z;j===void 0&&(j={});var at=C.getModel(),Pt=j.event,Nt=j.target,re=Nt?[Nt]:Kp([],C.getSelectedAll(),!0),oe=re.map(function(Gr){var rr,fn;return((fn=(rr=Gr.delegate)===null||rr===void 0?void 0:rr.move)===null||fn===void 0?void 0:fn.call(rr,Gr))||Gr}).filter(Boolean),De=oe[0],Ye=(Pt==null?void 0:Pt.type)==="dragstart",We=["absolute","translate"];if(!(De!=null&&De.get("draggable")))return at.logWarning("The element is not draggable");var Sr=De.get("dmode")||at.get("dmode"),Br=function(){return at.stopDefault(fg)},cn=(0,wt.includes)(We,Sr);oe.forEach(function(Gr){return Gr.trigger("disable",{fromMove:!0})}),Ye?setTimeout(Br,0):Br();var wn=pg(at),Rr=dg(at),jn=_p(at,oe,{altMode:cn});if(cn)C.runCommand("core:component-drag",{guidesInfo:1,mode:Sr,target:De,onStart:wn,onDrag:Rr,onEnd:jn,event:Pt});else{Ye&&Pt.dataTransfer.setDragImage((Z=De.view)===null||Z===void 0?void 0:Z.el,0,0);var Wn=C.Commands.get("move-comp");Wn.onStart=wn,Wn.onDrag=Rr,Wn.onEndMoveFromModel=jn,Wn.initSorterFromModels(oe)}oe.filter(function(Gr){return Gr.get("selectable")}).forEach(function(Gr){return Gr.set("status","freezed-selected")})}},v["core:undo"]=function(C){return C.UndoManager.undo()},v["core:redo"]=function(C){return C.UndoManager.redo()},ug.forEach(function(C){var E=C[2],j=ci(828)("./".concat(C[1])).default,Z="core:".concat(C[0]);v[Z]=j,E&&(v[E]=j,["run","stop"].forEach(function(at){t.on("".concat(at,":").concat(E),function(){for(var Pt=[],Nt=0;Nt<arguments.length;Nt++)Pt[Nt]=arguments[Nt];return t.trigger.apply(t,Kp(["".concat(at,":").concat(Z)],Pt,!1))})}))}),o.model=t.Canvas;for(var w in v)r.add(w,v[w]);return r}return a.prototype.add=function(t,r){var o=(0,wt.isFunction)(r)?{run:r}:r;return o.stop||(o.noStop=!0),delete o.initialize,o.id=t,this.commands[t]=Kc.default.extend(o),this},a.prototype.get=function(t){var r=this.commands[t];return(0,wt.isFunction)(r)?(r=new r(this.config),this.commands[t]=r):r||this.em.logWarning("'".concat(t,"' command not found")),r},a.prototype.extend=function(t,r){r===void 0&&(r={});var o=this.get(t);if(o){var l=Td(Td({},o.constructor.prototype),r);this.add(t,l);var v=ug.filter(function(w){return"core:".concat(w[0])===t&&w[2]})[0];v&&this.add(v[2],l)}return this},a.prototype.has=function(t){return!!this.commands[t]},a.prototype.getAll=function(){return this.commands},a.prototype.run=function(t,r){return r===void 0&&(r={}),this.runCommand(this.get(t),r)},a.prototype.stop=function(t,r){return r===void 0&&(r={}),this.stopCommand(this.get(t),r)},a.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},a.prototype.getActive=function(){return this.active},a.prototype.runCommand=function(t,r){r===void 0&&(r={});var o;if(t&&t.run){var l=this,v=l.em,w=l.config,C=t.id,E=v.Editor;(!this.isActive(C)||r.force||!w.strict)&&(o=E&&t.callRun(E,r),C&&t.stop&&!t.noStop&&!r.abort&&(this.active[C]=o))}return o},a.prototype.stopCommand=function(t,r){r===void 0&&(r={});var o;if(t&&t.run){var l=this,v=l.em,w=l.config,C=t.id,E=v.Editor;(this.isActive(C)||r.force||!w.strict)&&(C&&delete this.active[C],o=t.callStop(E,r))}return o},a.prototype.create=function(t){t.stop||(t.noStop=!0);var r=Kc.default.extend(t);return new r(this.config)},a.prototype.__onRun=function(t,r){var o=this,l=o.em,v=o.events;l.on("".concat(v.runCommand).concat(t),r)},a.prototype.__onStop=function(t,r){var o=this,l=o.em,v=o.events;l.on("".concat(v.stopCommand).concat(t),r)},a.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},a}(B);const Pv=Ev;var kv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ed="contentEditable",Av=function(p){kv(a,p);function a(t){var r=p.call(this,t)||this;(0,wt.bindAll)(r,"__render"),r.opt=t,r.module=t.module,r.config=t.config||{},r.sorter=t.sorter||"",r.parentView=t.parentView;var o=r,l=o.model,v=o.pfx,w=o.ppfx,C=l.get("type")||"default";return r.className="".concat(v,"layer ").concat(v,"layer__t-").concat(C," no-select ").concat(w,"two-color"),r.inputNameCls="".concat(w,"layer-name"),r.clsTitleC="".concat(v,"layer-title-c"),r.clsTitle="".concat(v,"layer-title"),r.clsCaret="".concat(v,"layer-caret"),r.clsCount="".concat(v,"layer-count"),r.clsMove="".concat(v,"layer-move"),r.clsChildren="".concat(v,"layer-children"),r.clsNoChild="".concat(v,"layer-no-chld"),r.clsEdit="".concat(r.inputNameCls,"--edit"),r.clsNoEdit="".concat(r.inputNameCls,"--no-edit"),r.initComponent(),r}return a.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},a.prototype.template=function(t){var r=this,o=r.pfx,l=r.ppfx,v=r.config,w=r.clsNoEdit,C=r.module,E=r.opt,j=r.em,Z=v.hidable,at=C.getComponents(t).length,Pt=at?"":this.clsNoChild,Nt="".concat(this.clsTitle," ").concat(Pt),re="".concat(this.clsTitleC),oe="".concat(this.inputNameCls," ").concat(w," ").concat(l,"no-app"),De=E.level||0,Ye="".concat(De*10,"px"),We=t.getName(),Sr=t.getIcon(),Br="".concat(o,"layer"),cn=(j==null?void 0:j.getConfig()).icons,wn=cn,Rr=wn.move,jn=wn.eye,Wn=wn.eyeOff,Gr=wn.chevron;return`
      <div class="`.concat(o,"layer-item ").concat(l,`one-bg" data-toggle-select>
        <div class="`).concat(o,`layer-item-left">
          `).concat(Z?'<i class="'.concat(o,`layer-vis" data-toggle-visible>
                <i class="`).concat(o,'layer-vis-on">').concat(jn,`</i>
                <i class="`).concat(o,'layer-vis-off">').concat(Wn,`</i>
              </i>`):"",`
          <div class="`).concat(re,`">
            <div class="`).concat(Nt,'" style="padding-left: ').concat(Ye,`">
              <div class="`).concat(o,'layer-title-inn" title="').concat(We,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(Gr,`</i>
                  `).concat(Sr?'<span class="'.concat(Br,'__icon">').concat(Sr,"</span>"):"",`
                <span class="`).concat(oe,'" data-name>').concat(We,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(o,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(at||"",`</div>
          <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(Rr||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),a.prototype.initComponent=function(){var t=this,r=this,o=r.model,l=r.config,v=l.onInit,w=o.components();this.listenTo(w,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(C){return t.listenTo(o,C[0],C[1])}),this.$el.data("model",o),this.$el.data("collection",w),o.viewLayer=this,v.bind(this)({component:o,render:this.__render,listenTo:this.listenTo})},a.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},a.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},a.prototype.updateVisibility=function(){var t=this,r=t.pfx,o=t.model,l=t.module,v="".concat(r,"layer-hidden"),w=!l.isVisible(o),C=w?"addClass":"removeClass";this.$el[C](v),this.getVisibilityEl()[C]("".concat(r,"layer-off"))},a.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var r=this,o=r.module,l=r.model;o.setVisible(l,!o.isVisible(l))},a.prototype.handleEdit=function(t){t==null||t.stopPropagation();var r=this,o=r.em,l=r.$el,v=r.clsNoEdit,w=r.clsEdit,C=this.getInputName();C[Ed]="true",C.focus(),document.execCommand("selectAll",!1),o.setEditing(!0),l.find(".".concat(this.inputNameCls)).removeClass(v).addClass(w)},a.prototype.handleEditKey=function(t){t.stopPropagation(),((0,He.kl)(t)||(0,He.r$)(t))&&this.handleEditEnd(t)},a.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var r=this,o=r.em,l=r.$el,v=r.clsNoEdit,w=r.clsEdit,C=this.getInputName(),E=C.textContent;C.scrollLeft=0,C[Ed]="false",this.setName(E,{component:this.model,propName:"custom-name"}),o.setEditing(!1),l.find(".".concat(this.inputNameCls)).addClass(v).removeClass(w),this.updateName()},a.prototype.setName=function(t,r){var o=r.propName;this.model.set(o,t)},a.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},a.prototype.updateOpening=function(){var t=this,r=t.$el,o=t.model,l=t.pfx,v="open",w="".concat(l,"layer-open"),C=this.getCaret();this.module.isOpen(o)?(r.addClass(v),C.addClass(w)):(r.removeClass(v),C.removeClass(w))},a.prototype.toggleOpening=function(t){var r=this,o=r.model,l=r.module;t==null||t.stopImmediatePropagation(),o.get("components").length&&l.setOpen(o,!l.isOpen(o))},a.prototype.handleSelect=function(t){t==null||t.stopPropagation();var r=this,o=r.module,l=r.model;o.setLayerData(l,{selected:!0},{event:t})},a.prototype.handleHover=function(t){t==null||t.stopPropagation();var r=this,o=r.module,l=r.model;o.setLayerData(l,{hovered:!0})},a.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var r=this,o=r.module,l=r.model;o.setLayerData(l,{hovered:!1})},a.prototype.startSort=function(t){var r,o,l;t.stopPropagation();var v=this,w=v.em,C=v.sorter,E=v.model;if(!(t.button&&t.button!==0)&&C){var j=((o=(r=E.delegate)===null||r===void 0?void 0:r.move)===null||o===void 0?void 0:o.call(r,E))||E;C.onStart=pg(w),C.onMoveClb=dg(w),C.onEndMove=_p(w,[j]);var Z=((l=j.viewLayer)===null||l===void 0?void 0:l.el)||t.target;C.startSort(Z)}},a.prototype.updateStatus=function(){Bi.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},a.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},a.prototype.checkChildren=function(){var t=this,r=t.model,o=t.clsNoChild,l=t.module,v=l.getComponents(r).length,w=this.getItemContainer(),C=w.find(".".concat(this.clsTitle)),E=w.find("[data-count]");C[v?"removeClass":"addClass"](o),E.html("".concat(v||"")),!v&&l.setOpen(r,!1)},a.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},a.prototype.setRoot=function(t){var r,o=(0,wt.isString)(t)?(r=this.em.getWrapper())===null||r===void 0?void 0:r.find(t)[0]:t;o&&(this.stopListening(),this.model=o,this.initComponent(),this._rendered&&this.render())},a.prototype.updateLayerable=function(){var t=this.parentView,r=t||this;r.render()},a.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},a.prototype.remove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return q.G7.prototype.remove.apply(this,t),this.__clearItems(),this},a.prototype.render=function(){var t=this,r=t.model,o=t.config,l=t.pfx,v=t.ppfx,w=t.opt,C=t.sorter;this.__clearItems();var E=w.opened,j=w.module,Z=w.ItemView,at=!j.__isLayerable(r),Pt=this.$el.empty(),Nt=w.level+1;delete this.inputName,this.items=new qc({ItemView:Z,collection:r.get("components"),config:o,sorter:C,opened:E,parentView:this,parent:r,level:Nt,module:j});var re=this.items.render().$el;return!o.showWrapper&&Nt===1?Pt.append(re):(Pt.html(this.template(r)),Pt.find(".".concat(this.clsChildren)).append(re)),(!r.get("draggable")||!o.sortable)&&Pt.children(".".concat(this.clsMove)).remove(),!j.isVisible(r)&&(this.className+=" ".concat(l,"hide")),at&&(this.className+=" ".concat(v,"hidden")),Pt.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},a.prototype.__render=function(){var t=this,r=t.model,o=t.config,l=t.el,v=o.onRender,w={component:r,el:l};v.bind(this)(w),this.em.trigger("layer:render",w)},a}(q.G7);const Mv=Av;var Lv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vh=function(){return vh=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},vh.apply(this,arguments)},hg="layer",gu="".concat(hg,":"),gg="".concat(gu,"root"),vg="".concat(gu,"component"),jv="".concat(gu,"custom"),tp={all:hg,root:gg,component:vg,custom:jv},mh={mediaText:""},Dv=["open","status","locked","custom-name","components","classes"].map(function(p){return"component:update:".concat(p)}).join(" "),Iv=function(p){return p===void 0&&(p={}),(p.display||"").trim().indexOf("none")===0},yh=function(p){Lv(a,p);function a(t){var r=p.call(this,t,"LayerManager",ec)||this;return r.events=tp,(0,wt.bindAll)(r,"componentChanged","__onRootChange","__onComponent"),r.model=new W.Z(r,{opened:{}}),r.config.stylePrefix=r.config.pStylePrefix,r}return a.prototype.onLoad=function(){var t=this,r=this,o=r.em,l=r.config,v=r.model;v.listenTo(o,"component:selected",this.componentChanged),v.on("change:root",this.__onRootChange),v.listenTo(o,Dv,this.__onComponent),this.componentChanged(),v.listenToOnce(o,"load",function(){t.setRoot(l.root),t.__appendTo()})},a.prototype.setRoot=function(t){var r=this.em.getWrapper(),o=(0,he.isComponent)(t)?t:r;return t&&(0,wt.isString)(t)&&(0,he.hasWin)()&&(o=r.find(t)[0]||r),this.model.set("root",o),o},a.prototype.getRoot=function(){return this.model.get("root")},a.prototype.getComponents=function(t){var r=this;return t.components().filter(function(o){return r.__isLayerable(o)})},a.prototype.setOpen=function(t,r){t.set("open",r)},a.prototype.isOpen=function(t){return!!t.get("open")},a.prototype.setVisible=function(t,r){var o="__prev-display",l=t.getStyle(mh),v=l.display;if(r){var w=t.get(o);delete l.display,w&&(l.display=w,t.unset(o))}else v&&t.set(o,v),l.display="none";t.setStyle(l,mh),this.updateLayer(t),this.em.trigger("component:toggled")},a.prototype.isVisible=function(t){return!Iv(t.getStyle(mh))},a.prototype.setLocked=function(t,r){t.set("locked",r)},a.prototype.isLocked=function(t){return!!t.get("locked")},a.prototype.setName=function(t,r){t.set("custom-name",r)},a.prototype.getName=function(t){return t.getName()},a.prototype.getLayerData=function(t){var r=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:r==="selected",hovered:r==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},a.prototype.setLayerData=function(t,r,o){var l;o===void 0&&(o={});var v=this,w=v.em,C=v.config,E=r.open,j=r.selected,Z=r.hovered,at=r.visible,Pt=r.locked,Nt=r.name,re=vh({fromLayers:!0},o);if((0,he.isDef)(E)&&this.setOpen(t,E),(0,he.isDef)(j))if(j){w.setSelected(t,re);var oe=C.scrollCanvas;oe&&((l=t.views)===null||l===void 0||l.forEach(function(De){return De.scrollIntoView(oe)}))}else w.removeSelected(t,re);(0,he.isDef)(Z)&&C.showHover&&(Z?w.setHovered(t,re):w.setHovered(null,re)),(0,he.isDef)(at)&&at!==this.isVisible(t)&&this.setVisible(t,at),(0,he.isDef)(Pt)&&this.setLocked(t,Pt),(0,he.isDef)(Nt)&&this.setName(t,Nt)},a.prototype.componentChanged=function(t,r){var o;if(r===void 0&&(r={}),!r.fromLayers){var l=this,v=l.em,w=l.config,C=w.scrollLayers,E=this.model.get("opened"),j=v.getSelected(),Z=j==null?void 0:j.parent();for(var at in E)E[at].set("open",!1),delete E[at];for(;Z;)Z.set("open",!0),E[Z.cid]=Z,Z=Z.parent();if(j&&C){var Pt=(o=j.viewLayer)===null||o===void 0?void 0:o.el;Pt==null||Pt.scrollIntoView(C)}}},a.prototype.getAll=function(){return this.view},a.prototype.render=function(){var t,r,o=this,l=o.config,v=o.model,w=Mv.extend(l.extend);return this.view=new w({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:w,level:0,config:l,opened:v.get("opened"),model:this.getRoot(),module:this}),(r=this.view)===null||r===void 0?void 0:r.render().el},a.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},a.prototype.__onRootChange=function(){var t,r=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(r),this.em.trigger(gg,r),this.__trgCustom()},a.prototype.__onComponent=function(t){this.updateLayer(t)},a.prototype.__isLayerable=function(t){var r=t.get("tagName"),o=this.config.hideTextnode,l=!o||!t.isInstanceOf("textnode")&&r!=="br";return l&&t.get("layerable")},a.prototype.__trgCustom=function(t){var r=this,o=r.__ctn,l=r.em,v=r.events;this.__ctn=o||(t==null?void 0:t.container),l.trigger(v.custom,{container:this.__ctn,root:this.getRoot()})},a.prototype.updateLayer=function(t,r){this.em.trigger(vg,t,r)},a}(B);const Nv=yh;var kl={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const rc=kl;var al=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bh=function(p){al(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.getDefaults=function(){return(0,wt.result)(this.prototype,"defaults")},a.prototype.defaults=function(){return{type:"",src:""}},a.prototype.getType=function(){return this.get("type")},a.prototype.getSrc=function(){return this.get("src")},a.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},a.prototype.getExtension=function(){return this.getFilename().split(".").pop()},a}(q.Hn);const zu=bh;bh.prototype.idAttribute="src";var mg=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xp=function(){return xp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},xp.apply(this,arguments)},Cp=function(p){mg(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return xp(xp({},zu.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},a}(zu);const Yp=Cp;var Fv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vv=function(p){Fv(a,p);function a(t){var r=p.call(this,t)||this;r.options=t,r.collection=t.collection;var o=t.config||{};r.config=o,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.em=o.em,r.className=r.pfx+"asset",r.listenTo(r.model,"destroy remove",r.remove),r.model.view=r;var l=r.init&&r.init.bind(r);return l&&l(t),r}return a.prototype.__getBhv=function(){var t=this.em,r=t==null?void 0:t.Assets;return(r==null?void 0:r.__getBehaviour())||{}},a.prototype.template=function(t,r){var o=this.pfx;return`
      <div class="`.concat(o,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(o,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(o,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},a.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,wt.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},a.prototype.getPreview=function(){return""},a.prototype.getInfo=function(){return""},a.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},a}(q.G7);const Rv=Vv;var Hv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),js=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Pd=function(p){Hv(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.getPreview=function(){var t=this,r=t.pfx,o=t.ppfx,l=t.model,v=l.get("src");return Pe(wh||(wh=js([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),r,v,r,o)},a.prototype.getInfo=function(){var t=this,r=t.pfx,o=t.model,l=o.get("name"),v=o.get("width"),w=o.get("height"),C=o.get("unitDim"),E=v&&w?"".concat(v,"x").concat(w).concat(C):"";return l=l||o.getFilename(),Pe(kd||(kd=js([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),r,l,r,E)},a.prototype.init=function(t){var r=this.pfx;this.className+=" ".concat(r,"asset-image")},a.prototype.onClick=function(){var t=this,r=t.model,o=t.pfx,l=this.__getBhv().select,v=this.config.onClick,w=this.collection;w.trigger("deselectAll"),this.$el.addClass(o+"highlight"),(0,wt.isFunction)(l)?l(r,!1):(0,wt.isFunction)(v)?v(r):this.updateTarget(w.target)},a.prototype.onDblClick=function(){var t=this,r=t.em,o=t.model,l=this.__getBhv().select,v=this.config.onDblClick,w=this.collection,C=w.target,E=w.onSelect;(0,wt.isFunction)(l)?l(o,!0):(0,wt.isFunction)(v)?v(o):(this.updateTarget(C),r==null||r.Modal.close()),(0,wt.isFunction)(E)&&E(o)},a.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},a}(Rv);const yg=Pd;Pd.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var wh,kd,bf=function(){return bf=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bf.apply(this,arguments)},Bv={types:[],initialize:function(p,a){var t=this;a===void 0&&(a={});var r=a.em;this.em=r,this.opts=a,this.model=function(l,v){l===void 0&&(l={}),v===void 0&&(v={});var w,C,E;if(l&&l.type){var j=t.getBaseType();E=t.getType(l.type),w=E?E.model:j.model,C=E?E.view:j.view}else{var Z=t.recognizeType(l);E=Z.type,w=E.model,C=E.view,l=Z.attributes}var at=new w(l,bf(bf({},v),{em:r}));return at.typeView=C,at};var o=this.init&&this.init.bind(this);o&&o()},recognizeType:function(p){for(var a=this.getTypes(),t=0;t<a.length;t++){var r=a[t],o=r.isType(p);if(o=typeof o=="boolean"&&o?{type:r.id}:o,o)return{type:r,attributes:o}}return{type:this.getBaseType(),attributes:p}},getBaseType:function(){var p=this.getTypes();return p[p.length-1]},getTypes:function(){return this.types},getType:function(p){for(var a=this.getTypes(),t=0;t<a.length;t++){var r=a[t];if(r.id===p)return r}},addType:function(p,a){var t=this.getType(p),r=this.getBaseType(),o=t?t.model:r.model,l=t?t.view:r.view,v=a.model,w=a.view,C=a.isType;v=v instanceof q.Hn||(0,wt.isFunction)(v)?v:o.extend(v||{}),w=w instanceof q.G7||(0,wt.isFunction)(w)?w:l.extend(w||{}),this.extendViewApi&&!a.model&&!a.view&&(w=w.extend(a)),t?(t.model=v,t.view=w,t.isType=C||t.isType):(a.id=p,a.model=v,a.view=w,a.isType=C||function(E){if(E&&E.type==p)return!0},this.getTypes().unshift(a))}};const bg=Bv;var wg=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uv=q.FE.extend(bg),_g=function(p){wg(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a}(Uv);const _h=_g;_g.prototype.types=[{id:"image",model:Yp,view:yg,isType:function(p){return typeof p=="string"?{type:"image",src:p}:p}}];var xh;(function(p){p.add="asset:add",p.remove="asset:remove",p.removeBefore="asset:remove:before",p.update="asset:update",p.open="asset:open",p.close="asset:close",p.uploadStart="asset:upload:start",p.uploadEnd="asset:upload:end",p.uploadError="asset:upload:error",p.uploadResponse="asset:upload:response",p.custom="asset:custom",p.all="asset"})(xh||(xh={}));const xg=xh;var zv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zp=function(p){zv(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.options=t,r.config=t.config,r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.em=r.config.em;var o=r.collection;return r.listenTo(o,"reset",r.renderAssets),r.listenTo(o,"add",r.addToAsset),r.listenTo(o,"remove",r.removedAsset),r.listenTo(o,"deselectAll",r.deselectAll),r}return a.prototype.template=function(t){var r=t.pfx,o=t.ppfx,l=t.em,v="";return this.config.showUrlInput&&(v=`
          <form class="`.concat(r,`add-asset">
            <div class="`).concat(o,"field ").concat(r,`add-field">
              <input placeholder="`).concat(l==null?void 0:l.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(o,'btn-prim">').concat(l==null?void 0:l.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(r,`assets-cont">
      <div class="`).concat(r,`assets-header">
        `).concat(v,`
      </div>
      <div class="`).concat(r,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},a.prototype.handleSubmit=function(t){t.preventDefault();var r=this.getAddInput(),o=r&&r.value.trim(),l=this.config.handleAdd;if(o){r.value="";var v=this.getAssetsEl();v&&(v.scrollTop=0),l?l.bind(this)(o):this.options.globalCollection.add(o,{at:0})}},a.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},a.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},a.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},a.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},a.prototype.addAsset=function(t,r){r===void 0&&(r=null);var o=r,l=this.collection,v=this.config,w=new t.typeView({model:t,collection:l,config:v}).render().el;if(o)o.appendChild(w);else{var C=this.getAssetsEl();C&&C.insertBefore(w,C.firstChild)}return w},a.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var r=this.$el.find(".".concat(this.pfx,"assets"));if(t)r.empty();else{var o=this.config.noAssets;o&&r.append(o)}},a.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},a.prototype.renderAssets=function(){var t=this,r=document.createDocumentFragment(),o=this.$el.find(".".concat(this.pfx,"assets"));o.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(l){return t.addAsset(l,r)}),o.append(r)},a.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},a}(q.G7);const Wv=Zp;Zp.prototype.events={submit:"handleSubmit"};var $v=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gv=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Cg=function(p){$v(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;r.options=t;var o=t.config||{};r.module=t.module,r.config=o,r.em=r.config.em,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.target=r.options.globalCollection||{},r.uploadId=r.pfx+"uploadFile",r.disabled=o.disableUpload!==void 0?o.disableUpload:!o.upload&&!o.embedAsBase64,r.multiUpload=o.multiUpload!==void 0?o.multiUpload:!0;var l=o.uploadFile;return l?r.uploadFile=l.bind(r):!o.upload&&o.embedAsBase64&&(r.uploadFile=a.embedAsBase64),r.delegateEvents(),r}return a.prototype.template=function(t){var r=t.pfx,o=t.title,l=t.uploadId,v=t.disabled,w=t.multiUpload;return Pe(Ch||(Ch=Gv([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),r,o,l,v?"disabled":"",w?"multiple":"")},a.prototype.events=function(){return{"change [data-input]":"uploadFile"}},a.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},a.prototype.onUploadEnd=function(t){var r=this,o=r.$el,l=r.module;l==null||l.__propEv(l.events.uploadEnd,t);var v=o.find("input");v&&v.val("")},a.prototype.onUploadError=function(t){var r=this.module;console.error(t),this.onUploadEnd(t),r==null||r.__propEv(r.events.uploadError,t)},a.prototype.onUploadResponse=function(t,r){var o=this,l=o.module,v=o.config,w=o.target,C;try{C=typeof t=="string"?JSON.parse(t):t}catch{C=t}l==null||l.__propEv(l.events.uploadResponse,C),v.autoAdd&&w&&w.add(C.data,{at:0}),this.onUploadEnd(t),r==null||r(C)},a.prototype.uploadFile=function(t,r){var o=this,l=t.dataTransfer?t.dataTransfer.files:t.target.files,v=this.config,w=v.beforeUpload,C=w&&w(l);if(C!==!1){var E=new FormData,j=v.params,Z=v.customFetch,at=v.fetchOptions;for(var Pt in j)E.append(Pt,j[Pt]);if(this.multiUpload)for(var Nt=0;Nt<l.length;Nt++)E.append("".concat(v.uploadName).concat(v.multiUploadSuffix),l[Nt]);else l.length&&E.append(v.uploadName,l[0]);var re=v.upload,oe=v.headers,De="X-Requested-With";if(typeof oe[De]>"u"&&(oe[De]="XMLHttpRequest"),re){this.onUploadStart();var Ye={method:"post",credentials:v.credentials||"include",headers:oe,body:E},We=(at==null?void 0:at(Ye))||Ye,Sr=Z?Z(re,We):Tn(re,We).then(function(Br){return(Br.status/200|0)==1?Br.text():Br.text().then(function(cn){return Promise.reject(cn)})});return Sr.then(function(Br){return o.onUploadResponse(Br,r)}).catch(function(Br){return o.onUploadError(Br)})}}},a.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var r=this.uploadForm;"draggable"in r&&(this.uploadForm.ondragover=function(){return r.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return r.className="",!1},this.uploadForm.ondrop=function(o){r.className="",o.preventDefault(),t.uploadFile(o)})}},a.prototype.initDropzone=function(t){var r=this,o=0,l=this.config,v=t.model,w=t.el,C=v.Editor,E=v.Canvas.getBody(),j=this.ppfx,Z="".concat(j,"dropzone-active"),at="".concat(j,"dropzone"),Pt=function(){w.className=w.className.replace(Z,"").trim(),o=0},Nt=function(){return o||(w.className+=" ".concat(Z),o=1),!1},re=function(){return Pt(),!1},oe=function(De){if(Pt(),De.preventDefault(),De.stopPropagation(),r.uploadFile(De),l.openAssetsOnDrop&&C){var Ye=C.getSelected();C.runCommand("open-assets",{target:Ye,onSelect:function(){C.Modal.close(),C.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(at,'">').concat(l.dropzoneContent,"</div>")),Pt(),"draggable"in w&&[w,E].forEach(function(De){De.ondragover=Nt,De.ondragleave=re,De.ondrop=oe})},a.prototype.render=function(){var t=this,r=t.$el,o=t.pfx,l=t.em;return r.html(this.template({title:l&&l.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:o})),this.initDrop(),r.attr("class",o+"file-uploader"),this},a.embedAsBase64=function(t,r){var o=this,l=t.dataTransfer?t.dataTransfer.files:t.target.files,v={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var w=[],C=/^(.+)\/(.+)$/,E=function(Pt){var Nt=new Promise(function(re,oe){var De=new FileReader;De.addEventListener("load",function(Ye){var We,Sr=Pt.name,Br=C.exec(Pt.type);if(Br?We=Br[1]:We=Pt.type,We==="image"){var cn={src:De.result,name:Sr,type:We,height:0,width:0},wn=new Image;wn.addEventListener("error",function(Rr){oe(Rr)}),wn.addEventListener("load",function(){cn.height=wn.height,cn.width=wn.width,re(cn)}),wn.src=cn.src}else re(We?{src:De.result,name:Sr,type:We}:De.result)}),De.addEventListener("error",function(Ye){oe(Ye)}),De.addEventListener("abort",function(Ye){oe("Aborted")}),De.readAsDataURL(Pt)});w.push(Nt)},j=0,Z=l;j<Z.length;j++){var at=Z[j];E(at)}return Promise.all(w).then(function(Pt){v.data=Pt,o.onUploadResponse(v,r)},function(Pt){o.onUploadError(Pt)})},a}(q.G7);const Sg=Cg;var Ch,Og=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ep=function(){return ep=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ep.apply(this,arguments)},Sh=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},rp="open-assets",Oh=function(p){Og(a,p);function a(t){var r=p.call(this,t,"AssetManager",new _h([],t),xg,rc)||this;r.storageKey="assets",r.Asset=zu,r.Assets=_h,r.events=xg;var o=r,l=o.all,v=o.config;r.assetsVis=new _h([]);var w=v.pStylePrefix;return w&&(v.stylePrefix="".concat(w).concat(v.stylePrefix)),l.on("add",function(C){return r.getAllVisible().add(C)}),l.on("remove",function(C){return r.getAllVisible().remove(C)}),r.__onAllEvent=(0,wt.debounce)(function(){return r.__trgCustom()},0),r}return a.prototype.open=function(t){t===void 0&&(t={});var r=this.em.Commands;r.run(rp,ep({types:["image"],select:function(){}},t))},a.prototype.close=function(){var t=this.em.Commands;t.stop(rp)},a.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(rp))},a.prototype.add=function(t,r){return r===void 0&&(r={}),typeof r.at>"u"&&(r.at=0),this.all.add(t,r)},a.prototype.get=function(t){return this.all.where({src:t})[0]||null},a.prototype.getAll=function(){return this.all},a.prototype.getAllVisible=function(){return this.assetsVis},a.prototype.remove=function(t,r){return this.__remove(t,r)},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(t){return this.loadProjectData(t)},a.prototype.getContainer=function(){var t,r=this.__getBehaviour();return r.container||((t=this.am)===null||t===void 0?void 0:t.el)},a.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},a.prototype.render=function(t){if(!this.getConfig().custom){var r=t||this.getAll().models;if(!this.am){var o=this.__viewParams();o.fu=this.FileUploader(),this.am=new Wv(ep({},o)),this.am.render()}return this.assetsVis.reset(r),this.getContainer()}},a.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},a.prototype.addType=function(t,r){this.getAll().addType(t,r)},a.prototype.getType=function(t){return this.getAll().getType(t)},a.prototype.getTypes=function(){return this.getAll().getTypes()},a.prototype.AssetsView=function(){return this.am},a.prototype.FileUploader=function(){return this.fu||(this.fu=new Sg(this.__viewParams())),this.fu},a.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var r=this,o=r.em,l=r.events;o.Commands.__onRun(rp,function(){return t.__propEv(l.open)}),o.Commands.__onStop(rp,function(){return t.__propEv(l.close)})},a.prototype.postRender=function(t){var r;this.config.dropzone&&((r=this.fu)===null||r===void 0||r.initDropzone(t))},a.prototype.setTarget=function(t){this.assetsVis.target=t},a.prototype.onSelect=function(t){this.assetsVis.onSelect=t},a.prototype.onClick=function(t){this.config.onClick=t},a.prototype.onDblClick=function(t){this.config.onDblClick=t},a.prototype.__propEv=function(t){for(var r,o,l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];(r=this.em).trigger.apply(r,Sh([t],l,!1)),(o=this.getAll()).trigger.apply(o,Sh([t],l,!1))},a.prototype.__trgCustom=function(){var t=this.__getBehaviour(),r=this.getConfig().custom;!t.container&&!r.open||this.em.trigger(this.events.custom,this.__customData())},a.prototype.__customData=function(){var t=this,r=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:r.types||[],container:r.container,close:function(){return t.close()},remove:function(o,l){return t.remove(o,l)},select:function(o,l){var v=t.add(o);(0,wt.isFunction)(r.select)&&r.select(v,l)},options:r.options||{}}},a.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=ep(ep({},this._bhv||{}),t)},a.prototype.__getBehaviour=function(t){return this._bhv||{}},a.prototype.destroy=function(){var t,r;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(r=this.am)===null||r===void 0||r.remove(),this._bhv={}},a}(V);const Th=Oh;var qv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tg=function(p){qv(a,p);function a(t,r){r===void 0&&(r={});var o=p.call(this,t,r)||this,l=r.em,v={};o.em=l,t.frames||(v.component=t.component,v.styles=t.styles,["component","styles"].map(function(E){return o.unset(E)}));var w=t.frames||[v],C=new Qe(l.Canvas,w);return C.page=o,o.set("frames",C),!o.getId()&&o.set("id",l==null?void 0:l.Pages._createId()),l==null||l.UndoManager.add(C),o}return a.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},a.prototype.onRemove=function(){this.getFrames().reset()},a.prototype.getFrames=function(){return this.get("frames")},a.prototype.getId=function(){return this.id},a.prototype.getName=function(){return this.get("name")},a.prototype.setName=function(t){return this.set({name:t})},a.prototype.getAllFrames=function(){return this.getFrames().models||[]},a.prototype.getMainFrame=function(){return this.getFrames().at(0)},a.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},a.prototype.toJSON=function(t){t===void 0&&(t={});var r=q.Hn.prototype.toJSON.call(this,t),o=(0,wt.result)(this,"defaults");return(0,wt.forEach)(r,function(l,v){v.indexOf("_")===0&&delete r[v]}),(0,wt.forEach)(o,function(l,v){r[v]===l&&delete r[v]}),r},a}(q.Hn);const Eh=Tg;var Eg=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xp=function(){return Xp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Xp.apply(this,arguments)},Kv=function(p){Eg(a,p);function a(t,r){var o=p.call(this,t)||this;return o.on("reset",o.onReset),o.on("remove",o.onRemove),o.model=function(l,v){return v===void 0&&(v={}),new Eh(l,Xp(Xp({},v),{em:r}))},o}return a.prototype.onReset=function(t,r){var o=this,l;(l=r==null?void 0:r.previousModels)===null||l===void 0||l.map(function(v){return o.onRemove(v)})},a.prototype.onRemove=function(t){t==null||t.onRemove()},a}(q.FE);const Pg=Kv;var Yv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kg=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Ag="change:selected",Mg="main",Sp=function(p){Yv(a,p);function a(t){var r=p.call(this,t,"PageManager",new Pg([],t),Nr)||this;r.events=Nr,r.storageKey="pages",(0,wt.bindAll)(r,"_onPageChange");var o=new W.Z({_undo:!0});return r.model=o,r.pages.on("reset",function(l){return l.at(0)&&r.select(l.at(0))}),r.pages.on("all",r.__onChange,r),o.on(Ag,r._onPageChange),r}return Object.defineProperty(a.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),a.prototype.getAll=function(){return kg([],this.all.models,!0)},a.prototype.__onChange=function(t,r,o,l){var v=this,w=v.em,C=v.events,E=l||o;w.trigger(C.all,{event:t,page:r,options:E})},a.prototype.onLoad=function(){var t,r=this,o=r.pages,l=r.config,v=r.em,w={silent:!0},C=((t=l.pages)===null||t===void 0?void 0:t.map(function(j){return new Eh(j,{em:v,config:l})}))||[];o.add(C,w);var E=o.length?this._initPage():this.add({type:Mg},w);E&&this.select(E,w)},a.prototype._onPageChange=function(t,r,o){var l=this,v=l.em,w=l.events,C=v.Layers,E=r.getMainComponent();C&&E&&C.setRoot(E),v.trigger(w.select,r,t.previous("selected")),this.__onChange(Ag,r,o)},a.prototype.postLoad=function(){var t=this,r=t.em,o=t.model,l=t.pages,v=r.UndoManager;v.add(o),v.add(l),l.on("add remove reset change",function(w,C,E){return r.changesUp(E||C)})},a.prototype.add=function(t,r){var o=this;r===void 0&&(r={});var l=this,v=l.em,w=l.events;t.id=t.id||this._createId();var C=function(){var E=o.pages.add(new Eh(t,{em:o.em,config:o.config}),r);return r.select&&o.select(E),E};return!r.silent&&v.trigger(w.addBefore,t,C,r),r.abort?void 0:C()},a.prototype.remove=function(t,r){var o=this;r===void 0&&(r={});var l=this,v=l.em,w=l.events,C=(0,wt.isString)(t)?this.get(t):t,E=function(){return C&&o.pages.remove(C,r),C};return!r.silent&&v.trigger(w.removeBefore,C,E,r),!r.abort&&E()},a.prototype.get=function(t){return this.pages.filter(function(r){return r.get(r.idAttribute)===t})[0]},a.prototype.getMain=function(){var t=this.pages;return t.filter(function(r){return r.get("type")===Mg})[0]||t.at(0)},a.prototype.getAllWrappers=function(){var t=this.getAll();return(0,wt.unique)((0,wt.flatten)(t.map(function(r){return r.getAllFrames().map(function(o){return o.getComponent()})})))},a.prototype.select=function(t,r){r===void 0&&(r={});var o=this,l=o.em,v=o.model,w=o.events,C=(0,wt.isString)(t)?this.get(t):t;return C&&(l.trigger(w.selectBefore,C,r),v.set("selected",C,r)),this},a.prototype.getSelected=function(){return this.model.get("selected")},a.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(r){return t[r]=0})},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(t){var r=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(o){return o.getFrames().initRefs()}),r},a.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},a.prototype._createId=function(){var t=this.getAll(),r=t.length+16,o=this.getAllMap(),l;do l=(0,he.createId)(r);while(o[l]);return l},a}(V);const Zv=Sp;var Ph={placeholder:"eg. Text here"},Xv={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Ph,alt:Ph,title:Ph,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const Jv=Xv;var Jp;(function(p){p.add="i18n:add",p.update="i18n:update",p.locale="i18n:locale"})(Jp||(Jp={}));const Qv=Jp;var tm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),em=function(p){tm(a,p);function a(t){var r=p.call(this,t,"I18n",Jv)||this;r.events=Qv;var o=r.config.messagesAdd;return o&&r.addMessages(o),r.config.detectLocale&&(r.config.locale=r._localLang()),r}return a.prototype.setLocale=function(t){var r=this,o=r.em,l=r.config,v=r.events;return o.trigger(v.locale,{value:t,valuePrev:l.locale}),l.locale=t,this},a.prototype.getLocale=function(){return this.config.locale},a.prototype.getMessages=function(t,r){r===void 0&&(r={});var o=this.config.messages;return t&&!o[t]&&this._debug("'".concat(t,"' i18n lang not found"),r),t?o[t]:o},a.prototype.setMessages=function(t){var r=this,o=r.em,l=r.config,v=r.events;return l.messages=t,o.trigger(v.update,t),this},a.prototype.addMessages=function(t){var r=this,o=r.em,l=r.events,v=r.config,w=v.messages;return o.trigger(l.add,t),this.setMessages((0,he.deepMerge)(w,t)),this},a.prototype.t=function(t,r){r===void 0&&(r={});var o=this.config,l=r.params||{},v=r.l||this.getLocale(),w=r.lFlb||o.localeFallback,C=this._getMsg(t,v,r);return C||(C=this._getMsg(t,w,r)),!C&&this._debug("'".concat(t,"' i18n key not found in '").concat(v,"' lang"),r),C=C&&(0,wt.isString)(C)?this._addParams(C,l):C,C},a.prototype._localLang=function(){var t=(0,he.hasWin)()&&window.navigator||{},r=t.language||t.userLanguage;return r?r.split("-")[0]:"en"},a.prototype._addParams=function(t,r){var o=new RegExp("{([\\w\\d-]*)}","g");return t.replace(o,function(l,v){return r[v]||""}).trim()},a.prototype._getMsg=function(t,r,o){o===void 0&&(o={});var l=this.getMessages(r,o);if(l){var v=l[t];return!v&&t.indexOf(".")>0&&(v=t.split(".").reduce(function(w,C){if(!(0,wt.isUndefined)(w))return w[C]},l)),v}},a.prototype._debug=function(t,r){r===void 0&&(r={});var o=this,l=o.em,v=o.config;(r.debug||v.debug)&&l&&l.logWarning(t)},a.prototype.destroy=function(){},a}(B);const rm=em;var nm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vu=function(){return vu=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},vu.apply(this,arguments)},om=function(){},im=Wt.q.Target,Lg={id:"sorter-target",type:im},am=function(p){nm(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,wt.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var r=t||{};this.elT=0,this.elL=0,this.borderOffset=r.borderOffset||10;var o=r.container;this.el=typeof o=="string"?document.querySelector(o):o,this.$el=(0,ut.default)(this.el),this.containerSel=r.containerSel||"div",this.itemSel=r.itemSel||"div",this.draggable=r.draggable||!0,this.nested=!!r.nested,this.pfx=r.pfx||"",this.ppfx=r.ppfx||"",this.freezeClass=r.freezeClass||this.pfx+"freezed",this.onStart=r.onStart||om,this.onEndMove=r.onEndMove,this.customTarget=r.customTarget,this.onEnd=r.onEnd,this.direction=r.direction||"v",this.onMoveClb=r.onMove,this.relative=r.relative||!1,this.ignoreViewChildren=!!r.ignoreViewChildren,this.plh=r.placer,this.wmargin=r.wmargin||0,this.offTop=r.offsetTop||0,this.offLeft=r.offsetLeft||0,this.document=r.document||document,this.em=r.em,this.canvasRelative=!!r.canvasRelative,this.selectOnEnd=!r.avoidSelectOnEnd,this.scale=r.scale;var l=this.em;l!=null&&l.on&&(l.on(l.Canvas.events.refresh,this.updateOffset),this.updateOffset())},a.prototype.getScale=function(){return(0,wt.result)(this,"scale")||1},a.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var r=this.opt.container;this.el=typeof r=="string"?document.querySelector(r):r,this.$el=(0,ut.default)(this.el)}return this.el},a.prototype.getDocuments=function(t){var r=this.em,o=t?t.ownerDocument:r==null?void 0:r.Canvas.getBody().ownerDocument,l=[document];return o&&l.push(o),l},a.prototype.updateOffset=function(){var t,r=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=r.top,this.offLeft=r.left},a.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},a.prototype.updateTextViewCursorPosition=function(t){var r=this.em;if(r){var o=r.Canvas,l=o.getDocument(),v=null;if(l.caretRangeFromPoint){var w=(0,He.VB)(t);v=l.caretRangeFromPoint(w.clientX,w.clientY)}else t.rangeParent&&(v=l.createRange(),v.setStart(t.rangeParent,t.rangeOffset));var C=o.getWindow().getSelection();o.getFrameEl().focus(),C==null||C.removeAllRanges(),v&&(C==null||C.addRange(v)),this.setContentEditable(this.activeTextModel,!0)}},a.prototype.setContentEditable=function(t,r){if(t){var o=t.getEl();o.contentEditable!=r&&(o.contentEditable=r)}},a.prototype.toggleSortCursor=function(t){var r=this.em,o=r==null?void 0:r.Canvas;o&&(t?o.startAutoscroll():o.stopAutoscroll())},a.prototype.setDragHelper=function(t,r){for(var o=r||"",l=t.cloneNode(!0),v=t.getBoundingClientRect(),w=getComputedStyle(t),C="",E=0;E<w.length;E++){var j=w[E];C+="".concat(j,":").concat(w.getPropertyValue(j),";")}if(document.body.appendChild(l),l.className+=" ".concat(this.pfx,"bdrag"),l.setAttribute("style",C),this.dragHelper=l,l.style.width="".concat(v.width,"px"),l.style.height="".concat(v.height,"px"),o&&this.moveDragHelper(o),this.em){var Z=(0,ut.default)(this.em.Canvas.getBody().ownerDocument);Z.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,ut.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},a.prototype.moveDragHelper=function(t){var r=t.target.ownerDocument;if(!(!this.dragHelper||!r)){var o=t.pageY,l=t.pageX,v=0,w=0,C=r.defaultView||r.parentWindow,E=C.frameElement,j=this.dragHelper.style;if(E){var Z=E.getBoundingClientRect();v=Z.top+document.documentElement.scrollTop,w=Z.left+document.documentElement.scrollLeft,o=t.clientY,l=t.clientX}j.top=o+v+"px",j.left=l+w+"px"}},a.prototype.matches=function(t,r){return he.matches.call(t,r)},a.prototype.closest=function(t,r){if(t)for(var o=t.parentNode;o&&o.nodeType===1;){if(this.matches(o,r))return o;o=o.parentNode}},a.prototype.offset=function(t){var r=t.getBoundingClientRect();return{top:r.top+document.body.scrollTop,left:r.left+document.body.scrollLeft}},a.prototype.createPlaceholder=function(){var t=this.pfx,r=document.createElement("div"),o=document.createElement("div");return r.className=t+"placeholder",r.style.display="none",r.style.pointerEvents="none",o.className=t+"placeholder-int",r.appendChild(o),r},a.prototype.startSort=function(t,r){var o,l;r===void 0&&(r={});var v=this,w=v.em,C=v.itemSel,E=v.containerSel,j=v.plh,Z=this.getContainerEl(r.container),at=this.getDocuments(t),Pt;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(C,", ").concat(E))&&(t=this.closest(t,C)),this.sourceEl=t,j||(this.plh=this.createPlaceholder(),Z.appendChild(this.plh)),t&&(Pt=this.getSourceModel(t),Pt!=null&&Pt.set&&Pt.set("status","freezed"),this.srcModel=Pt),(0,He.on)(Z,"mousemove dragover",this.onMove),(0,He.on)(at,"mouseup dragend touchend",this.endMove),(0,He.on)(at,"keydown",this.rollback),this.onStart({sorter:this,target:Pt,parent:Pt&&((o=Pt.parent)===null||o===void 0?void 0:o.call(Pt)),index:Pt&&((l=Pt.index)===null||l===void 0?void 0:l.call(Pt))}),w==null||w.clearSelection(),this.toggleSortCursor(!0),w==null||w.trigger("sorter:drag:start",t,Pt)},a.prototype.getTargetModel=function(t){var r=t||this.target;return(0,ut.default)(r).data("model")},a.prototype.getSourceModel=function(t,r){var o=this,l=r===void 0?{}:r,v=l.target,w=l.avoidChildren,C=w===void 0?1:w,E=this,j=E.em,Z=E.sourceEl,at=t||Z,Pt=this,Nt=Pt.dropModel,re=Pt.dropContent,oe=function(Sr){return Sr&&v&&Sr.opt&&Sr.opt.avoidChildren&&o.isTextableActive(Sr,v)};if(re&&j){if(oe(Nt)&&(Nt=void 0),!Nt){var De=j.Components.getComponents(),Ye={avoidChildren:C,avoidStore:1,avoidUpdateStyle:1},We=De.add(re,vu(vu({},Ye),{temporary:!0}));if(Nt=De.remove(We,Ye),Nt=Nt instanceof Array?Nt[0]:Nt,this.dropModel=Nt,oe(Nt))return this.getSourceModel(at,{target:v,avoidChildren:0})}return Nt}return at&&(0,ut.default)(at).data("model")},a.prototype.selectTargetModel=function(t,r){if(!(t instanceof q.FE)&&!(r&&r===t)){var o=this.targetModel;if(o&&o!==this.srcModel&&o.set("status",""),t!=null&&t.set){var l=this.em.Canvas,v=Wt.q.Select,w=Wt.q.Hover,C=Wt.q.Spacing;[v,w,C].forEach(function(E){return l.removeSpots({type:E})}),l.addSpot(vu(vu({},Lg),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},a.prototype.onMove=function(t){var r=t,o=this,l=o.em,v=o.onMoveClb,w=o.plh,C=o.customTarget;this.moved=!0;var E=w.style.display;(!E||E==="none")&&(w.style.display="block");var j=this.offset(this.el);this.elT=this.wmargin?Math.abs(j.top):j.top,this.elL=this.wmargin?Math.abs(j.left):j.left;var Z=t.pageY-this.elT+this.el.scrollTop,at=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&l){var Pt=l.Canvas.getMouseRelativeCanvas(t,{noScroll:1});at=Pt.x,Z=Pt.y}this.rX=at,this.rY=Z,this.eventMove=t;var Nt=this.getSourceModel(),re=C?C({sorter:this,event:t}):t.target,oe=this.dimsFromTarget(re,at,Z),De=this.target,Ye=De&&this.getTargetModel(De);if(this.selectTargetModel(Ye,Nt),Ye||(w.style.display="none"),!!De){this.lastDims=oe;var We=this.findPosition(oe,at,Z);this.isTextableActive(Nt,Ye)?(this.activeTextModel=Ye,w.style.display="none",this.lastPos=We,this.updateTextViewCursorPosition(r)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=We.index||this.lastPos.method!=We.method)&&(this.movePlaceholder(this.plh,oe,We,this.prevTargetDim),this.$plh||(this.$plh=(0,ut.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=We)),(0,wt.isFunction)(v)&&v({event:t,target:Nt,parent:Ye,index:We.index+(We.method=="after"?1:0)}),l&&l.trigger("sorter:drag",{target:De,targetModel:Ye,sourceModel:Nt,dims:oe,pos:We,x:at,y:Z})}},a.prototype.isTextableActive=function(t,r){var o;return((o=t==null?void 0:t.get)===null||o===void 0?void 0:o.call(t,"textable"))&&(r==null?void 0:r.isInstanceOf("text"))},a.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},a.prototype.isInFlow=function(t,r){if(!t)return!1;r=r||document.body;var o=t;return o.offsetHeight,!!this.styleInFlow(o,r)},a.prototype.styleInFlow=function(t,r){if(!(0,He.BM)(t)){var o=t.style||{},l=(0,ut.default)(t),v=r&&(0,ut.default)(r);if(!(o.overflow&&o.overflow!=="visible")){var w=l.css("float");if(!(w&&w!=="none")&&!(v&&v.css("display")=="flex"&&v.css("flex-direction")!=="column")){switch(o.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(l.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},a.prototype.validTarget=function(t,r){var o=this.getTargetModel(t),l=this.getSourceModel(r,{target:o});r=l&&l.view&&l.view.el,t=o&&o.view&&o.view.el;var v={valid:!0,src:r,srcModel:l,trg:t,trgModel:o,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!r||!t)return v.valid=!1,v;var w=l.get("draggable");if((0,wt.isFunction)(w)){var C=w(l,o);v.dragInfo=C,v.draggable=C,w=C}else w=w instanceof Array?w.join(", "):w,v.dragInfo=w,w=(0,wt.isString)(w)?this.matches(t,w):w,v.draggable=w;var E=o.get("droppable");if((0,wt.isFunction)(E)){var C=E(l,o);v.droppable=C,v.dropInfo=C,E=C}else E=E instanceof q.FE?1:E,E=E instanceof Array?E.join(", "):E,v.dropInfo=E,E=(0,wt.isString)(E)?this.matches(r,E):E,E=w&&this.isTextableActive(l,o)?1:E,v.droppable=E;return(!E||!w)&&(v.valid=!1),v},a.prototype.dimsFromTarget=function(t,r,o){r===void 0&&(r=0),o===void 0&&(o=0);var l=this.em,v=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return v;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var w=this.validTarget(t);if(l&&l.trigger("sorter:drag:validation",w),!w.valid&&this.targetP)return this.dimsFromTarget(this.targetP,r,o);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(v=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,r,o)||!this.nested&&!this.cacheDims.length){var C=this.targetP;C&&this.validTarget(C).valid&&(v=this.cacheDimsP,this.target=C)}return delete this.lastPos,v},a.prototype.getTargetFromEl=function(t){var r=t,o,l=this.targetPrev,v=this.em,w=this.containerSel,C=this.itemSel;if(this.matches(r,"".concat(C,", ").concat(w))||(r=this.closest(r,C)),this.draggable instanceof Array&&(r=this.closest(r,this.draggable.join(","))),l&&l!=r&&delete this.targetPrev,!this.targetPrev){o=this.closest(r,w);var E=this.validTarget(r);if(v&&v.trigger("sorter:drag:validation",E),!E.valid&&o)return this.getTargetFromEl(o);this.targetPrev=r}return this.nearElBorders(r)&&(o=this.closest(r,w),o&&this.validTarget(o).valid&&(r=o)),r},a.prototype.nearElBorders=function(t){var r=10,o=t.getBoundingClientRect(),l=t.ownerDocument.body,v=this.getCurrentPos(),w=v.x,C=v.y,E=o.top+l.scrollTop,j=o.left+l.scrollLeft,Z=o.width,at=o.height;if(C<E+r||C>E+at-r||w<j+r||w>j+Z-r)return 1},a.prototype.getCurrentPos=function(){var t=this.eventMove,r=(t==null?void 0:t.pageX)||0,o=(t==null?void 0:t.pageY)||0;return{x:r,y:o}},a.prototype.getDim=function(t){var r=this,o=r.em,l=r.canvasRelative,v=o==null?void 0:o.Canvas,w=v?v.getElementOffsets(t):{},C,E,j,Z;if(l&&o){var at=v.getElementPos(t,{noScroll:1});C=at.top,E=at.left,j=at.height,Z=at.width}else{var Pt=this.offset(t);C=this.relative?t.offsetTop:Pt.top-(this.wmargin?-1:1)*this.elT,E=this.relative?t.offsetLeft:Pt.left-(this.wmargin?-1:1)*this.elL,j=t.offsetHeight,Z=t.offsetWidth}return{top:C,left:E,height:j,width:Z,offsets:w}},a.prototype.getChildrenDim=function(t){var r=this,o=[];if(!t)return o;var l=this.getTargetModel(t);if(l&&l.view&&!this.ignoreViewChildren){var v=l.getCurrentView?l.getCurrentView():l.view;t=v.getChildrenContainer()}return(0,wt.each)(t.children,function(w,C){var E=w,j=(0,he.getModel)(E,ut.default),Z=j&&j.index?j.index():C;if(!(!(0,He.BM)(E)&&!r.matches(E,r.itemSel))){var at=r.getDim(E),Pt=r.direction,Nt;Pt=="v"?Nt=!0:Pt=="h"?Nt=!1:Nt=r.isInFlow(E,t),at.dir=Nt,at.el=E,at.indexEl=Z,o.push(at)}}),o},a.prototype.nearBorders=function(t,r,o){var l=!1,v=this.borderOffset,w=r||0,C=o||0,E=t.top,j=t.left,Z=t.height,at=t.width;return(E+v>C||C>E+Z-v||j+v>w||w>j+at-v)&&(l=!0),l},a.prototype.findPosition=function(t,r,o){for(var l={index:0,indexEl:0,method:"before"},v=0,w=0,C=0,E=0,j=0,Z=0,at=0,Pt,Nt=0,re=t.length;Nt<re;Nt++){Pt=t[Nt];var oe=Pt.top,De=Pt.left,Ye=Pt.height,We=Pt.width;if(C=De+We,at=oe+Ye,j=De+We/2,Z=oe+Ye/2,!(w&&De>w||E&&Z>=E||v&&C<v))if(l.index=Nt,l.indexEl=Pt.indexEl,!Pt.dir)o<at&&(E=at),r<j?(w=j,l.method="before"):(v=j,l.method="after");else if(o<Z){l.method="before";break}else l.method="after"}return l},a.prototype.movePlaceholder=function(t,r,o,l){var v=0,w=0,C=0,E="",j="",Z="px",at=5,Pt=o.method,Nt=r[o.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),Nt){var re=Nt.top,oe=Nt.left,De=Nt.height,Ye=Nt.width;Nt.dir?(E=Ye+Z,j="auto",w=Pt=="before"?re-v:re+De-v,C=oe):(E="auto",j=De-v*2+Z,w=re+v,C=Pt=="before"?oe-v:oe+Ye-v,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(l){var We=l.offsets||{},Sr=We.paddingTop||at,Br=We.paddingLeft||at,cn=We.borderTopWidth||0,wn=We.borderLeftWidth||0,Rr=We.borderRightWidth||0,jn=wn+Rr;w=l.top+Sr+cn,C=l.left+Br+wn,E=parseInt("".concat(l.width))-Br*2-jn+Z,j="auto"}}t.style.top=w+Z,t.style.left=C+Z,E&&(t.style.width=E),j&&(t.style.height=j)},a.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},a.prototype.sort=function(t,r){var o=t.parents.filter(function(C){return r.parents.includes(C)}),l=o[0];if(!l)return r.model.index()-t.model.index();var v=t.parents[t.parents.indexOf(l)-1],w=r.parents[r.parents.indexOf(l)-1];return w.index()-v.index()},a.prototype.endMove=function(){var t=this,r,o=this.sourceEl,l=[],v=this.getDocuments(),w=this.getContainerEl(),C=this.onEndMove,E=this.onEnd,j=this,Z=j.target,at=j.lastPos,Pt;if((0,He.S1)(w,"mousemove dragover",this.onMove),(0,He.S1)(v,"mouseup dragend touchend",this.endMove),(0,He.S1)(v,"keydown",this.rollback),this.plh.style.display="none",o&&(Pt=this.getSourceModel()),this.moved&&Z){var Nt=this.toMove,re=(0,wt.isArray)(Nt)?Nt:Nt?[Nt]:[o],oe=0;re.length===1?l.push(this.move(Z,re[0],at)):re.map(function(We){return{model:We,parents:t.parents(We)}}).sort(this.sort).forEach(function(We){var Sr=We.model,Br=Sr.index(),cn=Sr.parent().getEl();l.push(t.move(Z,Sr,vu(vu({},at),{indexEl:at.indexEl-oe,index:at.index-oe}))),cn===Z&&Br<=at.index&&oe++})}this.plh&&(this.plh.style.display="none");var De=this.dragHelper;if(De&&(De.parentNode.removeChild(De),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(r=this.em)===null||r===void 0||r.Canvas.removeSpots(Lg),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,wt.isFunction)(C)){var Ye={target:Pt,parent:Pt&&Pt.parent(),index:Pt&&Pt.index()};l.length?l.forEach(function(We){return C(We,t,Ye)}):C(null,this,vu(vu({},Ye),{cancelled:1}))}(0,wt.isFunction)(E)&&E({sorter:this})},a.prototype.move=function(t,r,o){var l=this,v=l.em,w=l.dropContent,C=(0,he.getElement)(r),E=[],j=o.method==="after"?o.indexEl+1:o.indexEl,Z=this.validTarget(t,C),at=(0,ut.default)(t).data("collection"),Pt=Z.trgModel,Nt=Z.srcModel,re=Z.draggable,oe=Pt instanceof q.FE?1:Z.droppable,De,Ye;if(at&&oe&&re){var We={at:j,action:"move-component"},Sr=this.isTextableActive(Nt,Pt);if(w)De=(0,wt.isFunction)(w)?w():w,We.avoidUpdateStyle=!0,We.action="add-component";else{var Br=Nt.collection.indexOf(Nt),cn=at===Nt.collection,wn=Br===j||Br===j-1,Rr=!cn||!wn||Sr;Rr&&(De=Nt.collection.remove(Nt,{temporary:!0}),cn&&j>Br&&(We.at=j-1))}De&&(Sr?(delete We.at,Ye=Pt.getView().insertComponent(De,We)):Ye=at.add(De,We)),delete this.dropContent,delete this.prevTarget}else if(v){var jn=Z.dropInfo||(Pt==null?void 0:Pt.get("droppable")),Wn=Z.dragInfo||(Nt==null?void 0:Nt.get("draggable"));!at&&E.push("Target collection not found"),!oe&&jn&&E.push("Target is not droppable, accepts [".concat(jn,"]")),!re&&Wn&&E.push("Component not draggable, acceptable by [".concat(Wn,"]")),v.logWarning("Invalid target position",{errors:E,model:Nt,context:"sorter",target:Pt})}return v==null||v.trigger("sorter:drag:end",{targetCollection:at,modelToDrop:De,warns:E,validResult:Z,dst:t,srcEl:C}),Ye},a.prototype.rollback=function(t){(0,He.S1)(this.getDocuments(),"keydown",this.rollback);var r=t.which||t.keyCode;r==27&&(this.moved=!1,this.endMove())},a}(q.G7);const sm=am;var np=function(){return np=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},np.apply(this,arguments)},lm=function(p,a){a===void 0&&(a={});var t=a.prefix||"",r=document.createElement("i");return r.className=t+"resizer-h "+t+"resizer-h-"+p,r.setAttribute("data-"+t+"handler",p),r},cm=function(p,a){var t=a||window,r=p.getBoundingClientRect();return{left:r.left+t.pageXOffset,top:r.top+t.pageYOffset,width:r.width,height:r.height}},um=function(){function p(a){a===void 0&&(a={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=np({},this.defOpts),this.setOptions(a),(0,wt.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return p.prototype.getConfig=function(){return this.opts},p.prototype.setOptions=function(a,t){a===void 0&&(a={}),this.opts=np(np({},t?this.defOpts:this.opts),a),this.setup()},p.prototype.setup=function(){var a=this.opts,t=a.prefix||"",r=a.appendTo||document.body,o=this.container;for(o||(o=document.createElement("div"),o.className="".concat(t,"resizer-c"),r.appendChild(o),this.container=o);o.firstChild;)o.removeChild(o.firstChild);var l={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(C){return l[C]=a[C]?lm(C,a):null});for(var v in l){var w=l[v];w&&o.appendChild(w)}this.handlers=l,this.mousePosFetcher=a.mousePosFetcher,this.updateTarget=a.updateTarget,this.posFetcher=a.posFetcher,this.onStart=a.onStart,this.onMove=a.onMove,this.onEnd=a.onEnd,this.onUpdateContainer=a.onUpdateContainer},p.prototype.toggleFrames=function(a){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,wt.each)(t,function(r){return r.style.pointerEvents=a?"none":""})}},p.prototype.isHandler=function(a){var t=this.handlers;for(var r in t)if(t[r]===a)return!0;return!1},p.prototype.getFocusedEl=function(){return this.el},p.prototype.getParentEl=function(){var a;return(a=this.el)===null||a===void 0?void 0:a.parentElement},p.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},p.prototype.getElementPos=function(a,t){t===void 0&&(t={});var r=this.posFetcher;return r?r(a,t):cm(a)},p.prototype.focus=function(a){a&&a===this.el||(this.el=a,this.updateContainer({forceShow:!0}),(0,He.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},p.prototype.blur=function(){this.container.style.display="none",this.el&&((0,He.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},p.prototype.start=function(a){var t=a;if(t.button===0){t.preventDefault(),t.stopPropagation();var r=this.el,o=this.getParentEl(),l=this,v=this.opts||{},w=this.mousePosFetcher,C="data-"+v.prefix+"handler",E=this.getElementPos(r,{avoidFrameZoom:!0,avoidFrameOffset:!0}),j=this.getElementPos(o),Z=t.target;this.handlerAttr=Z.getAttribute(C),this.clickedHandler=Z,this.startDim={t:E.top,l:E.left,w:E.width,h:E.height},this.rectDim={t:E.top,l:E.left,w:E.width,h:E.height},this.startPos=w?w(t):{x:t.clientX,y:t.clientY},this.parentDim={t:j.top,l:j.left,w:j.width,h:j.height};var at=this.getDocumentEl();this.docs=at,(0,He.on)(at,"pointermove",this.move),(0,He.on)(at,"keydown",this.handleKeyDown),(0,He.on)(at,"pointerup",this.stop),(0,wt.isFunction)(this.onStart)&&this.onStart(t,{docs:at,config:v,el:r,resizer:l}),this.toggleFrames(!0),this.move(t)}},p.prototype.move=function(a){var t=a,r=this.onMove,o=this.mousePosFetcher,l=o?o(t):{x:t.clientX,y:t.clientY};this.currentPos=l,this.delta={x:l.x-this.startPos.x,y:l.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),r&&r(t)},p.prototype.stop=function(a){var t=this.el,r=this.opts,o=this.docs||this.getDocumentEl();(0,He.S1)(o,"pointermove",this.move),(0,He.S1)(o,"keydown",this.handleKeyDown),(0,He.S1)(o,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,wt.isFunction)(this.onEnd)&&this.onEnd(a,{docs:o,config:r,el:t,resizer:this}),delete this.docs},p.prototype.updateRect=function(a){var t=this.el,r=this,o=this.opts,l=this.rectDim,v=this.updateTarget,w=this.getSelectedHandler(),C=o.unitHeight,E=o.unitWidth,j=o.keyWidth,Z=o.keyHeight;if((0,wt.isFunction)(v))v(t,l,{store:a,selectedHandler:w,resizer:r,config:o});else{var at=t.style;at[j]=l.w+E,at[Z]=l.h+C}this.updateContainer()},p.prototype.updateContainer=function(a){var t;a===void 0&&(a={});var r=this,o=r.opts,l=r.container,v=r.el,w=l.style;!o.avoidContainerUpdate&&v&&a.forceShow&&(w.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:l,resizer:this,opts:np(np({},o),a)})},p.prototype.getSelectedHandler=function(){var a=this.handlers;if(this.selectedHandler){for(var t in a)if(a[t]===this.selectedHandler)return t}},p.prototype.handleKeyDown=function(a){a.keyCode===27&&(this.rectDim=this.startDim,this.stop(a))},p.prototype.handleMouseDown=function(a){var t=a.target;this.isHandler(t)?(this.selectedHandler=t,this.start(a)):t!==this.el&&(delete this.selectedHandler,this.blur())},p.prototype.calc=function(a){var t,r=this.opts||{},o=r.step,l=this.startDim,v=r.minDim,w=r.maxDim,C=a.delta.x,E=a.delta.y,j=this.parentDim.w,Z=this.parentDim.h,at=this.opts.unitWidth,Pt=this.opts.unitHeight,Nt=at==="%"?l.w/100*j:l.w,re=Pt==="%"?l.h/100*Z:l.h,oe={t:l.t,l:l.l,w:Nt,h:re};if(a){var De=a.handlerAttr;~De.indexOf("r")&&(t=at==="%"?(0,he.normalizeFloat)((Nt+C*o)/j*100,.01):(0,he.normalizeFloat)(Nt+C*o,o),t=Math.max(v,t),w&&(t=Math.min(w,t)),oe.w=t),~De.indexOf("b")&&(t=Pt==="%"?(0,he.normalizeFloat)((re+E*o)/Z*100,.01):(0,he.normalizeFloat)(re+E*o,o),t=Math.max(v,t),w&&(t=Math.min(w,t)),oe.h=t),~De.indexOf("l")&&(t=at==="%"?(0,he.normalizeFloat)((Nt-C*o)/j*100,.01):(0,he.normalizeFloat)(Nt-C*o,o),t=Math.max(v,t),w&&(t=Math.min(w,t)),oe.w=t),~De.indexOf("t")&&(t=Pt==="%"?(0,he.normalizeFloat)((re-E*o)/Z*100,.01):(0,he.normalizeFloat)(re-E*o,o),t=Math.max(v,t),w&&(t=Math.min(w,t)),oe.h=t);var Ye=r.ratioDefault?!a.keys.shift:a.keys.shift;if(De.indexOf("c")<0&&Ye){var We=l.w/l.h;oe.w/oe.h>We?oe.h=Math.round(oe.w/We):oe.w=Math.round(oe.h*We)}~De.indexOf("l")&&(oe.l+=l.w-oe.w),~De.indexOf("t")&&(oe.t+=l.h-oe.h);for(var Sr in oe){var Br=Sr;oe[Br]=parseInt("".concat(oe[Br]),10)}return oe}},p}();const fm=um;var Qp=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kh=function(){return kh=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},kh.apply(this,arguments)},Ah=function(p){Qp(a,p);function a(t){var r=p.call(this,t,"Utils")||this;return r.Sorter=sm,r.Resizer=fm,r.Dragger=Bo.Z,r.helpers=kh({},he),r}return a.prototype.destroy=function(){},a}(B);const jg=Ah;var Al,nc={},sl={16:!1,18:!1,17:!1,91:!1},Dg="all",wf={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},Ig={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Op=function(p){return Ig[p]||p.toUpperCase().charCodeAt(0)},Tp=[];for(Al=1;Al<20;Al++)Ig["f"+Al]=111+Al;function td(p,a){for(var t=p.length;t--;)if(p[t]===a)return t;return-1}function pm(p,a){if(p.length!=a.length)return!1;for(var t=0;t<p.length;t++)if(p[t]!==a[t])return!1;return!0}var dm={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function hm(p){for(Al in sl)sl[Al]=p[dm[Al]]}function gm(p){var a,t,r,o,l,v;if(a=p.keyCode,td(Tp,a)==-1&&Tp.push(a),(a==93||a==224)&&(a=91),a in sl){sl[a]=!0;for(r in wf)wf[r]==a&&(ll[r]=!0);return}if(hm(p),!!ll.filter.call(this,p)&&a in nc){for(v=Ep(),o=0;o<nc[a].length;o++)if(t=nc[a][o],t.scope==v||t.scope=="all"){l=t.mods.length>0;for(r in sl)(!sl[r]&&td(t.mods,+r)>-1||sl[r]&&td(t.mods,+r)==-1)&&(l=!1);(t.mods.length==0&&!sl[16]&&!sl[18]&&!sl[17]&&!sl[91]||l)&&t.method(p,t)===!1&&(p.preventDefault?p.preventDefault():p.returnValue=!1,p.stopPropagation&&p.stopPropagation(),p.cancelBubble&&(p.cancelBubble=!0))}}}function vm(p){var a=p.keyCode,t,r=td(Tp,a);if(r>=0&&Tp.splice(r,1),(a==93||a==224)&&(a=91),a in sl){sl[a]=!1;for(t in wf)wf[t]==a&&(ll[t]=!1)}}function Wu(){for(Al in sl)sl[Al]=!1;for(Al in wf)ll[Al]=!1}function ll(p,a,t){var r,o;r=Md(p),t===void 0&&(t=a,a="all");for(var l=0;l<r.length;l++)o=[],p=r[l].split("+"),p.length>1&&(o=Mh(p),p=[p[p.length-1]]),p=p[0],p=Op(p),p in nc||(nc[p]=[]),nc[p].push({shortcut:r[l],scope:a,method:t,key:r[l],mods:o})}function Ad(p,a){var t,r,o=[],l,v,w;for(t=Md(p),v=0;v<t.length;v++){if(r=t[v].split("+"),r.length>1&&(o=Mh(r)),p=r[r.length-1],p=Op(p),a===void 0&&(a=Ep()),!nc[p])return;for(l=0;l<nc[p].length;l++)w=nc[p][l],w.scope===a&&pm(w.mods,o)&&(nc[p][l]={})}}function Ng(p){return typeof p=="string"&&(p=Op(p)),td(Tp,p)!=-1}function mm(){return Tp.slice(0)}function ym(p){var a=(p.target||p.srcElement).tagName;return!(a=="INPUT"||a=="SELECT"||a=="TEXTAREA")}for(Al in wf)ll[Al]=!1;function bm(p){Dg=p||"all"}function Ep(){return Dg||"all"}function Pp(p){var a,t,r;for(a in nc)for(t=nc[a],r=0;r<t.length;)t[r].scope===p?t.splice(r,1):r++}function Md(p){var a;return p=p.replace(/\s/g,""),a=p.split(","),a[a.length-1]==""&&(a[a.length-2]+=","),a}function Mh(p){for(var a=p.slice(0,p.length-1),t=0;t<a.length;t++)a[t]=wf[a[t]];return a}function ed(p,a,t){p.addEventListener?p.addEventListener(a,t,!1):p.attachEvent&&p.attachEvent("on"+a,function(){t(window.event)})}ll.setScope=bm,ll.getScope=Ep,ll.deleteScope=Pp,ll.filter=ym,ll.isPressed=Ng,ll.getPressedKeyCodes=mm,ll.unbind=Ad,ll.handlers=nc,ll.init=function(p){ed(p.document,"keydown",function(a){gm(a)}),ed(p.document,"keyup",vm),ed(p,"focus",Wu)};const kp=ll;var Ld={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const jd=Ld;var rd=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fg=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))};(0,he.hasWin)()&&kp.init(window);var wm=function(p){rd(a,p);function a(t){var r=p.call(this,t,"Keymaps",jd)||this;return r.keymaster=kp,r.keymaps={},r}return a.prototype.onLoad=function(){var t=this.config.defaults;for(var r in t){var o=t[r];this.add(r,o.keys,o.handler,o.opts||{})}},a.prototype.add=function(t,r,o,l){l===void 0&&(l={});var v=this.em,w=v.Commands,C=v.getEditor(),E=v.Canvas,j={id:t,keys:r,handler:o},Z=this.keymaps[t];return Z&&this.remove(t),this.keymaps[t]=j,kp(r,function(at,Pt){var Nt={event:at,h:Pt},re=(0,wt.isString)(o)?w.get(o):o,oe=!v.isEditing()&&!C.Canvas.isInputFocused();if(oe||l.force){l.prevent&&E.getCanvasView().preventDefault(at),(0,wt.isFunction)(re)?re(C,0,Nt):w.runCommand(re,Nt);var De=[t,Pt.shortcut,at];v.trigger.apply(v,Fg(["keymap:emit"],De,!1)),v.trigger.apply(v,Fg(["keymap:emit:".concat(t)],De,!1))}},void 0),v.trigger("keymap:add",j),j},a.prototype.get=function(t){return this.keymaps[t]},a.prototype.getAll=function(){return this.keymaps},a.prototype.remove=function(t){var r=this.em,o=this.get(t);if(o)return delete this.keymaps[t],o.keys.split(", ").forEach(function(l){kp.unbind(l.trim())}),r==null||r.trigger("keymap:remove",o),o},a.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(r){return t.remove(r)}),kp.handlers={},this},a.prototype.destroy=function(){this.removeAll(),this.keymaps={}},a}(B);const _m=wm;var Vg={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const Rg=Vg;var xm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lh=function(p){xm(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},a.prototype.open=function(){this.set("open",!0)},a.prototype.close=function(){this.set("open",!1)},a}(W.Z);const Cm=Lh;var Sm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dd=function(){return Dd=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Dd.apply(this,arguments)},jh=function(p){Sm(a,p);function a(t){var r=p.call(this,t)||this,o=r.model;return r.listenTo(o,"change:open",r.updateOpen),r.listenTo(o,"change:title",r.updateTitle),r.listenTo(o,"change:content",r.updateContent),r}return a.prototype.template=function(t){var r=t.pfx,o=t.ppfx,l=t.content,v=t.title;return'<div class="'.concat(r,"dialog ").concat(o,"one-bg ").concat(o,`two-color">
      <div class="`).concat(r,`header">
        <div class="`).concat(r,'title">').concat(v,`</div>
        <div class="`).concat(r,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(r,`content">
        <div id="`).concat(r,'c">').concat(l,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(r,'collector" style="display: none"></div>')},a.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},a.prototype.onClick=function(t){var r=this.config.backdrop;r&&t.target===this.el&&this.hide()},a.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},a.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},a.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},a.prototype.updateContent=function(){var t=this.getContent(),r=t.children(),o=this.getCollector(),l=this.model.get("content");r.length&&o.append(r),t.empty().append(l)},a.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},a.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},a.prototype.hide=function(){this.model.close()},a.prototype.show=function(){this.model.open()},a.prototype.updateAttr=function(t){var r=this,o=r.pfx,l=r.$el,v=r.el,w=[].slice.call(v.attributes).map(function(C){return C.name});l.removeAttr(w.join(" ")),l.attr(Dd(Dd({},t||{}),{class:"".concat(o,"container ").concat(t&&t.class||"").trim()}))},a.prototype.render=function(){var t=this.$el,r=this.model.toJSON();return r.pfx=this.pfx,r.ppfx=this.ppfx,t.html(this.template(r)),this.updateAttr(),this.updateOpen(),this},a}(Kr);const Om=jh;var Tm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Id=function(p){Tm(a,p);function a(t){var r=p.call(this,t,"Modal",Rg)||this;return r.model=new Cm(r),r.model.on("change:open",function(o,l){t.trigger("modal:".concat(l?"open":"close"))}),r.model.on("change",(0,wt.debounce)(function(){var o=r._evData(),l=r.config.custom;(0,wt.isFunction)(l)&&l(o),t.trigger("modal",o)},0)),r}return a.prototype._evData=function(){var t=this,r=this.getTitle(),o=this.getContent(),l=this.model.attributes,v=l.open,w=l.attributes;return{open:v,attributes:w,title:(0,wt.isString)(r)?(0,He.rw)(r):r,content:(0,wt.isString)(o)?(0,He.rw)(o):o.get?o.get(0):o,close:function(){t.close()}}},a.prototype.postRender=function(t){var r=t.model.config.el||t.el,o=this.render();o&&(r==null||r.appendChild(o))},a.prototype.open=function(t){t===void 0&&(t={});var r=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",r),this.model.open(),this.modal&&this.modal.updateAttr(r),this},a.prototype.close=function(){return this.model.close(),this},a.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},a.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},a.prototype.isOpen=function(){return!!this.model.get("open")},a.prototype.setTitle=function(t){return this.model.set("title",t),this},a.prototype.getTitle=function(){return this.model.get("title")},a.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},a.prototype.getContent=function(){return this.model.get("content")},a.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},a.prototype.getModel=function(){return this.model},a.prototype.render=function(){var t;if(!this.config.custom){var r=Om.extend(this.config.extend),o=this.modal&&this.modal.el;return this.modal=new r({el:o,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},a.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},a}(B);const Hg=Id;var Dh="sw-visibility",Bg="export-template",Ug="open-sm",zg="open-tm",Wg="open-layers",Ds="open-blocks",Ih="fullscreen",Nd="preview",Nh={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Dh,className:"fa fa-square-o",command:"core:component-outline",context:Dh,attributes:{title:"View components"}},{id:Nd,className:"fa fa-eye",command:Nd,context:Nd,attributes:{title:"Preview"}},{id:Ih,className:"fa fa-arrows-alt",command:Ih,context:Ih,attributes:{title:"Fullscreen"}},{id:Bg,className:"fa fa-code",command:Bg,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Ug,className:"fa fa-paint-brush",command:Ug,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:zg,className:"fa fa-cog",command:zg,togglable:!1,attributes:{title:"Settings"}},{id:Wg,className:"fa fa-bars",command:Wg,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Ds,className:"fa fa-th-large",command:Ds,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const gi=Nh;var Em=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ap=function(p){Em(a,p);function a(t,r){var o=p.call(this,t,r)||this;return o.get("buttons").length&&o.set("buttons",new op(o.module,o.get("buttons"))),o}return a.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(a.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),a}(W.Z);const Fh=Ap;var $g=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gg=function(p){$g(a,p);function a(t,r){return p.call(this,t,r,Fh)||this}return a.prototype.deactivateAllExceptOne=function(t,r){this.forEach(function(o,l){o!==t&&(o.set("active",!1),r&&o.get("buttons").length&&o.get("buttons").deactivateAllExceptOne(t,r))})},a.prototype.deactivateAll=function(t,r){var o=t||"";this.forEach(function(l){l.get("context")==o&&l!==r&&l.set("active",!1,{fromCollection:!0})})},a.prototype.disableAllButtons=function(t){var r=t||"";this.forEach(function(o,l){o.get("context")==r&&o.set("disable",!0)})},a.prototype.disableAllButtonsExceptOne=function(t,r){this.forEach(function(o,l){o!==t&&(o.set("disable",!0),r&&o.get("buttons").length&&o.get("buttons").disableAllButtonsExceptOne(t,r))})},a}(Je);const op=Gg;Gg.prototype.model=Fh;var Pm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fd=function(p){Pm(a,p);function a(t,r){var o=p.call(this,t,r)||this,l=o.get("buttons")||[];return o.buttons=new op(t,l),o}return a.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(a.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),a}(W.Z);const qg=Fd;var km=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kg=function(p){km(a,p);function a(t,r){return p.call(this,t,r,qg)||this}return a}(Je);const Yg=Kg;Kg.prototype.model=qg;var Am=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mp=function(){return Mp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Mp.apply(this,arguments)},mu=function(p){Am(a,p);function a(t){var r=p.call(this,t)||this,o=r,l=o.model,v=o.em,w=o.pfx,C=o.ppfx,E=l.className,j=l.attributes,Z=j.command,at=j.listen;if(r.id=w+l.get("id"),r.activeCls="".concat(w,"active ").concat(C,"four-color"),r.disableCls="".concat(C,"disabled"),r.btnsVisCls="".concat(w,"visible"),r.className=w+"btn"+(E?" "+E:""),r.listenTo(l,"change",r.render),r.listenTo(l,"change:active updateActive",r.updateActive),r.listenTo(l,"checkActive",r.checkActive),r.listenTo(l,"change:bntsVis",r.updateBtnsVis),r.listenTo(l,"change:attributes",r.updateAttributes),r.listenTo(l,"change:className",r.updateClassName),r.listenTo(l,"change:disable",r.updateDisable),v&&(0,wt.isString)(Z)&&at){var Pt={fromListen:!0};r.listenTo(v,"run:".concat(Z),function(){return l.set("active",!0,Pt)}),r.listenTo(v,"stop:".concat(Z),function(){return l.set("active",!1,Pt)})}return v&&v.get&&(r.commands=v.get("Commands")),r}return a.prototype.tagName=function(){return this.model.get("tagName")},a.prototype.events=function(){return{click:"clicked"}},a.prototype.updateClassName=function(){var t=this,r=t.model,o=t.pfx,l=r.className,v=r.get("attributes").class,w="".concat(v||""," ").concat(o,"btn ").concat(l||"");this.$el.attr("class",w.trim())},a.prototype.updateAttributes=function(){var t=this,r=t.em,o=t.model,l=t.$el,v=o.get("attributes")||{},w=r&&r.t&&r.t("panels.buttons.titles.".concat(o.id));l.attr(v),w&&l.attr({title:w}),this.updateClassName()},a.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},a.prototype.updateActive=function(t,r,o){var l;o===void 0&&(o={});var v=this,w=v.model,C=v.commands,E=v.$el,j=v.activeCls,Z=o.fromCollection,at=o.fromListen,Pt=w.get("context"),Nt=w.get("options"),re=w.command,oe={};re&&(C&&(0,wt.isString)(re)?oe=C.get(re)||{}:(0,wt.isFunction)(re)?oe=C.create({run:re}):re!==null&&(0,wt.isObject)(re)&&(oe=C.create(re)),w.active?(!Z&&((l=w.collection)===null||l===void 0||l.deactivateAll(Pt,w)),w.set("active",!0,{silent:!0}).trigger("checkActive"),!at&&C.runCommand(oe,Mp(Mp({},Nt),{sender:w})),oe.noStop&&w.set("active",!1)):(E.removeClass(j),!at&&C.stopCommand(oe,Mp(Mp({},Nt),{sender:w,force:1}))))},a.prototype.updateDisable=function(){var t=this,r=t.disableCls,o=t.model,l=o.disable;this.$el[l?"addClass":"removeClass"](r)},a.prototype.checkActive=function(){var t=this,r=t.model,o=t.$el,l=t.activeCls;r.active?o.addClass(l):o.removeClass(l)},a.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},a.prototype.toggleActive=function(){var t=this,r=t.model,o=t.em,l=r.active,v=r.togglable;l&&!v||(r.active=!l,l?r.runDefaultCommand&&o.runDefault():r.stopDefaultCommand&&o.stopDefault())},a.prototype.render=function(){var t=this.model,r=t.get("label"),o=this.$el;return!t.get("el")&&o.empty(),this.updateAttributes(),r&&o.append(r),this.checkActive(),this.updateDisable(),this},a}(Kr);const Mm=mu;var Lm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jm=function(p){Lm(a,p);function a(t){var r=p.call(this,{collection:t})||this;return r.listenTo(r.collection,"add",r.addTo),r.listenTo(r.collection,"reset remove",r.render),r.className=r.pfx+"buttons",r}return a.prototype.addTo=function(t){this.addToCollection(t)},a.prototype.addToCollection=function(t,r){var o=r||null,l=t.get("el"),v=new Mm({el:l,model:t}),w=v.render().el;return o?o.appendChild(w):this.$el.append(w),w},a.prototype.render=function(){var t=this,r=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(o){return t.addToCollection(o,r)}),this.$el.append(r),this.$el.attr("class",(0,wt.result)(this,"className")),this},a}(Kr);const Dm=jm;var Im=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vh=function(){return Vh=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Vh.apply(this,arguments)},Vd=function(p){Im(a,p);function a(t){var r=p.call(this,{model:t,el:t.get("el")})||this;return r.className=r.pfx+"panel",r.id=r.pfx+t.get("id"),r.listenTo(t,"change:appendContent",r.appendContent),r.listenTo(t,"change:content",r.updateContent),r.listenTo(t,"change:visible",r.toggleVisible),t.view=r,r}return a.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},a.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},a.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},a.prototype.attributes=function(){return this.model.get("attributes")},a.prototype.initResize=function(){var t=this.em,r=t==null?void 0:t.Editor,o=this.model.get("resizable");if(r&&o){var l=o===!0?[!0,!0,!0,!0]:o,v=l.length,w=void 0,C=void 0,E=void 0,j=!1;if(v==2){var Z=l;w=Z[0],E=Z[0],C=Z[1],j=Z[1]}else if(v==4){var Z=l;w=Z[0],C=Z[1],E=Z[2],j=Z[3]}var at=new r.Utils.Resizer(Vh({tc:w,cr:C,bc:E,cl:j,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:r.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(Pt,Nt){var re=Nt.target,oe=Pt.style,De=at.getConfig(),Ye=De.keyWidth,We=De.keyHeight,Sr=Pt.getBoundingClientRect(),Br=re=="container",cn=oe[Ye],wn=oe[We],Rr=cn&&!Br?parseFloat(cn):Sr.width,jn=wn&&!Br?parseFloat(wn):Sr.height;return{left:0,top:0,width:Rr,height:jn}}},o&&typeof o!="boolean"?o:{}));at.blur=function(){},at.focus(this.el)}},a.prototype.render=function(){var t=this.model.buttons,r=this.$el,o=this.ppfx,l="".concat(this.className," ").concat(this.id," ").concat(o,"one-bg ").concat(o,"two-color");if(r.addClass(l),this.toggleVisible(),t.length){var v=new Dm(t);r.append(v.render().el)}return r.append(this.model.get("content")),this},a}(Kr);const Nm=Vd;var Fm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rh=function(p){Fm(a,p);function a(t){var r=p.call(this,{collection:t})||this;return r.listenTo(t,"add",r.addTo),r.listenTo(t,"reset",r.render),r.listenTo(t,"remove",r.onRemove),r.className=r.pfx+"panels",r}return a.prototype.onRemove=function(t){var r=t.view;r&&r.remove()},a.prototype.addTo=function(t){this.addToCollection(t)},a.prototype.addToCollection=function(t,r){var o=r||null,l=t.get("el"),v=new Nm(t),w=v.render().el,C=t.get("appendTo");if(!l)if(C){var E=document.querySelector(C);E==null||E.appendChild(w)}else o?o.appendChild(w):this.$el.append(w);return v.initResize(),w},a.prototype.render=function(){var t=this,r=this.$el,o=document.createDocumentFragment();return r.empty(),this.collection.each(function(l){return t.addToCollection(l,o)}),r.append(o),r.attr("class",this.className),this},a}(Kr);const Vm=Rh;var $u=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rm=function(p){$u(a,p);function a(t){var r=p.call(this,t,"Panels",gi)||this;r.panels=new Yg(r,r.config.defaults);for(var o in gi)o in r.config||(r.config[o]=gi[o]);return r}return a.prototype.getPanels=function(){return this.panels},a.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},a.prototype.addPanel=function(t){return this.panels.add(t)},a.prototype.removePanel=function(t){return this.panels.remove(t)},a.prototype.getPanel=function(t){var r=this.panels.where({id:t});return r.length?r[0]:null},a.prototype.addButton=function(t,r){var o=this.getPanel(t);return o?o.buttons.add(r):null},a.prototype.removeButton=function(t,r){var o=this.getPanel(t);return o&&o.buttons.remove(r)},a.prototype.getButton=function(t,r){var o=this.getPanel(t);if(o){var l=o.buttons.where({id:r});return l.length?l[0]:null}return null},a.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new Vm(this.panels),this.PanelsViewObj.render().el},a.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(r){r.get("active")&&r.trigger("updateActive")})})},a.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(r){r.get("disable")&&r.trigger("change:disable")})})},a.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},a}(B);const Hm=Rm;var Hh={stylePrefix:"cm-",optsCodeViewer:{}};const Bm=Hh;var Rd=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nd=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Um=function(p){Rd(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.build=function(t,r){r===void 0&&(r={});var o=r.em,l=nd(r,["em"]),v=l;if(r.cleanId&&o){var w=o.Css.getAll(),C=w.toJSON().map(function(E){var j=E.selectors,Z=j&&j.length===1&&j.models[0];return Z&&Z.isId()&&Z.get("name")}).filter(Boolean);v.attributes||(v.attributes=function(E,j){var Z=j.id;return Z&&Z[0]==="i"&&!E.get("script")&&!E.get("attributes").id&&C.indexOf(Z)<0&&delete j.id,j})}return t.toHTML(v)},a}(q.Hn);const zm=Um;var Wm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$m=function(p){Wm(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.build=function(t){var r=this,o=t.toJSON();return this.beforeEach(o),(0,wt.each)(o,function(l,v){var w=o[v];if(w instanceof q.Hn)o[v]=r.build(w);else if(w instanceof q.FE){var C=w;o[v]=[],C.length&&C.forEach(function(E,j){o[v][j]=r.build(E)})}}),o},a.prototype.beforeEach=function(t){delete t.status},a}(q.Hn);const Gm=$m;var qm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function Km(p){var a,t=((a=p.toString().match(/\{([\s\S]*)\}/m))===null||a===void 0?void 0:a[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var Lp=function(p){qm(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.mapModel=function(t){var r,o=this,l="",v=t.get("script-export")||t.get("script"),w=t.get("type"),C=t.get("components"),E=t.getId();if(v){var j=t.get("attributes");j=(0,wt.extend)({},j,{id:E}),t.set("attributes",j,{silent:!0});var Z=t.getScriptString(v),at=t.get("script-props");if(t.get("scriptUpdated")&&!at)this.mapJs[w+"-"+E]={ids:[E],code:Z};else{var Pt=void 0,Nt=this.mapJs[w];if(at&&(Pt=t.__getScriptProps()),Nt)Nt.ids.push(E),Pt&&(Nt.props[E]=Pt);else{var re={ids:[E],code:Z};Pt&&(re.props=(r={},r[E]=Pt,r)),this.mapJs[w]=re}}}return C.forEach(function(oe){l+=o.mapModel(oe)}),l},a.prototype.build=function(t){this.mapJs={},this.mapModel(t);var r="";for(var o in this.mapJs){var l=this.mapJs[o];if(l.code)if(l.props){if(Km(l.code))continue;r+=`
          var props = `.concat(JSON.stringify(l.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(l.code,`.bind(el))(props[el.id]);
          }`)}else{var v="#"+l.ids.join(", #");r+=`
          var items = document.querySelectorAll('`.concat(v,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(l.code,`
}.bind(items[i]))();
          }`)}}return r},a}(q.Hn);const Ym=Lp;var Zm=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bh=function(){return Bh=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Bh.apply(this,arguments)},_f;(0,he.hasWin)()&&(_f=ci(631),ci(531),ci(629),ci(210));var Zg=function(p){Zm(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},a.prototype.init=function(t){return(0,wt.bindAll)(this,"onChange"),this.editor=_f.fromTextArea(t,Bh({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},a.prototype.onChange=function(){this.trigger("update",this)},a.prototype.getEditor=function(){return this.editor},a.prototype.getElement=function(){return this.element},a.prototype.setElement=function(t){return this.element=t,this},a.prototype.refresh=function(){return this.getEditor().refresh(),this},a.prototype.focus=function(){return this.getEditor().focus(),this},a.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},a.prototype.setContent=function(t,r){var o=this;r===void 0&&(r={});var l=this.editor;if(l){l.setValue(t);var v=this.get("autoFormat"),w=l.autoFormatRange&&(v===!0||Array.isArray(v)&&v.includes(this.get("codeName")));w&&(_f.commands.selectAll(l),l.autoFormatRange(l.getCursor(!0),l.getCursor(!1)),_f.commands.goDocStart(l)),!r.noRefresh&&setTimeout(function(){return o.refresh()})}},a}(q.Hn);const Xm=Zg;Zg.prototype.CodeMirror=_f;var Gu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jm=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Qm=function(p){Gu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.template=function(t){var r=t.pfx,o=t.codeName,l=t.label;return Pe(od||(od=Jm([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),r,r,o,r,l,r)},a.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},a.prototype.render=function(){var t,r,o=this,l=o.model,v=o.pfx,w=o.$el,C=l.toJSON(),E=l.get("input")||((r=(t=l).getElement)===null||r===void 0?void 0:r.call(t));return C.pfx=v,w.html(this.template(C)),w.attr("class","".concat(v,"editor-c")),w.find("#".concat(v,"code")).append(E),this},a}(q.G7);const ty=Qm;var od,Xg=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jp=function(){return jp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},jp.apply(this,arguments)},ey="CodeMirror",Jg=function(p){Xg(a,p);function a(t){var r=p.call(this,t,"CodeManager",Bm)||this;r.EditorView=ty;var o=r.config,l=o.pStylePrefix;return l&&(o.stylePrefix=l+o.stylePrefix),r.generators={},r.viewers={},r.defGenerators={html:new zm,css:new Wf,json:new Gm,js:new Ym},r.defViewers={CodeMirror:new Xm},r.loadDefaultGenerators().loadDefaultViewers(),r}return a.prototype.addGenerator=function(t,r){return this.generators[t]=r,this},a.prototype.getGenerator=function(t){return this.generators[t]},a.prototype.getGenerators=function(){return this.generators},a.prototype.addViewer=function(t,r){return this.viewers[t]=r,this},a.prototype.getViewer=function(t){return this.viewers[t]},a.prototype.getViewers=function(){return this.viewers},a.prototype.createViewer=function(t){t===void 0&&(t={});var r=(0,wt.isUndefined)(t.type)?ey:t.type,o=this.getViewer(r)&&this.getViewer(r).clone(),l=document.createElement("div"),v=document.createElement("textarea");return l.appendChild(v),o.set(jp(jp({},this.config.optsCodeViewer),t)),o.init(v),o.setElement(l),o},a.prototype.updateViewer=function(t,r){t.setContent(r)},a.prototype.getCode=function(t,r,o){o===void 0&&(o={}),o.em=this.em;var l=this.getGenerator(r);return l?l.build(t,o):""},a.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},a.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},a.prototype.destroy=function(){},a}(B);const ry=Jg;var Hd=ci(410),ny=ci.n(Hd),oy={maximumStackLength:500,trackSelection:!0};const iy=oy;var ay=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cl=function(){return cl=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},cl.apply(this,arguments)},Bd=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Ud=function(p){return p.avoidStore||p.noUndo},id=function(p){return Object.keys(p.changedAttributes())},sy=function(p){ay(a,p);function a(t){var r=p.call(this,t,"UndoManager",iy)||this;r.config._disable&&(r.config.maximumStackLength=0);var o=!0;return r.um=new(ny())(cl({track:!0,register:[]},r.config)),r.um.changeUndoType("change",{condition:function(l){var v=l.get("_undo");if(v){var w=l.get("_undoexc");if((0,wt.isArray)(w)&&id(l).some(function(C){return w.indexOf(C)>=0}))return!1;if((0,wt.isBoolean)(v)||(0,wt.isArray)(v)&&id(l).some(function(C){return v.indexOf(C)>=0}))return!0}return!1},on:function(l,v,w){var C=this;!this.beforeCache&&(this.beforeCache=l.previousAttributes());var E=w||v||{};if(E.noUndo&&setTimeout(function(){C.beforeCache=null}),!Ud(E)){var j=l.toJSON({fromUndo:o}),Z={object:l,before:this.beforeCache,after:j};return this.beforeCache=null,(0,wt.isEmpty)(j)?void 0:Z}}}),r.um.changeUndoType("add",{on:function(l,v,w){if(w===void 0&&(w={}),!(Ud(w)||!r.isRegistered(v)))return{object:v,before:void 0,after:l,options:cl(cl({},w),{fromUndo:o})}}}),r.um.changeUndoType("remove",{on:function(l,v,w){if(w===void 0&&(w={}),!(Ud(w)||!r.isRegistered(v)))return{object:v,before:l,after:void 0,options:cl(cl({},w),{fromUndo:o})}}}),r.um.changeUndoType("reset",{undo:function(l,v){l.reset(v,{fromUndo:o})},redo:function(l,v,w){l.reset(w,{fromUndo:o})},on:function(l,v){if(v===void 0&&(v={}),!(Ud(v)||!r.isRegistered(l)))return{object:l,before:v.previousModels,after:Bd([],l.models,!0),options:cl(cl({},v),{fromUndo:o})}}}),r.um.on("undo redo",function(){t.getSelectedAll().map(function(l){return l.trigger("rerender:layer")})}),["undo","redo"].forEach(function(l){return r.um.on(l,function(){return t.trigger(l)})}),r}return a.prototype.postLoad=function(){var t=this,r=t.config,o=t.em;r.trackSelection&&o&&this.add(o.get("selected"))},a.prototype.add=function(t){return this.um.register(t),this},a.prototype.remove=function(t){return this.um.unregister(t),this},a.prototype.removeAll=function(){return this.um.unregisterAll(),this},a.prototype.start=function(){return this.um.startTracking(),this},a.prototype.stop=function(){return this.um.stopTracking(),this},a.prototype.undo=function(t){t===void 0&&(t=!0);var r=this,o=r.em,l=r.um;return!o.isEditing()&&l.undo(t),this},a.prototype.undoAll=function(){return this.um.undoAll(),this},a.prototype.redo=function(t){t===void 0&&(t=!0);var r=this,o=r.em,l=r.um;return!o.isEditing()&&l.redo(t),this},a.prototype.redoAll=function(){return this.um.redoAll(),this},a.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},a.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},a.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},a.prototype.getStack=function(){return this.um.stack},a.prototype.getStackGroup=function(){var t=[],r=[];return this.getStack().forEach(function(o){var l=o.get("magicFusionIndex");r.indexOf(l)<0&&(r.push(l),t.push(o))}),t},a.prototype.skip=function(t){var r=!!this.um.isTracking();r&&this.stop(),t(),r&&this.start()},a.prototype.getGroupedStack=function(){var t={},r=this.getStack(),o=function(l,v){var w=l.attributes,C=w.type,E=w.after,j=w.before,Z=w.object,at=w.options,Pt=at===void 0?{}:at;return{index:v,type:C,after:E,before:j,object:Z,options:Pt}};return r.forEach(function(l,v){var w=l.get("magicFusionIndex"),C=o(l,v);t[w]?t[w].push(C):t[w]=[C]}),Object.keys(t).map(function(l){var v=t[l];return{index:v[v.length-1].index,actions:v,labels:(0,wt.unique)(v.reduce(function(w,C){var E,j=(E=C.options)===null||E===void 0?void 0:E.action;return j&&w.push(j),w},[]))}})},a.prototype.goToGroup=function(t){var r=this;if(t){var o=this.getPointer(),l=t.index-o;(0,wt.times)(Math.abs(l),function(){r[l<0?"undo":"redo"](!1)})}},a.prototype.getPointer=function(){return this.getStack().pointer},a.prototype.clear=function(){return this.um.clear(),this},a.prototype.getInstance=function(){return this.um},a.prototype.destroy=function(){this.clear().removeAll()},a}(B);const ly=sy;var zd={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const cy=zd;var xf=function(){return xf=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},xf.apply(this,arguments)},Wd;(function(p){p[p.ACTIVE=1]="ACTIVE",p[p.INACTIVE=0]="INACTIVE",p[p.DISABLED=-1]="DISABLED"})(Wd||(Wd={}));var Dp="_rte",ip={ACTIVE:1,INACTIVE:0,DISABLED:-1},$d=function(p,a){a===void 0&&(a="A");var t=p.selection()||{},r=t.anchorNode,o=t.focusNode,l=r==null?void 0:r.parentNode,v=o==null?void 0:o.parentNode;return(l==null?void 0:l.nodeName)==a||(v==null?void 0:v.nodeName)==a},ad="data-selectme",sd={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(p){return p.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(p){return p.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(p){return p.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(p){return p.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(p){return p&&p.selection()&&$d(p)?ip.ACTIVE:ip.INACTIVE},result:function(p){$d(p)?p.exec("unlink"):p.insertHTML('<a href="" '.concat(ad,">").concat(p.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(p){return p!=null&&p.selection()&&$d(p,"SPAN")?ip.DISABLED:ip.INACTIVE},result:function(p){!$d(p,"SPAN")&&p.insertHTML("<span ".concat(ad,">").concat(p.selection(),"</span>"),{select:!0})}}},Gd=function(){function p(a,t,r){var o=this;if(r===void 0&&(r={}),this.em=a,this.settings=r,t[Dp])return t[Dp];t[Dp]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var l=(r.actions||[]).map(function(j){var Z=j;return(0,wt.isString)(j)?Z=xf({},sd[j]):sd[j.name]&&(Z=xf(xf({},sd[j.name]),j)),Z}),v=l.length?l:Object.keys(sd).map(function(j){return sd[j]});r.classes=xf({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},r.classes);var w=r.classes,C=r.actionbar;if(this.actionbar=C,this.classes=w,this.actions=v,!C){if(!this.isCustom(r.module)){var E=r.actionbarContainer;C=document.createElement("div"),C.className=w.actionbar,E==null||E.appendChild(C),this.actionbar=C}v.forEach(function(j){return o.addAction(j)})}return r.styleWithCSS&&this.exec("styleWithCSS"),this}return p.prototype.isCustom=function(a){var t=a||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},p.prototype.destroy=function(){},p.prototype.setEl=function(a){this.el=a,this.doc=a.ownerDocument},p.prototype.updateActiveActions=function(){var a=this,t=this.getActions();t.forEach(function(r){var o=r.update,l=r.btn,v=a.classes,w=v.active,C=v.inactive,E=v.disabled,j=r.state,Z=r.name,at=a.doc,Pt=Wd.INACTIVE;if(l&&(l.className=l.className.replace(w,"").trim(),l.className=l.className.replace(C,"").trim(),l.className=l.className.replace(E,"").trim()),j){var Nt=j(a,at);if(Pt=Nt,l)switch(Nt){case ip.ACTIVE:l.className+=" ".concat(w);break;case ip.INACTIVE:l.className+=" ".concat(C);break;case ip.DISABLED:l.className+=" ".concat(E);break}}else at.queryCommandSupported(Z)&&at.queryCommandState(Z)&&(l&&(l.className+=" ".concat(w)),Pt=Wd.ACTIVE);r.currentState=Pt,o==null||o(a,r)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},p.prototype.enable=function(a){return this.enabled?this:this.__toggleEffects(!0,a)},p.prototype.disable=function(){return this.__toggleEffects(!1)},p.prototype.__toggleEffects=function(a,t){a===void 0&&(a=!1),t===void 0&&(t={});var r=a?He.on:He.S1,o=this,l=o.el,v=o.doc,w=this.actionbarEl();if(w&&(w.style.display=a?"":"none"),l.contentEditable="".concat(!!a),r(l,"mouseup keyup",this.updateActiveActions),r(v,"keydown",this.__onKeydown),r(v,"paste",this.__onPaste),this.enabled=a,a){var C=t.event;if(this.syncActions(),this.updateActiveActions(),C){var E=null;if(v.caretRangeFromPoint){var j=(0,He.VB)(C);E=v.caretRangeFromPoint(j.clientX,j.clientY)}else C.rangeParent&&(E=v.createRange(),E.setStart(C.rangeParent,C.rangeOffset));var Z=v.getSelection();Z==null||Z.removeAllRanges(),E&&(Z==null||Z.addRange(E))}l.focus()}return this},p.prototype.__onKeydown=function(a){var t=this.em,r=t.RichTextEditor.getConfig().onKeydown;if(r)return r({ev:a,rte:this,editor:t.getEditor()});var o=this.doc,l=["insertOrderedList","insertUnorderedList"];a.key==="Enter"&&!l.some(function(v){return o.queryCommandState(v)})&&(o.execCommand("insertLineBreak"),a.preventDefault())},p.prototype.__onPaste=function(a){var t=this.em,r=t.RichTextEditor.getConfig().onPaste;if(r)return r({ev:a,rte:this,editor:t.getEditor()});var o=a.clipboardData,l=o.getData("text"),v=o.getData("text/html");if(l&&!v){a.preventDefault();var w=l.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,w)}},p.prototype.syncActions=function(){var a=this;this.getActions().forEach(function(t){if(a.actionbar&&(!t.state||t.state&&t.state(a,a.doc)>=0)){var r=t.event||"click",o=t.btn;o&&(o["on".concat(r)]=function(){t.result(a,t),a.updateActiveActions()})}})},p.prototype.addAction=function(a,t){t===void 0&&(t={});var r=t.sync,o=this.actionbarEl();if(o){var l=a.icon,v=a.attributes,w=v===void 0?{}:v,C=document.createElement("span");C.className=this.classes.button,a.btn=C;for(var E in w)C.setAttribute(E,w[E]);typeof l=="string"?C.innerHTML=l:C.appendChild(l),o.appendChild(C)}r&&(this.actions.push(a),this.syncActions())},p.prototype.getActions=function(){return this.actions},p.prototype.selection=function(){return this.doc.getSelection()},p.prototype.exec=function(a,t){this.doc.execCommand(a,!1,t)},p.prototype.actionbarEl=function(){return this.actionbar},p.prototype.insertHTML=function(a,t){var r=t===void 0?{}:t,o=r.select,l=this,v=l.em,w=l.doc,C=l.el,E=w.getSelection();if(E&&E.rangeCount){var j=(0,he.getComponentModel)(C)||v.getSelected(),Z=w.createElement("div"),at=E.getRangeAt(0);at.deleteContents(),(0,wt.isString)(a)?Z.innerHTML=a:a&&Z.appendChild(a),Array.prototype.slice.call(Z.childNodes).forEach(function(Pt){at.insertNode(Pt)}),E.removeAllRanges(),E.addRange(at),C.focus(),o&&j&&(j.once("rte:disable",function(){var Pt=j.find("[".concat(ad,"]"))[0];Pt&&(v.setSelected(Pt),Pt.removeAttributes(ad))}),j.trigger("disable"))}},p}();const uy=Gd;var Cf=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qg=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},Sf=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Va=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Uh="".concat(pr.refresh," frame:scroll component:update"),fy="rte:enable",py="rte:disable",dy="rte:custom",hy={enable:fy,disable:py,custom:dy},gy=function(p){Cf(a,p);function a(t){var r=p.call(this,t,"RichTextEditor",cy)||this;r.events=hy;var o=r.config,l=o.pStylePrefix;l&&(o.stylePrefix=l+o.stylePrefix),r.pfx=o.stylePrefix,r.actions=o.actions||[];var v=new q.Hn;return r.model=v,v.on("change:currentView",r.__trgCustom,r),r.__dbdTrgCustom=(0,wt.debounce)(function(){return r.__trgCustom()},0),r}return a.prototype.onLoad=function(){if((0,he.hasWin)()){var t=this.config,r=t.pStylePrefix,o=t.custom,l=(0,He.ut)("div",{class:(0,He.cx)("".concat(r,"rte-toolbar"),!o&&"".concat(r,"one-bg ").concat(r,"rte-toolbar-ui"))});this.toolbar=l,this.initRte((0,He.ut)("div")),(0,He.on)(l,"mousedown",function(v){return v.stopPropagation()})}},a.prototype.__trgCustom=function(){var t=this,r=t.model,o=t.em,l=t.events;o.trigger(l.custom,{enabled:!!r.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},a.prototype.destroy=function(){var t,r,o;(t=this.globalRte)===null||t===void 0||t.destroy(),(o=(r=this.customRte)===null||r===void 0?void 0:r.destroy)===null||o===void 0||o.call(r),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,He.L_)(this.toolbar)},a.prototype.postRender=function(t){var r=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),r.getToolsEl().appendChild(this.toolbar)},a.prototype.initRte=function(t){var r=this.globalRte,o=this,l=o.em,v=o.pfx,w=o.actionbar,C=o.config,E=this.actions||Va([],C.actions,!0),j={actionbar:"".concat(v,"actionbar"),button:"".concat(v,"action"),active:"".concat(v,"active"),inactive:"".concat(v,"inactive"),disabled:"".concat(v,"disabled")};return r?(r.em=l,r.setEl(t)):(r=new uy(l,t,{classes:j,actions:E,actionbar:w,actionbarContainer:this.toolbar,module:this}),this.globalRte=r),r.actionbar&&(this.actionbar=r.actionbar),r.actions&&(this.actions=r.actions),r},a.prototype.add=function(t,r){var o;r===void 0&&(r={}),r.name=t,(o=this.globalRte)===null||o===void 0||o.addAction(r,{sync:!0})},a.prototype.get=function(t){var r,o;return(r=this.globalRte)===null||r===void 0||r.getActions().forEach(function(l){l.name==t&&(o=l)}),o},a.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},a.prototype.remove=function(t){var r,o=this.getAll(),l=this.get(t);if(l){var v=l.btn,w=o.indexOf(l);(r=v==null?void 0:v.parentNode)===null||r===void 0||r.removeChild(v),o.splice(w,1)}return l},a.prototype.run=function(t){var r=this.globalRte,o=(0,wt.isString)(t)?this.get(t):t;r&&o&&(o.result(r,o),r.updateActiveActions())},a.prototype.getToolbarEl=function(){return this.toolbar},a.prototype.updatePosition=function(){var t=this,r=t.em,o=t.toolbar,l="px",v=r.Canvas,w=o.style,C=v.getTargetToElementFixed(this.lastEl,o,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(E){var j=C[E];(0,he.isDef)(j)&&(w[E]=(0,wt.isString)(j)?j:(j||0)+l)})},a.prototype.enable=function(t,r,o){return o===void 0&&(o={}),Qg(this,void 0,void 0,function(){var l,v,w,C,E;return Sf(this,function(j){switch(j.label){case 0:return this.lastEl=t.el,l=this,v=l.customRte,w=l.em,C=t.getChildrenContainer(),this.toolbar.style.display="",[4,v?v.enable(C,r):this.initRte(C).enable(o)];case 1:return E=j.sent(),w&&(setTimeout(this.updatePosition.bind(this),0),w.off(Uh,this.updatePosition,this),w.on(Uh,this.updatePosition,this),w.trigger("rte:enable",t,E)),this.model.set({currentView:t}),[2,E]}})})},a.prototype.getContent=function(t,r){return Qg(this,void 0,void 0,function(){var o;return Sf(this,function(l){switch(l.label){case 0:return o=this.customRte,o&&r&&(0,wt.isFunction)(o.getContent)?[4,o.getContent(t.el,r)]:[3,2];case 1:return[2,l.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},a.prototype.hideToolbar=function(){var t=this.toolbar.style,r="-1000px";t.top=r,t.left=r,t.display="none"},a.prototype.disable=function(t,r,o){o===void 0&&(o={});var l=this.em,v=this.customRte,w=t.getChildrenContainer();v?v.disable(w,r):r&&r.disable(),this.hideToolbar(),l&&(l.off(Uh,this.updatePosition,this),!o.fromMove&&l.trigger("rte:disable",t,r)),this.model.unset("currentView")},a}(B);const tv=gy,vy={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var my=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ul=function(){return ul=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ul.apply(this,arguments)},yy=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},qu=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},qd=function(p){my(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.getDefaults=function(){return(0,wt.result)(this.prototype,"defaults")},a.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},a.prototype.initialize=function(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.em=r.em;var o=this.getId()||"",l=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(l||o).replace(/ /g,"-"));var v=this.get("property");!this.get("id")&&this.set("id",v),!l&&this.set("name",(0,he.capitalize)(v).replace(/-/g," ")),this.on("change",this.__upTargets),a.callInit(this,t,r)},a.prototype.__getParentProp=function(){var t,r;return(r=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||r===void 0?void 0:r.parentProp},a.prototype.__upTargets=function(t,r){var o,l=this;r===void 0&&(r={});var v=this.em,w=v.Styles,C=this.getName(),E=r.__clear,j=E?"":this.__getFullValue(r),Z=this.__getParentProp(),at=this.changedAttributes(),Pt=(0,wt.keys)(at).reduce(function(We,Sr){return We[Sr]=l.previous(Sr),We},{}),Nt=qu(qu([],(0,wt.keys)(this.__getClearProps()),!0),["__p"],!1),re=(0,wt.keys)(at),oe=!r.__up&&!Z&&(E||Nt.some(function(We){return re.indexOf(We)>=0})),De=this.get("onChange"),Ye={property:this,from:Pt,to:at,value:j,opts:r};w.__trgEv(w.events.propertyUpdate,Ye),De&&De(Ye),oe&&this.__upTargetsStyle((o={},o[C]=j,o),r)},a.prototype.__upTargetsStyle=function(t,r){var o,l=(o=this.em)===null||o===void 0?void 0:o.get("StyleManager");l==null||l.addStyleTargets(ul(ul({},t),{__p:!!r.avoidStore}),r)},a.prototype._up=function(t,r){r===void 0&&(r={}),r.noTarget&&(r.__up=!0);var o=r.partial,l=yy(r,["partial"]);return t.__p=!!(l.avoidStore||o),this.set(t,ul(ul({},l),{avoidStore:t.__p}))},a.prototype.up=function(t,r){r===void 0&&(r={}),this.set(t,ul(ul({},r),{__up:!0}))},a.prototype.init=function(){},a.prototype.getId=function(){return this.get("id")},a.prototype.getType=function(){return this.get("type")},a.prototype.getName=function(){return this.get("property")},a.prototype.getLabel=function(t){var r;t===void 0&&(t={});var o=t.locale,l=o===void 0?!0:o,v=this.getId(),w=this.get("name")||this.get("label");return l&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.properties.".concat(v)))||w},a.prototype.getValue=function(t){t===void 0&&(t={});var r=t.noDefault,o=this.get("value");return!this.hasValue()&&!r?this.getDefaultValue():o},a.prototype.hasValue=function(t){t===void 0&&(t={});var r=t.noParent,o=r&&this.getParentTarget(),l=this.get("value");return!(0,wt.isUndefined)(l)&&l!==""&&!o},a.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},a.prototype.getStyle=function(t){var r;t===void 0&&(t={});var o=this.getName(),l=t.camelCase?(0,he.camelCase)(o):o;return r={},r[l]=this.__getFullValue(t),r},a.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,wt.isUndefined)(t)?this.get("defaults"):t)},a.prototype.upValue=function(t,r){r===void 0&&(r={});var o=t===null||t===""?this.__getClearProps():this.__parseValue(t,r);return this._up(o,r)},a.prototype.isVisible=function(){return!!this.get("visible")},a.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),ul(ul({},t),{__clear:!0})),this},a.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},a.prototype.getParent=function(){return this.__getParentProp()},a.prototype.isFull=function(){return!!this.get("full")},a.prototype.__parseValue=function(t,r){return this.parseValue(t,r)},a.prototype.__getClearProps=function(){return{value:""}},a.prototype.setValue=function(t,r,o){r===void 0&&(r=!0),o===void 0&&(o={});var l=this.parseValue(t),v=!r;!v&&this.set({value:void 0},{avoidStore:v,silent:!0}),this.set(l,ul({avoidStore:v},o))},a.prototype.setValueFromInput=function(t,r,o){o===void 0&&(o={}),this.setValue(t,r,ul(ul({},o),{fromInput:1}))},a.prototype.parseValue=function(t,r){r===void 0&&(r={});var o={value:t},l="!important",v=this.get("functionName")||"";if((0,wt.isString)(t)&&t.indexOf(l)!==-1&&(o.value=t.replace(l,"").trim(),o.important=!0),!v&&!r.complete)return o;var w=[],C="".concat(o.value).trim(),E=C.indexOf("(")+1,j=v||C.substring(0,E-1);if(j&&(o.functionName=j),!v||C.indexOf("".concat(v,"("))===0){var Z=C.lastIndexOf(")");w.push(E),Z>=0&&w.push(Z),o.value=String.prototype.substring.apply(C,w)}if(r.numeric){var at=parseFloat(o.value);o.unit=o.value.replace(at,""),o.value=at}return o},a.prototype.__getFullValue=function(t){var r=t===void 0?{}:t,o=r.withDefault;return!this.hasValue()&&o?this.getDefaultValue():this.getFullValue()},a.prototype.getFullValue=function(t,r){r===void 0&&(r={});var o=this.get("functionName"),l=this.getDefaultValue(),v=(0,wt.isUndefined)(t)?this.get("value"):t,w=!(0,wt.isUndefined)(v)&&v!=="";if(v&&l&&v===l)return l;if(o&&w){var C=o==="url"?"'".concat(v.replace(/'|"/g,""),"'"):v;v="".concat(o,"(").concat(C,")")}return w&&this.get("important")&&!r.skipImportant&&(v="".concat(v," !important")),v||""},a.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},a.prototype.getParentTarget=function(){return this.get("parentTarget")||null},a.prototype.__parseFn=function(t){t===void 0&&(t="");var r=t.indexOf("(")+1,o=t.lastIndexOf(")");return{name:t.substring(0,r-1).trim(),value:String.prototype.substring.apply(t,[r,o>=0?o:void 0]).trim()}},a.prototype.__checkVisibility=function(t){var r=t.target,o=t.component,l=t.sectors,v=o||r;if(!v)return!1;var w=this.getId(),C=this.getName(),E=this.get("toRequire"),j=this.get("requires"),Z=this.get("requiresParent"),at=v.get("unstylable"),Pt=v.get("stylable-require"),Nt=v.get("stylable");if((0,wt.isArray)(Nt)&&(Nt=Nt.indexOf(C)>=0),(0,wt.isArray)(at)&&(Nt=at.indexOf(C)<0),E&&(Nt=!r||Pt&&(Pt.indexOf(w)>=0||Pt.indexOf(C)>=0)),l&&j){var re=(0,wt.keys)(j);l.forEach(function(We){We.getProperties().forEach(function(Sr){if((0,wt.includes)(re,Sr.id)){var Br=j[Sr.id];Nt=Nt&&(0,wt.includes)(Br,Sr.get("value"))}})})}if(Z){var oe=o&&o.parent(),De=oe&&oe.getEl();if(De){var Ye=(0,he.hasWin)()?window.getComputedStyle(De):{};(0,wt.each)(Z,function(We,Sr){Nt=Nt&&Ye[Sr]&&(0,wt.includes)(We,Ye[Sr])})}else Nt=!1}return!!Nt},a}(q.Hn);const xi=qd;qd.callParentInit=function(p,a,t,r){r===void 0&&(r={}),p.prototype.initialize.apply(a,[t,ul(ul({},r),{skipInit:1})])},qd.callInit=function(p,a,t){t===void 0&&(t={}),!t.skipInit&&p.init(a,t)};var ld=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ip=function(){return Ip=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ip.apply(this,arguments)},by=function(p){ld(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return{values:{}}},a.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},a.prototype.getId=function(){return this.cid},a.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},a.prototype.getValues=function(t){t===void 0&&(t={});var r=this.get("values");return t.camelCase?Object.keys(r).reduce(function(o,l){return o[(0,he.camelCase)(l)]=r[l],o},{}):r},a.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},a.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},a.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},a.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},a.prototype.move=function(t){var r;return(r=this.prop)===null||r===void 0?void 0:r.moveLayer(this,t)},a.prototype.getStylePreview=function(t){var r;return t===void 0&&(t={}),(r=this.prop)===null||r===void 0?void 0:r.getStylePreview(this,t)},a.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},a.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",Ip(Ip({},this.getValues()),t))},a}(q.Hn);const wy=by;var _y=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kd=function(p){_y(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.initialize=function(t,r){r===void 0&&(r={}),this.prop=r.prop},a}(q.FE);const xy=Kd;Kd.prototype.model=wy;var Cy=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Np=function(){return Np=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Np.apply(this,arguments)},zh=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Yd=function(p){return p==="integer"||p==="number"},Sy=function(p){Cy(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return Np(Np({},xi.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},a.prototype.initialize=function(t,r){t===void 0&&(t={}),r===void 0&&(r={}),xi.callParentInit(xi,this,t,r);var o=this.em,l=new Kh(this.get("properties")||[],{em:o,parentProp:this});this.set("properties",l,{silent:!0}),this.listenTo(l,"change",this.__upProperties),xi.callInit(this,t,r)},Object.defineProperty(a.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),a.prototype.getProperties=function(){return zh([],this.get("properties").models,!0)},a.prototype.getProperty=function(t){return this.properties.filter(function(r){return r.getId()===t||r.getName()===t})[0]},a.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},a.prototype.isDetached=function(){return!!this.get("detached")},a.prototype.getValues=function(t){var r=t===void 0?{}:t,o=r.byName;return this.getProperties().reduce(function(l,v){var w=o?v.getName():v.getId();return l[w]="".concat(v.__getFullValue()),l},{})},a.prototype.getSeparator=function(){return this.getSplitSeparator()},a.prototype.getJoin=function(){return this.__getJoin()},a.prototype.getStyleFromProps=function(t){var r;t===void 0&&(t={});var o=this.getName(),l=this.__getJoin(),v=this.get("toStyle"),w=this.getValues(),C={};if(v)C=v(w,{join:l,name:o,property:this});else if(w=this.getValues({byName:!0}),this.isDetached())C=w;else{var E=this.getProperties().map(function(j){return j.__getFullValue({withDefault:1})}).filter(Boolean).join(l);C=(r={},r[o]=E,r)}return this.isDetached()?C[o]="":(C[o]=C[o]||"",C=Np(Np({},C),this.getProperties().reduce(function(j,Z){return j[Z.getName()]="",j},{}))),t.camelCase?Object.keys(C).reduce(function(j,Z){return j[(0,he.camelCase)(Z)]=C[Z],j},{}):C},a.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},a.prototype.__upProperties=function(t,r){if(r===void 0&&(r={}),!(r.__up||r.__clearIn)){var o=this.__getParentProp();if(o)return o.__upProperties(this,r);this.__upTargetsStyleProps(r,t)}},a.prototype.__upTargetsStyleProps=function(t,r){var o;t===void 0&&(t={});var l=this.getStyleFromProps();if(this.isDetached()&&r){var v=r.getName();l=(o={},o[v]=l[v],o)}this.__upTargetsStyle(l,t)},a.prototype._up=function(t,r){return r===void 0&&(r={}),this.__setProperties(this.__getSplitValue(t.value),r),xi.prototype._up.call(this,t,r),this},a.prototype.getStyle=function(t){return this.getStyleFromProps(t)},a.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var r=this.getStyleFromProps()[this.getName()]||"";return Xr(r)},a.prototype.__getJoin=function(){var t=this.get("join");return(0,wt.isString)(t)?t:this.get("separator")},a.prototype.__styleHasProps=function(t){t===void 0&&(t={});var r=this.getName(),o=this.getProperties(),l=o.map(function(w){return w.getName()}),v=zh([r],l,!0);return v.some(function(w){return!(0,wt.isUndefined)(t[w])&&t[w]!==""})},a.prototype.__splitValue=function(t,r){return Xr(t).split(r).map(function(o){return o.trim()}).filter(Boolean)},a.prototype.__splitStyleName=function(t,r,o){return this.__splitValue(t[r]||"",o)},a.prototype.__getSplitValue=function(t,r){t===void 0&&(t="");var o=r===void 0?{}:r,l=o.byName,v=this.getProperties(),w=v.length===4&&v.every(function(j){return Yd(j.getType())}),C=this.__splitValue(t,this.getSplitSeparator()),E={};return v.forEach(function(j,Z){var at=C[Z],Pt=(0,wt.isUndefined)(at)?"":at;if(w){var Nt=C.length;Pt=C[Z]||C[Z%Nt+(Nt!=1&&Nt%2?1:0)]||Pt}var re=l?j.getName():j.getId();E[re]=Pt||""}),E},a.prototype.__getPropsFromStyle=function(t,r){if(t===void 0&&(t={}),r===void 0&&(r={}),!this.__styleHasProps(t))return null;var o=r.byName,l=this.getName(),v=this.getProperties(),w=this.getSplitSeparator(),C=this.get("fromStyle"),E=C?C(t,{property:this,name:l,separator:w}):{};return C||(E=this.__getSplitValue(t[l]||"",{byName:o}),v.forEach(function(j){var Z=t[j.getName()],at=o?j.getName():j.getId();!(0,wt.isUndefined)(Z)&&Z!==""&&(E[at]=Z)})),E},a.prototype.__setProperties=function(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.getProperties().forEach(function(l){var v=t[l.getId()];l.__getFullValue()!==v&&l.upValue(v,r)});var o=(0,wt.keys)(t).map(function(l){return t[l]}).join(" ");this.set("value",o,{silent:!0})},a.prototype.clear=function(){var t=this;return this.getProperties().map(function(r){return r.clear({__clearIn:!t.isDetached()})}),xi.prototype.clear.call(this),this},a.prototype.hasValue=function(t){return this.getProperties().some(function(r){return r.hasValue(t)})},a.prototype.getFullValue=function(){return this.__getFullValue()},a.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},a}(xi);const ap=Sy;var Oy=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ml=function(){return Ml=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Ml.apply(this,arguments)},Ty=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Ey=/,(?![^\(]*\))/,Is=/\s(?![^(]*\))/,Wh=function(p){Oy(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return Ml(Ml({},ap.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},a.prototype.initialize=function(t,r){t===void 0&&(t={}),r===void 0&&(r={}),ap.callParentInit(ap,this,t,r);var o=this.get("layers"),l=new xy(o,{prop:this});l.property=this,l.properties=this.get("properties"),this.set("layers",l,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(l,"add remove",this.__upLayers),ap.callInit(this,t,r)},Object.defineProperty(a.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),a.prototype.getLayers=function(){return this.layers.models},a.prototype.hasLayers=function(){return this.getLayers().length>0},a.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},a.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},a.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},a.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var r=this.getLayer(t);return r&&this.selectLayer(r)},a.prototype.moveLayer=function(t,r){r===void 0&&(r=0);var o=this.layers,l=t?t.getIndex():-1;l>=0&&(0,wt.isNumber)(r)&&r>=0&&r<o.length&&l!==r&&(this.removeLayer(t),o.add(t,{at:r}))},a.prototype.addLayer=function(t,r){t===void 0&&(t={}),r===void 0&&(r={});var o={};this.getProperties().forEach(function(v){var w=v.getId(),C=t[w];o[w]=(0,wt.isUndefined)(C)?v.getDefaultValue():C});var l=this.layers.push({values:o},r);return l},a.prototype.removeLayer=function(t){return this.layers.remove(t)},a.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var r=this.getLayer(t);return r?this.removeLayer(r):null},a.prototype.getLayerLabel=function(t){var r="";if(t){var o=this.get("layerLabel"),l=t.getValues(),v=t.getIndex();if(o)r=o(t,{index:v,values:l,property:this});else{var w=[];this.getProperties().map(function(C){w.push(l[C.getId()])}),r=w.filter(Boolean).join(" ")}}return r},a.prototype.getStyleFromLayer=function(t,r){var o;r===void 0&&(r={});var l=this.__getJoin(),v=this.__getJoinLayers(),w=this.get("toStyle"),C=this.getName(),E=t.getValues(),j;if(w)j=w(E,{join:l,joinLayers:v,name:C,layer:t,property:this});else{var Z=this.getProperties().map(function(at){var Pt=at.getName(),Nt=E[at.getId()],re=(0,wt.isUndefined)(Nt)?at.getDefaultValue():Nt;if(r.number&&Yd(at.getType())){var oe=at.parseValue(Nt,r.number);re="".concat(oe.value).concat(oe.unit)}return{name:Pt,value:re}});j=this.isDetached()?Z.reduce(function(at,Pt){return at[Pt.name]=Pt.value,at},{}):(o={},o[this.getName()]=Z.map(function(at){return at.value}).join(l),o)}return r.camelCase?Object.keys(j).reduce(function(at,Pt){return at[(0,he.camelCase)(Pt)]=j[Pt],at},{}):j},a.prototype.getStylePreview=function(t,r){r===void 0&&(r={});var o={},l=this.get("preview");return l&&(o=this.getStyleFromLayer(t,r)),o},a.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,wt.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},a.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},a.prototype.__upProperties=function(t,r){var o;r===void 0&&(r={});var l=this.getSelectedLayer();l&&(l.upValues((o={},o[t.getId()]=t.__getFullValue(),o)),!r.__up&&this.__upTargetsStyleProps(r))},a.prototype.__upLayers=function(t,r,o){this.__upTargetsStyleProps(o||r)},a.prototype.__upTargets=function(t,r){if(r===void 0&&(r={}),!r.__select)return xi.prototype.__upTargets.call(this,t,r)},a.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},a.prototype.__upTargetsStyle=function(t,r){return xi.prototype.__upTargetsStyle.call(this,t,r)},a.prototype.__upSelected=function(t,r){var o=t===void 0?{}:t,l=o.noEvent;r===void 0&&(r={});var v=this.em.Styles,w=this.getSelectedLayer(),C=w==null?void 0:w.getValues();C&&this.getProperties().forEach(function(E){var j,Z=(j=C[E.getId()])!==null&&j!==void 0?j:"";E.__getFullValue()!==Z&&E.upValue(Z,Ml(Ml({},r),{__up:!0}))}),!l&&v.__trgEv(v.events.layerSelect,{property:this})},a.prototype._up=function(t,r){r===void 0&&(r={});var o=t.__layers,l=o===void 0?[]:o,v=Ty(t,["__layers"]);return!this.isDetached()&&this.__setLayers(l),this.__upSelected({noEvent:!0},r),xi.prototype._up.call(this,v,r),this},a.prototype.__setLayers=function(t,r){t===void 0&&(t=[]),r===void 0&&(r={});var o=this.layers,l=t.map(function(v){return{values:v}});o.length===l.length?l.map(function(v,w){var C;return(C=o.at(w))===null||C===void 0?void 0:C.upValues(v.values)}):o.reset(l),this.set({isEmptyValue:!!r.isEmptyValue}),this.__upSelected({noEvent:!0})},a.prototype.__parseValue=function(t){var r=this,o=this.parseValue(t);return o.__layers=t.split(Ey).map(function(l){return l.trim()}).map(function(l){return r.__parseLayer(l)}).filter(Boolean),o},a.prototype.__parseLayer=function(t){var r=this.get("parseLayer"),o=t.split(Is),l=this.getProperties();return r?r({value:t,values:o}):l.reduce(function(v,w,C){var E=o[C];return v[w.getId()]=(0,wt.isUndefined)(E)?w.getDefaultValue():E,v},{})},a.prototype.__getLayersFromStyle=function(t){var r=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var o=this.getName(),l=this.getProperties(),v=this.getLayerSeparator(),w=this.attributes.fromStyle,C=w?w(t,{property:this,name:o,separatorLayers:v}):[];if(!w){var E=this.__splitStyleName(t,o,v).map(function(j){return j.split(r.getSplitSeparator())}).map(function(j){var Z={};return l.forEach(function(at,Pt){var Nt=j[Pt];Z[at.getId()]=(0,wt.isUndefined)(Nt)?at.getDefaultValue():Nt}),Z});l.forEach(function(j){var Z=j.getId();r.__splitStyleName(t,j.getName(),v).map(function(at){var Pt;return Pt={},Pt[Z]=at||j.getDefaultValue(),Pt}).forEach(function(at,Pt){E[Pt]=E[Pt]?Ml(Ml({},E[Pt]),at):at})}),C=E}return(0,wt.isArray)(C)?C:[C]},a.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},a.prototype.getStyleFromLayers=function(t){var r=this;t===void 0&&(t={});var o={},l=this.getName(),v=this.getLayers(),w=this.getProperties(),C=v.map(function(j){return r.getStyleFromLayer(j,t)});if(C.forEach(function(j){(0,wt.keys)(j).map(function(Z){o[Z]||(o[Z]=[]),o[Z].push(j[Z])})}),(0,wt.keys)(o).map(function(j){o[j]=o[j].join(r.__getJoinLayers())}),this.isDetached())o[l]="",!v.length&&w.map(function(j){o[j.getName()]=""});else{var E=w.reduce(function(j,Z){return j[Z.getName()]="",j},{});o[l]=o[l]||"",o=Ml(Ml({},o),E)}return Ml(Ml({},o),t.__clear?{}:this.getEmptyValueStyle())},a.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var r=this.getEmptyValueStyle({force:!0}),o=(0,wt.keys)(r);return!!o.length&&o.every(function(l){return r[l]===t[l]})},a.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var r=this.attributes.emptyValue;if(r&&(!this.hasLayers()||t.force)){var o=this.getName(),l=this.getProperties(),v=(0,wt.isString)(r)?r:r({property:this});if((0,wt.isString)(v)){var w={};return this.isDetached()?l.map(function(C){w[C.getName()]=v}):w[o]=v,w}else return v}else return{}},a.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),r=this.get("layerSeparator");return t||((0,wt.isString)(r)?r:t)},a.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return Xr(t[this.getName()])},a.prototype.hasValue=function(t){t===void 0&&(t={});var r=t.noParent,o=r&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!o},a.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Ml(Ml({},t),{__clear:!0})),xi.prototype.clear.call(this),this},a.prototype.__canClearProp=function(){return!1},a.prototype.__getLayers=function(){return this.layers},a}(ap);const $h=Wh;var Py=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zd=function(){return Zd=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Zd.apply(this,arguments)},ky=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Ay=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Xd="data-clear-style",My=function(p){Py(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this;(0,wt.bindAll)(r,"__change","__updateStyle");var o=t.config||{},l=o.em;r.config=o,r.em=l,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.__destroyFn=r.destroy?r.destroy.bind(r):function(){};var v=r.model;v.view=r,r.onValueChange=(0,wt.debounce)(r.onValueChange.bind(r),10),r.updateStatus=(0,wt.debounce)(r.updateStatus.bind(r),0),r.listenTo(v,"destroy remove",r.remove),r.listenTo(v,"change:visible",r.updateVisibility),r.listenTo(v,"change:name change:className change:full",r.render),r.listenTo(v,"change:value",r.onValueChange),r.listenTo(v,"change:parentTarget",r.updateStatus),r.listenTo(l,"change:device",r.onValueChange);var w=r.init&&r.init.bind(r);return w&&w(),r}return a.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Xd,"]")]="clear",t},a.prototype.template=function(t){var r=this,o=r.pfx,l=r.ppfx;return`
      <div class="`.concat(o,`label" data-sm-label></div>
      <div class="`).concat(l,`fields" data-sm-fields></div>
    `)},a.prototype.templateLabel=function(t){var r=this,o=r.pfx,l=r.em,v=t.parent,w=t.attributes,C=w.icon,E=C===void 0?"":C,j=w.info,Z=j===void 0?"":j,at=l==null?void 0:l.getConfig().icons,Pt=(at==null?void 0:at.close)||"";return`
      <span class="`.concat(o,"icon ").concat(E,'" title="').concat(Z,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(v?"":'<div class="'.concat(o,'clear" style="display: none" ').concat(Xd,">").concat(Pt,"</div>"),`
    `)},a.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},a.prototype.remove=function(){var t=this;return q.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(r){return t[r]=null}),this.__destroyFn(this._getClbOpts()),this},a.prototype.updateStatus=function(){var t,r=this,o=r.model,l=r.pfx,v=r.ppfx,w=r.config,C="".concat(v,"four-color"),E="".concat(v,"color-warn"),j=this.$el.children(".".concat(l,"label")),Z=this.getClearEl(),at=Z?Z.style:{};j.removeClass("".concat(C," ").concat(E)),at.display="none",o.hasValue({noParent:!0})&&w.highlightChanged?(j.addClass(C),w.clearProperties&&(at.display="")):o.hasValue()&&w.highlightComputed&&j.addClass(E),(t=this.parent)===null||t===void 0||t.updateStatus()},a.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},a.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Xd,"]"))),this.clearEl},a.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},a.prototype.onValueChange=function(t,r,o){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},a.prototype.setValue=function(t){var r=this.model,o=(0,wt.isUndefined)(t)||t===""?r.getDefaultValue():t;if(this.update)return this.__update(o);this.__setValueInput(o)},a.prototype.__setValueInput=function(t){var r=this.getInputEl();r&&(r.value=t)},a.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},a.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},a.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},a.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},a.prototype.__update=function(t){var r=this.update&&this.update.bind(this);r&&r(Zd(Zd({},this._getClbOpts()),{value:t}))},a.prototype.__change=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=this.emit&&this.emit.bind(this);o&&o.apply(void 0,Ay([this._getClbOpts()],t,!1))},a.prototype.__updateStyle=function(t,r){r===void 0&&(r={});var o=r.complete,l=r.partial;ky(r,["complete","partial"]);var v=this.model,w=o!==!1&&l!==!0;(0,he.isObject)(t)?v.__upTargetsStyle(t,{avoidStore:!w}):v.upValue(t,{partial:!w})},a.prototype._getClbOpts=function(){var t=this,r=t.model,o=t.el,l=t.createdEl;return{el:o,createdEl:l,property:r,props:r.attributes,change:this.__change,updateStyle:this.__updateStyle}},a.prototype.render=function(){this.clearCached();var t=this,r=t.pfx,o=t.model,l=t.el,v=t.$el,w=o.getName(),C=o.getType(),E=o.get("className")||"",j="".concat(r,"property"),Z=C==="number"?"".concat(r).concat(C," ").concat(r,"integer"):"".concat(r).concat(C);this.createdEl&&this.__destroyFn(this._getClbOpts()),v.empty().append(this.template(o)),v.find("[data-sm-label]").append(this.templateLabel(o));var at=this.create&&this.create.bind(this);this.createdEl=at&&at(this._getClbOpts()),v.find("[data-sm-fields]").append(this.createdEl||this.templateInput(o)),l.className="".concat(j," ").concat(Z," ").concat(j,"__").concat(w," ").concat(E).trim(),l.className+=o.isFull()?" ".concat(j,"--full"):"";var Pt=this.onRender&&this.onRender.bind(this);return Pt&&Pt(),this.setValue(o.getValue()),this},a.prototype.onRender=function(){},a}(q.G7);const Ku=My;var Ly=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jy=function(p){Ly(a,p);function a(t){var r=p.call(this,t)||this;r.config=t.config||{},r.pfx=r.config.stylePrefix||"",r.properties=[],r.parent=t.parent;var o=r.collection;return r.listenTo(o,"add",r.addTo),r.listenTo(o,"reset",r.render),r}return a.prototype.addTo=function(t,r,o){this.add(t,null,o)},a.prototype.add=function(t,r,o){o===void 0&&(o={});var l=this,v=l.parent,w=l.config,C=r||this.el,E=new t.typeView({model:t,config:w});v&&(E.parent=v),E.render();var j=E.el;this.properties.push(E),(0,He.$Q)(C,j,o.at)},a.prototype.remove=function(){return q.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},a.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},a.prototype.render=function(){var t=this,r=this,o=r.$el,l=r.pfx;this.clearItems();var v=document.createDocumentFragment();return this.collection.forEach(function(w){return t.add(w,v)}),o.empty(),o.append(v),o.attr("class","".concat(l,"properties")),this},a}(q.G7);const Gh=jy;var cd=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ud=function(){return ud=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ud.apply(this,arguments)},ev=function(p){cd(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},a.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),Ku.prototype.remove.apply(this,arguments),this},a.prototype.onValueChange=function(){},a.prototype.onRender=function(){var t=this.pfx,r=this.model,o=r.get("properties");if(o.length&&!this.props){var l=r.isDetached(),v=new Gh({config:ud(ud({},this.config),{highlightComputed:l,highlightChanged:l}),collection:o,parent:this});v.render(),this.$el.find("#".concat(t,"input-holder")).append(v.el),this.props=v}},a.prototype.clearCached=function(){Ku.prototype.clearCached.apply(this,arguments),delete this.props},a}(Ku);const fd=ev;var Dy=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iy=function(p){Dy(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},a.prototype.template=function(){var t=this,r=t.pfx,o=t.ppfx,l=t.em,v=l==null?void 0:l.getConfig().icons,w=(v==null?void 0:v.close)||"",C=(v==null?void 0:v.move)||"";return`
      <div class="`.concat(r,`label-wrp">
        <div id="`).concat(r,'move" class="').concat(o,`no-touch-actions" data-move-layer>
          `).concat(C,`
        </div>
        <div id="`).concat(r,`label" data-label></div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(r,'preview" class="').concat(r,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(r,'close-layer" class="').concat(r,`btn-close" data-close-layer>
          `).concat(w,`
        </div>
      </div>
      <div id="`).concat(r,`inputs" data-properties></div>
    `)},a.prototype.initialize=function(t){t===void 0&&(t={});var r=this.model,o=t.config||{};this.em=o.em,this.config=o,this.sorter=t.sorter,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.propertyView=t.propertyView;var l=this.propertyView.model;this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change:values",this.updateLabel),this.listenTo(l,"change:selectedLayer",this.updateVisibility),r.view=this,r.set({droppable:0,draggable:1}),this.$el.data("model",r)},a.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},a.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},a.prototype.select=function(){this.model.select()},a.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},a.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},a.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},a.prototype.updateLabel=function(){var t=this.model,r=t.getLabel();if(this.getLabelEl().innerHTML=r,t.hasPreview()){var o=this.getPreviewEl(),l=t.getStylePreview({number:{min:-3,max:3}}),v=(0,wt.keys)(l).map(function(w){return"".concat(w,":").concat(l[w])}).join(";");o.setAttribute("style",v)}},a.prototype.updateVisibility=function(){var t,r=this,o=r.pfx,l=r.model,v=r.propertyView,w=this.getPropertiesWrapper(),C=l.isSelected();w.style.display=C?"":"none",this.$el[C?"addClass":"removeClass"]("".concat(o,"active")),C&&w.appendChild((t=v.props)===null||t===void 0?void 0:t.el)},a.prototype.render=function(){var t=this,r=t.el,o=t.pfx,l=t.model;return r.innerHTML=this.template(),r.className="".concat(o,"layer"),l.hasPreview()&&(r.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},a}(q.G7);const rv=Iy;var nv=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ny=function(p){nv(a,p);function a(t){var r=p.call(this,t)||this,o=r.collection,l=t.config||{},v=l.em,w=l.stylePrefix||"",C=l.pStylePrefix||"";r.config=l,r.pfx=w,r.ppfx=C,r.propertyView=t.propertyView,r.className="".concat(w,"layers ").concat(C,"field"),r.listenTo(o,"add",r.addTo),r.listenTo(o,"reset",r.reset),r.items=[];var E=v==null?void 0:v.Utils;return r.sorter=E?new E.Sorter({container:r.el,ignoreViewChildren:1,containerSel:".".concat(w,"layers"),itemSel:".".concat(w,"layer"),pfx:l.pStylePrefix,em:v}):"",o.view=r,r.$el.data("model",o),r.$el.data("collection",o),r}return a.prototype.addTo=function(t){var r=this.collection.indexOf(t);this.addToCollection(t,null,r)},a.prototype.addToCollection=function(t,r,o){var l=r||null,v=this,w=v.propertyView,C=v.config,E=v.sorter,j=v.$el,Z=new rv({model:t,config:C,sorter:E,propertyView:w}),at=Z.render().el;if(this.items.push(Z),l)l.appendChild(at);else if(typeof o<"u"){var Pt="before";j.children().length===o&&(o--,Pt="after"),o<0?j.append(at):j.children().eq(o)[Pt](at)}else j.append(at);return at},a.prototype.reset=function(t,r){this.clearItems(),this.render()},a.prototype.remove=function(){return this.clearItems(),q.G7.prototype.remove.apply(this,arguments),this},a.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},a.prototype.render=function(){var t=this,r=this,o=r.$el,l=r.sorter,v=document.createDocumentFragment();return o.empty(),this.collection.forEach(function(w){return t.addToCollection(w,v)}),o.append(v),o.attr("class",this.className),l&&(l.plh=null),this},a}(q.G7);const Jd=Ny;var qh=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sp=function(){return sp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},sp.apply(this,arguments)},ov=function(p){qh(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return sp(sp({},fd.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},a.prototype.templateInput=function(){var t=this,r=t.pfx,o=t.em,l=o==null?void 0:o.getConfig().icons,v=(l==null?void 0:l.plus)||"+";return`
      <div class="`.concat(r,"field ").concat(r,`stack">
        <button type="button" id="`).concat(r,`add" data-add-layer>
          `).concat(v,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},a.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},a.prototype.addLayer=function(){this.model.addLayer({},{at:0})},a.prototype.setValue=function(){},a.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),fd.prototype.remove.apply(this,arguments),this},a.prototype.clearCached=function(){fd.prototype.clearCached.apply(this,arguments),delete this.layersView},a.prototype.onRender=function(){var t=this,r=t.model,o=t.el,l=t.config,v=r.get("properties");if(v.length&&!this.props){var w=new Gh({config:sp(sp({},l),{highlightComputed:!1,highlightChanged:!1}),collection:v,parent:this});w.render();var C=new Jd({collection:r.layers,config:l,propertyView:this});C.render();var E=o.querySelector("[data-layers-wrapper]");E.appendChild(C.el),this.props=w,this.layersView=C}},a}(fd);const iv=ov;var Fy=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),h=function(){return h=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},h.apply(this,arguments)},s=function(p){Fy(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return h(h({},Ku.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},a.prototype.templateInput=function(){var t,r=this,o=r.pfx,l=r.em,v=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,w=v==null?void 0:v.close;return`
      <div class="`.concat(o,"field ").concat(o,`file">
        <div id='`).concat(o,`input-holder'>
          <div class="`).concat(o,`btn-c">
            <button class="`).concat(o,'btn" id="').concat(o,`images" type="button" data-open-assets>
              `).concat(l.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(o,'preview-box" class="').concat(o,`preview-file" data-preview-box>
          <div id="`).concat(o,'preview-file" class="').concat(o,`preview-file-cnt" data-preview></div>
          <div id="`).concat(o,'close" class="').concat(o,'preview-file-close" data-clear-asset>').concat(w,`</div>
        </div>
      </div>
    `)},a.prototype.__setValueInput=function(t){var r=this,o=r.model,l=r.el,v=o.getDefaultValue(),w=l.querySelector("[data-preview-box]"),C=l.querySelector("[data-preview]");w.style.display=!t||t===v?"none":"",C.style.backgroundImage=t||o.getDefaultValue()},a.prototype.openAssetManager=function(){var t=this,r,o=(r=this.em)===null||r===void 0?void 0:r.Assets;o==null||o.open({select:function(l,v){var w=(0,wt.isString)(l)?l:l.get("src");t.model.upValue(w,{partial:!v}),v&&o.close()},types:["image"],accept:"image/*"})},a}(Ku);const e=s;var n=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),i=function(p){n(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.templateInput=function(t){return""},a.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},a.prototype.setValue=function(t){},a.prototype.onRender=function(){var t=this,r=t.ppfx,o=t.model,l=t.el;if(!this.inputInst){var v=o.input;v.ppfx=r,v.render();var w=l.querySelector(".".concat(r,"fields"));w.appendChild(v.el),this.input=v.inputEl.get(0),this.inputInst=v}},a.prototype.clearCached=function(){Ku.prototype.clearCached.apply(this,arguments),this.inputInst=null},a}(Ku);const u=i;var m=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),O=function(p){m(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.setValue=function(t){var r;(r=this.inputInst)===null||r===void 0||r.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},a.prototype.remove=function(){var t=this;u.prototype.remove.apply(this,arguments);var r=this.inputInst;return r&&r.remove&&r.remove(),["inputInst","$color"].forEach(function(o){return t[o]=null}),this},a.prototype.__handleChange=function(t,r){this.model.upValue(t,{partial:r})},a.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var r=this,o=r.ppfx,l=r.model,v=r.em,w=r.el,C=new wr({target:v,model:l,ppfx:o,onChange:this.__handleChange}),E=C.render();w.querySelector(".".concat(o,"fields")).appendChild(E.el),this.input=(t=E.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=E}},a}(u);const P=O;var L=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A=function(){return A=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},A.apply(this,arguments)},ot=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},kt=function(p){L(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return A(A({},xi.getDefaults()),{options:[],full:0})},a.prototype.getOptions=function(){var t=this.attributes,r=t.options,o=t.list;return(r&&r.length?r:o)||[]},a.prototype.getOption=function(t){var r=this,o=(0,he.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(l){return r.getOptionId(l)===o})[0]||null},a.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},a.prototype.addOption=function(t){if(t){var r=this.getOptions();this.setOptions(ot(ot([],r,!0),[t],!1))}return this},a.prototype.getOptionId=function(t){return(0,he.isDef)(t.id)?t.id:t.value},a.prototype.getOptionLabel=function(t,r){var o;r===void 0&&(r={});var l=r.locale,v=l===void 0?!0:l,w=((0,wt.isString)(t)?this.getOption(t):t)||{},C=this.getOptionId(w),E=w.label||w.name||C,j=r.property||this.getId();return v&&((o=this.em)===null||o===void 0?void 0:o.t("styleManager.options.".concat(j,".").concat(C)))||E},a.prototype.initialize=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];xi.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},a.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},a}(xi);const zt=kt;var Gt=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_e=function(p){Gt(a,p);function a(t){var r=p.call(this,t)||this;return r.listenTo(r.model,"change:options",r.updateOptions),r}return a.prototype.templateInput=function(){var t=this,r=t.pfx,o=t.ppfx;return`
      <div class="`.concat(o,"field ").concat(o,`select">
        <span id="`).concat(r,`input-holder"></span>
        <div class="`).concat(o,`sel-arrow">
          <div class="`).concat(o,`d-s-arrow"></div>
        </div>
      </div>
    `)},a.prototype.updateOptions=function(){delete this.input,this.onRender()},a.prototype.onRender=function(){var t=this.pfx,r=this.model,o=r.getOptions();if(!this.input){var l=[];o.forEach(function(w){var C=r.getOptionId(w),E=r.getOptionLabel(C),j=w.style?w.style.replace(/"/g,"&quot;"):"",Z=j?'style="'.concat(j,'"'):"",at=C.replace(/"/g,"&quot;");l.push('<option value="'.concat(at,'" ').concat(Z,">").concat(E,"</option>"))});var v=this.el.querySelector("#".concat(t,"input-holder"));v.innerHTML="<select>".concat(l.join(""),"</select>"),this.input=v.firstChild}},a.prototype.__setValueInput=function(t){var r=this.model,o=this.getInputEl(),l=r.getOptions()[0],v=l?r.getOptionId(l):"";o&&(o.value=t||v)},a}(Ku);const Ee=_e;var Se=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),or=function(){return or=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},or.apply(this,arguments)},yr=function(p){Se(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return or(or({},zt.getDefaults()),{full:1})},a}(zt);const Qr=yr;var en=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),En=function(p){en(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},a.prototype.onRender=function(){var t=this,r=t.pfx,o=t.ppfx,l=this.model,v="".concat(o,"radio-item-label"),w=l.getName(),C=l.getOptions(),E="".concat(r,"radio ").concat(r,"radio-").concat(w),j=l.cid;if(!this.input){var Z=[];C.forEach(function(Pt){var Nt=Pt.className?"".concat(Pt.className," ").concat(r,"icon ").concat(v):"",re=l.getOptionId(Pt),oe="".concat(w,"-").concat(re,"-").concat(j),De=Nt?"":l.getOptionLabel(re),Ye=Pt.title?'title="'.concat(Pt.title,'"'):"",We=l.getValue()===re?"checked":"";Z.push(`
          <div class="`.concat(o,`radio-item">
            <input type="radio" class="`).concat(E,'" id="').concat(oe,'" name="').concat(w,"-").concat(j,'" value="').concat(re,'" ').concat(We,`/>
            <label class="`).concat(Nt||v,'" ').concat(Ye,' for="').concat(oe,'">').concat(De,`</label>
          </div>
        `))});var at=this.el.querySelector(".".concat(o,"field"));at.innerHTML='<div class="'.concat(o,'radio-items">').concat(Z.join(""),"</div>"),this.input=at.firstChild}},a.prototype.__setValueInput=function(t){var r,o=this.model,l=t||o.getDefaultValue(),v=(r=this.getInputEl())===null||r===void 0?void 0:r.querySelector('[value="'.concat(l,'"]'));v&&(v.checked=!0)},a}(Ee);const An=En;var yo=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Po=function(){return Po=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Po.apply(this,arguments)},Ns=function(p){yo(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return Po(Po({},xi.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},a.prototype.getUnits=function(){return this.get("units")||[]},a.prototype.getUnit=function(){return this.get("unit")},a.prototype.getMin=function(){return this.get("min")},a.prototype.getMax=function(){return this.get("max")},a.prototype.getStep=function(){return this.get("step")},a.prototype.upUnit=function(t,r){return r===void 0&&(r={}),this._up({unit:t},r)},a.prototype.initialize=function(t,r){t===void 0&&(t={}),r===void 0&&(r={}),xi.callParentInit(xi,this,t,r);var o=this.get("unit"),l=this.getUnits();this.input=(0,he.hasWin)()?new bn({model:this}):void 0,l.length&&!o&&this.set("unit",l[0],{silent:!0}),xi.callInit(this,t,r)},a.prototype.__getClearProps=function(){return Po(Po({},xi.prototype.__getClearProps()),{unit:""})},a.prototype.parseValue=function(t,r){r===void 0&&(r={});var o=xi.prototype.parseValue.apply(this,arguments),l=this.input.validateInputValue(o.value,Po({deepCheck:1},r)),v=l.value,w=l.unit;return o.value=v,o.unit=w,o},a.prototype.getFullValue=function(){var t=this.get("value"),r=this.get("unit"),o=(0,wt.isUndefined)(t)?"":"".concat(t),l=!(0,wt.isUndefined)(r)&&o?r:"",v="".concat(o).concat(l);return xi.prototype.getFullValue.apply(this,[v])},a}(xi);const es=Ns;var fl=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_s=function(){return _s=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},_s.apply(this,arguments)},pl=function(p){fl(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.defaults=function(){return _s(_s({},es.getDefaults()),{showInput:1})},a}(es);const yu=pl;var Yu=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bu=function(){return bu=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},bu.apply(this,arguments)},av=function(p){Yu(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.events=function(){return bu(bu({},u.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},a.prototype.templateInput=function(t){var r=this.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},a.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},a.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},a.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},a.prototype.setValue=function(t){var r=this.model,o=r.parseValue(t);this.getSliderEl().value=t===""?r.getDefaultValue():parseFloat(o.value),u.prototype.setValue.apply(this,arguments)},a.prototype.onRender=function(){u.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},a.prototype.clearCached=function(){u.prototype.clearCached.apply(this,arguments),delete this.slider},a}(u);const Vy=av;var Ry=q.FE.extend(bg),Hy=Ry.extend({extendViewApi:1,init:function(){var p=this,a=p.opts,t=p.em,r=a.module||(t==null?void 0:t.get("StyleManager"));r&&(r.__listenAdd(this,r.events.propertyAdd),r.__listenRemove(this,r.events.propertyRemove))},types:[{id:"stack",model:$h,view:iv,isType:function(p){if(p&&p.type=="stack")return p}},{id:"composite",model:ap,view:fd,isType:function(p){if(p&&p.type=="composite")return p}},{id:"file",model:xi,view:e,isType:function(p){if(p&&p.type=="file")return p}},{id:"color",model:xi,view:P,isType:function(p){if(p&&p.type=="color")return p}},{id:"select",model:zt,view:Ee,isType:function(p){if(p&&p.type=="select")return p}},{id:"radio",model:Qr,view:An,isType:function(p){if(p&&p.type=="radio")return p}},{id:"slider",model:yu,view:Vy,isType:function(p){if(p&&p.type=="slider")return p}},{id:"integer",model:es,view:u,isType:function(p){if(p&&p.type=="integer")return p}},{id:"number",model:es,view:u,isType:function(p){if(p&&p.type=="number")return p}},{id:"base",model:xi,view:Ku,isType:function(p){return p.type="base",p}}]});const Kh=Hy;var By=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qd=function(){return Qd=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Qd.apply(this,arguments)},Uy=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},zy=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Wy=function(p){By(a,p);function a(t,r){r===void 0&&(r={});var o=p.call(this,t)||this,l=r.em;o.em=l;var v=t||{},w=o.buildProperties(v.buildProps),C=o.get("name")||"",E=[];!o.get("id")&&o.set("id",C.replace(/ /g,"_").toLowerCase()),w?E=o.extendProperties(w):E=o.get("properties").map(function(Z){return(0,wt.isString)(Z)?o.buildProperties(Z)[0]:Z}).filter(Boolean),E=E.map(function(Z){return o.checkExtend(Z)});var j=new Kh(E,{em:l});return j.sector=o,o.set("properties",j),o}return a.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(a.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),a.prototype.getId=function(){return this.get("id")},a.prototype.getName=function(){var t,r=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(r)))||this.get("name")},a.prototype.setName=function(t){return this.set("name",t)},a.prototype.isOpen=function(){return!!this.get("open")},a.prototype.setOpen=function(t){return this.set("open",t)},a.prototype.isVisible=function(){return!!this.get("visible")},a.prototype.getProperties=function(t){t===void 0&&(t={});var r=this.properties,o=r.models?zy([],r.models,!0):r;return o.filter(function(l){var v=!0;if(t.withValue&&(v=l.hasValue({noParent:!0})),t.withParentValue){var w=l.hasValue({noParent:!0});v=!w&&l.hasValue()}return v})},a.prototype.getProperty=function(t){return this.getProperties().filter(function(r){return r.get("id")===t})[0]||void 0},a.prototype.addProperty=function(t,r){return this.properties.add(this.checkExtend(t),r)},a.prototype.extendProperties=function(t,r,o){o===void 0&&(o=!1);for(var l=t.length,v=r||this.get("properties"),w=this.get("extendBuilded"),C=[],E=0,j=v.length;E<j;E++){for(var Z=v[E],at=0,Pt=0;Pt<l;Pt++){var Nt=t[Pt];if(Z.property==Nt.property||Z.id==Nt.property){var re=Z.properties;re&&re.length&&(Z.properties=this.extendProperties(Nt.properties||[],re,1)),t[Pt]=w?(0,wt.extend)(Nt,Z):Z,C[Pt]=t[Pt],at=1;continue}}at||(t.push(Z),C.push(Z))}return o?C.filter(function(oe){return oe}):t},a.prototype.checkExtend=function(t){var r=((0,wt.isString)(t)?{extend:t}:t)||{},o=r.extend,l=Uy(r,["extend"]);return o?Qd(Qd({},this.buildProperties([o])[0]||{}),l):t},a.prototype.buildProperties=function(t){var r,o=t||[];if(!o.length)return[];var l=(r=this.em)===null||r===void 0?void 0:r.Styles.builtIn;return l==null?void 0:l.build(o)},a}(q.Hn);const sv=Wy;var $y=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),th=function(){return th=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},th.apply(this,arguments)},Gy=function(p){$y(a,p);function a(){return p!==null&&p.apply(this,arguments)||this}return a.prototype.initialize=function(t,r){r===void 0&&(r={});var o=r.module,l=r.em;this.em=l,this.module=o,this.listenTo(this,"reset",this.onReset)},a.prototype.model=function(t,r){r===void 0&&(r={});var o=r.collection.em;return new sv(t,th(th({},r),{em:o}))},a.prototype.onReset=function(t,r){r===void 0&&(r={});var o=r.previousModels||[];o.forEach(function(l){return l.get("properties").reset()})},a}(q.FE);const lv=Gy;var Yo=function(){return Yo=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Yo.apply(this,arguments)},eh=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},Fs=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},Mi=function(p){return p.map(function(a){return{id:a}})},pd=function(){function p(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var a=", sans-serif",t=["flex-start","flex-end","center"],r=Fs(Fs([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Mi(["auto","cover","contain"]),this.optsBgAttach=Mi(["scroll","fixed","local"]),this.optsBgRepeat=Mi(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Mi(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Mi(["visible","hidden","scroll","auto"]),this.optsDir=Mi(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Mi(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Mi(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Mi(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Mi(["none","left","right"]),this.optsPos=Mi(["static","relative","absolute","fixed"]),this.optsTextAlign=Mi(["left","center","right","justify"]),this.optsFlexAlign=Mi(r),this.optsJustCont=Mi(Fs(Fs([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Mi(Fs(Fs([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Mi(Fs(["auto"],r,!0)),this.optsTransitProp=Mi(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Mi(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Mi(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+a,"Arial Black, Gadget"+a,"Brush Script MT"+a,"Comic Sans MS, cursive"+a,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+a,"Impact, Charcoal"+a,"Lucida Sans Unicode, Lucida Grande"+a,"Tahoma, Geneva"+a,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+a,"Verdana, Geneva"+a].map(function(o){return{id:o,label:o.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return p.prototype.__sub=function(a){var t=this;return function(){return a.map(function(r){if((0,wt.isString)(r))return t.get(r);var o=r.extend,l=eh(r,["extend"]);return Yo(Yo({},t.get(o)),l)})}},p.prototype.init=function(){var a=this,t=this,r=t.fixedValues,o=t.requireFlex,l=t.typeNumber;this.props={};var v=[["text-shadow-h",{type:l,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:r},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:o},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:l,default:"0",requiresParent:o}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:o},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:o},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(w,C){var E=C.values,j=E["box-shadow-h"],Z=E["box-shadow-v"],at=E["box-shadow-blur"],Pt=E["box-shadow-spread"];return"".concat(j," ").concat(Z," ").concat(at," ").concat(Pt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(w,C){var E=C.values,j=E["text-shadow-h"],Z=E["text-shadow-v"],at=E["text-shadow-blur"];return"".concat(j," ").concat(Z," ").concat(at)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(w,C){var E=C.values,j=E["background-repeat-sub"]||"",Z=E["background-position-sub"]||"",at=E["background-attachment-sub"]||"",Pt=E["background-size-sub"]||"";return[j,Z,at,Pt].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(w,C){var E=C.property,j=C.name,Z=w[j]||"",at=E.getLayerSeparator();return Z?Z.split(at).map(function(Pt){var Nt=E.__parseFn(Pt),re=Nt.name,oe=Nt.value;return{"transform-type":re,"transform-value":oe}}):[]},toStyle:function(w,C){var E,j=C.name;return E={},E[j]="".concat(w["transform-type"],"(").concat(w["transform-value"],")"),E},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(w){var C=w.property,E=w.to;if(E.value){var j=C.getOption(),Z=Yo({},j.propValue||{}),at=C.getParent().getProperty("transform-value"),Pt=at.getUnit();(!Pt||(Z==null?void 0:Z.units.indexOf(Pt))<0)&&(Z.unit=(Z==null?void 0:Z.units[0])||""),at.up(Z)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return v.forEach(function(w){var C=w[0],E=w[1],j=w[2];a.add(C,E||{},{from:j})}),this},p.prototype.add=function(a,t,r){t===void 0&&(t={}),r===void 0&&(r={});var o=r.from||"",l=this.props[o||a]||{},v=Yo(Yo(Yo({},l),{property:a}),t);return v.properties&&(0,wt.isFunction)(v.properties)&&(v.properties=v.properties()),this.props[a]=v,v},p.prototype.get=function(a){return this.props[a]},p.prototype.build=function(a){var t=this,r=[],o=(0,wt.isString)(a)?[a]:a;return o.forEach(function(l){r.push(t.get(l)||{property:l})}),r},p}();const qy=pd;var Ne=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tr=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},sr=function(p){Ne(a,p);function a(t){var r=p.call(this,t)||this,o=t.config||{},l=r.model,v=o.em;return r.config=o,r.em=v,r.pfx=o.stylePrefix||"",r.listenTo(l,"destroy remove",r.remove),r.listenTo(l,"change:open",r.updateOpen),r.listenTo(l,"change:visible",r.updateVisibility),r}return a.prototype.template=function(t){var r,o=t.pfx,l=t.label,v=(r=this.em)===null||r===void 0?void 0:r.getConfig().icons,w=(v==null?void 0:v.caret)||"",C="".concat(o,"sector-");return Pe(sn||(sn=tr([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),C,C,w,C,l)},a.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},a.prototype.updateOpen=function(){var t=this,r=t.$el,o=t.model,l=t.pfx,v=o.isOpen();r[v?"addClass":"removeClass"]("".concat(l,"open")),this.getPropertiesEl().style.display=v?"":"none"},a.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},a.prototype.getPropertiesEl=function(){var t=this,r=t.$el,o=t.pfx;return r.find(".".concat(o,"properties")).get(0)},a.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},a.prototype.renderProperties=function(){var t=this,r=t.model,o=t.config,l=r.get("properties");if(l){var v=new Gh({collection:l,config:o});this.$el.append(v.render().el)}},a.prototype.render=function(){var t=this,r=t.pfx,o=t.model,l=t.$el,v=o.getId(),w=o.getName();return l.html(this.template({pfx:r,label:w})),this.renderProperties(),l.attr("class","".concat(r,"sector ").concat(r,"sector__").concat(v," no-select")),this.updateOpen(),this},a}(q.G7);const Cr=sr;var sn,_r=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),no=function(p){_r(a,p);function a(t){t===void 0&&(t={});var r=p.call(this,t)||this,o=t.module,l=t.config,v=r.collection;return r.pfx=(l==null?void 0:l.stylePrefix)||"",r.ppfx=(l==null?void 0:l.pStylePrefix)||"",r.config=l,r.module=o,r.listenTo(v,"add",r.addTo),r.listenTo(v,"reset",r.render),r}return a.prototype.remove=function(){var t=this;return q.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(r){return t[r]={}}),this},a.prototype.addTo=function(t,r,o){o===void 0&&(o={}),this.addToCollection(t,null,o)},a.prototype.addToCollection=function(t,r,o){o===void 0&&(o={});var l=this,v=l.config,w=l.el,C=r||w,E=new Cr({model:t,config:v}).render().el;return(0,He.$Q)(C,E,o.at),E},a.prototype.render=function(){var t=this,r=this,o=r.$el,l=r.pfx,v=r.ppfx;o.empty();var w=document.createDocumentFragment();return this.collection.each(function(C){return t.addToCollection(C,w)}),o.append(w),o.addClass("".concat(l,"sectors ").concat(v,"one-bg ").concat(v,"two-color")),this},a}(q.G7);const To=no;var ho=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ea=function(){return ea=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},ea.apply(this,arguments)},ra=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},ko="style",ln="".concat(ko,":"),Lo="".concat(ln,"sector"),Xo="".concat(Lo,":add"),rs="".concat(Lo,":remove"),na="".concat(Lo,":update"),Ra="".concat(ln,"property"),dl="".concat(Ra,":add"),oc="".concat(Ra,":remove"),Of="".concat(Ra,":update"),lp="".concat(ln,"layer:select"),xs="".concat(ln,"target"),dd="".concat(ln,"custom"),Fp=function(p){return p||p===0},wu={all:ko,sectorAdd:Xo,sectorRemove:rs,sectorUpdate:na,propertyAdd:dl,propertyRemove:oc,propertyUpdate:Of,layerSelect:lp,target:xs,custom:dd},rh=function(p){ho(a,p);function a(t){var r=p.call(this,t,"StyleManager",new lv([],{em:t}),wu,vy)||this;r.Sector=sv,r.storageKey="",(0,wt.bindAll)(r,"__clearStateTarget");var o=r.config,l=o.pStylePrefix;l&&(o.stylePrefix=l+o.stylePrefix),r.builtIn=new qy,r.properties=new Kh([],{em:t,module:r}),r.sectors=r.all;var v=new q.Hn({targets:[]});r.model=v;var w="component:toggled component:update:classes change:state change:device frame:resized selector:type";r.upAll=(0,wt.debounce)(function(){return r.__upSel()},0),v.listenTo(t,w,r.upAll),v.listenTo(t,"component:toggled",r.__clearStateTarget);var C=(0,wt.debounce)(function(){r.__upProps(),r.__trgCustom()},0);v.listenTo(t,"styleable:change undo redo",C);var E=(0,wt.debounce)(function(){return r.__trgCustom()},0);return v.listenTo(t,"".concat(lp," ").concat(xs),E),v.on("change:lastTarget",function(){return t.trigger(xs,r.getSelected())}),r}return a.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},a.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},a.prototype.__trgEv=function(t){for(var r,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];(r=this.em).trigger.apply(r,ra([t],o,!1))},a.prototype.__clearStateTarget=function(){var t=this,r=this.em,o=this.__getStateTarget();o&&(r==null||r.skip(function(){r.Css.remove(o),t.model.set({stateTarget:null})}))},a.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},a.prototype.postRender=function(){this.__appendTo()},a.prototype.addSector=function(t,r,o){o===void 0&&(o={});var l=this.getSector(t);return l||(r.id=t,l=this.sectors.add(r,o)),l},a.prototype.getSector=function(t,r){r===void 0&&(r={});var o=this.sectors.where({id:t})[0];return!o&&r.warn&&this._logNoSector(t),o||null},a.prototype.getSectors=function(t){t===void 0&&(t={});var r=this.sectors,o=r&&r.models?t.array?ra([],r.models,!0):r:[];return t.visible?o.filter(function(l){return l.isVisible()}):o},a.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},a.prototype.addProperty=function(t,r,o){o===void 0&&(o={});var l=this.getSector(t,{warn:!0}),v;return l&&(v=l.addProperty(r,o)),v},a.prototype.getProperty=function(t,r){var o=this.getSector(t,{warn:!0}),l;return o&&(l=o.properties.filter(function(v){return v.get("property")===r||v.get("id")===r})[0]),l},a.prototype.getProperties=function(t){var r,o=this.getSector(t,{warn:!0});return o&&(r=o.properties),r},a.prototype.removeProperty=function(t,r){var o=this.getProperties(t);return o?o.remove(this.getProperty(t,r)):null},a.prototype.select=function(t,r){var o=this;r===void 0&&(r={});var l=this.em,v=(0,wt.isArray)(t)?t:[t],w=r.stylable,C=l.Css,E=[];v.filter(Boolean).forEach(function(re){var oe=re;if((0,wt.isString)(re)){var De=C.getRule(re)||C.setRule(re);!(0,wt.isUndefined)(w)&&De.set({stylable:w}),oe=De}E.push(oe)});var j=r.component||E.filter(function(re){return(0,he.isComponent)(re)}).reverse()[0];E=E.map(function(re){return o.getModelToStyle(re)});var Z=l.getState(),at=E.slice().reverse()[0],Pt=this.getParentRules(at,{state:Z,component:j}),Nt=this.__getStateTarget();return l.skip(function(){var re;if(Z&&(!((re=at==null?void 0:at.getState)===null||re===void 0)&&re.call(at))){var oe=at.getStyle();Nt?Nt.setStyle(oe):Nt=C.getAll().add({selectors:"gjs-selected",style:oe,shallow:!0,important:!0})}else Nt&&(C.remove(Nt),Nt=void 0)}),this.model.set({targets:E,lastTarget:at,lastTargetParents:Pt,stateTarget:Nt,component:j}),this.__upProps(r),E},a.prototype.getSelected=function(){return this.model.get("lastTarget")},a.prototype.getSelectedAll=function(){return this.model.get("targets")},a.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},a.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},a.prototype.addStyleTargets=function(t,r){this.getSelectedAll().map(function(v){return v.addStyle(t,r)});var o=this.getSelected();o&&this.__emitCmpStyleUpdate(t);var l=this.__getStateTarget();o&&(l==null||l.setStyle(o.getStyle(),r))},a.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},a.prototype.getBuiltInAll=function(){return this.builtIn.props},a.prototype.addBuiltIn=function(t,r){return this.builtIn.add(t,r)},a.prototype.getModelToStyle=function(t,r){r===void 0&&(r={});var o=this.em,l=r.skipAdd;if(o&&(t!=null&&t.toHTML)){var v=o.getConfig(),w=o.UndoManager,C=o.Css,E=o.Selectors,j=E?E.getConfig():{},Z=v.devicePreviewMode?"":o.get("state"),at=t.get("classes"),Pt=at.getStyleable(),Nt=Pt.length,re=!j.componentFirst||r.useClasses,oe={noCount:1},De={state:Z,addOpts:oe};w.skip(function(){var Ye;if(Nt&&re){var We=o.getCurrentMedia();Ye=C.get(Pt,Z,We),!Ye&&!l&&(Ye=C.add(Pt,Z,We,{},oe))}else if(v.avoidInlineStyle){var Sr=t.getId();Ye=C.getIdRule(Sr,De),!Ye&&!l&&(Ye=C.setIdRule(Sr,{},De)),t.is("wrapper")&&Ye.set("wrapper",1,oe)}Ye&&(t=Ye)})}return t},a.prototype.getParentRules=function(t,r){var o=r===void 0?{}:r,l=o.state,v=o.component,w=this.em,C=[];if(w&&t){var E=v,j=w.Css,Z=w.CodeManager.getGenerator("css"),at=t.toHTML?t:t.getComponent(),Pt={array:!0},Nt=[],re=[],oe=[],De=function(We){return We.length?j.getRules().filter(function(Sr){var Br=Sr.getSelectors().map(function(cn){return cn.getFullName()});return!!Br.length&&Br.every(function(cn){return We.indexOf(cn)>=0})}):[]};at?(Nt=j.getRules("#".concat(at.getId())),re=E?De(E.getSelectors().getFullName(Pt)):[],oe=re.concat(Nt)):(Nt=E?j.getRules("#".concat(E.getId())):[],re=De(t.getSelectors().getFullName(Pt)),oe=Nt.concat(re));var Ye=oe.filter(function(We){return(0,wt.isUndefined)(l)?1:We.get("state")===l}).sort(Z.sortRules).reverse();C=Ye.slice(Ye.indexOf(t)+1)}return C},a.prototype.addType=function(t,r){this.properties.addType(t,r)},a.prototype.getType=function(t){return this.properties.getType(t)},a.prototype.getTypes=function(){return this.properties.getTypes()},a.prototype.createType=function(t,r){var o=r===void 0?{}:r,l=o.model,v=l===void 0?{}:l,w=o.view,C=w===void 0?{}:w,E=this.config,j=this.getType(t);if(j)return new j.view(ea({model:new j.model(v),config:E},C))},a.prototype.render=function(){var t=this,r=t.config,o=t.em,l=t.SectView,v=l&&l.el;return this.SectView=new To({el:v,em:o,config:r,module:this,collection:this.sectors}),this.SectView.render().el},a.prototype._logNoSector=function(t){var r=this.em;r&&r.logWarning("'".concat(t,"' sector not found"))},a.prototype.__emitCmpStyleUpdate=function(t,r){r===void 0&&(r={});var o=this.em;if(!t.__p){var l=this.getSelectedAll(),v=r.components||o.getSelectedAll(),w=Array.isArray(v)?v:[v],C=ea({},t);delete C.__p,w.forEach(function(E){return!l.includes(E)&&E.__onStyleChange(C)})}},a.prototype.__upProps=function(t){var r=this;t===void 0&&(t={});var o=this.getSelected();if(o){var l=this.sectors,v=this.model.get("component"),w=this.getSelectedParents(),C=o.getStyle(),E=w.map(function(j){return{target:j,style:j.getStyle()}});l.map(function(j){j.getProperties().map(function(Z){r.__upProp(Z,C,E,t)})}),l.forEach(function(j){var Z=j.getProperties();Z.forEach(function(Pt){var Nt=Pt.__checkVisibility({target:o,component:v,sectors:l});Pt.set("visible",Nt)});var at=Z.some(function(Pt){return Pt.isVisible()});j.set("visible",at)})}},a.prototype.__upProp=function(t,r,o,l){var v=this,w=t.getName(),C=r[w],E=Fp(C),j=t.getType()==="stack",Z=t.getType()==="composite",at=ea(ea({},l),{__up:!0}),Pt=!Z&&!j,Nt=t,re=t,oe=j?Nt.__getLayersFromStyle(r):[],De=Z?re.__getPropsFromStyle(r):{},Ye=E?C:null,We=null;if(j&&oe===null||Z&&De===null){var Sr=j?"__getLayersFromStyle":"__getPropsFromStyle",Br=o.filter(function(Wn){return Nt[Sr](Wn.style)!==null})[0];if(Br){Ye=Br.style[w],We=Br.target;var cn=Nt[Sr](Br.style);j?oe=cn:De=cn}}else if(!E){Ye=null;var Br=o.filter(function(Gr){return Fp(Gr.style[w])})[0];Br&&(Ye=Br.style[w],We=Br.target)}if(t.__setParentTarget(We),Pt&&t.__getFullValue()!==Ye&&t.upValue(Ye,at),j&&Nt.__setLayers(oe||[],{isEmptyValue:Nt.isEmptyValueStyle(r)}),Z){var wn=re.getProperties();if(re.isDetached()){var Rr=re.__getPropsFromStyle(r,{byName:!0})||{},jn=o.map(function(Wn){return ea(ea({},Wn),{style:re.__getPropsFromStyle(Wn.style,{byName:!0})||{}})});wn.map(function(Wn){return v.__upProp(Wn,Rr,jn,l)})}else re.__setProperties(De||{},at),re.getProperties().map(function(Wn){return Wn.__setParentTarget(We)})}},a.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(r){r.reset(),r.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},a}(V);const hd=rh;var nh=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Li=function(){return Li=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Li.apply(this,arguments)},Yh=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},oh=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Tf=function(p,a){var t={};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&a.indexOf(r)<0&&(t[r]=p[r]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(p);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(p,r[o])&&(t[r[o]]=p[r[o]]);return t},gd=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))};Kt().$=ut.default;var Pa=[jg,rm,_m,ly,wp,ir,D,hd,$c,Hg,ry,Hm,tv,il,Nv,Bn,Pv,Yf],Zh=[Th,ki,Zv,Nu];Ct({$:ut.default});var ao={debug:console.log,info:console.info,warning:console.warn,error:console.error},Ky=function(p){nh(a,p);function a(t){t===void 0&&(t={});var r=p.call(this)||this;r.__skip=!1,r.defaultRunning=!1,r.destroyed=!1,r._config=t;var o=r.config;r.set("Config",t),r.set("modules",[]),r.set("toLoad",[]),r.set("storables",[]),r.set("selected",new k),r.set("dmode",o.dragMode);var l=o.el,v=o.log,w=v===!0?(0,wt.keys)(ao):(0,wt.isArray)(v)?v:[];return(0,wt.bindAll)(r,"initBaseColorPicker"),l&&o.fromElement&&(o.components=l.innerHTML),r.attrsOrig=l?(0,wt.toArray)(l.attributes).reduce(function(C,E){return C[E.nodeName]=E.nodeValue,C},{}):"",o.components&&!o.pageManager&&(o.pageManager={pages:[{component:o.components}]}),Pa.forEach(function(C){return r.loadModule(C)}),Zh.forEach(function(C){return r.loadStorableModule(C)}),r.on("change:componentHovered",r.componentHovered,r),r.on("change:changesCount",r.updateChanges,r),r.on("change:readyLoad change:readyCanvas",r._checkReady,r),w.forEach(function(C){return r.listenLog(C)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(C){var E=C.from,j=C.to;r.listenTo(r,E,function(){for(var Z=[],at=0;at<arguments.length;at++)Z[at]=arguments[at];r.trigger.apply(r,gd([j],Z,!1)),r.logWarning("The event '".concat(E,"' is deprecated, replace it with '").concat(j,"'"))})}),r}return a.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(a.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),a.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},a.prototype.getContainer=function(){return this.config.el},a.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),ao[t])},Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(t){var r=this.config;return(0,wt.isUndefined)(t)?r:r[t]},a.prototype.loadOnStart=function(){var t=this,r=this.config,o=r.projectData,l=r.headless,v=this.Storage;this.toLoad.reverse().forEach(function(E){return E.onLoad()});var w=function(){t.modules.forEach(function(E){return E.postLoad&&E.postLoad(t)}),t.set("readyLoad",1)};l?(o&&this.loadData(o),w()):this._storageTimeout=setTimeout(function(){return Yh(t,void 0,void 0,function(){var E;return oh(this,function(j){switch(j.label){case 0:return o?(this.loadData(o),[3,5]):[3,1];case 1:if(!(v!=null&&v.canAutoload()))return[3,5];j.label=2;case 2:return j.trys.push([2,4,,5]),[4,this.load()];case 3:return j.sent(),[3,5];case 4:return E=j.sent(),this.logError(E),[3,5];case 5:return w(),[2]}})})});var C=new a({noticeOnUnload:!1,storageManager:!1,undoManager:!1});C.Pages.onLoad(),C.Canvas.postLoad(),this.set("shallow",C)},a.prototype.updateChanges=function(t,r,o){var l=this,v=this.Storage,w=this.getDirtyCount();o.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return l.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=w?function(){return!0}:null),v.isAutosave()&&w>=v.getStepsBeforeSave()&&this.store().catch(function(C){return l.logError(C)})},a.prototype.loadModule=function(t){var r=new t(this);return this.set(r.name,r),r.onLoad&&this.toLoad.push(r),this.modules.push(r),r},a.prototype.loadStorableModule=function(t){var r=this.loadModule(t);return this.storables.push(r),r},a.prototype.init=function(t,r){r===void 0&&(r={}),this.destroyed&&(this.initialize(r),this.destroyed=!1),this.set("Editor",t)},a.prototype.getEditor=function(){return this.get("Editor")},a.prototype.handleUpdates=function(t,r,o){var l=this;o===void 0&&(o={}),!(this.__skip||o.temporary||o.noCount||o.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var v=l.getDirtyCount()||0;o.unset;var w=Tf(o,["unset"]);l.set("changesCount",v+1,w)},0))},a.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},a.prototype.componentHovered=function(t,r,o){var l=this.previous("componentHovered");l&&this.trigger("component:unhovered",l,o),r&&this.trigger("component:hovered",r,o)},a.prototype.getSelected=function(){return this.selected.lastComponent()},a.prototype.getSelectedAll=function(){return this.selected.allComponents()},a.prototype.setSelected=function(t,r){var o=this;r===void 0&&(r={});var l=r.event,v=l&&(l.ctrlKey||l.metaKey),w=(l||{}).shiftKey,C=((0,wt.isArray)(t)?t:[t]).map(function(at){var Pt,Nt;return((Nt=(Pt=at==null?void 0:at.delegate)===null||Pt===void 0?void 0:Pt.select)===null||Nt===void 0?void 0:Nt.call(Pt,at))||at}).filter(Boolean),E=this.getSelectedAll(),j=this.getConfig().multipleSelection,Z=(0,wt.isArray)(t);(Z||!t)&&this.removeSelected(E.filter(function(at){return!(0,wt.contains)(C,at)})),C.forEach(function(at){if(at&&(o.trigger("component:select:before",at,r),!at.get("selectable")||r.abort))if(r.useValid){for(var Pt=at.parent();Pt&&!Pt.get("selectable");)Pt=Pt.parent();at=Pt}else return;if(v&&j)return o.toggleSelected(at);if(w&&j){o.clearSelection(o.Canvas.getWindow());var Nt=at.collection,re=at.index(),oe,De;if(o.getSelectedAll().forEach(function(Ye){var We=Ye.collection,Sr=Ye.index();We===Nt&&(Sr<re?oe=(0,wt.isUndefined)(oe)?Sr:Math.max(oe,Sr):Sr>re&&(De=(0,wt.isUndefined)(De)?Sr:Math.min(De,Sr)))}),!(0,wt.isUndefined)(oe))for(;oe!==re;)o.addSelected(Nt.at(oe)),oe++;if(!(0,wt.isUndefined)(De))for(;De!==re;)o.addSelected(Nt.at(De)),De--;return o.addSelected(at)}!Z&&o.removeSelected(E.filter(function(Ye){return Ye!==at})),o.addSelected(at,r)})},a.prototype.addSelected=function(t,r){var o=this;r===void 0&&(r={});var l=(0,wt.isArray)(t)?t:[t];l.forEach(function(v){var w=o.selected;if(!(!v||!v.get("selectable")||v.parents().some(function(E){return w.hasComponent(E)}))){r.forceChange&&o.removeSelected(v,r);var C=w.allComponents().filter(function(E){return(0,wt.contains)(E.parents(),v)});C.forEach(function(E){return o.removeSelected(E,r)}),w.addComponent(v,r),o.trigger("component:select",v,r),o.Canvas.addSpot({type:Wt.q.Select,component:v})}})},a.prototype.removeSelected=function(t,r){var o=this;r===void 0&&(r={}),this.selected.removeComponent(t,r);var l=(0,wt.isArray)(t)?t:[t];l.forEach(function(v){return o.Canvas.removeSpots({type:Wt.q.Select,component:v})})},a.prototype.toggleSelected=function(t,r){var o=this;r===void 0&&(r={});var l=(0,wt.isArray)(t)?t:[t];l.forEach(function(v){o.selected.hasComponent(v)?o.removeSelected(v,r):o.addSelected(v,r)})},a.prototype.setHovered=function(t,r){var o=this;r===void 0&&(r={});var l=function(C,E){var j=o,Z=j.config,at=j.Canvas,Pt=o.getHovered(),Nt=o.getSelectedAll(),re=Wt.q.Hover,oe=Wt.q.Spacing;o.set("componentHovered",C||null,E),Pt&&(at.removeSpots({type:re,component:Pt}),at.removeSpots({type:oe,component:Pt})),C&&(at.addSpot({type:re,component:C}),(!Nt.includes(C)||Z.showOffsetsSelected)&&at.addSpot({type:oe,component:C}))};if(!t)return l();var v="component:hover";if(r.forceChange&&l(),this.trigger("".concat(v,":before"),t,r),!t.get("hoverable"))if(r.useValid&&!r.abort){for(var w=t.parent();w&&!w.get("hoverable");)w=w.parent();t=w}else return;r.abort||(l(t,r),this.trigger(v,t,r))},a.prototype.getHovered=function(){return this.get("componentHovered")},a.prototype.setComponents=function(t,r){return r===void 0&&(r={}),this.Components.setComponents(t,r)},a.prototype.getComponents=function(){var t=this.Components,r=this.CodeManager;if(!(!t||!r)){var o=t.getComponents();return r.getCode(o,"json")}},a.prototype.setStyle=function(t,r){r===void 0&&(r={});var o=this.Css;return o.clear(r),o.getAll().add(t,r),this},a.prototype.addStyle=function(t,r){r===void 0&&(r={});var o=this.getStyle().add(t,r);return(0,wt.isArray)(o)?o:[o]},a.prototype.getStyle=function(){return this.Css.getAll()},a.prototype.setState=function(t){return this.set("state",t),this},a.prototype.getState=function(){return this.get("state")||""},a.prototype.getHtml=function(t){t===void 0&&(t={});var r=this.config,o=r.optsHtml,l=r.jsInHtml?this.getJs(t):"",v=t.component||this.Components.getComponent(),w=v?this.CodeManager.getCode(v,"html",Li(Li({},o),t)):"";return w+=l?"<script>".concat(l,"<\/script>"):"",w},a.prototype.getCss=function(t){t===void 0&&(t={});var r=this.config,o=r.optsCss,l=t.avoidProtected,v=(0,wt.isUndefined)(t.keepUnusedStyles)?r.keepUnusedStyles:t.keepUnusedStyles,w=this.Css,C=t.component||this.Components.getComponent(),E=l?"":r.protectedCss,j=C&&this.CodeManager.getCode(C,"css",Li(Li({cssc:w,keepUnusedStyles:v},o),t));return C?t.json?j:E+j:""},a.prototype.getJs=function(t){t===void 0&&(t={});var r=t.component||this.Components.getWrapper();return r?this.CodeManager.getCode(r,"js").trim():""},a.prototype.store=function(t){return Yh(this,void 0,void 0,function(){var r;return oh(this,function(o){switch(o.label){case 0:return r=this.storeData(),[4,this.Storage.store(r,t)];case 1:return o.sent(),this.clearDirtyCount(),[2,r]}})})},a.prototype.load=function(t,r){return r===void 0&&(r={}),Yh(this,void 0,void 0,function(){var o;return oh(this,function(l){switch(l.label){case 0:return[4,this.Storage.load(t)];case 1:return o=l.sent(),this.loadData(o),[4,(0,he.wait)()];case 2:return l.sent(),r.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},a.prototype.storeData=function(){var t={},r=this.getEditing();return r&&r.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){t=Li(Li({},t),o.store(1))}),JSON.parse(JSON.stringify(t))},a.prototype.loadData=function(t){return t===void 0&&(t={}),(0,he.isEmptyObj)(t)||(this.storables.forEach(function(r){return r.clear()}),this.storables.forEach(function(r){return r.load(t)})),t},a.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},a.prototype.runDefault=function(t){t===void 0&&(t={});var r=this.get("Commands").get(this.config.defaultCommand);!r||this.defaultRunning||(r.stop(this,this,t),r.run(this,this,t),this.defaultRunning=!0)},a.prototype.stopDefault=function(t){t===void 0&&(t={});var r=this.get("Commands"),o=r.get(this.config.defaultCommand);!o||!this.defaultRunning||(o.stop(this,this,t),this.defaultRunning=!1)},a.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},a.prototype.clearSelection=function(t){var r,o=t||window;(r=o.getSelection())===null||r===void 0||r.removeAllRanges()},a.prototype.getCurrentMedia=function(){var t=this.config,r=this.getDeviceModel(),o=t.mediaCondition,l=t.devicePreviewMode,v=r&&r.get("widthMedia");return r&&v&&!l?"(".concat(o,": ").concat(v,")"):""},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},a.prototype.getCurrentFrame=function(){return this.get("currentFrame")},a.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},a.prototype.getIcon=function(t){var r=this.config.icons||{};return r[t]||""},a.prototype.getDirtyCount=function(){return this.get("changesCount")},a.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},a.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},a.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},a.prototype.setDragMode=function(t){return this.set("dmode",t)},a.prototype.getDragMode=function(t){var r=(t==null?void 0:t.getDragMode())||this.get("dmode");return r||""},a.prototype.t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=this.get("I18n");return o==null?void 0:o.t.apply(o,t)},a.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},a.prototype.destroyAll=function(){var t=this,r=this,o=r.config,l=r.view,v=this.getEditor(),w=(o.grapesjs||{}).editors,C=w===void 0?[]:w,E=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),E==null||E.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(j){return j.destroy()}),l&&l.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(j){return t[j]={}}),C.splice(C.indexOf(v),1),(0,he.hasWin)()&&(0,ut.default)(o.el).empty().attr(this.attrsOrig)},a.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},a.prototype.setEditing=function(t){return this.set("editing",t),this},a.prototype.isEditing=function(){return!!this.get("editing")},a.prototype.log=function(t,r){r===void 0&&(r={});var o=r.ns,l=r.level,v=l===void 0?"debug":l;if(this.trigger("log",t,r),v&&this.trigger("log:".concat(v),t,r),o){var w="log-".concat(o);this.trigger(w,t,r),v&&this.trigger("".concat(w,":").concat(v),t,r)}},a.prototype.logInfo=function(t,r){this.log(t,Li(Li({},r),{level:"info"}))},a.prototype.logWarning=function(t,r){this.log(t,Li(Li({},r),{level:"warning"}))},a.prototype.logError=function(t,r){this.log(t,Li(Li({},r),{level:"error"}))},a.prototype.initBaseColorPicker=function(t,r){r===void 0&&(r={});var o=this.config,l=o.colorPicker,v=l===void 0?{}:l,w=o.el,C=o.stylePrefix;return(0,ut.default)(t).spectrum(Li(Li({containerClassName:"".concat(C,"one-bg ").concat(C,"two-color"),appendTo:w||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},r),v))},a.prototype.skip=function(t){this.__skip=!0;var r=this.UndoManager;r?r.skip(t):t(),this.__skip=!1},a.prototype.data=function(t,r,o){var l="_gjs-data";if(t[l]||(t[l]={}),(0,wt.isUndefined)(o))return t[l][r];t[l][r]=o},a}(q.Hn);const ih=Ky;var ah=function(){var p=function(a,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},p(a,t)};return function(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p(a,t);function r(){this.constructor=a}a.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xh=function(p){ah(a,p);function a(t){var r=p.call(this,{model:t})||this,o=t.attributes,l=o.Panels,v=o.UndoManager;return t.view=r,t.once("change:ready",function(){l.active(),l.disableButtons(),v.clear(),setTimeout(function(){t.trigger("load",t.get("Editor")),t.clearDirtyCount()})}),r}return a.prototype.render=function(){var t=this,r=this,o=r.$el,l=r.model,v=l.attributes,w=v.Panels,C=v.Canvas,E=l.config,j=l.modules,Z=E.stylePrefix,at=["".concat(Z,"editor")];!E.customUI&&at.push("".concat(Z,"one-bg ").concat(Z,"two-color"));var Pt=(0,ut.default)(E.el||"body ".concat(E.container));E.cssIcons&&(0,he.appendStyles)(E.cssIcons,{unique:!0,prepand:!0}),o.empty(),E.width&&Pt.css("width",E.width),E.height&&Pt.css("height",E.height),o.append(C.render()),o.append(w.render());var Nt=l.get("shallow"),re=Nt.get("Canvas").render();return re.style.display="none",o.append(re),o.attr("class",at.join(" ")),Pt.addClass("".concat(Z,"editor-cont")).empty().append(o),j.forEach(function(oe){return oe.postRender&&oe.postRender(t)}),this},a}(q.G7);const sh=Xh;var Zu=function(){return Zu=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Zu.apply(this,arguments)},Jh=function(p,a,t,r){function o(l){return l instanceof t?l:new t(function(v){v(l)})}return new(t||(t=Promise))(function(l,v){function w(j){try{E(r.next(j))}catch(Z){v(Z)}}function C(j){try{E(r.throw(j))}catch(Z){v(Z)}}function E(j){j.done?l(j.value):o(j.value).then(w,C)}E((r=r.apply(p,a||[])).next())})},vd=function(p,a){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,v;return v={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function w(E){return function(j){return C([E,j])}}function C(E){if(r)throw new TypeError("Generator is already executing.");for(;v&&(v=0,E[0]&&(t=0)),t;)try{if(r=1,o&&(l=E[0]&2?o.return:E[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,E[1])).done)return l;switch(o=0,l&&(E=[E[0]&2,l.value]),E[0]){case 0:case 1:l=E;break;case 4:return t.label++,{value:E[1],done:!1};case 5:t.label++,o=E[1],E=[0];continue;case 7:E=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(E[0]===6||E[0]===2)){t=0;continue}if(E[0]===3&&(!l||E[1]>l[0]&&E[1]<l[3])){t.label=E[1];break}if(E[0]===6&&t.label<l[1]){t.label=l[1],l=E;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(E);break}l[2]&&t.ops.pop(),t.trys.pop();continue}E=a.call(p,t)}catch(j){E=[6,j],o=0}finally{r=l=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},_u=function(p,a,t){if(t||arguments.length===2)for(var r=0,o=a.length,l;r<o;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return p.concat(l||Array.prototype.slice.call(a))},cv=function(){function p(a,t){a===void 0&&(a={}),t===void 0&&(t={});var r;this.html=Pe,this.config=Zu(Zu(Zu({},Re),a),{pStylePrefix:(r=a.stylePrefix)!==null&&r!==void 0?r:Re.stylePrefix}),this.em=new ih(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(p.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),p.prototype.getConfig=function(a){return this.em.getConfig(a)},p.prototype.getHtml=function(a){return this.em.getHtml(a)},p.prototype.getCss=function(a){return this.em.getCss(a)},p.prototype.getJs=function(a){return this.em.getJs(a)},p.prototype.getComponents=function(){return this.Components.getComponents()},p.prototype.getWrapper=function(){return this.Components.getWrapper()},p.prototype.setComponents=function(a,t){return t===void 0&&(t={}),this.em.setComponents(a,t),this},p.prototype.addComponents=function(a,t){return this.getWrapper().append(a,t)},p.prototype.getStyle=function(){return this.em.Css.getAll()},p.prototype.setStyle=function(a,t){return t===void 0&&(t={}),this.em.setStyle(a,t),this},p.prototype.addStyle=function(a,t){return t===void 0&&(t={}),this.em.addStyle(a,t)},p.prototype.getSelected=function(){return this.em.getSelected()},p.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},p.prototype.getSelectedToStyle=function(){var a=this.em.getSelected();if(a)return this.StyleManager.getModelToStyle(a)},p.prototype.select=function(a,t){return this.em.setSelected(a,t),this},p.prototype.selectAdd=function(a){return this.em.addSelected(a),this},p.prototype.selectRemove=function(a){return this.em.removeSelected(a),this},p.prototype.selectToggle=function(a){return this.em.toggleSelected(a),this},p.prototype.getEditing=function(){return this.em.getEditing()},p.prototype.setDevice=function(a){return this.em.set("device",a),this},p.prototype.getDevice=function(){return this.em.get("device")},p.prototype.runCommand=function(a,t){return t===void 0&&(t={}),this.Commands.run(a,t)},p.prototype.stopCommand=function(a,t){return t===void 0&&(t={}),this.Commands.stop(a,t)},p.prototype.store=function(a){return Jh(this,void 0,void 0,function(){return vd(this,function(t){switch(t.label){case 0:return[4,this.em.store(a)];case 1:return[2,t.sent()]}})})},p.prototype.load=function(a,t){return t===void 0&&(t={}),Jh(this,void 0,void 0,function(){return vd(this,function(r){switch(r.label){case 0:return[4,this.em.load(a,t)];case 1:return[2,r.sent()]}})})},p.prototype.getProjectData=function(){return this.em.storeData()},p.prototype.loadProjectData=function(a){return this.em.loadData(a)},p.prototype.storeData=function(){return this.em.storeData()},p.prototype.loadData=function(a){return this.em.loadData(a)},p.prototype.getContainer=function(){return this.config.el},p.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},p.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},p.prototype.refresh=function(a){this.em.refreshCanvas(a)},p.prototype.setCustomRte=function(a){this.RichTextEditor.customRte=a},p.prototype.setCustomParserCss=function(a){return this.Parser.getConfig().parserCss=a,this},p.prototype.setDragMode=function(a){return this.em.setDragMode(a),this},p.prototype.log=function(a,t){return t===void 0&&(t={}),this.em.log(a,t),this},p.prototype.t=function(){for(var a,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(a=this.em).t.apply(a,t)},p.prototype.on=function(a,t){return this.em.on(a,t),this},p.prototype.once=function(a,t){return this.em.once(a,t),this},p.prototype.off=function(a,t){return this.em.off(a,t),this},p.prototype.trigger=function(a){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this.em.trigger.apply(this.em,_u([a],t,!0)),this},p.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},p.prototype.getEl=function(){var a;return(a=this.editorView)===null||a===void 0?void 0:a.el},p.prototype.getModel=function(){return this.em},p.prototype.render=function(){var a;return(a=this.editorView)===null||a===void 0||a.remove(),this.editorView=new sh(this.em),this.editorView.render().el},p.prototype.onReady=function(a){this.em.get("ready")?a(this):this.em.on("load",a)},p}();const uv=cv;var fv=function(p,a){var t=a.get(p);if(!t){var r=(0,he.getGlobal)()[p];t=(r==null?void 0:r.default)||r}return t},lh=function(p,a){return(0,wt.isString)(p)?fv(p,a):(p==null?void 0:p.default)||p},Qh=function(p,a){p.getModel().logWarning("Plugin ".concat(a," not found"),{context:"plugins",plugin:a})},tg=function(){function p(){this.plugins={}}return p.prototype.add=function(a,t){var r=this.get(a);return r||(this.plugins[a]=t,t)},p.prototype.get=function(a){return this.plugins[a]},p.prototype.getAll=function(){return this.plugins},p}();const ch=tg,Yy=function(){var p=function(){for(var t,r=window.navigator.userAgent,o=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],l=0;l<o.length;l++){var v=o[l];if(t=v[1].exec(r),t)break}return!!t};if((0,he.hasWin)()&&p()){var a=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),a.apply(document.implementation,[t])}}};var Vp=function(){return Vp=Object.assign||function(p){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(p[o]=a[o])}return p},Vp.apply(this,arguments)};Yy();var Ef=new ch,Rp=[],cp=function(p,a){var t=lh(p,Ef);return function(r){t?t(r,a||{}):Qh(r,p)}},Hp={$:ut.default,editors:Rp,plugins:Ef,usePlugin:cp,version:"0.21.10",init:function(p){p===void 0&&(p={});var a=p.headless,t=p.container;if(!t&&!a)throw new Error("'container' is required");var r=Vp(Vp({autorender:!0,plugins:[],pluginsOpts:{}},p),{grapesjs:this,el:a?void 0:(0,wt.isElement)(t)?t:document.querySelector(t)}),o=new uv(r,{$:ut.default}),l=o.getModel();return r.plugins.forEach(function(v){var w=lh(v,Ef),C=r.pluginsOpts[v]||{};w?w(o,C):Qh(o,v)}),l.loadOnStart(),r.autorender&&!a&&o.render(),Rp.push(o),o}};const Bp=Hp})();var Tb=k0.ZP,A0={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(wt,he){(function(Pe,Oe){wt.exports=Oe()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ov,()=>(()=>{var Pe={d:(H,ft)=>{for(var ht in ft)Pe.o(ft,ht)&&!Pe.o(H,ht)&&Object.defineProperty(H,ht,{enumerable:!0,get:ft[ht]})},o:(H,ft)=>Object.prototype.hasOwnProperty.call(H,ft),r:H=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})}},Oe={};Pe.r(Oe),Pe.d(Oe,{default:()=>k});var Re=function(){return Re=Object.assign||function(H){for(var ft,ht=1,dt=arguments.length;ht<dt;ht++)for(var B in ft=arguments[ht])Object.prototype.hasOwnProperty.call(ft,B)&&(H[B]=ft[B]);return H},Re.apply(this,arguments)},le="gjs-open-import-webpage",Kt="set-device-desktop",ut="set-device-tablet",Ct="set-device-mobile",q="canvas-clear",yt=function(){return yt=Object.assign||function(H){for(var ft,ht=1,dt=arguments.length;ht<dt;ht++)for(var B in ft=arguments[ht])Object.prototype.hasOwnProperty.call(ft,B)&&(H[B]=ft[B]);return H},yt.apply(this,arguments)};const Y=function(H,ft){var ht=H.Commands,dt=ft.textCleanCanvas;(function(B,V){var I=B.getConfig("stylePrefix"),N=V.modalImportLabel,W=V.modalImportContent;B.Commands.add(le,{codeViewer:null,container:null,run:function(R){var F=typeof W=="function"?W(R):W,U=this.getCodeViewer();R.Modal.open({title:V.modalImportTitle,content:this.getContainer()}).onceClose(function(){return R.stopCommand(le)}),U.setContent(F??""),U.refresh(),setTimeout(function(){return U.focus()},0)},stop:function(){B.Modal.close()},getContainer:function(){if(!this.container){var R=this.getCodeViewer(),F=document.createElement("div");if(F.className="".concat(I,"import-container"),N){var U=document.createElement("div");U.className="".concat(I,"import-label"),U.innerHTML=N,F.appendChild(U)}F.appendChild(R.getElement());var $=document.createElement("button");$.type="button",$.innerHTML=V.modalImportButton,$.className="".concat(I,"btn-prim ").concat(I,"btn-import"),$.onclick=function(){B.Css.clear(),B.setComponents(R.getContent().trim()),B.Modal.close()},F.appendChild($),this.container=F}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=B.CodeManager.createViewer(yt({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},V.importViewerOptions))),this.codeViewer}})})(H,ft),ht.add(Kt,{run:function(B){return B.setDevice("Desktop")},stop:function(){}}),ht.add(ut,{run:function(B){return B.setDevice("Tablet")},stop:function(){}}),ht.add(Ct,{run:function(B){return B.setDevice("Mobile portrait")},stop:function(){}}),ht.add(q,function(B){return confirm(dt)&&B.runCommand("core:canvas-clear")})};var st=function(){return st=Object.assign||function(H){for(var ft,ht=1,dt=arguments.length;ht<dt;ht++)for(var B in ft=arguments[ht])Object.prototype.hasOwnProperty.call(ft,B)&&(H[B]=ft[B]);return H},st.apply(this,arguments)};const k=function(H,ft){ft===void 0&&(ft={});var ht=st({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},ft);if(ht.useCustomTheme&&typeof window<"u"){var dt="gjs-",B="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(I){var N=I[0],W=I[1];B+=`
        .`.concat(dt).concat(N,`-bg {
          background-color: `).concat(W,`;
        }

        .`).concat(dt).concat(N,`-color {
          color: `).concat(W,`;
        }

        .`).concat(dt).concat(N,`-color-h:hover {
          color: `).concat(W,`;
        }
      `)});var V=document.createElement("style");V.innerText=B,document.head.appendChild(V)}(function(I,N){var W=function(R,F){N.blocks.indexOf(R)>=0&&I.Blocks.add(R,Re(Re({select:!0,category:"Basic"},F),N.block(R)))};W("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),W("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),W("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(H,ht),Y(H,ht),function(I,N){var W=I.Panels,R=I.getConfig(),F="sw-visibility",U="export-template",$="open-sm",Q="open-tm",J="open-layers",Tt="open-blocks",et="fullscreen",_t="preview",G='style="display: block; max-width:22px"';R.showDevices=!1,W.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:Kt,command:Kt,active:!0,label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:ut,command:ut,label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:Ct,command:Ct,label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:F,command:F,context:F,label:"<svg ".concat(G,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:_t,context:_t,command:function(){return I.runCommand(_t)},label:"<svg ".concat(G,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:et,command:et,context:et,label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:U,command:function(){return I.runCommand(U)},label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return I.runCommand("core:undo")},label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return I.runCommand("core:redo")},label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:le,command:function(){return I.runCommand(le)},label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:q,command:function(){return I.runCommand(q)},label:"<svg ".concat(G,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:$,command:$,active:!0,label:"<svg ".concat(G,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:Q,command:Q,label:"<svg ".concat(G,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:J,command:J,label:"<svg ".concat(G,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:Tt,command:Tt,label:"<svg ".concat(G,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var Ft=W.getButton("views",Tt);I.on("load",function(){return Ft==null?void 0:Ft.set("active",!0)}),N.showStylesOnChange&&I.on("component:selected",function(){var $t=W.getButton("views",$),Lt=W.getButton("views",J);Lt&&Lt.get("active")||!I.getSelected()||$t==null||$t.set("active",!0)})}(H,ht)};return Oe})())})(A0);var fb=A0.exports;const Eb=Tv(fb);var M0={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(wt,he){(function(Pe,Oe){wt.exports=Oe()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ov,()=>(()=>{var Pe={d:(ut,Ct)=>{for(var q in Ct)Pe.o(Ct,q)&&!Pe.o(ut,q)&&Object.defineProperty(ut,q,{enumerable:!0,get:Ct[q]})},o:(ut,Ct)=>Object.prototype.hasOwnProperty.call(ut,Ct),r:ut=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ut,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ut,"__esModule",{value:!0})}},Oe={};Pe.r(Oe),Pe.d(Oe,{default:()=>Kt});var Re=function(){return Re=Object.assign||function(ut){for(var Ct,q=1,yt=arguments.length;q<yt;q++)for(var Y in Ct=arguments[q])Object.prototype.hasOwnProperty.call(Ct,Y)&&(ut[Y]=Ct[Y]);return ut},Re.apply(this,arguments)},le=function(){return le=Object.assign||function(ut){for(var Ct,q=1,yt=arguments.length;q<yt;q++)for(var Y in Ct=arguments[q])Object.prototype.hasOwnProperty.call(Ct,Y)&&(ut[Y]=Ct[Y]);return ut},le.apply(this,arguments)};const Kt=function(ut,Ct){Ct===void 0&&(Ct={}),function(q,yt){var Y=q.BlockManager,st=yt.category,k=yt.blocks,H=yt.stylePrefix,ft=yt.flexGrid,ht=yt.rowHeight,dt=yt.addBasicStyle,B="".concat(H,"row"),V="".concat(H,"cell"),I=ft?`
    .`.concat(B,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(B,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(B,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(H,"cell, .").concat(H,"cell30, .").concat(H,`cell70 {
        width: 100%;
        display: block;
      }
    }`),N=ft?`
    .`.concat(V,` {
      min-height: `).concat(ht,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(V,` {
      width: 8%;
      display: table-cell;
      height: `).concat(ht,`px;
    }`),W=`
  .`.concat(H,`cell30 {
    width: 30%;
  }`),R=`
  .`.concat(H,`cell70 {
    width: 70%;
  }`),F=1,U={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:F},$=Re(Re({},U),{cr:1,bc:0,currentUnit:1,minDim:F,step:.2});ft&&($.keyWidth="flex-basis");var Q={class:B,"data-gjs-droppable":".".concat(V),"data-gjs-resizable":U,"data-gjs-name":"Row"},J={class:V,"data-gjs-draggable":".".concat(B),"data-gjs-resizable":$,"data-gjs-name":"Cell"};ft&&(J["data-gjs-unstylable"]=["width"],J["data-gjs-stylable-require"]=["flex-basis"]);var Tt=[".".concat(B),".".concat(V)];q.on("selector:add",function(Lt){return Tt.indexOf(Lt.getFullName())>=0&&Lt.set("private",1)});var et=function(Lt){var ve=[];for(var bt in Lt){var jt=Lt[bt];jt=jt instanceof Array||jt instanceof Object?JSON.stringify(jt):jt,ve.push("".concat(bt,"=").concat("'".concat(jt,"'")))}return ve.length?" ".concat(ve.join(" ")):""},_t=function(Lt){return k.indexOf(Lt)>=0},G=et(Q),Ft=et(J),$t={category:st,select:!0};_t("column1")&&Y.add("column1",Re(Re({},$t),{label:yt.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(G,`>
        <div `).concat(Ft,`></div>
      </div>
      `).concat(dt?`<style>
          `.concat(I,`
          `).concat(N,`
        </style>`):"")})),_t("column2")&&Y.add("column2",Re(Re({},$t),{label:yt.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(G,`>
        <div `).concat(Ft,`></div>
        <div `).concat(Ft,`></div>
      </div>
      `).concat(dt?`<style>
          `.concat(I,`
          `).concat(N,`
        </style>`):"")})),_t("column3")&&Y.add("column3",Re(Re({},$t),{label:yt.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(G,`>
        <div `).concat(Ft,`></div>
        <div `).concat(Ft,`></div>
        <div `).concat(Ft,`></div>
      </div>
      `).concat(dt?`<style>
          `.concat(I,`
          `).concat(N,`
        </style>`):"")})),_t("column3-7")&&Y.add("column3-7",Re(Re({},$t),{label:yt.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(G,`>
        <div `).concat(Ft," style='").concat(ft?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(Ft," style='").concat(ft?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(dt?`<style>
          `.concat(I,`
          `).concat(N,`
          `).concat(W,`
          `).concat(R,`
        </style>`):"")})),_t("text")&&Y.add("text",Re(Re({},$t),{activate:!0,label:yt.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),_t("link")&&Y.add("link",Re(Re({},$t),{label:yt.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),_t("image")&&Y.add("image",Re(Re({},$t),{activate:!0,label:yt.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),_t("video")&&Y.add("video",Re(Re({},$t),{label:yt.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),_t("map")&&Y.add("map",Re(Re({},$t),{label:yt.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(ut,le({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},Ct))};return Oe})())})(M0);var pb=M0.exports;const Pb=Tv(pb);var L0={exports:{}};/*! grapesjs-advance-components - 1.0.7 */(function(wt,he){(function(Pe,Oe){wt.exports=Oe()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ov,()=>(()=>{var Pe={531:function(Kt,ut,Ct){(function(q,yt){Kt.exports=yt()})(typeof globalThis<"u"?globalThis:typeof window<"u"&&window,()=>(()=>{var q={410:(k,H,ft)=>{var ht,dt,B;dt=[ft(50),ft(316)],(B=typeof(ht=function(V,I){var N=Array.prototype.slice;function W(bt,jt,Rt){return Rt.length<=4?bt.call(jt,Rt[0],Rt[1],Rt[2],Rt[3]):bt.apply(jt,Rt)}function R(bt,jt){return N.call(bt,jt)}function F(bt,jt){return bt!=null&&(V.isArray(jt)||(jt=R(arguments,1)),V.all(jt,function(Rt){return Rt in bt}))}var U=function(){var bt=!1,jt=-1;return function(){return bt||(jt++,bt=!0,V.defer(function(){bt=!1})),jt}}();function $(){this.registeredObjects=[],this.cidIndexes=[]}function Q(bt,jt,Rt,Xt){for(var Ht,It=0,St=jt.length;It<St;It++)if(Ht=jt[It]){if(bt==="on"){if(!Xt.objectRegistry.register(Ht))continue}else if(!Xt.objectRegistry.unregister(Ht))continue;V.isFunction(Ht[bt])&&Ht[bt]("all",Rt,Xt)}}function J(bt,jt){var Rt=jt.type,Xt=jt.undoTypes,Ht=!Xt[Rt]||Xt[Rt][bt];V.isFunction(Ht)&&Ht(jt.object,jt.before,jt.after,jt.options)}function Tt(bt,jt,Rt,Xt,Ht){if(!(Rt.isCurrentlyUndoRedoing||bt==="undo"&&Rt.pointer===-1||bt==="redo"&&Rt.pointer===Rt.length-1)){Rt.isCurrentlyUndoRedoing=!0;var It,St,Bt=bt==="undo";for(Ht?St=Bt&&Rt.pointer===Rt.length-1||!Bt&&Rt.pointer===-1?V.clone(Rt.models):N.apply(Rt.models,Bt?[0,Rt.pointer]:[Rt.pointer,Rt.length-1]):(It=Rt.at(Bt?Rt.pointer:Rt.pointer+1),St=Xt?Rt.where({magicFusionIndex:It.get("magicFusionIndex")}):[It]),Rt.pointer+=(Bt?-1:1)*St.length;It=Bt?St.pop():St.shift();)It[bt]();Rt.isCurrentlyUndoRedoing=!1,jt.trigger(bt,jt)}}function et(bt,jt,Rt,Xt){if(bt.track&&!bt.isCurrentlyUndoRedoing&&jt in Xt&&function(St,Bt){var Me=St.condition,pe=typeof Me;return pe==="function"?!!W(Me,St,Bt):pe!=="boolean"||Me}(Xt[jt],Rt)){var Ht=W(Xt[jt].on,Xt[jt],Rt);if(F(Ht,"object","before","after")){if(Ht.type=jt,Ht.magicFusionIndex=U(),Ht.undoTypes=Xt,bt.pointer<bt.length-1)for(var It=bt.length-bt.pointer-1;It--;)bt.pop();bt.pointer=bt.length,bt.add(Ht),bt.length>bt.maximumStackLength&&(bt.shift(),bt.pointer--)}}}$.prototype={isRegistered:function(bt){return bt&&bt.cid?this.registeredObjects[bt.cid]:V.contains(this.registeredObjects,bt)},register:function(bt){return!this.isRegistered(bt)&&(bt&&bt.cid?(this.registeredObjects[bt.cid]=bt,this.cidIndexes.push(bt.cid)):this.registeredObjects.push(bt),!0)},unregister:function(bt){if(this.isRegistered(bt)){if(bt&&bt.cid)delete this.registeredObjects[bt.cid],this.cidIndexes.splice(V.indexOf(this.cidIndexes,bt.cid),1);else{var jt=V.indexOf(this.registeredObjects,bt);this.registeredObjects.splice(jt,1)}return!0}return!1},get:function(){return V.map(this.cidIndexes,function(bt){return this.registeredObjects[bt]},this).concat(this.registeredObjects)}};var _t={add:{undo:function(bt,jt,Rt,Xt){bt.remove(Rt,Xt)},redo:function(bt,jt,Rt,Xt){Xt.index&&(Xt.at=Xt.index),bt.add(Rt,Xt)},on:function(bt,jt,Rt){return{object:jt,before:void 0,after:bt,options:V.clone(Rt)}}},remove:{undo:function(bt,jt,Rt,Xt){"index"in Xt&&(Xt.at=Xt.index),bt.add(jt,Xt)},redo:function(bt,jt,Rt,Xt){bt.remove(jt,Xt)},on:function(bt,jt,Rt){return{object:jt,before:bt,after:void 0,options:V.clone(Rt)}}},change:{undo:function(bt,jt,Rt,Xt){V.isEmpty(jt)?V.each(V.keys(Rt),bt.unset,bt):(bt.set(jt),Xt&&Xt.unsetData&&Xt.unsetData.before&&Xt.unsetData.before.length&&V.each(Xt.unsetData.before,bt.unset,bt))},redo:function(bt,jt,Rt,Xt){V.isEmpty(Rt)?V.each(V.keys(jt),bt.unset,bt):(bt.set(Rt),Xt&&Xt.unsetData&&Xt.unsetData.after&&Xt.unsetData.after.length&&V.each(Xt.unsetData.after,bt.unset,bt))},on:function(bt,jt){var Rt=bt.changedAttributes(),Xt=V.keys(Rt),Ht=V.pick(bt.previousAttributes(),Xt),It=V.keys(Ht),St=(jt||(jt={})).unsetData={after:[],before:[]};return Xt.length!=It.length&&(Xt.length>It.length?V.each(Xt,function(Bt){Bt in Ht||St.before.push(Bt)},this):V.each(It,function(Bt){Bt in Rt||St.after.push(Bt)})),{object:bt,before:Ht,after:Rt,options:V.clone(jt)}}},reset:{undo:function(bt,jt,Rt){bt.reset(jt)},redo:function(bt,jt,Rt){bt.reset(Rt)},on:function(bt,jt){return{object:bt,before:jt.previousModels,after:V.clone(bt.models)}}}};function G(){}function Ft(bt,jt,Rt,Xt){if(typeof jt=="object")return V.each(jt,function(Ht,It){bt===2?Ft(bt,Ht,Rt,Xt):Ft(bt,It,Ht,Rt)});switch(bt){case 0:F(Rt,"undo","redo","on")&&V.all(V.pick(Rt,"undo","redo","on"),V.isFunction)&&(Xt[jt]=Rt);break;case 1:Xt[jt]&&V.isObject(Rt)&&(Xt[jt]=V.extend({},Xt[jt],Rt));break;case 2:delete Xt[jt]}return this}G.prototype=_t;var $t=I.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(bt){J("undo",this.attributes)},redo:function(bt){J("redo",this.attributes)}}),Lt=I.Collection.extend({model:$t,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(bt){this.maximumStackLength=bt}}),ve=I.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(bt){this.stack=new Lt,this.objectRegistry=new $,this.undoTypes=new G,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(jt,Rt){this.stack.setMaxLength(Rt)},this),bt&&bt.track&&this.startTracking(),bt&&bt.register&&(V.isArray(bt.register)||V.isArguments(bt.register)?W(this.register,this,bt.register):this.register(bt.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(bt){et(this.stack,bt,R(arguments,1),this.undoTypes)},register:function(){Q("on",arguments,this._addToStack,this)},unregister:function(){Q("off",arguments,this._addToStack,this)},unregisterAll:function(){W(this.unregister,this,this.objectRegistry.get())},undo:function(bt){Tt("undo",this,this.stack,bt)},undoAll:function(){Tt("undo",this,this.stack,!1,!0)},redo:function(bt){Tt("redo",this,this.stack,bt)},redoAll:function(){Tt("redo",this,this.stack,!1,!0)},isAvailable:function(bt){var jt=this.stack,Rt=jt.length;switch(bt){case"undo":return Rt>0&&jt.pointer>-1;case"redo":return Rt>0&&jt.pointer<Rt-1;default:return!1}},merge:function(bt){for(var jt,Rt=V.isArray(bt)?bt:R(arguments);jt=Rt.pop();)jt instanceof ve&&jt.stack instanceof Lt&&(jt.stack=this.stack)},addUndoType:function(bt,jt){Ft(0,bt,jt,this.undoTypes)},changeUndoType:function(bt,jt){Ft(1,bt,jt,this.undoTypes)},removeUndoType:function(bt){Ft(2,bt,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return V.extend(ve,{defaults:function(bt){V.extend(ve.prototype.defaults,bt)},addUndoType:function(bt,jt){Ft(0,bt,jt,_t)},changeUndoType:function(bt,jt){Ft(1,bt,jt,_t)},removeUndoType:function(bt){Ft(2,bt,void 0,_t)}}),I.UndoManager=ve})=="function"?ht.apply(H,dt):ht)===void 0||(k.exports=B)},316:(k,H,ft)=>{var ht,dt,B;B=typeof self=="object"&&self.self===self&&self||typeof ft.g=="object"&&ft.g.global===ft.g&&ft.g,ht=[ft(50),ft(895),H],dt=(function(V,I,N){B.Backbone=function(W,R,F,U){var $=W.Backbone,Q=Array.prototype.slice;R.VERSION="1.4.1",R.$=U,R.noConflict=function(){return W.Backbone=$,this},R.emulateHTTP=!1,R.emulateJSON=!1;var J,Tt=R.Events={},et=/\s+/,_t=function(vt,Wt,fe,Vt,Ce){var Yt,pr=0;if(fe&&typeof fe=="object")for(Vt!==void 0&&("context"in Ce)&&Ce.context===void 0&&(Ce.context=Vt),Yt=F.keys(fe);pr<Yt.length;pr++)Wt=_t(vt,Wt,Yt[pr],fe[Yt[pr]],Ce);else if(fe&&et.test(fe))for(Yt=fe.split(et);pr<Yt.length;pr++)Wt=vt(Wt,Yt[pr],Vt,Ce);else Wt=vt(Wt,fe,Vt,Ce);return Wt};Tt.on=function(vt,Wt,fe){return this._events=_t(G,this._events||{},vt,Wt,{context:fe,ctx:this,listening:J}),J&&((this._listeners||(this._listeners={}))[J.id]=J,J.interop=!1),this},Tt.listenTo=function(vt,Wt,fe){if(!vt)return this;var Vt=vt._listenId||(vt._listenId=F.uniqueId("l")),Ce=this._listeningTo||(this._listeningTo={}),Yt=J=Ce[Vt];Yt||(this._listenId||(this._listenId=F.uniqueId("l")),Yt=J=Ce[Vt]=new jt(this,vt));var pr=Ft(vt,Wt,fe,this);if(J=void 0,pr)throw pr;return Yt.interop&&Yt.on(Wt,fe),this};var G=function(vt,Wt,fe,Vt){if(fe){var Ce=vt[Wt]||(vt[Wt]=[]),Yt=Vt.context,pr=Vt.ctx,dr=Vt.listening;dr&&dr.count++,Ce.push({callback:fe,context:Yt,ctx:Yt||pr,listening:dr})}return vt},Ft=function(vt,Wt,fe,Vt){try{vt.on(Wt,fe,Vt)}catch(Ce){return Ce}};Tt.off=function(vt,Wt,fe){return this._events?(this._events=_t($t,this._events,vt,Wt,{context:fe,listeners:this._listeners}),this):this},Tt.stopListening=function(vt,Wt,fe){var Vt=this._listeningTo;if(!Vt)return this;for(var Ce=vt?[vt._listenId]:F.keys(Vt),Yt=0;Yt<Ce.length;Yt++){var pr=Vt[Ce[Yt]];if(!pr)break;pr.obj.off(Wt,fe,this),pr.interop&&pr.off(Wt,fe)}return F.isEmpty(Vt)&&(this._listeningTo=void 0),this};var $t=function(vt,Wt,fe,Vt){if(vt){var Ce,Yt=Vt.context,pr=Vt.listeners,dr=0;if(Wt||Yt||fe){for(Ce=Wt?[Wt]:F.keys(vt);dr<Ce.length;dr++){var on=vt[Wt=Ce[dr]];if(!on)break;for(var Kr=[],He=0;He<on.length;He++){var pn=on[He];if(fe&&fe!==pn.callback&&fe!==pn.callback._callback||Yt&&Yt!==pn.context)Kr.push(pn);else{var $n=pn.listening;$n&&$n.off(Wt,fe)}}Kr.length?vt[Wt]=Kr:delete vt[Wt]}return vt}for(Ce=F.keys(pr);dr<Ce.length;dr++)pr[Ce[dr]].cleanup()}};Tt.once=function(vt,Wt,fe){var Vt=_t(Lt,{},vt,Wt,this.off.bind(this));return typeof vt=="string"&&fe==null&&(Wt=void 0),this.on(Vt,Wt,fe)},Tt.listenToOnce=function(vt,Wt,fe){var Vt=_t(Lt,{},Wt,fe,this.stopListening.bind(this,vt));return this.listenTo(vt,Vt)};var Lt=function(vt,Wt,fe,Vt){if(fe){var Ce=vt[Wt]=F.once(function(){Vt(Wt,Ce),fe.apply(this,arguments)});Ce._callback=fe}return vt};Tt.trigger=function(vt){if(!this._events)return this;for(var Wt=Math.max(0,arguments.length-1),fe=Array(Wt),Vt=0;Vt<Wt;Vt++)fe[Vt]=arguments[Vt+1];return _t(ve,this._events,vt,void 0,fe),this};var ve=function(vt,Wt,fe,Vt){if(vt){var Ce=vt[Wt],Yt=vt.all;Ce&&Yt&&(Yt=Yt.slice()),Ce&&bt(Ce,Vt),Yt&&bt(Yt,[Wt].concat(Vt))}return vt},bt=function(vt,Wt){var fe,Vt=-1,Ce=vt.length,Yt=Wt[0],pr=Wt[1],dr=Wt[2];switch(Wt.length){case 0:for(;++Vt<Ce;)(fe=vt[Vt]).callback.call(fe.ctx);return;case 1:for(;++Vt<Ce;)(fe=vt[Vt]).callback.call(fe.ctx,Yt);return;case 2:for(;++Vt<Ce;)(fe=vt[Vt]).callback.call(fe.ctx,Yt,pr);return;case 3:for(;++Vt<Ce;)(fe=vt[Vt]).callback.call(fe.ctx,Yt,pr,dr);return;default:for(;++Vt<Ce;)(fe=vt[Vt]).callback.apply(fe.ctx,Wt);return}},jt=function(vt,Wt){this.id=vt._listenId,this.listener=vt,this.obj=Wt,this.interop=!0,this.count=0,this._events=void 0};jt.prototype.on=Tt.on,jt.prototype.off=function(vt,Wt){var fe;this.interop?(this._events=_t($t,this._events,vt,Wt,{context:void 0,listeners:void 0}),fe=!this._events):(this.count--,fe=this.count===0),fe&&this.cleanup()},jt.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},Tt.bind=Tt.on,Tt.unbind=Tt.off,F.extend(R,Tt);var Rt=R.Model=function(vt,Wt){var fe=vt||{};Wt||(Wt={}),this.preinitialize.apply(this,arguments),this.cid=F.uniqueId(this.cidPrefix),this.attributes={},Wt.collection&&(this.collection=Wt.collection),Wt.parse&&(fe=this.parse(fe,Wt)||{});var Vt=F.result(this,"defaults");fe=F.defaults(F.extend({},Vt,fe),Vt),this.set(fe,Wt),this.changed={},this.initialize.apply(this,arguments)};F.extend(Rt.prototype,Tt,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(vt){return F.clone(this.attributes)},sync:function(){return R.sync.apply(this,arguments)},get:function(vt){return this.attributes[vt]},escape:function(vt){return F.escape(this.get(vt))},has:function(vt){return this.get(vt)!=null},matches:function(vt){return!!F.iteratee(vt,this)(this.attributes)},set:function(vt,Wt,fe){if(vt==null)return this;var Vt;if(typeof vt=="object"?(Vt=vt,fe=Wt):(Vt={})[vt]=Wt,fe||(fe={}),!this._validate(Vt,fe))return!1;var Ce=fe.unset,Yt=fe.silent,pr=[],dr=this._changing;this._changing=!0,dr||(this._previousAttributes=F.clone(this.attributes),this.changed={});var on=this.attributes,Kr=this.changed,He=this._previousAttributes;for(var pn in Vt)Wt=Vt[pn],F.isEqual(on[pn],Wt)||pr.push(pn),F.isEqual(He[pn],Wt)?delete Kr[pn]:Kr[pn]=Wt,Ce?delete on[pn]:on[pn]=Wt;if(this.idAttribute in Vt){var $n=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,$n,fe)}if(!Yt){pr.length&&(this._pending=fe);for(var Ut=0;Ut<pr.length;Ut++)this.trigger("change:"+pr[Ut],this,on[pr[Ut]],fe)}if(dr)return this;if(!Yt)for(;this._pending;)fe=this._pending,this._pending=!1,this.trigger("change",this,fe);return this._pending=!1,this._changing=!1,this},unset:function(vt,Wt){return this.set(vt,void 0,F.extend({},Wt,{unset:!0}))},clear:function(vt){var Wt={};for(var fe in this.attributes)Wt[fe]=void 0;return this.set(Wt,F.extend({},vt,{unset:!0}))},hasChanged:function(vt){return vt==null?!F.isEmpty(this.changed):F.has(this.changed,vt)},changedAttributes:function(vt){if(!vt)return!!this.hasChanged()&&F.clone(this.changed);var Wt,fe=this._changing?this._previousAttributes:this.attributes,Vt={};for(var Ce in vt){var Yt=vt[Ce];F.isEqual(fe[Ce],Yt)||(Vt[Ce]=Yt,Wt=!0)}return!!Wt&&Vt},previous:function(vt){return vt!=null&&this._previousAttributes?this._previousAttributes[vt]:null},previousAttributes:function(){return F.clone(this._previousAttributes)},fetch:function(vt){vt=F.extend({parse:!0},vt);var Wt=this,fe=vt.success;return vt.success=function(Vt){var Ce=vt.parse?Wt.parse(Vt,vt):Vt;if(!Wt.set(Ce,vt))return!1;fe&&fe.call(vt.context,Wt,Vt,vt),Wt.trigger("sync",Wt,Vt,vt)},rn(this,vt),this.sync("read",this,vt)},save:function(vt,Wt,fe){var Vt;vt==null||typeof vt=="object"?(Vt=vt,fe=Wt):(Vt={})[vt]=Wt;var Ce=(fe=F.extend({validate:!0,parse:!0},fe)).wait;if(Vt&&!Ce){if(!this.set(Vt,fe))return!1}else if(!this._validate(Vt,fe))return!1;var Yt=this,pr=fe.success,dr=this.attributes;fe.success=function(He){Yt.attributes=dr;var pn=fe.parse?Yt.parse(He,fe):He;if(Ce&&(pn=F.extend({},Vt,pn)),pn&&!Yt.set(pn,fe))return!1;pr&&pr.call(fe.context,Yt,He,fe),Yt.trigger("sync",Yt,He,fe)},rn(this,fe),Vt&&Ce&&(this.attributes=F.extend({},dr,Vt));var on=this.isNew()?"create":fe.patch?"patch":"update";on!=="patch"||fe.attrs||(fe.attrs=Vt);var Kr=this.sync(on,this,fe);return this.attributes=dr,Kr},destroy:function(vt){vt=vt?F.clone(vt):{};var Wt=this,fe=vt.success,Vt=vt.wait,Ce=function(){Wt.stopListening(),Wt.trigger("destroy",Wt,Wt.collection,vt)};vt.success=function(pr){Vt&&Ce(),fe&&fe.call(vt.context,Wt,pr,vt),Wt.isNew()||Wt.trigger("sync",Wt,pr,vt)};var Yt=!1;return this.isNew()?F.defer(vt.success):(rn(this,vt),Yt=this.sync("delete",this,vt)),Vt||Ce(),Yt},url:function(){var vt=F.result(this,"urlRoot")||F.result(this.collection,"url")||Ir();if(this.isNew())return vt;var Wt=this.get(this.idAttribute);return vt.replace(/[^\/]$/,"$&/")+encodeURIComponent(Wt)},parse:function(vt,Wt){return vt},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(vt){return this._validate({},F.extend({},vt,{validate:!0}))},_validate:function(vt,Wt){if(!Wt.validate||!this.validate)return!0;vt=F.extend({},this.attributes,vt);var fe=this.validationError=this.validate(vt,Wt)||null;return!fe||(this.trigger("invalid",this,fe,F.extend(Wt,{validationError:fe})),!1)}});var Xt=R.Collection=function(vt,Wt){Wt||(Wt={}),this.preinitialize.apply(this,arguments),Wt.model&&(this.model=Wt.model),Wt.comparator!==void 0&&(this.comparator=Wt.comparator),this._reset(),this.initialize.apply(this,arguments),vt&&this.reset(vt,F.extend({silent:!0},Wt))},Ht={add:!0,remove:!0,merge:!0},It={add:!0,remove:!1},St=function(vt,Wt,fe){fe=Math.min(Math.max(fe,0),vt.length);var Vt,Ce=Array(vt.length-fe),Yt=Wt.length;for(Vt=0;Vt<Ce.length;Vt++)Ce[Vt]=vt[Vt+fe];for(Vt=0;Vt<Yt;Vt++)vt[Vt+fe]=Wt[Vt];for(Vt=0;Vt<Ce.length;Vt++)vt[Vt+Yt+fe]=Ce[Vt]};F.extend(Xt.prototype,Tt,{model:Rt,preinitialize:function(){},initialize:function(){},toJSON:function(vt){return this.map(function(Wt){return Wt.toJSON(vt)})},sync:function(){return R.sync.apply(this,arguments)},add:function(vt,Wt){return this.set(vt,F.extend({merge:!1},Wt,It))},remove:function(vt,Wt){Wt=F.extend({},Wt);var fe=!F.isArray(vt);vt=fe?[vt]:vt.slice();var Vt=this._removeModels(vt,Wt);return!Wt.silent&&Vt.length&&(Wt.changes={added:[],merged:[],removed:Vt},this.trigger("update",this,Wt)),fe?Vt[0]:Vt},set:function(vt,Wt){if(vt!=null){(Wt=F.extend({},Ht,Wt)).parse&&!this._isModel(vt)&&(vt=this.parse(vt,Wt)||[]);var fe=!F.isArray(vt);vt=fe?[vt]:vt.slice();var Vt=Wt.at;Vt!=null&&(Vt=+Vt),Vt>this.length&&(Vt=this.length),Vt<0&&(Vt+=this.length+1);var Ce,Yt,pr=[],dr=[],on=[],Kr=[],He={},pn=Wt.add,$n=Wt.merge,Ut=Wt.remove,te=!1,je=this.comparator&&Vt==null&&Wt.sort!==!1,Xe=F.isString(this.comparator)?this.comparator:null;for(Yt=0;Yt<vt.length;Yt++){Ce=vt[Yt];var xt=this.get(Ce);if(xt){if($n&&Ce!==xt){var ce=this._isModel(Ce)?Ce.attributes:Ce;Wt.parse&&(ce=xt.parse(ce,Wt)),xt.set(ce,Wt),on.push(xt),je&&!te&&(te=xt.hasChanged(Xe))}He[xt.cid]||(He[xt.cid]=!0,pr.push(xt)),vt[Yt]=xt}else pn&&(Ce=vt[Yt]=this._prepareModel(Ce,Wt))&&(dr.push(Ce),this._addReference(Ce,Wt),He[Ce.cid]=!0,pr.push(Ce))}if(Ut){for(Yt=0;Yt<this.length;Yt++)He[(Ce=this.models[Yt]).cid]||Kr.push(Ce);Kr.length&&this._removeModels(Kr,Wt)}var ke=!1,Ze=!je&&pn&&Ut;if(pr.length&&Ze?(ke=this.length!==pr.length||F.some(this.models,function(xr,Yr){return xr!==pr[Yr]}),this.models.length=0,St(this.models,pr,0),this.length=this.models.length):dr.length&&(je&&(te=!0),St(this.models,dr,Vt??this.length),this.length=this.models.length),te&&this.sort({silent:!0}),!Wt.silent){for(Yt=0;Yt<dr.length;Yt++)Vt!=null&&(Wt.index=Vt+Yt),(Ce=dr[Yt]).trigger("add",Ce,this,Wt);(te||ke)&&this.trigger("sort",this,Wt),(dr.length||Kr.length||on.length)&&(Wt.changes={added:dr,removed:Kr,merged:on},this.trigger("update",this,Wt))}return fe?vt[0]:vt}},reset:function(vt,Wt){Wt=Wt?F.clone(Wt):{};for(var fe=0;fe<this.models.length;fe++)this._removeReference(this.models[fe],Wt);return Wt.previousModels=this.models,this._reset(),vt=this.add(vt,F.extend({silent:!0},Wt)),Wt.silent||this.trigger("reset",this,Wt),vt},push:function(vt,Wt){return this.add(vt,F.extend({at:this.length},Wt))},pop:function(vt){var Wt=this.at(this.length-1);return this.remove(Wt,vt)},unshift:function(vt,Wt){return this.add(vt,F.extend({at:0},Wt))},shift:function(vt){var Wt=this.at(0);return this.remove(Wt,vt)},slice:function(){return Q.apply(this.models,arguments)},get:function(vt){if(vt!=null)return this._byId[vt]||this._byId[this.modelId(this._isModel(vt)?vt.attributes:vt,vt.idAttribute)]||vt.cid&&this._byId[vt.cid]},has:function(vt){return this.get(vt)!=null},at:function(vt){return vt<0&&(vt+=this.length),this.models[vt]},where:function(vt,Wt){return this[Wt?"find":"filter"](vt)},findWhere:function(vt){return this.where(vt,!0)},sort:function(vt){var Wt=this.comparator;if(!Wt)throw new Error("Cannot sort a set without a comparator");vt||(vt={});var fe=Wt.length;return F.isFunction(Wt)&&(Wt=Wt.bind(this)),fe===1||F.isString(Wt)?this.models=this.sortBy(Wt):this.models.sort(Wt),vt.silent||this.trigger("sort",this,vt),this},pluck:function(vt){return this.map(vt+"")},fetch:function(vt){var Wt=(vt=F.extend({parse:!0},vt)).success,fe=this;return vt.success=function(Vt){var Ce=vt.reset?"reset":"set";fe[Ce](Vt,vt),Wt&&Wt.call(vt.context,fe,Vt,vt),fe.trigger("sync",fe,Vt,vt)},rn(this,vt),this.sync("read",this,vt)},create:function(vt,Wt){var fe=(Wt=Wt?F.clone(Wt):{}).wait;if(!(vt=this._prepareModel(vt,Wt)))return!1;fe||this.add(vt,Wt);var Vt=this,Ce=Wt.success;return Wt.success=function(Yt,pr,dr){fe&&Vt.add(Yt,dr),Ce&&Ce.call(dr.context,Yt,pr,dr)},vt.save(null,Wt),vt},parse:function(vt,Wt){return vt},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(vt,Wt){return vt[Wt||this.model.prototype.idAttribute||"id"]},values:function(){return new Me(this,pe)},keys:function(){return new Me(this,Ae)},entries:function(){return new Me(this,ir)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(vt,Wt){return this._isModel(vt)?(vt.collection||(vt.collection=this),vt):((Wt=Wt?F.clone(Wt):{}).collection=this,(fe=this.model.prototype?new this.model(vt,Wt):this.model(vt,Wt)).validationError?(this.trigger("invalid",this,fe.validationError,Wt),!1):fe);var fe},_removeModels:function(vt,Wt){for(var fe=[],Vt=0;Vt<vt.length;Vt++){var Ce=this.get(vt[Vt]);if(Ce){var Yt=this.indexOf(Ce);this.models.splice(Yt,1),this.length--,delete this._byId[Ce.cid];var pr=this.modelId(Ce.attributes,Ce.idAttribute);pr!=null&&delete this._byId[pr],Wt.silent||(Wt.index=Yt,Ce.trigger("remove",Ce,this,Wt)),fe.push(Ce),this._removeReference(Ce,Wt)}}return fe},_isModel:function(vt){return vt instanceof Rt},_addReference:function(vt,Wt){this._byId[vt.cid]=vt;var fe=this.modelId(vt.attributes,vt.idAttribute);fe!=null&&(this._byId[fe]=vt),vt.on("all",this._onModelEvent,this)},_removeReference:function(vt,Wt){delete this._byId[vt.cid];var fe=this.modelId(vt.attributes,vt.idAttribute);fe!=null&&delete this._byId[fe],this===vt.collection&&delete vt.collection,vt.off("all",this._onModelEvent,this)},_onModelEvent:function(vt,Wt,fe,Vt){if(Wt){if((vt==="add"||vt==="remove")&&fe!==this)return;if(vt==="destroy"&&this.remove(Wt,Vt),vt==="changeId"){var Ce=this.modelId(Wt.previousAttributes(),Wt.idAttribute),Yt=this.modelId(Wt.attributes,Wt.idAttribute);Ce!=null&&delete this._byId[Ce],Yt!=null&&(this._byId[Yt]=Wt)}}this.trigger.apply(this,arguments)}});var Bt=typeof Symbol=="function"&&Symbol.iterator;Bt&&(Xt.prototype[Bt]=Xt.prototype.values);var Me=function(vt,Wt){this._collection=vt,this._kind=Wt,this._index=0},pe=1,Ae=2,ir=3;Bt&&(Me.prototype[Bt]=function(){return this}),Me.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var vt,Wt=this._collection.at(this._index);if(this._index++,this._kind===pe)vt=Wt;else{var fe=this._collection.modelId(Wt.attributes,Wt.idAttribute);vt=this._kind===Ae?fe:[fe,Wt]}return{value:vt,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var Or=R.View=function(vt){this.cid=F.uniqueId("view"),this.preinitialize.apply(this,arguments),F.extend(this,F.pick(vt,Dr)),this._ensureElement(),this.initialize.apply(this,arguments)},Nr=/^(\S+)\s*(.*)$/,Dr=["model","collection","el","id","attributes","className","tagName","events"];F.extend(Or.prototype,Tt,{tagName:"div",$:function(vt){return this.$el.find(vt)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(vt){return this.undelegateEvents(),this._setElement(vt),this.delegateEvents(),this},_setElement:function(vt){this.$el=vt instanceof R.$?vt:R.$(vt),this.el=this.$el[0]},delegateEvents:function(vt){if(vt||(vt=F.result(this,"events")),!vt)return this;for(var Wt in this.undelegateEvents(),vt){var fe=vt[Wt];if(F.isFunction(fe)||(fe=this[fe]),fe){var Vt=Wt.match(Nr);this.delegate(Vt[1],Vt[2],fe.bind(this))}}return this},delegate:function(vt,Wt,fe){return this.$el.on(vt+".delegateEvents"+this.cid,Wt,fe),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(vt,Wt,fe){return this.$el.off(vt+".delegateEvents"+this.cid,Wt,fe),this},_createElement:function(vt){return document.createElement(vt)},_ensureElement:function(){if(this.el)this.setElement(F.result(this,"el"));else{var vt=F.extend({},F.result(this,"attributes"));this.id&&(vt.id=F.result(this,"id")),this.className&&(vt.class=F.result(this,"className")),this.setElement(this._createElement(F.result(this,"tagName"))),this._setAttributes(vt)}},_setAttributes:function(vt){this.$el.attr(vt)}});var Vr=function(vt,Wt,fe,Vt){F.each(fe,function(Ce,Yt){Wt[Yt]&&(vt.prototype[Yt]=function(pr,dr,on,Kr){switch(dr){case 1:return function(){return pr[on](this[Kr])};case 2:return function(He){return pr[on](this[Kr],He)};case 3:return function(He,pn){return pr[on](this[Kr],Je(He,this),pn)};case 4:return function(He,pn,$n){return pr[on](this[Kr],Je(He,this),pn,$n)};default:return function(){var He=Q.call(arguments);return He.unshift(this[Kr]),pr[on].apply(pr,He)}}}(Wt,Ce,Yt,Vt))})},Je=function(vt,Wt){return F.isFunction(vt)?vt:F.isObject(vt)&&!Wt._isModel(vt)?nt(vt):F.isString(vt)?function(fe){return fe.get(vt)}:vt},nt=function(vt){var Wt=F.matches(vt);return function(fe){return Wt(fe.attributes)}};F.each([[Xt,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[Rt,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(vt){var Wt=vt[0],fe=vt[1],Vt=vt[2];Wt.mixin=function(Ce){var Yt=F.reduce(F.functions(Ce),function(pr,dr){return pr[dr]=0,pr},{});Vr(Wt,Ce,Yt,Vt)},Vr(Wt,F,fe,Vt)}),R.sync=function(vt,Wt,fe){var Vt=Et[vt];F.defaults(fe||(fe={}),{emulateHTTP:R.emulateHTTP,emulateJSON:R.emulateJSON});var Ce={type:Vt,dataType:"json"};if(fe.url||(Ce.url=F.result(Wt,"url")||Ir()),fe.data!=null||!Wt||vt!=="create"&&vt!=="update"&&vt!=="patch"||(Ce.contentType="application/json",Ce.data=JSON.stringify(fe.attrs||Wt.toJSON(fe))),fe.emulateJSON&&(Ce.contentType="application/x-www-form-urlencoded",Ce.data=Ce.data?{model:Ce.data}:{}),fe.emulateHTTP&&(Vt==="PUT"||Vt==="DELETE"||Vt==="PATCH")){Ce.type="POST",fe.emulateJSON&&(Ce.data._method=Vt);var Yt=fe.beforeSend;fe.beforeSend=function(on){if(on.setRequestHeader("X-HTTP-Method-Override",Vt),Yt)return Yt.apply(this,arguments)}}Ce.type==="GET"||fe.emulateJSON||(Ce.processData=!1);var pr=fe.error;fe.error=function(on,Kr,He){fe.textStatus=Kr,fe.errorThrown=He,pr&&pr.call(fe.context,on,Kr,He)};var dr=fe.xhr=R.ajax(F.extend(Ce,fe));return Wt.trigger("request",Wt,dr,fe),dr};var Et={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};R.ajax=function(){return R.$.ajax.apply(R.$,arguments)};var qt=R.Router=function(vt){vt||(vt={}),this.preinitialize.apply(this,arguments),vt.routes&&(this.routes=vt.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},me=/\((.*?)\)/g,Le=/(\(\?)?:\w+/g,lt=/\*\w+/g,ue=/[\-{}\[\]+?.,\\\^$|#\s]/g;F.extend(qt.prototype,Tt,{preinitialize:function(){},initialize:function(){},route:function(vt,Wt,fe){F.isRegExp(vt)||(vt=this._routeToRegExp(vt)),F.isFunction(Wt)&&(fe=Wt,Wt=""),fe||(fe=this[Wt]);var Vt=this;return R.history.route(vt,function(Ce){var Yt=Vt._extractParameters(vt,Ce);Vt.execute(fe,Yt,Wt)!==!1&&(Vt.trigger.apply(Vt,["route:"+Wt].concat(Yt)),Vt.trigger("route",Wt,Yt),R.history.trigger("route",Vt,Wt,Yt))}),this},execute:function(vt,Wt,fe){vt&&vt.apply(this,Wt)},navigate:function(vt,Wt){return R.history.navigate(vt,Wt),this},_bindRoutes:function(){if(this.routes){this.routes=F.result(this,"routes");for(var vt,Wt=F.keys(this.routes);(vt=Wt.pop())!=null;)this.route(vt,this.routes[vt])}},_routeToRegExp:function(vt){return vt=vt.replace(ue,"\\$&").replace(me,"(?:$1)?").replace(Le,function(Wt,fe){return fe?Wt:"([^/?]+)"}).replace(lt,"([^?]*?)"),new RegExp("^"+vt+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(vt,Wt){var fe=vt.exec(Wt).slice(1);return F.map(fe,function(Vt,Ce){return Ce===fe.length-1?Vt||null:Vt?decodeURIComponent(Vt):null})}});var se=R.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},nr=/^[#\/]|\s+$/g,vr=/^\/+|\/+$/g,Qe=/#.*$/;se.started=!1,F.extend(se.prototype,Tt,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(vt){return decodeURI(vt.replace(/%25/g,"%2525"))},getSearch:function(){var vt=this.location.href.replace(/#.*/,"").match(/\?.+/);return vt?vt[0]:""},getHash:function(vt){var Wt=(vt||this).location.href.match(/#(.*)$/);return Wt?Wt[1]:""},getPath:function(){var vt=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return vt.charAt(0)==="/"?vt.slice(1):vt},getFragment:function(vt){return vt==null&&(vt=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),vt.replace(nr,"")},start:function(vt){if(se.started)throw new Error("Backbone.history has already been started");if(se.started=!0,this.options=F.extend({root:"/"},this.options,vt),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(vr,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var Wt=this.root.slice(0,-1)||"/";return this.location.replace(Wt+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var fe=document.body,Vt=fe.insertBefore(this.iframe,fe.firstChild).contentWindow;Vt.document.open(),Vt.document.close(),Vt.location.hash="#"+this.fragment}var Ce=window.addEventListener||function(Yt,pr){return attachEvent("on"+Yt,pr)};if(this._usePushState?Ce("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ce("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var vt=window.removeEventListener||function(Wt,fe){return detachEvent("on"+Wt,fe)};this._usePushState?vt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&vt("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),se.started=!1},route:function(vt,Wt){this.handlers.unshift({route:vt,callback:Wt})},checkUrl:function(vt){var Wt=this.getFragment();if(Wt===this.fragment&&this.iframe&&(Wt=this.getHash(this.iframe.contentWindow)),Wt===this.fragment)return!1;this.iframe&&this.navigate(Wt),this.loadUrl()},loadUrl:function(vt){return!!this.matchRoot()&&(vt=this.fragment=this.getFragment(vt),F.some(this.handlers,function(Wt){if(Wt.route.test(vt))return Wt.callback(vt),!0}))},navigate:function(vt,Wt){if(!se.started)return!1;Wt&&Wt!==!0||(Wt={trigger:!!Wt}),vt=this.getFragment(vt||"");var fe=this.root;vt!==""&&vt.charAt(0)!=="?"||(fe=fe.slice(0,-1)||"/");var Vt=fe+vt;vt=vt.replace(Qe,"");var Ce=this.decodeFragment(vt);if(this.fragment!==Ce){if(this.fragment=Ce,this._usePushState)this.history[Wt.replace?"replaceState":"pushState"]({},document.title,Vt);else{if(!this._wantsHashChange)return this.location.assign(Vt);if(this._updateHash(this.location,vt,Wt.replace),this.iframe&&vt!==this.getHash(this.iframe.contentWindow)){var Yt=this.iframe.contentWindow;Wt.replace||(Yt.document.open(),Yt.document.close()),this._updateHash(Yt.location,vt,Wt.replace)}}return Wt.trigger?this.loadUrl(vt):void 0}},_updateHash:function(vt,Wt,fe){if(fe){var Vt=vt.href.replace(/(javascript:|#).*$/,"");vt.replace(Vt+"#"+Wt)}else vt.hash="#"+Wt}}),R.history=new se,Rt.extend=Xt.extend=qt.extend=Or.extend=se.extend=function(vt,Wt){var fe,Vt=this;return fe=vt&&F.has(vt,"constructor")?vt.constructor:function(){return Vt.apply(this,arguments)},F.extend(fe,Vt,Wt),fe.prototype=F.create(Vt.prototype,vt),fe.prototype.constructor=fe,fe.__super__=Vt.prototype,fe};var Ir=function(){throw new Error('A "url" property or function must be specified')},rn=function(vt,Wt){var fe=Wt.error;Wt.error=function(Vt){fe&&fe.call(Wt.context,vt,Vt,Wt),vt.trigger("error",vt,Vt,Wt)}};return R}(B,N,V,I)}).apply(H,ht),dt===void 0||(k.exports=dt)},210:(k,H,ft)=>{(function(ht){ht.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(B,V){return/^[;{}]$/.test(V)}}),ht.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(B,V,I,N){return this.jsonMode?/^[\[,{]$/.test(V)||/^}/.test(I):(V!=";"||!N.lexical||N.lexical.type!=")")&&/^[;{}]$/.test(V)&&!/^;/.test(I)}});var dt=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ht.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(B,V,I,N){var W=!1;return this.configuration=="html"&&(W=!!N.context&&dt.test(N.context.tagName)),!W&&(B=="tag"&&/>$/.test(V)&&N.context||/^</.test(I))}}),ht.defineExtension("commentRange",function(B,V,I){var N=this,W=ht.innerMode(N.getMode(),N.getTokenAt(V).state).mode;N.operation(function(){if(B)N.replaceRange(W.commentEnd,I),N.replaceRange(W.commentStart,V),V.line==I.line&&V.ch==I.ch&&N.setCursor(V.line,V.ch+W.commentStart.length);else{var R=N.getRange(V,I),F=R.indexOf(W.commentStart),U=R.lastIndexOf(W.commentEnd);F>-1&&U>-1&&U>F&&(R=R.substr(0,F)+R.substring(F+W.commentStart.length,U)+R.substr(U+W.commentEnd.length)),N.replaceRange(R,V,I)}})}),ht.defineExtension("autoIndentRange",function(B,V){var I=this;this.operation(function(){for(var N=B.line;N<=V.line;N++)I.indentLine(N,"smart")})}),ht.defineExtension("autoFormatRange",function(B,V){var I=this,N=I.getMode(),W=I.getRange(B,V).split(`
`),R=ht.copyState(N,I.getTokenAt(B).state),F=I.getOption("tabSize"),U="",$=0,Q=B.ch===0;function J(){U+=`
`,Q=!0,++$}for(var Tt=0;Tt<W.length;++Tt){for(var et=new ht.StringStream(W[Tt],F);!et.eol();){var _t=ht.innerMode(N,R),G=N.token(et,R),Ft=et.current();et.start=et.pos,Q&&!/\S/.test(Ft)||(U+=Ft,Q=!1),!Q&&_t.mode.newlineAfterToken&&_t.mode.newlineAfterToken(G,Ft,et.string.slice(et.pos)||W[Tt+1]||"",_t.state)&&J()}!et.pos&&N.blankLine&&N.blankLine(R),!Q&&Tt<W.length-1&&J()}I.operation(function(){I.replaceRange(U,B,V);for(var $t=B.line+1,Lt=B.line+$;$t<=Lt;++$t)I.indentLine($t,"smart");I.setSelection(B,I.getCursor(!1))})})})(ft(631))},631:function(k){k.exports=function(){var H=navigator.userAgent,ft=navigator.platform,ht=/gecko\/\d/i.test(H),dt=/MSIE \d/.test(H),B=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(H),V=/Edge\/(\d+)/.exec(H),I=dt||B||V,N=I&&(dt?document.documentMode||6:+(V||B)[1]),W=!V&&/WebKit\//.test(H),R=W&&/Qt\/\d+\.\d+/.test(H),F=!V&&/Chrome\/(\d+)/.exec(H),U=F&&+F[1],$=/Opera\//.test(H),Q=/Apple Computer/.test(navigator.vendor),J=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(H),Tt=/PhantomJS/.test(H),et=Q&&(/Mobile\/\w+/.test(H)||navigator.maxTouchPoints>2),_t=/Android/.test(H),G=et||_t||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(H),Ft=et||/Mac/.test(ft),$t=/\bCrOS\b/.test(H),Lt=/win/i.test(ft),ve=$&&H.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&($=!1,W=!0);var bt=Ft&&(R||$&&(ve==null||ve<12.11)),jt=ht||I&&N>=9;function Rt(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}var Xt,Ht=function(f,g){var S=f.className,_=Rt(g).exec(S);if(_){var T=S.slice(_.index+_[0].length);f.className=S.slice(0,_.index)+(T?_[1]+T:"")}};function It(f){for(var g=f.childNodes.length;g>0;--g)f.removeChild(f.firstChild);return f}function St(f,g){return It(f).appendChild(g)}function Bt(f,g,S,_){var T=document.createElement(f);if(S&&(T.className=S),_&&(T.style.cssText=_),typeof g=="string")T.appendChild(document.createTextNode(g));else if(g)for(var D=0;D<g.length;++D)T.appendChild(g[D]);return T}function Me(f,g,S,_){var T=Bt(f,g,S,_);return T.setAttribute("role","presentation"),T}function pe(f,g){if(g.nodeType==3&&(g=g.parentNode),f.contains)return f.contains(g);do if(g.nodeType==11&&(g=g.host),g==f)return!0;while(g=g.parentNode)}function Ae(){var f;try{f=document.activeElement}catch{f=document.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function ir(f,g){var S=f.className;Rt(g).test(S)||(f.className+=(S?" ":"")+g)}function Or(f,g){for(var S=f.split(" "),_=0;_<S.length;_++)S[_]&&!Rt(S[_]).test(g)&&(g+=" "+S[_]);return g}Xt=document.createRange?function(f,g,S,_){var T=document.createRange();return T.setEnd(_||f,S),T.setStart(f,g),T}:function(f,g,S){var _=document.body.createTextRange();try{_.moveToElementText(f.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",S),_.moveStart("character",g),_};var Nr=function(f){f.select()};function Dr(f){var g=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,g)}}function Vr(f,g,S){for(var _ in g||(g={}),f)!f.hasOwnProperty(_)||S===!1&&g.hasOwnProperty(_)||(g[_]=f[_]);return g}function Je(f,g,S,_,T){g==null&&(g=f.search(/[^\s\u00a0]/))==-1&&(g=f.length);for(var D=_||0,K=T||0;;){var X=f.indexOf("	",D);if(X<0||X>=g)return K+(g-D);K+=X-D,K+=S-K%S,D=X+1}}et?Nr=function(f){f.selectionStart=0,f.selectionEnd=f.value.length}:I&&(Nr=function(f){try{f.select()}catch{}});var nt=function(){this.id=null,this.f=null,this.time=0,this.handler=Dr(this.onTimeout,this)};function Et(f,g){for(var S=0;S<f.length;++S)if(f[S]==g)return S;return-1}nt.prototype.onTimeout=function(f){f.id=0,f.time<=+new Date?f.f():setTimeout(f.handler,f.time-+new Date)},nt.prototype.set=function(f,g){this.f=g;var S=+new Date+f;(!this.id||S<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,f),this.time=S)};var qt=50,me={toString:function(){return"CodeMirror.Pass"}},Le={scroll:!1},lt={origin:"*mouse"},ue={origin:"+move"};function se(f,g,S){for(var _=0,T=0;;){var D=f.indexOf("	",_);D==-1&&(D=f.length);var K=D-_;if(D==f.length||T+K>=g)return _+Math.min(K,g-T);if(T+=D-_,_=D+1,(T+=S-T%S)>=g)return _}}var nr=[""];function vr(f){for(;nr.length<=f;)nr.push(Qe(nr)+" ");return nr[f]}function Qe(f){return f[f.length-1]}function Ir(f,g){for(var S=[],_=0;_<f.length;_++)S[_]=g(f[_],_);return S}function rn(){}function vt(f,g){var S;return Object.create?S=Object.create(f):(rn.prototype=f,S=new rn),g&&Vr(g,S),S}var Wt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fe(f){return/\w/.test(f)||f>""&&(f.toUpperCase()!=f.toLowerCase()||Wt.test(f))}function Vt(f,g){return g?!!(g.source.indexOf("\\w")>-1&&fe(f))||g.test(f):fe(f)}function Ce(f){for(var g in f)if(f.hasOwnProperty(g)&&f[g])return!1;return!0}var Yt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function pr(f){return f.charCodeAt(0)>=768&&Yt.test(f)}function dr(f,g,S){for(;(S<0?g>0:g<f.length)&&pr(f.charAt(g));)g+=S;return g}function on(f,g,S){for(var _=g>S?-1:1;;){if(g==S)return g;var T=(g+S)/2,D=_<0?Math.ceil(T):Math.floor(T);if(D==g)return f(D)?g:S;f(D)?S=D:g=D+_}}var Kr=null;function He(f,g,S){var _;Kr=null;for(var T=0;T<f.length;++T){var D=f[T];if(D.from<g&&D.to>g)return T;D.to==g&&(D.from!=D.to&&S=="before"?_=T:Kr=T),D.from==g&&(D.from!=D.to&&S!="before"?_=T:Kr=T)}return _??Kr}var pn=function(){var f="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",g="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function S(pt){return pt<=247?f.charAt(pt):1424<=pt&&pt<=1524?"R":1536<=pt&&pt<=1785?g.charAt(pt-1536):1774<=pt&&pt<=2220?"r":8192<=pt&&pt<=8203?"w":pt==8204?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,T=/[stwN]/,D=/[LRr]/,K=/[Lb1n]/,X=/[1n]/;function mt(pt,Jt,ee){this.level=pt,this.from=Jt,this.to=ee}return function(pt,Jt){var ee=Jt=="ltr"?"L":"R";if(pt.length==0||Jt=="ltr"&&!_.test(pt))return!1;for(var xe=pt.length,ge=[],Ge=0;Ge<xe;++Ge)ge.push(S(pt.charCodeAt(Ge)));for(var Ke=0,ze=ee;Ke<xe;++Ke){var er=ge[Ke];er=="m"?ge[Ke]=ze:ze=er}for(var mr=0,br=ee;mr<xe;++mr){var Ar=ge[mr];Ar=="1"&&br=="r"?ge[mr]="n":D.test(Ar)&&(br=Ar,Ar=="r"&&(ge[mr]="R"))}for(var Tr=1,Er=ge[0];Tr<xe-1;++Tr){var gn=ge[Tr];gn=="+"&&Er=="1"&&ge[Tr+1]=="1"?ge[Tr]="1":gn!=","||Er!=ge[Tr+1]||Er!="1"&&Er!="n"||(ge[Tr]=Er),Er=gn}for(var Ur=0;Ur<xe;++Ur){var zn=ge[Ur];if(zn==",")ge[Ur]="N";else if(zn=="%"){var zr=void 0;for(zr=Ur+1;zr<xe&&ge[zr]=="%";++zr);for(var qn=Ur&&ge[Ur-1]=="!"||zr<xe&&ge[zr]=="1"?"1":"N",mo=Ur;mo<zr;++mo)ge[mo]=qn;Ur=zr-1}}for(var Yn=0,Zn=ee;Yn<xe;++Yn){var ro=ge[Yn];Zn=="L"&&ro=="1"?ge[Yn]="L":D.test(ro)&&(Zn=ro)}for(var Tn=0;Tn<xe;++Tn)if(T.test(ge[Tn])){var Rn=void 0;for(Rn=Tn+1;Rn<xe&&T.test(ge[Rn]);++Rn);for(var Kn=(Tn?ge[Tn-1]:ee)=="L",kn=Kn==((Rn<xe?ge[Rn]:ee)=="L")?Kn?"L":"R":ee,si=Tn;si<Rn;++si)ge[si]=kn;Tn=Rn-1}for(var pi,so=[],On=0;On<xe;)if(K.test(ge[On])){var Za=On;for(++On;On<xe&&K.test(ge[On]);++On);so.push(new mt(0,Za,On))}else{var Sn=On,di=so.length,zi=Jt=="rtl"?1:0;for(++On;On<xe&&ge[On]!="L";++On);for(var io=Sn;io<On;)if(X.test(ge[io])){Sn<io&&(so.splice(di,0,new mt(1,Sn,io)),di+=zi);var Oa=io;for(++io;io<On&&X.test(ge[io]);++io);so.splice(di,0,new mt(2,Oa,io)),di+=zi,Sn=io}else++io;Sn<On&&so.splice(di,0,new mt(1,Sn,On))}return Jt=="ltr"&&(so[0].level==1&&(pi=pt.match(/^\s+/))&&(so[0].from=pi[0].length,so.unshift(new mt(0,0,pi[0].length))),Qe(so).level==1&&(pi=pt.match(/\s+$/))&&(Qe(so).to-=pi[0].length,so.push(new mt(0,xe-pi[0].length,xe)))),Jt=="rtl"?so.reverse():so}}();function $n(f,g){var S=f.order;return S==null&&(S=f.order=pn(f.text,g)),S}var Ut=[],te=function(f,g,S){if(f.addEventListener)f.addEventListener(g,S,!1);else if(f.attachEvent)f.attachEvent("on"+g,S);else{var _=f._handlers||(f._handlers={});_[g]=(_[g]||Ut).concat(S)}};function je(f,g){return f._handlers&&f._handlers[g]||Ut}function Xe(f,g,S){if(f.removeEventListener)f.removeEventListener(g,S,!1);else if(f.detachEvent)f.detachEvent("on"+g,S);else{var _=f._handlers,T=_&&_[g];if(T){var D=Et(T,S);D>-1&&(_[g]=T.slice(0,D).concat(T.slice(D+1)))}}}function xt(f,g){var S=je(f,g);if(S.length)for(var _=Array.prototype.slice.call(arguments,2),T=0;T<S.length;++T)S[T].apply(null,_)}function ce(f,g,S){return typeof g=="string"&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}}),xt(f,S||g.type,f,g),In(g)||g.codemirrorIgnore}function ke(f){var g=f._handlers&&f._handlers.cursorActivity;if(g)for(var S=f.curOp.cursorActivityHandlers||(f.curOp.cursorActivityHandlers=[]),_=0;_<g.length;++_)Et(S,g[_])==-1&&S.push(g[_])}function Ze(f,g){return je(f,g).length>0}function xr(f){f.prototype.on=function(g,S){te(this,g,S)},f.prototype.off=function(g,S){Xe(this,g,S)}}function Yr(f){f.preventDefault?f.preventDefault():f.returnValue=!1}function Un(f){f.stopPropagation?f.stopPropagation():f.cancelBubble=!0}function In(f){return f.defaultPrevented!=null?f.defaultPrevented:f.returnValue==0}function lo(f){Yr(f),Un(f)}function uo(f){return f.target||f.srcElement}function yn(f){var g=f.which;return g==null&&(1&f.button?g=1:2&f.button?g=3:4&f.button&&(g=2)),Ft&&f.ctrlKey&&g==1&&(g=3),g}var Qn,Fn,Qo=function(){if(I&&N<9)return!1;var f=Bt("div");return"draggable"in f||"dragDrop"in f}();function fo(f){if(Qn==null){var g=Bt("span","​");St(f,Bt("span",[g,document.createTextNode("x")])),f.firstChild.offsetHeight!=0&&(Qn=g.offsetWidth<=1&&g.offsetHeight>2&&!(I&&N<8))}var S=Qn?Bt("span","​"):Bt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return S.setAttribute("cm-text",""),S}function Bo(f){if(Fn!=null)return Fn;var g=St(f,document.createTextNode("AخA")),S=Xt(g,0,1).getBoundingClientRect(),_=Xt(g,1,2).getBoundingClientRect();return It(f),!(!S||S.left==S.right)&&(Fn=_.right-S.right<3)}var bo,wo=`

b`.split(/\n/).length!=3?function(f){for(var g=0,S=[],_=f.length;g<=_;){var T=f.indexOf(`
`,g);T==-1&&(T=f.length);var D=f.slice(g,f.charAt(T-1)=="\r"?T-1:T),K=D.indexOf("\r");K!=-1?(S.push(D.slice(0,K)),g+=K+1):(S.push(D),g=T+1)}return S}:function(f){return f.split(/\r\n?|\n/)},_o=window.getSelection?function(f){try{return f.selectionStart!=f.selectionEnd}catch{return!1}}:function(f){var g;try{g=f.ownerDocument.selection.createRange()}catch{}return!(!g||g.parentElement()!=f)&&g.compareEndPoints("StartToEnd",g)!=0},va="oncopy"in(bo=Bt("div"))||(bo.setAttribute("oncopy","return;"),typeof bo.oncopy=="function"),$o=null,Ao={},ni={};function eo(f,g){arguments.length>2&&(g.dependencies=Array.prototype.slice.call(arguments,2)),Ao[f]=g}function Wr(f){if(typeof f=="string"&&ni.hasOwnProperty(f))f=ni[f];else if(f&&typeof f.name=="string"&&ni.hasOwnProperty(f.name)){var g=ni[f.name];typeof g=="string"&&(g={name:g}),(f=vt(g,f)).name=g.name}else{if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f))return Wr("application/xml");if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(f))return Wr("application/json")}return typeof f=="string"?{name:f}:f||{name:"null"}}function vo(f,g){g=Wr(g);var S=Ao[g.name];if(!S)return vo(f,"text/plain");var _=S(f,g);if(po.hasOwnProperty(g.name)){var T=po[g.name];for(var D in T)T.hasOwnProperty(D)&&(_.hasOwnProperty(D)&&(_["_"+D]=_[D]),_[D]=T[D])}if(_.name=g.name,g.helperType&&(_.helperType=g.helperType),g.modeProps)for(var K in g.modeProps)_[K]=g.modeProps[K];return _}var po={};function oi(f,g){Vr(g,po.hasOwnProperty(f)?po[f]:po[f]={})}function un(f,g){if(g===!0)return g;if(f.copyState)return f.copyState(g);var S={};for(var _ in g){var T=g[_];T instanceof Array&&(T=T.concat([])),S[_]=T}return S}function Zo(f,g){for(var S;f.innerMode&&(S=f.innerMode(g))&&S.mode!=f;)g=S.state,f=S.mode;return S||{mode:f,state:g}}function Ci(f,g,S){return!f.startState||f.startState(g,S)}var Bn=function(f,g,S){this.pos=this.start=0,this.string=f,this.tabSize=g||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=S};function rt(f,g){if((g-=f.first)<0||g>=f.size)throw new Error("There is no line "+(g+f.first)+" in the document.");for(var S=f;!S.lines;)for(var _=0;;++_){var T=S.children[_],D=T.chunkSize();if(g<D){S=T;break}g-=D}return S.lines[g]}function Zt(f,g,S){var _=[],T=g.line;return f.iter(g.line,S.line+1,function(D){var K=D.text;T==S.line&&(K=K.slice(0,S.ch)),T==g.line&&(K=K.slice(g.ch)),_.push(K),++T}),_}function ar(f,g,S){var _=[];return f.iter(g,S,function(T){_.push(T.text)}),_}function hr(f,g){var S=g-f.height;if(S)for(var _=f;_;_=_.parent)_.height+=S}function Mr(f){if(f.parent==null)return null;for(var g=f.parent,S=Et(g.lines,f),_=g.parent;_;g=_,_=_.parent)for(var T=0;_.children[T]!=g;++T)S+=_.children[T].chunkSize();return S+g.first}function _n(f,g){var S=f.first;t:do{for(var _=0;_<f.children.length;++_){var T=f.children[_],D=T.height;if(g<D){f=T;continue t}g-=D,S+=T.chunkSize()}return S}while(!f.lines);for(var K=0;K<f.lines.length;++K){var X=f.lines[K].height;if(g<X)break;g-=X}return S+K}function Vn(f,g){return g>=f.first&&g<f.first+f.size}function Jr(f,g){return String(f.lineNumberFormatter(g+f.firstLineNumber))}function gr(f,g,S){if(S===void 0&&(S=null),!(this instanceof gr))return new gr(f,g,S);this.line=f,this.ch=g,this.sticky=S}function At(f,g){return f.line-g.line||f.ch-g.ch}function we(f,g){return f.sticky==g.sticky&&At(f,g)==0}function cr(f){return gr(f.line,f.ch)}function Xr(f,g){return At(f,g)<0?g:f}function nn(f,g){return At(f,g)<0?f:g}function xn(f,g){return Math.max(f.first,Math.min(g,f.first+f.size-1))}function Lr(f,g){if(g.line<f.first)return gr(f.first,0);var S=f.first+f.size-1;return g.line>S?gr(S,rt(f,S).text.length):function(_,T){var D=_.ch;return D==null||D>T?gr(_.line,T):D<0?gr(_.line,0):_}(g,rt(f,g.line).text.length)}function Ln(f,g){for(var S=[],_=0;_<g.length;_++)S[_]=Lr(f,g[_]);return S}Bn.prototype.eol=function(){return this.pos>=this.string.length},Bn.prototype.sol=function(){return this.pos==this.lineStart},Bn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Bn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Bn.prototype.eat=function(f){var g=this.string.charAt(this.pos);if(typeof f=="string"?g==f:g&&(f.test?f.test(g):f(g)))return++this.pos,g},Bn.prototype.eatWhile=function(f){for(var g=this.pos;this.eat(f););return this.pos>g},Bn.prototype.eatSpace=function(){for(var f=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>f},Bn.prototype.skipToEnd=function(){this.pos=this.string.length},Bn.prototype.skipTo=function(f){var g=this.string.indexOf(f,this.pos);if(g>-1)return this.pos=g,!0},Bn.prototype.backUp=function(f){this.pos-=f},Bn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},Bn.prototype.indentation=function(){return Je(this.string,null,this.tabSize)-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},Bn.prototype.match=function(f,g,S){if(typeof f!="string"){var _=this.string.slice(this.pos).match(f);return _&&_.index>0?null:(_&&g!==!1&&(this.pos+=_[0].length),_)}var T=function(D){return S?D.toLowerCase():D};if(T(this.string.substr(this.pos,f.length))==T(f))return g!==!1&&(this.pos+=f.length),!0},Bn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Bn.prototype.hideFirstChars=function(f,g){this.lineStart+=f;try{return g()}finally{this.lineStart-=f}},Bn.prototype.lookAhead=function(f){var g=this.lineOracle;return g&&g.lookAhead(f)},Bn.prototype.baseToken=function(){var f=this.lineOracle;return f&&f.baseToken(this.pos)};var xo=function(f,g){this.state=f,this.lookAhead=g},Uo=function(f,g,S,_){this.state=g,this.doc=f,this.line=S,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};function Di(f,g,S,_){var T=[f.state.modeGen],D={};ia(f,g.text,f.doc.mode,S,function(pt,Jt){return T.push(pt,Jt)},D,_);for(var K=S.state,X=function(pt){S.baseTokens=T;var Jt=f.state.overlays[pt],ee=1,xe=0;S.state=!0,ia(f,g.text,Jt.mode,S,function(ge,Ge){for(var Ke=ee;xe<ge;){var ze=T[ee];ze>ge&&T.splice(ee,1,ge,T[ee+1],ze),ee+=2,xe=Math.min(ge,ze)}if(Ge)if(Jt.opaque)T.splice(Ke,ee-Ke,ge,"overlay "+Ge),ee=Ke+2;else for(;Ke<ee;Ke+=2){var er=T[Ke+1];T[Ke+1]=(er?er+" ":"")+"overlay "+Ge}},D),S.state=K,S.baseTokens=null,S.baseTokenPos=1},mt=0;mt<f.state.overlays.length;++mt)X(mt);return{styles:T,classes:D.bgClass||D.textClass?D:null}}function Vs(f,g,S){if(!g.styles||g.styles[0]!=f.state.modeGen){var _=jo(f,Mr(g)),T=g.text.length>f.options.maxHighlightLength&&un(f.doc.mode,_.state),D=Di(f,g,_);T&&(_.state=T),g.stateAfter=_.save(!T),g.styles=D.styles,D.classes?g.styleClasses=D.classes:g.styleClasses&&(g.styleClasses=null),S===f.doc.highlightFrontier&&(f.doc.modeFrontier=Math.max(f.doc.modeFrontier,++f.doc.highlightFrontier))}return g.styles}function jo(f,g,S){var _=f.doc,T=f.display;if(!_.mode.startState)return new Uo(_,!0,g);var D=function(mt,pt,Jt){for(var ee,xe,ge=mt.doc,Ge=Jt?-1:pt-(mt.doc.mode.innerMode?1e3:100),Ke=pt;Ke>Ge;--Ke){if(Ke<=ge.first)return ge.first;var ze=rt(ge,Ke-1),er=ze.stateAfter;if(er&&(!Jt||Ke+(er instanceof xo?er.lookAhead:0)<=ge.modeFrontier))return Ke;var mr=Je(ze.text,null,mt.options.tabSize);(xe==null||ee>mr)&&(xe=Ke-1,ee=mr)}return xe}(f,g,S),K=D>_.first&&rt(_,D-1).stateAfter,X=K?Uo.fromSaved(_,K,D):new Uo(_,Ci(_.mode),D);return _.iter(D,g,function(mt){ma(f,mt.text,X);var pt=X.line;mt.stateAfter=pt==g-1||pt%5==0||pt>=T.viewFrom&&pt<T.viewTo?X.save():null,X.nextLine()}),S&&(_.modeFrontier=X.line),X}function ma(f,g,S,_){var T=f.doc.mode,D=new Bn(g,f.options.tabSize,S);for(D.start=D.pos=_||0,g==""&&Ll(T,S.state);!D.eol();)is(T,D,S.state),D.start=D.pos}function Ll(f,g){if(f.blankLine)return f.blankLine(g);if(f.innerMode){var S=Zo(f,g);return S.mode.blankLine?S.mode.blankLine(S.state):void 0}}function is(f,g,S,_){for(var T=0;T<10;T++){_&&(_[0]=Zo(f,S).mode);var D=f.token(g,S);if(g.pos>g.start)return D}throw new Error("Mode "+f.name+" failed to advance stream.")}Uo.prototype.lookAhead=function(f){var g=this.doc.getLine(this.line+f);return g!=null&&f>this.maxLookAhead&&(this.maxLookAhead=f),g},Uo.prototype.baseToken=function(f){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=f;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-f}},Uo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Uo.fromSaved=function(f,g,S){return g instanceof xo?new Uo(f,un(f.mode,g.state),S,g.lookAhead):new Uo(f,un(f.mode,g),S)},Uo.prototype.save=function(f){var g=f!==!1?un(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new xo(g,this.maxLookAhead):g};var zo=function(f,g,S){this.start=f.start,this.end=f.pos,this.string=f.current(),this.type=g||null,this.state=S};function Rs(f,g,S,_){var T,D,K=f.doc,X=K.mode,mt=rt(K,(g=Lr(K,g)).line),pt=jo(f,g.line,S),Jt=new Bn(mt.text,f.options.tabSize,pt);for(_&&(D=[]);(_||Jt.pos<g.ch)&&!Jt.eol();)Jt.start=Jt.pos,T=is(X,Jt,pt.state),_&&D.push(new zo(Jt,T,un(K.mode,pt.state)));return _?D:new zo(Jt,T,pt.state)}function Go(f,g){if(f)for(;;){var S=f.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!S)break;f=f.slice(0,S.index)+f.slice(S.index+S[0].length);var _=S[1]?"bgClass":"textClass";g[_]==null?g[_]=S[2]:new RegExp("(?:^|\\s)"+S[2]+"(?:$|\\s)").test(g[_])||(g[_]+=" "+S[2])}return f}function ia(f,g,S,_,T,D,K){var X=S.flattenSpans;X==null&&(X=f.options.flattenSpans);var mt,pt=0,Jt=null,ee=new Bn(g,f.options.tabSize,_),xe=f.options.addModeClass&&[null];for(g==""&&Go(Ll(S,_.state),D);!ee.eol();){if(ee.pos>f.options.maxHighlightLength?(X=!1,K&&ma(f,g,_,ee.pos),ee.pos=g.length,mt=null):mt=Go(is(S,ee,_.state,xe),D),xe){var ge=xe[0].name;ge&&(mt="m-"+(mt?ge+" "+mt:ge))}if(!X||Jt!=mt){for(;pt<ee.start;)T(pt=Math.min(ee.start,pt+5e3),Jt);Jt=mt}ee.start=ee.pos}for(;pt<ee.pos;){var Ge=Math.min(ee.pos,pt+5e3);T(Ge,Jt),pt=Ge}}var ti=!1,ui=!1;function Ii(f,g,S){this.marker=f,this.from=g,this.to=S}function Hs(f,g){if(f)for(var S=0;S<f.length;++S){var _=f[S];if(_.marker==g)return _}}function as(f,g){for(var S,_=0;_<f.length;++_)f[_]!=g&&(S||(S=[])).push(f[_]);return S}function ss(f,g){if(g.full)return null;var S=Vn(f,g.from.line)&&rt(f,g.from.line).markedSpans,_=Vn(f,g.to.line)&&rt(f,g.to.line).markedSpans;if(!S&&!_)return null;var T=g.from.ch,D=g.to.ch,K=At(g.from,g.to)==0,X=function(Tr,Er,gn){var Ur;if(Tr)for(var zn=0;zn<Tr.length;++zn){var zr=Tr[zn],qn=zr.marker;if(zr.from==null||(qn.inclusiveLeft?zr.from<=Er:zr.from<Er)||zr.from==Er&&qn.type=="bookmark"&&(!gn||!zr.marker.insertLeft)){var mo=zr.to==null||(qn.inclusiveRight?zr.to>=Er:zr.to>Er);(Ur||(Ur=[])).push(new Ii(qn,zr.from,mo?null:zr.to))}}return Ur}(S,T,K),mt=function(Tr,Er,gn){var Ur;if(Tr)for(var zn=0;zn<Tr.length;++zn){var zr=Tr[zn],qn=zr.marker;if(zr.to==null||(qn.inclusiveRight?zr.to>=Er:zr.to>Er)||zr.from==Er&&qn.type=="bookmark"&&(!gn||zr.marker.insertLeft)){var mo=zr.from==null||(qn.inclusiveLeft?zr.from<=Er:zr.from<Er);(Ur||(Ur=[])).push(new Ii(qn,mo?null:zr.from-Er,zr.to==null?null:zr.to-Er))}}return Ur}(_,D,K),pt=g.text.length==1,Jt=Qe(g.text).length+(pt?T:0);if(X)for(var ee=0;ee<X.length;++ee){var xe=X[ee];if(xe.to==null){var ge=Hs(mt,xe.marker);ge?pt&&(xe.to=ge.to==null?null:ge.to+Jt):xe.to=T}}if(mt)for(var Ge=0;Ge<mt.length;++Ge){var Ke=mt[Ge];Ke.to!=null&&(Ke.to+=Jt),Ke.from==null?Hs(X,Ke.marker)||(Ke.from=Jt,pt&&(X||(X=[])).push(Ke)):(Ke.from+=Jt,pt&&(X||(X=[])).push(Ke))}X&&(X=ka(X)),mt&&mt!=X&&(mt=ka(mt));var ze=[X];if(!pt){var er,mr=g.text.length-2;if(mr>0&&X)for(var br=0;br<X.length;++br)X[br].to==null&&(er||(er=[])).push(new Ii(X[br].marker,null,null));for(var Ar=0;Ar<mr;++Ar)ze.push(er);ze.push(mt)}return ze}function ka(f){for(var g=0;g<f.length;++g){var S=f[g];S.from!=null&&S.from==S.to&&S.marker.clearWhenEmpty!==!1&&f.splice(g--,1)}return f.length?f:null}function vi(f){var g=f.markedSpans;if(g){for(var S=0;S<g.length;++S)g[S].marker.detachLine(f);f.markedSpans=null}}function Bs(f,g){if(g){for(var S=0;S<g.length;++S)g[S].marker.attachLine(f);f.markedSpans=g}}function ya(f){return f.inclusiveLeft?-1:0}function ba(f){return f.inclusiveRight?1:0}function Gi(f,g){var S=f.lines.length-g.lines.length;if(S!=0)return S;var _=f.find(),T=g.find(),D=At(_.from,T.from)||ya(f)-ya(g);return D?-D:At(_.to,T.to)||ba(f)-ba(g)||g.id-f.id}function ls(f,g){var S,_=ui&&f.markedSpans;if(_)for(var T=void 0,D=0;D<_.length;++D)(T=_[D]).marker.collapsed&&(g?T.from:T.to)==null&&(!S||Gi(S,T.marker)<0)&&(S=T.marker);return S}function Ua(f){return ls(f,!0)}function Si(f){return ls(f,!1)}function Us(f,g){var S,_=ui&&f.markedSpans;if(_)for(var T=0;T<_.length;++T){var D=_[T];D.marker.collapsed&&(D.from==null||D.from<g)&&(D.to==null||D.to>g)&&(!S||Gi(S,D.marker)<0)&&(S=D.marker)}return S}function qi(f,g,S,_,T){var D=rt(f,g),K=ui&&D.markedSpans;if(K)for(var X=0;X<K.length;++X){var mt=K[X];if(mt.marker.collapsed){var pt=mt.marker.find(0),Jt=At(pt.from,S)||ya(mt.marker)-ya(T),ee=At(pt.to,_)||ba(mt.marker)-ba(T);if(!(Jt>=0&&ee<=0||Jt<=0&&ee>=0)&&(Jt<=0&&(mt.marker.inclusiveRight&&T.inclusiveLeft?At(pt.to,S)>=0:At(pt.to,S)>0)||Jt>=0&&(mt.marker.inclusiveRight&&T.inclusiveLeft?At(pt.from,_)<=0:At(pt.from,_)<0)))return!0}}}function Do(f){for(var g;g=Ua(f);)f=g.find(-1,!0).line;return f}function Oi(f,g){var S=rt(f,g),_=Do(S);return S==_?g:Mr(_)}function Aa(f,g){if(g>f.lastLine())return g;var S,_=rt(f,g);if(!Cn(f,_))return g;for(;S=Si(_);)_=S.find(1,!0).line;return Mr(_)+1}function Cn(f,g){var S=ui&&g.markedSpans;if(S){for(var _=void 0,T=0;T<S.length;++T)if((_=S[T]).marker.collapsed&&(_.from==null||!_.marker.widgetNode&&_.from==0&&_.marker.inclusiveLeft&&Io(f,g,_)))return!0}}function Io(f,g,S){if(S.to==null){var _=S.marker.find(1,!0);return Io(f,_.line,Hs(_.line.markedSpans,S.marker))}if(S.marker.inclusiveRight&&S.to==g.text.length)return!0;for(var T=void 0,D=0;D<g.markedSpans.length;++D)if((T=g.markedSpans[D]).marker.collapsed&&!T.marker.widgetNode&&T.from==S.to&&(T.to==null||T.to!=S.from)&&(T.marker.inclusiveLeft||S.marker.inclusiveRight)&&Io(f,g,T))return!0}function Ni(f){for(var g=0,S=(f=Do(f)).parent,_=0;_<S.lines.length;++_){var T=S.lines[_];if(T==f)break;g+=T.height}for(var D=S.parent;D;D=(S=D).parent)for(var K=0;K<D.children.length;++K){var X=D.children[K];if(X==S)break;g+=X.height}return g}function mi(f){if(f.height==0)return 0;for(var g,S=f.text.length,_=f;g=Ua(_);){var T=g.find(0,!0);_=T.from.line,S+=T.from.ch-T.to.ch}for(_=f;g=Si(_);){var D=g.find(0,!0);S-=_.text.length-D.from.ch,S+=(_=D.to.line).text.length-D.to.ch}return S}function Mo(f){var g=f.display,S=f.doc;g.maxLine=rt(S,S.first),g.maxLineLength=mi(g.maxLine),g.maxLineChanged=!0,S.iter(function(_){var T=mi(_);T>g.maxLineLength&&(g.maxLineLength=T,g.maxLine=_)})}var Pn=function(f,g,S){this.text=f,Bs(this,g),this.height=S?S(this):1};function vn(f){f.parent=null,vi(f)}Pn.prototype.lineNo=function(){return Mr(this)},xr(Pn);var aa={},No={};function ta(f,g){if(!f||/^\s*$/.test(f))return null;var S=g.addModeClass?No:aa;return S[f]||(S[f]=f.replace(/\S+/g,"cm-$&"))}function Cs(f,g){var S=Me("span",null,null,W?"padding-right: .1px":null),_={pre:Me("pre",[S],"CodeMirror-line"),content:S,col:0,pos:0,cm:f,trailingSpace:!1,splitSpaces:f.getOption("lineWrapping")};g.measure={};for(var T=0;T<=(g.rest?g.rest.length:0);T++){var D=T?g.rest[T-1]:g.line,K=void 0;_.pos=0,_.addToken=yi,Bo(f.display.measure)&&(K=$n(D,f.doc.direction))&&(_.addToken=Fo(_.addToken,K)),_.map=[],Os(D,_,Vs(f,D,g!=f.display.externalMeasured&&Mr(D))),D.styleClasses&&(D.styleClasses.bgClass&&(_.bgClass=Or(D.styleClasses.bgClass,_.bgClass||"")),D.styleClasses.textClass&&(_.textClass=Or(D.styleClasses.textClass,_.textClass||""))),_.map.length==0&&_.map.push(0,0,_.content.appendChild(fo(f.display.measure))),T==0?(g.measure.map=_.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(_.map),(g.measure.caches||(g.measure.caches=[])).push({}))}if(W){var X=_.content.lastChild;(/\bcm-tab\b/.test(X.className)||X.querySelector&&X.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return xt(f,"renderLine",f,g.line,_.pre),_.pre.className&&(_.textClass=Or(_.pre.className,_.textClass||"")),_}function ii(f){var g=Bt("span","•","cm-invalidchar");return g.title="\\u"+f.charCodeAt(0).toString(16),g.setAttribute("aria-label",g.title),g}function yi(f,g,S,_,T,D,K){if(g){var X,mt=f.splitSpaces?function(Tr,Er){if(Tr.length>1&&!/  /.test(Tr))return Tr;for(var gn=Er,Ur="",zn=0;zn<Tr.length;zn++){var zr=Tr.charAt(zn);zr!=" "||!gn||zn!=Tr.length-1&&Tr.charCodeAt(zn+1)!=32||(zr=" "),Ur+=zr,gn=zr==" "}return Ur}(g,f.trailingSpace):g,pt=f.cm.state.specialChars,Jt=!1;if(pt.test(g)){X=document.createDocumentFragment();for(var ee=0;;){pt.lastIndex=ee;var xe=pt.exec(g),ge=xe?xe.index-ee:g.length-ee;if(ge){var Ge=document.createTextNode(mt.slice(ee,ee+ge));I&&N<9?X.appendChild(Bt("span",[Ge])):X.appendChild(Ge),f.map.push(f.pos,f.pos+ge,Ge),f.col+=ge,f.pos+=ge}if(!xe)break;ee+=ge+1;var Ke=void 0;if(xe[0]=="	"){var ze=f.cm.options.tabSize,er=ze-f.col%ze;(Ke=X.appendChild(Bt("span",vr(er),"cm-tab"))).setAttribute("role","presentation"),Ke.setAttribute("cm-text","	"),f.col+=er}else xe[0]=="\r"||xe[0]==`
`?((Ke=X.appendChild(Bt("span",xe[0]=="\r"?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",xe[0]),f.col+=1):((Ke=f.cm.options.specialCharPlaceholder(xe[0])).setAttribute("cm-text",xe[0]),I&&N<9?X.appendChild(Bt("span",[Ke])):X.appendChild(Ke),f.col+=1);f.map.push(f.pos,f.pos+1,Ke),f.pos++}}else f.col+=g.length,X=document.createTextNode(mt),f.map.push(f.pos,f.pos+g.length,X),I&&N<9&&(Jt=!0),f.pos+=g.length;if(f.trailingSpace=mt.charCodeAt(g.length-1)==32,S||_||T||Jt||D||K){var mr=S||"";_&&(mr+=_),T&&(mr+=T);var br=Bt("span",[X],mr,D);if(K)for(var Ar in K)K.hasOwnProperty(Ar)&&Ar!="style"&&Ar!="class"&&br.setAttribute(Ar,K[Ar]);return f.content.appendChild(br)}f.content.appendChild(X)}}function Fo(f,g){return function(S,_,T,D,K,X,mt){T=T?T+" cm-force-border":"cm-force-border";for(var pt=S.pos,Jt=pt+_.length;;){for(var ee=void 0,xe=0;xe<g.length&&!((ee=g[xe]).to>pt&&ee.from<=pt);xe++);if(ee.to>=Jt)return f(S,_,T,D,K,X,mt);f(S,_.slice(0,ee.to-pt),T,D,null,X,mt),D=null,_=_.slice(ee.to-pt),pt=ee.to}}}function Ss(f,g,S,_){var T=!_&&S.widgetNode;T&&f.map.push(f.pos,f.pos+g,T),!_&&f.cm.display.input.needsContentAttribute&&(T||(T=f.content.appendChild(document.createElement("span"))),T.setAttribute("cm-marker",S.id)),T&&(f.cm.display.input.setUneditable(T),f.content.appendChild(T)),f.pos+=g,f.trailingSpace=!1}function Os(f,g,S){var _=f.markedSpans,T=f.text,D=0;if(_)for(var K,X,mt,pt,Jt,ee,xe,ge=T.length,Ge=0,Ke=1,ze="",er=0;;){if(er==Ge){mt=pt=Jt=X="",xe=null,ee=null,er=1/0;for(var mr=[],br=void 0,Ar=0;Ar<_.length;++Ar){var Tr=_[Ar],Er=Tr.marker;if(Er.type=="bookmark"&&Tr.from==Ge&&Er.widgetNode)mr.push(Er);else if(Tr.from<=Ge&&(Tr.to==null||Tr.to>Ge||Er.collapsed&&Tr.to==Ge&&Tr.from==Ge)){if(Tr.to!=null&&Tr.to!=Ge&&er>Tr.to&&(er=Tr.to,pt=""),Er.className&&(mt+=" "+Er.className),Er.css&&(X=(X?X+";":"")+Er.css),Er.startStyle&&Tr.from==Ge&&(Jt+=" "+Er.startStyle),Er.endStyle&&Tr.to==er&&(br||(br=[])).push(Er.endStyle,Tr.to),Er.title&&((xe||(xe={})).title=Er.title),Er.attributes)for(var gn in Er.attributes)(xe||(xe={}))[gn]=Er.attributes[gn];Er.collapsed&&(!ee||Gi(ee.marker,Er)<0)&&(ee=Tr)}else Tr.from>Ge&&er>Tr.from&&(er=Tr.from)}if(br)for(var Ur=0;Ur<br.length;Ur+=2)br[Ur+1]==er&&(pt+=" "+br[Ur]);if(!ee||ee.from==Ge)for(var zn=0;zn<mr.length;++zn)Ss(g,0,mr[zn]);if(ee&&(ee.from||0)==Ge){if(Ss(g,(ee.to==null?ge+1:ee.to)-Ge,ee.marker,ee.from==null),ee.to==null)return;ee.to==Ge&&(ee=!1)}}if(Ge>=ge)break;for(var zr=Math.min(ge,er);;){if(ze){var qn=Ge+ze.length;if(!ee){var mo=qn>zr?ze.slice(0,zr-Ge):ze;g.addToken(g,mo,K?K+mt:mt,Jt,Ge+mo.length==er?pt:"",X,xe)}if(qn>=zr){ze=ze.slice(zr-Ge),Ge=zr;break}Ge=qn,Jt=""}ze=T.slice(D,D=S[Ke++]),K=ta(S[Ke++],g.cm.options)}}else for(var Yn=1;Yn<S.length;Yn+=2)g.addToken(g,T.slice(D,D=S[Yn]),ta(S[Yn+1],g.cm.options))}function Fi(f,g,S){this.line=g,this.rest=function(_){for(var T,D;T=Si(_);)_=T.find(1,!0).line,(D||(D=[])).push(_);return D}(g),this.size=this.rest?Mr(Qe(this.rest))-S+1:1,this.node=this.text=null,this.hidden=Cn(f,g)}function zs(f,g,S){for(var _,T=[],D=g;D<S;D=_){var K=new Fi(f.doc,rt(f.doc,D),D);_=D+K.size,T.push(K)}return T}var Gn=null,Ws=null;function Vo(f,g){var S=je(f,g);if(S.length){var _,T=Array.prototype.slice.call(arguments,2);Gn?_=Gn.delayedCallbacks:Ws?_=Ws:(_=Ws=[],setTimeout(jl,0));for(var D=function(X){_.push(function(){return S[X].apply(null,T)})},K=0;K<S.length;++K)D(K)}}function jl(){var f=Ws;Ws=null;for(var g=0;g<f.length;++g)f[g]()}function za(f,g,S,_){for(var T=0;T<g.changes.length;T++){var D=g.changes[T];D=="text"?sc(f,g):D=="gutter"?Vi(f,g,S,_):D=="class"?cs(f,g):D=="widget"&&Ro(f,g,_)}g.changes=null}function sa(f){return f.node==f.text&&(f.node=Bt("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),I&&N<8&&(f.node.style.zIndex=2)),f.node}function Ts(f,g){var S=f.display.externalMeasured;return S&&S.line==g.line?(f.display.externalMeasured=null,g.measure=S.measure,S.built):Cs(f,g)}function sc(f,g){var S=g.text.className,_=Ts(f,g);g.text==g.node&&(g.node=_.pre),g.text.parentNode.replaceChild(_.pre,g.text),g.text=_.pre,_.bgClass!=g.bgClass||_.textClass!=g.textClass?(g.bgClass=_.bgClass,g.textClass=_.textClass,cs(f,g)):S&&(g.text.className=S)}function cs(f,g){(function(_,T){var D=T.bgClass?T.bgClass+" "+(T.line.bgClass||""):T.line.bgClass;if(D&&(D+=" CodeMirror-linebackground"),T.background)D?T.background.className=D:(T.background.parentNode.removeChild(T.background),T.background=null);else if(D){var K=sa(T);T.background=K.insertBefore(Bt("div",null,D),K.firstChild),_.display.input.setUneditable(T.background)}})(f,g),g.line.wrapClass?sa(g).className=g.line.wrapClass:g.node!=g.text&&(g.node.className="");var S=g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass;g.text.className=S||""}function Vi(f,g,S,_){if(g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null),g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null),g.line.gutterClass){var T=sa(g);g.gutterBackground=Bt("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(f.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),f.display.input.setUneditable(g.gutterBackground),T.insertBefore(g.gutterBackground,g.text)}var D=g.line.gutterMarkers;if(f.options.lineNumbers||D){var K=sa(g),X=g.gutter=Bt("div",null,"CodeMirror-gutter-wrapper","left: "+(f.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(X.setAttribute("aria-hidden","true"),f.display.input.setUneditable(X),K.insertBefore(X,g.text),g.line.gutterClass&&(X.className+=" "+g.line.gutterClass),!f.options.lineNumbers||D&&D["CodeMirror-linenumbers"]||(g.lineNumber=X.appendChild(Bt("div",Jr(f.options,S),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.display.lineNumInnerWidth+"px"))),D)for(var mt=0;mt<f.display.gutterSpecs.length;++mt){var pt=f.display.gutterSpecs[mt].className,Jt=D.hasOwnProperty(pt)&&D[pt];Jt&&X.appendChild(Bt("div",[Jt],"CodeMirror-gutter-elt","left: "+_.gutterLeft[pt]+"px; width: "+_.gutterWidth[pt]+"px"))}}}function Ro(f,g,S){g.alignable&&(g.alignable=null);for(var _=Rt("CodeMirror-linewidget"),T=g.node.firstChild,D=void 0;T;T=D)D=T.nextSibling,_.test(T.className)&&g.node.removeChild(T);lc(f,g,S)}function Dl(f,g,S,_){var T=Ts(f,g);return g.text=g.node=T.pre,T.bgClass&&(g.bgClass=T.bgClass),T.textClass&&(g.textClass=T.textClass),cs(f,g),Vi(f,g,S,_),lc(f,g,_),g.node}function lc(f,g,S){if(Wa(f,g.line,g,S,!0),g.rest)for(var _=0;_<g.rest.length;_++)Wa(f,g.rest[_],g,S,!1)}function Wa(f,g,S,_,T){if(g.widgets)for(var D=sa(S),K=0,X=g.widgets;K<X.length;++K){var mt=X[K],pt=Bt("div",[mt.node],"CodeMirror-linewidget"+(mt.className?" "+mt.className:""));mt.handleMouseEvents||pt.setAttribute("cm-ignore-events","true"),Sc(mt,pt,S,_),f.display.input.setUneditable(pt),T&&mt.above?D.insertBefore(pt,S.gutter||S.text):D.appendChild(pt),Vo(mt,"redraw")}}function Sc(f,g,S,_){if(f.noHScroll){(S.alignable||(S.alignable=[])).push(g);var T=_.wrapperWidth;g.style.left=_.fixedPos+"px",f.coverGutter||(T-=_.gutterTotalWidth,g.style.paddingLeft=_.gutterTotalWidth+"px"),g.style.width=T+"px"}f.coverGutter&&(g.style.zIndex=5,g.style.position="relative",f.noHScroll||(g.style.marginLeft=-_.gutterTotalWidth+"px"))}function bi(f){if(f.height!=null)return f.height;var g=f.doc.cm;if(!g)return 0;if(!pe(document.body,f.node)){var S="position: relative;";f.coverGutter&&(S+="margin-left: -"+g.display.gutters.offsetWidth+"px;"),f.noHScroll&&(S+="width: "+g.display.wrapper.clientWidth+"px;"),St(g.display.measure,Bt("div",[f.node],null,S))}return f.height=f.node.parentNode.offsetHeight}function wi(f,g){for(var S=uo(g);S!=f.wrapper;S=S.parentNode)if(!S||S.nodeType==1&&S.getAttribute("cm-ignore-events")=="true"||S.parentNode==f.sizer&&S!=f.mover)return!0}function la(f){return f.lineSpace.offsetTop}function Ma(f){return f.mover.offsetHeight-f.lineSpace.offsetHeight}function cc(f){if(f.cachedPaddingH)return f.cachedPaddingH;var g=St(f.measure,Bt("pre","x","CodeMirror-line-like")),S=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle,_={left:parseInt(S.paddingLeft),right:parseInt(S.paddingRight)};return isNaN(_.left)||isNaN(_.right)||(f.cachedPaddingH=_),_}function _i(f){return qt-f.display.nativeBarWidth}function ca(f){return f.display.scroller.clientWidth-_i(f)-f.display.barWidth}function $a(f){return f.display.scroller.clientHeight-_i(f)-f.display.barHeight}function Es(f,g,S){if(f.line==g)return{map:f.measure.map,cache:f.measure.cache};if(f.rest){for(var _=0;_<f.rest.length;_++)if(f.rest[_]==g)return{map:f.measure.maps[_],cache:f.measure.caches[_]};for(var T=0;T<f.rest.length;T++)if(Mr(f.rest[T])>S)return{map:f.measure.maps[T],cache:f.measure.caches[T],before:!0}}}function Ki(f,g,S,_){return ua(f,Yi(f,g),S,_)}function Ri(f,g){if(g>=f.display.viewFrom&&g<f.display.viewTo)return f.display.view[Il(f,g)];var S=f.display.externalMeasured;return S&&g>=S.lineN&&g<S.lineN+S.size?S:void 0}function Yi(f,g){var S=Mr(g),_=Ri(f,S);_&&!_.text?_=null:_&&_.changes&&(za(f,_,S,rf(f)),f.curOp.forceUpdate=!0),_||(_=function(D,K){var X=Mr(K=Do(K)),mt=D.display.externalMeasured=new Fi(D.doc,K,X);mt.lineN=X;var pt=mt.built=Cs(D,mt);return mt.text=pt.pre,St(D.display.lineMeasure,pt.pre),mt}(f,g));var T=Es(_,g,S);return{line:g,view:_,rect:null,map:T.map,cache:T.cache,before:T.before,hasHeights:!1}}function ua(f,g,S,_,T){g.before&&(S=-1);var D,K=S+(_||"");return g.cache.hasOwnProperty(K)?D=g.cache[K]:(g.rect||(g.rect=g.view.text.getBoundingClientRect()),g.hasHeights||(function(X,mt,pt){var Jt=X.options.lineWrapping,ee=Jt&&ca(X);if(!mt.measure.heights||Jt&&mt.measure.width!=ee){var xe=mt.measure.heights=[];if(Jt){mt.measure.width=ee;for(var ge=mt.text.firstChild.getClientRects(),Ge=0;Ge<ge.length-1;Ge++){var Ke=ge[Ge],ze=ge[Ge+1];Math.abs(Ke.bottom-ze.bottom)>2&&xe.push((Ke.bottom+ze.top)/2-pt.top)}}xe.push(pt.bottom-pt.top)}}(f,g.view,g.rect),g.hasHeights=!0),(D=Be(f,g,S,_)).bogus||(g.cache[K]=D)),{left:D.left,right:D.right,top:T?D.rtop:D.top,bottom:T?D.rbottom:D.bottom}}var gt,Dt={left:0,right:0,top:0,bottom:0};function de(f,g,S){for(var _,T,D,K,X,mt,pt=0;pt<f.length;pt+=3)if(X=f[pt],mt=f[pt+1],g<X?(T=0,D=1,K="left"):g<mt?D=(T=g-X)+1:(pt==f.length-3||g==mt&&f[pt+3]>g)&&(T=(D=mt-X)-1,g>=mt&&(K="right")),T!=null){if(_=f[pt+2],X==mt&&S==(_.insertLeft?"left":"right")&&(K=S),S=="left"&&T==0)for(;pt&&f[pt-2]==f[pt-3]&&f[pt-1].insertLeft;)_=f[(pt-=3)+2],K="left";if(S=="right"&&T==mt-X)for(;pt<f.length-3&&f[pt+3]==f[pt+4]&&!f[pt+5].insertLeft;)_=f[(pt+=3)+2],K="right";break}return{node:_,start:T,end:D,collapse:K,coverStart:X,coverEnd:mt}}function Te(f,g){var S=Dt;if(g=="left")for(var _=0;_<f.length&&(S=f[_]).left==S.right;_++);else for(var T=f.length-1;T>=0&&(S=f[T]).left==S.right;T--);return S}function Be(f,g,S,_){var T,D=de(g.map,S,_),K=D.node,X=D.start,mt=D.end,pt=D.collapse;if(K.nodeType==3){for(var Jt=0;Jt<4;Jt++){for(;X&&pr(g.line.text.charAt(D.coverStart+X));)--X;for(;D.coverStart+mt<D.coverEnd&&pr(g.line.text.charAt(D.coverStart+mt));)++mt;if((T=I&&N<9&&X==0&&mt==D.coverEnd-D.coverStart?K.parentNode.getBoundingClientRect():Te(Xt(K,X,mt).getClientRects(),_)).left||T.right||X==0)break;mt=X,X-=1,pt="right"}I&&N<11&&(T=function(Tr,Er){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!function(zn){if($o!=null)return $o;var zr=St(zn,Bt("span","x")),qn=zr.getBoundingClientRect(),mo=Xt(zr,0,1).getBoundingClientRect();return $o=Math.abs(qn.left-mo.left)>1}(Tr))return Er;var gn=screen.logicalXDPI/screen.deviceXDPI,Ur=screen.logicalYDPI/screen.deviceYDPI;return{left:Er.left*gn,right:Er.right*gn,top:Er.top*Ur,bottom:Er.bottom*Ur}}(f.display.measure,T))}else{var ee;X>0&&(pt=_="right"),T=f.options.lineWrapping&&(ee=K.getClientRects()).length>1?ee[_=="right"?ee.length-1:0]:K.getBoundingClientRect()}if(I&&N<9&&!X&&(!T||!T.left&&!T.right)){var xe=K.parentNode.getClientRects()[0];T=xe?{left:xe.left,right:xe.left+Hi(f.display),top:xe.top,bottom:xe.bottom}:Dt}for(var ge=T.top-g.rect.top,Ge=T.bottom-g.rect.top,Ke=(ge+Ge)/2,ze=g.view.measure.heights,er=0;er<ze.length-1&&!(Ke<ze[er]);er++);var mr=er?ze[er-1]:0,br=ze[er],Ar={left:(pt=="right"?T.right:T.left)-g.rect.left,right:(pt=="left"?T.left:T.right)-g.rect.left,top:mr,bottom:br};return T.left||T.right||(Ar.bogus=!0),f.options.singleCursorHeightPerLine||(Ar.rtop=ge,Ar.rbottom=Ge),Ar}function Ve(f){if(f.measure&&(f.measure.cache={},f.measure.heights=null,f.rest))for(var g=0;g<f.rest.length;g++)f.measure.caches[g]={}}function fr(f){f.display.externalMeasure=null,It(f.display.lineMeasure);for(var g=0;g<f.display.view.length;g++)Ve(f.display.view[g])}function Fr(f){fr(f),f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null,f.options.lineWrapping||(f.display.maxLineChanged=!0),f.display.lineNumChars=null}function it(){return F&&_t?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Mt(){return F&&_t?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ie(f){var g=Do(f).widgets,S=0;if(g)for(var _=0;_<g.length;++_)g[_].above&&(S+=bi(g[_]));return S}function be(f,g,S,_,T){if(!T){var D=ie(g);S.top+=D,S.bottom+=D}if(_=="line")return S;_||(_="local");var K=Ni(g);if(_=="local"?K+=la(f.display):K-=f.display.viewOffset,_=="page"||_=="window"){var X=f.display.lineSpace.getBoundingClientRect();K+=X.top+(_=="window"?0:Mt());var mt=X.left+(_=="window"?0:it());S.left+=mt,S.right+=mt}return S.top+=K,S.bottom+=K,S}function qe(f,g,S){if(S=="div")return g;var _=g.left,T=g.top;if(S=="page")_-=it(),T-=Mt();else if(S=="local"||!S){var D=f.display.sizer.getBoundingClientRect();_+=D.left,T+=D.top}var K=f.display.lineSpace.getBoundingClientRect();return{left:_-K.left,top:T-K.top}}function Fe(f,g,S,_,T){return _||(_=rt(f.doc,g.line)),be(f,_,Ki(f,_,g.ch,T),S)}function ur(f,g,S,_,T,D){function K(Ge,Ke){var ze=ua(f,T,Ge,Ke?"right":"left",D);return Ke?ze.left=ze.right:ze.right=ze.left,be(f,_,ze,S)}_=_||rt(f.doc,g.line),T||(T=Yi(f,_));var X=$n(_,f.doc.direction),mt=g.ch,pt=g.sticky;if(mt>=_.text.length?(mt=_.text.length,pt="before"):mt<=0&&(mt=0,pt="after"),!X)return K(pt=="before"?mt-1:mt,pt=="before");function Jt(Ge,Ke,ze){return K(ze?Ge-1:Ge,X[Ke].level==1!=ze)}var ee=He(X,mt,pt),xe=Kr,ge=Jt(mt,ee,pt=="before");return xe!=null&&(ge.other=Jt(mt,xe,pt!="before")),ge}function kr(f,g){var S=0;g=Lr(f.doc,g),f.options.lineWrapping||(S=Hi(f.display)*g.ch);var _=rt(f.doc,g.line),T=Ni(_)+la(f.display);return{left:S,right:S,top:T,bottom:T+_.height}}function hn(f,g,S,_,T){var D=gr(f,g,S);return D.xRel=T,_&&(D.outside=_),D}function Nn(f,g,S){var _=f.doc;if((S+=f.display.viewOffset)<0)return hn(_.first,0,null,-1,-1);var T=_n(_,S),D=_.first+_.size-1;if(T>D)return hn(_.first+_.size-1,rt(_,D).text.length,null,1,1);g<0&&(g=0);for(var K=rt(_,T);;){var X=Yc(f,K,T,g,S),mt=Us(K,X.ch+(X.xRel>0||X.outside>0?1:0));if(!mt)return X;var pt=mt.find(1);if(pt.line==T)return pt;K=rt(_,T=pt.line)}}function Eo(f,g,S,_){_-=ie(g);var T=g.text.length,D=on(function(K){return ua(f,S,K-1).bottom<=_},T,0);return{begin:D,end:T=on(function(K){return ua(f,S,K).top>_},D,T)}}function Ga(f,g,S,_){return S||(S=Yi(f,g)),Eo(f,g,S,be(f,g,ua(f,S,_),"line").top)}function us(f,g,S,_){return!(f.bottom<=S)&&(f.top>S||(_?f.left:f.right)>g)}function Yc(f,g,S,_,T){T-=Ni(g);var D=Yi(f,g),K=ie(g),X=0,mt=g.text.length,pt=!0,Jt=$n(g,f.doc.direction);if(Jt){var ee=(f.options.lineWrapping?pp:ef)(f,g,S,D,Jt,_,T);X=(pt=ee.level!=1)?ee.from:ee.to-1,mt=pt?ee.to:ee.from-1}var xe,ge,Ge=null,Ke=null,ze=on(function(Tr){var Er=ua(f,D,Tr);return Er.top+=K,Er.bottom+=K,!!us(Er,_,T,!1)&&(Er.top<=T&&Er.left<=_&&(Ge=Tr,Ke=Er),!0)},X,mt),er=!1;if(Ke){var mr=_-Ke.left<Ke.right-_,br=mr==pt;ze=Ge+(br?0:1),ge=br?"after":"before",xe=mr?Ke.left:Ke.right}else{pt||ze!=mt&&ze!=X||ze++,ge=ze==0?"after":ze==g.text.length?"before":ua(f,D,ze-(pt?1:0)).bottom+K<=T==pt?"after":"before";var Ar=ur(f,gr(S,ze,ge),"line",g,D);xe=Ar.left,er=T<Ar.top?-1:T>=Ar.bottom?1:0}return hn(S,ze=dr(g.text,ze,1),ge,er,_-xe)}function ef(f,g,S,_,T,D,K){var X=on(function(ee){var xe=T[ee],ge=xe.level!=1;return us(ur(f,gr(S,ge?xe.to:xe.from,ge?"before":"after"),"line",g,_),D,K,!0)},0,T.length-1),mt=T[X];if(X>0){var pt=mt.level!=1,Jt=ur(f,gr(S,pt?mt.from:mt.to,pt?"after":"before"),"line",g,_);us(Jt,D,K,!0)&&Jt.top>K&&(mt=T[X-1])}return mt}function pp(f,g,S,_,T,D,K){var X=Eo(f,g,_,K),mt=X.begin,pt=X.end;/\s/.test(g.text.charAt(pt-1))&&pt--;for(var Jt=null,ee=null,xe=0;xe<T.length;xe++){var ge=T[xe];if(!(ge.from>=pt||ge.to<=mt)){var Ge=ua(f,_,ge.level!=1?Math.min(pt,ge.to)-1:Math.max(mt,ge.from)).right,Ke=Ge<D?D-Ge+1e9:Ge-D;(!Jt||ee>Ke)&&(Jt=ge,ee=Ke)}}return Jt||(Jt=T[T.length-1]),Jt.from<mt&&(Jt={from:mt,to:Jt.to,level:Jt.level}),Jt.to>pt&&(Jt={from:Jt.from,to:pt,level:Jt.level}),Jt}function La(f){if(f.cachedTextHeight!=null)return f.cachedTextHeight;if(gt==null){gt=Bt("pre",null,"CodeMirror-line-like");for(var g=0;g<49;++g)gt.appendChild(document.createTextNode("x")),gt.appendChild(Bt("br"));gt.appendChild(document.createTextNode("x"))}St(f.measure,gt);var S=gt.offsetHeight/50;return S>3&&(f.cachedTextHeight=S),It(f.measure),S||1}function Hi(f){if(f.cachedCharWidth!=null)return f.cachedCharWidth;var g=Bt("span","xxxxxxxxxx"),S=Bt("pre",[g],"CodeMirror-line-like");St(f.measure,S);var _=g.getBoundingClientRect(),T=(_.right-_.left)/10;return T>2&&(f.cachedCharWidth=T),T||10}function rf(f){for(var g=f.display,S={},_={},T=g.gutters.clientLeft,D=g.gutters.firstChild,K=0;D;D=D.nextSibling,++K){var X=f.display.gutterSpecs[K].className;S[X]=D.offsetLeft+D.clientLeft+T,_[X]=D.clientWidth}return{fixedPos:uc(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:S,gutterWidth:_,wrapperWidth:g.wrapper.clientWidth}}function uc(f){return f.scroller.getBoundingClientRect().left-f.sizer.getBoundingClientRect().left}function xu(f){var g=La(f.display),S=f.options.lineWrapping,_=S&&Math.max(5,f.display.scroller.clientWidth/Hi(f.display)-3);return function(T){if(Cn(f.doc,T))return 0;var D=0;if(T.widgets)for(var K=0;K<T.widgets.length;K++)T.widgets[K].height&&(D+=T.widgets[K].height);return S?D+(Math.ceil(T.text.length/_)||1)*g:D+g}}function Oc(f){var g=f.doc,S=xu(f);g.iter(function(_){var T=S(_);T!=_.height&&hr(_,T)})}function gl(f,g,S,_){var T=f.display;if(!S&&uo(g).getAttribute("cm-not-content")=="true")return null;var D,K,X=T.lineSpace.getBoundingClientRect();try{D=g.clientX-X.left,K=g.clientY-X.top}catch{return null}var mt,pt=Nn(f,D,K);if(_&&pt.xRel>0&&(mt=rt(f.doc,pt.line).text).length==pt.ch){var Jt=Je(mt,mt.length,f.options.tabSize)-mt.length;pt=gr(pt.line,Math.max(0,Math.round((D-cc(f.display).left)/Hi(f.display))-Jt))}return pt}function Il(f,g){if(g>=f.display.viewTo||(g-=f.display.viewFrom)<0)return null;for(var S=f.display.view,_=0;_<S.length;_++)if((g-=S[_].size)<0)return _}function Ti(f,g,S,_){g==null&&(g=f.doc.first),S==null&&(S=f.doc.first+f.doc.size),_||(_=0);var T=f.display;if(_&&S<T.viewTo&&(T.updateLineNumbers==null||T.updateLineNumbers>g)&&(T.updateLineNumbers=g),f.curOp.viewChanged=!0,g>=T.viewTo)ui&&Oi(f.doc,g)<T.viewTo&&qa(f);else if(S<=T.viewFrom)ui&&Aa(f.doc,S+_)>T.viewFrom?qa(f):(T.viewFrom+=_,T.viewTo+=_);else if(g<=T.viewFrom&&S>=T.viewTo)qa(f);else if(g<=T.viewFrom){var D=vl(f,S,S+_,1);D?(T.view=T.view.slice(D.index),T.viewFrom=D.lineN,T.viewTo+=_):qa(f)}else if(S>=T.viewTo){var K=vl(f,g,g,-1);K?(T.view=T.view.slice(0,K.index),T.viewTo=K.lineN):qa(f)}else{var X=vl(f,g,g,-1),mt=vl(f,S,S+_,1);X&&mt?(T.view=T.view.slice(0,X.index).concat(zs(f,X.lineN,mt.lineN)).concat(T.view.slice(mt.index)),T.viewTo+=_):qa(f)}var pt=T.externalMeasured;pt&&(S<pt.lineN?pt.lineN+=_:g<pt.lineN+pt.size&&(T.externalMeasured=null))}function $s(f,g,S){f.curOp.viewChanged=!0;var _=f.display,T=f.display.externalMeasured;if(T&&g>=T.lineN&&g<T.lineN+T.size&&(_.externalMeasured=null),!(g<_.viewFrom||g>=_.viewTo)){var D=_.view[Il(f,g)];if(D.node!=null){var K=D.changes||(D.changes=[]);Et(K,S)==-1&&K.push(S)}}}function qa(f){f.display.viewFrom=f.display.viewTo=f.doc.first,f.display.view=[],f.display.viewOffset=0}function vl(f,g,S,_){var T,D=Il(f,g),K=f.display.view;if(!ui||S==f.doc.first+f.doc.size)return{index:D,lineN:S};for(var X=f.display.viewFrom,mt=0;mt<D;mt++)X+=K[mt].size;if(X!=g){if(_>0){if(D==K.length-1)return null;T=X+K[D].size-g,D++}else T=X-g;g+=T,S+=T}for(;Oi(f.doc,S)!=S;){if(D==(_<0?0:K.length-1))return null;S+=_*K[D-(_<0?1:0)].size,D+=_}return{index:D,lineN:S}}function fc(f){for(var g=f.display.view,S=0,_=0;_<g.length;_++){var T=g[_];T.hidden||T.node&&!T.changes||++S}return S}function ml(f){f.display.input.showSelection(f.display.input.prepareSelection())}function pc(f,g){g===void 0&&(g=!0);var S=f.doc,_={},T=_.cursors=document.createDocumentFragment(),D=_.selection=document.createDocumentFragment(),K=f.options.$customCursor;K&&(g=!0);for(var X=0;X<S.sel.ranges.length;X++)if(g||X!=S.sel.primIndex){var mt=S.sel.ranges[X];if(!(mt.from().line>=f.display.viewTo||mt.to().line<f.display.viewFrom)){var pt=mt.empty();if(K){var Jt=K(f,mt);Jt&&Tc(f,Jt,T)}else(pt||f.options.showCursorWhenSelecting)&&Tc(f,mt.head,T);pt||Cu(f,mt,D)}}return _}function Tc(f,g,S){var _=ur(f,g,"div",null,null,!f.options.singleCursorHeightPerLine),T=S.appendChild(Bt("div"," ","CodeMirror-cursor"));if(T.style.left=_.left+"px",T.style.top=_.top+"px",T.style.height=Math.max(0,_.bottom-_.top)*f.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(f.getWrapperElement().className)){var D=Fe(f,g,"div",null,null),K=D.right-D.left;T.style.width=(K>0?K:f.defaultCharWidth())+"px"}if(_.other){var X=S.appendChild(Bt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));X.style.display="",X.style.left=_.other.left+"px",X.style.top=_.other.top+"px",X.style.height=.85*(_.other.bottom-_.other.top)+"px"}}function dc(f,g){return f.top-g.top||f.left-g.left}function Cu(f,g,S){var _=f.display,T=f.doc,D=document.createDocumentFragment(),K=cc(f.display),X=K.left,mt=Math.max(_.sizerWidth,ca(f)-_.sizer.offsetLeft)-K.right,pt=T.direction=="ltr";function Jt(br,Ar,Tr,Er){Ar<0&&(Ar=0),Ar=Math.round(Ar),Er=Math.round(Er),D.appendChild(Bt("div",null,"CodeMirror-selected","position: absolute; left: "+br+`px;
                             top: `+Ar+"px; width: "+(Tr??mt-br)+`px;
                             height: `+(Er-Ar)+"px"))}function ee(br,Ar,Tr){var Er,gn,Ur=rt(T,br),zn=Ur.text.length;function zr(Yn,Zn){return Fe(f,gr(br,Yn),"div",Ur,Zn)}function qn(Yn,Zn,ro){var Tn=Ga(f,Ur,null,Yn),Rn=Zn=="ltr"==(ro=="after")?"left":"right";return zr(ro=="after"?Tn.begin:Tn.end-(/\s/.test(Ur.text.charAt(Tn.end-1))?2:1),Rn)[Rn]}var mo=$n(Ur,T.direction);return function(Yn,Zn,ro,Tn){if(!Yn)return Tn(Zn,ro,"ltr",0);for(var Rn=!1,Kn=0;Kn<Yn.length;++Kn){var kn=Yn[Kn];(kn.from<ro&&kn.to>Zn||Zn==ro&&kn.to==Zn)&&(Tn(Math.max(kn.from,Zn),Math.min(kn.to,ro),kn.level==1?"rtl":"ltr",Kn),Rn=!0)}Rn||Tn(Zn,ro,"ltr")}(mo,Ar||0,Tr??zn,function(Yn,Zn,ro,Tn){var Rn=ro=="ltr",Kn=zr(Yn,Rn?"left":"right"),kn=zr(Zn-1,Rn?"right":"left"),si=Ar==null&&Yn==0,pi=Tr==null&&Zn==zn,so=Tn==0,On=!mo||Tn==mo.length-1;if(kn.top-Kn.top<=3){var Za=(pt?pi:si)&&On,Sn=(pt?si:pi)&&so?X:(Rn?Kn:kn).left,di=Za?mt:(Rn?kn:Kn).right;Jt(Sn,Kn.top,di-Sn,Kn.bottom)}else{var zi,io,Oa,ys;Rn?(zi=pt&&si&&so?X:Kn.left,io=pt?mt:qn(Yn,ro,"before"),Oa=pt?X:qn(Zn,ro,"after"),ys=pt&&pi&&On?mt:kn.right):(zi=pt?qn(Yn,ro,"before"):X,io=!pt&&si&&so?mt:Kn.right,Oa=!pt&&pi&&On?X:kn.left,ys=pt?qn(Zn,ro,"after"):mt),Jt(zi,Kn.top,io-zi,Kn.bottom),Kn.bottom<kn.top&&Jt(X,Kn.bottom,null,kn.top),Jt(Oa,kn.top,ys-Oa,kn.bottom)}(!Er||dc(Kn,Er)<0)&&(Er=Kn),dc(kn,Er)<0&&(Er=kn),(!gn||dc(Kn,gn)<0)&&(gn=Kn),dc(kn,gn)<0&&(gn=kn)}),{start:Er,end:gn}}var xe=g.from(),ge=g.to();if(xe.line==ge.line)ee(xe.line,xe.ch,ge.ch);else{var Ge=rt(T,xe.line),Ke=rt(T,ge.line),ze=Do(Ge)==Do(Ke),er=ee(xe.line,xe.ch,ze?Ge.text.length+1:null).end,mr=ee(ge.line,ze?0:null,ge.ch).start;ze&&(er.top<mr.top-2?(Jt(er.right,er.top,null,er.bottom),Jt(X,mr.top,mr.left,mr.bottom)):Jt(er.right,er.top,mr.left-er.right,er.bottom)),er.bottom<mr.top&&Jt(X,er.bottom,null,mr.top)}S.appendChild(D)}function Nl(f){if(f.state.focused){var g=f.display;clearInterval(g.blinker);var S=!0;g.cursorDiv.style.visibility="",f.options.cursorBlinkRate>0?g.blinker=setInterval(function(){f.hasFocus()||wa(f),g.cursorDiv.style.visibility=(S=!S)?"":"hidden"},f.options.cursorBlinkRate):f.options.cursorBlinkRate<0&&(g.cursorDiv.style.visibility="hidden")}}function Gs(f){f.hasFocus()||(f.display.input.focus(),f.state.focused||yl(f))}function Zi(f){f.state.delayingBlurEvent=!0,setTimeout(function(){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1,f.state.focused&&wa(f))},100)}function yl(f,g){f.state.delayingBlurEvent&&!f.state.draggingText&&(f.state.delayingBlurEvent=!1),f.options.readOnly!="nocursor"&&(f.state.focused||(xt(f,"focus",f,g),f.state.focused=!0,ir(f.display.wrapper,"CodeMirror-focused"),f.curOp||f.display.selForContextMenu==f.doc.sel||(f.display.input.reset(),W&&setTimeout(function(){return f.display.input.reset(!0)},20)),f.display.input.receivedFocus()),Nl(f))}function wa(f,g){f.state.delayingBlurEvent||(f.state.focused&&(xt(f,"blur",f,g),f.state.focused=!1,Ht(f.display.wrapper,"CodeMirror-focused")),clearInterval(f.display.blinker),setTimeout(function(){f.state.focused||(f.display.shift=!1)},150))}function Fl(f){for(var g=f.display,S=g.lineDiv.offsetTop,_=Math.max(0,g.scroller.getBoundingClientRect().top),T=g.lineDiv.getBoundingClientRect().top,D=0,K=0;K<g.view.length;K++){var X=g.view[K],mt=f.options.lineWrapping,pt=void 0,Jt=0;if(!X.hidden){if(T+=X.line.height,I&&N<8){var ee=X.node.offsetTop+X.node.offsetHeight;pt=ee-S,S=ee}else{var xe=X.node.getBoundingClientRect();pt=xe.bottom-xe.top,!mt&&X.text.firstChild&&(Jt=X.text.firstChild.getBoundingClientRect().right-xe.left-1)}var ge=X.line.height-pt;if((ge>.005||ge<-.005)&&(T<_&&(D-=ge),hr(X.line,pt),bl(X.line),X.rest))for(var Ge=0;Ge<X.rest.length;Ge++)bl(X.rest[Ge]);if(Jt>f.display.sizerWidth){var Ke=Math.ceil(Jt/Hi(f.display));Ke>f.display.maxLineLength&&(f.display.maxLineLength=Ke,f.display.maxLine=X.line,f.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(g.scroller.scrollTop+=D)}function bl(f){if(f.widgets)for(var g=0;g<f.widgets.length;++g){var S=f.widgets[g],_=S.node.parentNode;_&&(S.height=_.offsetHeight)}}function qs(f,g,S){var _=S&&S.top!=null?Math.max(0,S.top):f.scroller.scrollTop;_=Math.floor(_-la(f));var T=S&&S.bottom!=null?S.bottom:_+f.wrapper.clientHeight,D=_n(g,_),K=_n(g,T);if(S&&S.ensure){var X=S.ensure.from.line,mt=S.ensure.to.line;X<D?(D=X,K=_n(g,Ni(rt(g,X))+f.wrapper.clientHeight)):Math.min(mt,g.lastLine())>=K&&(D=_n(g,Ni(rt(g,mt))-f.wrapper.clientHeight),K=mt)}return{from:D,to:Math.max(K,D+1)}}function Ps(f,g){var S=f.display,_=La(f.display);g.top<0&&(g.top=0);var T=f.curOp&&f.curOp.scrollTop!=null?f.curOp.scrollTop:S.scroller.scrollTop,D=$a(f),K={};g.bottom-g.top>D&&(g.bottom=g.top+D);var X=f.doc.height+Ma(S),mt=g.top<_,pt=g.bottom>X-_;if(g.top<T)K.scrollTop=mt?0:g.top;else if(g.bottom>T+D){var Jt=Math.min(g.top,(pt?X:g.bottom)-D);Jt!=T&&(K.scrollTop=Jt)}var ee=f.options.fixedGutter?0:S.gutters.offsetWidth,xe=f.curOp&&f.curOp.scrollLeft!=null?f.curOp.scrollLeft:S.scroller.scrollLeft-ee,ge=ca(f)-S.gutters.offsetWidth,Ge=g.right-g.left>ge;return Ge&&(g.right=g.left+ge),g.left<10?K.scrollLeft=0:g.left<xe?K.scrollLeft=Math.max(0,g.left+ee-(Ge?0:10)):g.right>ge+xe-3&&(K.scrollLeft=g.right+(Ge?0:10)-ge),K}function Zc(f,g){g!=null&&(Xc(f),f.curOp.scrollTop=(f.curOp.scrollTop==null?f.doc.scrollTop:f.curOp.scrollTop)+g)}function hc(f){Xc(f);var g=f.getCursor();f.curOp.scrollToPos={from:g,to:g,margin:f.options.cursorScrollMargin}}function Ks(f,g,S){g==null&&S==null||Xc(f),g!=null&&(f.curOp.scrollLeft=g),S!=null&&(f.curOp.scrollTop=S)}function Xc(f){var g=f.curOp.scrollToPos;g&&(f.curOp.scrollToPos=null,Vl(f,kr(f,g.from),kr(f,g.to),g.margin))}function Vl(f,g,S,_){var T=Ps(f,{left:Math.min(g.left,S.left),top:Math.min(g.top,S.top)-_,right:Math.max(g.right,S.right),bottom:Math.max(g.bottom,S.bottom)+_});Ks(f,T.scrollLeft,T.scrollTop)}function Ys(f,g){Math.abs(f.doc.scrollTop-g)<2||(ht||If(f,{top:g}),Rl(f,g,!0),ht&&If(f),Zs(f,100))}function Rl(f,g,S){g=Math.max(0,Math.min(f.display.scroller.scrollHeight-f.display.scroller.clientHeight,g)),(f.display.scroller.scrollTop!=g||S)&&(f.doc.scrollTop=g,f.display.scrollbars.setScrollTop(g),f.display.scroller.scrollTop!=g&&(f.display.scroller.scrollTop=g))}function fs(f,g,S,_){g=Math.max(0,Math.min(g,f.display.scroller.scrollWidth-f.display.scroller.clientWidth)),(S?g==f.doc.scrollLeft:Math.abs(f.doc.scrollLeft-g)<2)&&!_||(f.doc.scrollLeft=g,ku(f),f.display.scroller.scrollLeft!=g&&(f.display.scroller.scrollLeft=g),f.display.scrollbars.setScrollLeft(g))}function ja(f){var g=f.display,S=g.gutters.offsetWidth,_=Math.round(f.doc.height+Ma(f.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:f.options.fixedGutter?S:0,docHeight:_,scrollHeight:_+_i(f)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:S}}var wl=function(f,g,S){this.cm=S;var _=this.vert=Bt("div",[Bt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),T=this.horiz=Bt("div",[Bt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=T.tabIndex=-1,f(_),f(T),te(_,"scroll",function(){_.clientHeight&&g(_.scrollTop,"vertical")}),te(T,"scroll",function(){T.clientWidth&&g(T.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,I&&N<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};wl.prototype.update=function(f){var g=f.scrollWidth>f.clientWidth+1,S=f.scrollHeight>f.clientHeight+1,_=f.nativeBarWidth;if(S){this.vert.style.display="block",this.vert.style.bottom=g?_+"px":"0";var T=f.viewHeight-(g?_:0);this.vert.firstChild.style.height=Math.max(0,f.scrollHeight-f.clientHeight+T)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(g){this.horiz.style.display="block",this.horiz.style.right=S?_+"px":"0",this.horiz.style.left=f.barLeft+"px";var D=f.viewWidth-f.barLeft-(S?_:0);this.horiz.firstChild.style.width=Math.max(0,f.scrollWidth-f.clientWidth+D)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&f.clientHeight>0&&(_==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:S?_:0,bottom:g?_:0}},wl.prototype.setScrollLeft=function(f){this.horiz.scrollLeft!=f&&(this.horiz.scrollLeft=f),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},wl.prototype.setScrollTop=function(f){this.vert.scrollTop!=f&&(this.vert.scrollTop=f),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},wl.prototype.zeroWidthHack=function(){var f=Ft&&!J?"12px":"18px";this.horiz.style.height=this.vert.style.width=f,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new nt,this.disableVert=new nt},wl.prototype.enableZeroWidthBar=function(f,g,S){f.style.visibility="",g.set(1e3,function _(){var T=f.getBoundingClientRect();(S=="vert"?document.elementFromPoint(T.right-1,(T.top+T.bottom)/2):document.elementFromPoint((T.right+T.left)/2,T.bottom-1))!=f?f.style.visibility="hidden":g.set(1e3,_)})},wl.prototype.clear=function(){var f=this.horiz.parentNode;f.removeChild(this.horiz),f.removeChild(this.vert)};var Jc=function(){};function Hl(f,g){g||(g=ja(f));var S=f.display.barWidth,_=f.display.barHeight;Su(f,g);for(var T=0;T<4&&S!=f.display.barWidth||_!=f.display.barHeight;T++)S!=f.display.barWidth&&f.options.lineWrapping&&Fl(f),Su(f,ja(f)),S=f.display.barWidth,_=f.display.barHeight}function Su(f,g){var S=f.display,_=S.scrollbars.update(g);S.sizer.style.paddingRight=(S.barWidth=_.right)+"px",S.sizer.style.paddingBottom=(S.barHeight=_.bottom)+"px",S.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(S.scrollbarFiller.style.display="block",S.scrollbarFiller.style.height=_.bottom+"px",S.scrollbarFiller.style.width=_.right+"px"):S.scrollbarFiller.style.display="",_.bottom&&f.options.coverGutterNextToScrollbar&&f.options.fixedGutter?(S.gutterFiller.style.display="block",S.gutterFiller.style.height=_.bottom+"px",S.gutterFiller.style.width=g.gutterWidth+"px"):S.gutterFiller.style.display=""}Jc.prototype.update=function(){return{bottom:0,right:0}},Jc.prototype.setScrollLeft=function(){},Jc.prototype.setScrollTop=function(){},Jc.prototype.clear=function(){};var dp={native:wl,null:Jc};function Ou(f){f.display.scrollbars&&(f.display.scrollbars.clear(),f.display.scrollbars.addClass&&Ht(f.display.wrapper,f.display.scrollbars.addClass)),f.display.scrollbars=new dp[f.options.scrollbarStyle](function(g){f.display.wrapper.insertBefore(g,f.display.scrollbarFiller),te(g,"mousedown",function(){f.state.focused&&setTimeout(function(){return f.display.input.focus()},0)}),g.setAttribute("cm-not-content","true")},function(g,S){S=="horizontal"?fs(f,g):Ys(f,g)},f),f.display.scrollbars.addClass&&ir(f.display.wrapper,f.display.scrollbars.addClass)}var Tu=0;function _l(f){f.curOp={cm:f,viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Tu,markArrays:null},function(g){Gn?Gn.ops.push(g):g.ownsGroup=Gn={ops:[g],delayedCallbacks:[]}}(f.curOp)}function ps(f){var g=f.curOp;g&&function(S,_){var T=S.ownsGroup;if(T)try{(function(D){var K=D.delayedCallbacks,X=0;do{for(;X<K.length;X++)K[X].call(null);for(var mt=0;mt<D.ops.length;mt++){var pt=D.ops[mt];if(pt.cursorActivityHandlers)for(;pt.cursorActivityCalled<pt.cursorActivityHandlers.length;)pt.cursorActivityHandlers[pt.cursorActivityCalled++].call(null,pt.cm)}}while(X<K.length)})(T)}finally{Gn=null,_(T)}}(g,function(S){for(var _=0;_<S.ops.length;_++)S.ops[_].cm.curOp=null;(function(T){for(var D=T.ops,K=0;K<D.length;K++)gc(D[K]);for(var X=0;X<D.length;X++)Bl(D[X]);for(var mt=0;mt<D.length;mt++)nf(D[mt]);for(var pt=0;pt<D.length;pt++)Bi(D[pt]);for(var Jt=0;Jt<D.length;Jt++)Qc(D[Jt])})(S)})}function gc(f){var g=f.cm,S=g.display;(function(_){var T=_.display;!T.scrollbarsClipped&&T.scroller.offsetWidth&&(T.nativeBarWidth=T.scroller.offsetWidth-T.scroller.clientWidth,T.heightForcer.style.height=_i(_)+"px",T.sizer.style.marginBottom=-T.nativeBarWidth+"px",T.sizer.style.borderRightWidth=_i(_)+"px",T.scrollbarsClipped=!0)})(g),f.updateMaxLine&&Mo(g),f.mustUpdate=f.viewChanged||f.forceUpdate||f.scrollTop!=null||f.scrollToPos&&(f.scrollToPos.from.line<S.viewFrom||f.scrollToPos.to.line>=S.viewTo)||S.maxLineChanged&&g.options.lineWrapping,f.update=f.mustUpdate&&new Eu(g,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}function Bl(f){f.updatedDisplay=f.mustUpdate&&Pu(f.cm,f.update)}function nf(f){var g=f.cm,S=g.display;f.updatedDisplay&&Fl(g),f.barMeasure=ja(g),S.maxLineChanged&&!g.options.lineWrapping&&(f.adjustWidthTo=Ki(g,S.maxLine,S.maxLine.text.length).left+3,g.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(S.scroller.clientWidth,S.sizer.offsetLeft+f.adjustWidthTo+_i(g)+g.display.barWidth),f.maxScrollLeft=Math.max(0,S.sizer.offsetLeft+f.adjustWidthTo-ca(g))),(f.updatedDisplay||f.selectionChanged)&&(f.preparedSelection=S.input.prepareSelection())}function Bi(f){var g=f.cm;f.adjustWidthTo!=null&&(g.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<g.doc.scrollLeft&&fs(g,Math.min(g.display.scroller.scrollLeft,f.maxScrollLeft),!0),g.display.maxLineChanged=!1);var S=f.focus&&f.focus==Ae();f.preparedSelection&&g.display.input.showSelection(f.preparedSelection,S),(f.updatedDisplay||f.startHeight!=g.doc.height)&&Hl(g,f.barMeasure),f.updatedDisplay&&Ec(g,f.barMeasure),f.selectionChanged&&Nl(g),g.state.focused&&f.updateInput&&g.display.input.reset(f.typing),S&&Gs(f.cm)}function Qc(f){var g=f.cm,S=g.display,_=g.doc;f.updatedDisplay&&Df(g,f.update),S.wheelStartX==null||f.scrollTop==null&&f.scrollLeft==null&&!f.scrollToPos||(S.wheelStartX=S.wheelStartY=null),f.scrollTop!=null&&Rl(g,f.scrollTop,f.forceScroll),f.scrollLeft!=null&&fs(g,f.scrollLeft,!0,!0),f.scrollToPos&&function(mt,pt){if(!ce(mt,"scrollCursorIntoView")){var Jt=mt.display,ee=Jt.sizer.getBoundingClientRect(),xe=null;if(pt.top+ee.top<0?xe=!0:pt.bottom+ee.top>(window.innerHeight||document.documentElement.clientHeight)&&(xe=!1),xe!=null&&!Tt){var ge=Bt("div","​",null,`position: absolute;
                         top: `+(pt.top-Jt.viewOffset-la(mt.display))+`px;
                         height: `+(pt.bottom-pt.top+_i(mt)+Jt.barHeight)+`px;
                         left: `+pt.left+"px; width: "+Math.max(2,pt.right-pt.left)+"px;");mt.display.lineSpace.appendChild(ge),ge.scrollIntoView(xe),mt.display.lineSpace.removeChild(ge)}}}(g,function(mt,pt,Jt,ee){var xe;ee==null&&(ee=0),mt.options.lineWrapping||pt!=Jt||(Jt=pt.sticky=="before"?gr(pt.line,pt.ch+1,"before"):pt,pt=pt.ch?gr(pt.line,pt.sticky=="before"?pt.ch-1:pt.ch,"after"):pt);for(var ge=0;ge<5;ge++){var Ge=!1,Ke=ur(mt,pt),ze=Jt&&Jt!=pt?ur(mt,Jt):Ke,er=Ps(mt,xe={left:Math.min(Ke.left,ze.left),top:Math.min(Ke.top,ze.top)-ee,right:Math.max(Ke.left,ze.left),bottom:Math.max(Ke.bottom,ze.bottom)+ee}),mr=mt.doc.scrollTop,br=mt.doc.scrollLeft;if(er.scrollTop!=null&&(Ys(mt,er.scrollTop),Math.abs(mt.doc.scrollTop-mr)>1&&(Ge=!0)),er.scrollLeft!=null&&(fs(mt,er.scrollLeft),Math.abs(mt.doc.scrollLeft-br)>1&&(Ge=!0)),!Ge)break}return xe}(g,Lr(_,f.scrollToPos.from),Lr(_,f.scrollToPos.to),f.scrollToPos.margin));var T=f.maybeHiddenMarkers,D=f.maybeUnhiddenMarkers;if(T)for(var K=0;K<T.length;++K)T[K].lines.length||xt(T[K],"hide");if(D)for(var X=0;X<D.length;++X)D[X].lines.length&&xt(D[X],"unhide");S.wrapper.offsetHeight&&(_.scrollTop=g.display.scroller.scrollTop),f.changeObjs&&xt(g,"changes",g,f.changeObjs),f.update&&f.update.finish()}function Da(f,g){if(f.curOp)return g();_l(f);try{return g()}finally{ps(f)}}function Ho(f,g){return function(){if(f.curOp)return g.apply(f,arguments);_l(f);try{return g.apply(f,arguments)}finally{ps(f)}}}function Ei(f){return function(){if(this.curOp)return f.apply(this,arguments);_l(this);try{return f.apply(this,arguments)}finally{ps(this)}}}function ei(f){return function(){var g=this.cm;if(!g||g.curOp)return f.apply(this,arguments);_l(g);try{return f.apply(this,arguments)}finally{ps(g)}}}function Zs(f,g){f.doc.highlightFrontier<f.display.viewTo&&f.state.highlight.set(g,Dr(tu,f))}function tu(f){var g=f.doc;if(!(g.highlightFrontier>=f.display.viewTo)){var S=+new Date+f.options.workTime,_=jo(f,g.highlightFrontier),T=[];g.iter(_.line,Math.min(g.first+g.size,f.display.viewTo+500),function(D){if(_.line>=f.display.viewFrom){var K=D.styles,X=D.text.length>f.options.maxHighlightLength?un(g.mode,_.state):null,mt=Di(f,D,_,!0);X&&(_.state=X),D.styles=mt.styles;var pt=D.styleClasses,Jt=mt.classes;Jt?D.styleClasses=Jt:pt&&(D.styleClasses=null);for(var ee=!K||K.length!=D.styles.length||pt!=Jt&&(!pt||!Jt||pt.bgClass!=Jt.bgClass||pt.textClass!=Jt.textClass),xe=0;!ee&&xe<K.length;++xe)ee=K[xe]!=D.styles[xe];ee&&T.push(_.line),D.stateAfter=_.save(),_.nextLine()}else D.text.length<=f.options.maxHighlightLength&&ma(f,D.text,_),D.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>S)return Zs(f,f.options.workDelay),!0}),g.highlightFrontier=_.line,g.modeFrontier=Math.max(g.modeFrontier,_.line),T.length&&Da(f,function(){for(var D=0;D<T.length;D++)$s(f,T[D],"text")})}}var Eu=function(f,g,S){var _=f.display;this.viewport=g,this.visible=qs(_,f.doc,g),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=ca(f),this.force=S,this.dims=rf(f),this.events=[]};function Pu(f,g){var S=f.display,_=f.doc;if(g.editorIsHidden)return qa(f),!1;if(!g.force&&g.visible.from>=S.viewFrom&&g.visible.to<=S.viewTo&&(S.updateLineNumbers==null||S.updateLineNumbers>=S.viewTo)&&S.renderedView==S.view&&fc(f)==0)return!1;vc(f)&&(qa(f),g.dims=rf(f));var T=_.first+_.size,D=Math.max(g.visible.from-f.options.viewportMargin,_.first),K=Math.min(T,g.visible.to+f.options.viewportMargin);S.viewFrom<D&&D-S.viewFrom<20&&(D=Math.max(_.first,S.viewFrom)),S.viewTo>K&&S.viewTo-K<20&&(K=Math.min(T,S.viewTo)),ui&&(D=Oi(f.doc,D),K=Aa(f.doc,K));var X=D!=S.viewFrom||K!=S.viewTo||S.lastWrapHeight!=g.wrapperHeight||S.lastWrapWidth!=g.wrapperWidth;(function(Jt,ee,xe){var ge=Jt.display;ge.view.length==0||ee>=ge.viewTo||xe<=ge.viewFrom?(ge.view=zs(Jt,ee,xe),ge.viewFrom=ee):(ge.viewFrom>ee?ge.view=zs(Jt,ee,ge.viewFrom).concat(ge.view):ge.viewFrom<ee&&(ge.view=ge.view.slice(Il(Jt,ee))),ge.viewFrom=ee,ge.viewTo<xe?ge.view=ge.view.concat(zs(Jt,ge.viewTo,xe)):ge.viewTo>xe&&(ge.view=ge.view.slice(0,Il(Jt,xe)))),ge.viewTo=xe})(f,D,K),S.viewOffset=Ni(rt(f.doc,S.viewFrom)),f.display.mover.style.top=S.viewOffset+"px";var mt=fc(f);if(!X&&mt==0&&!g.force&&S.renderedView==S.view&&(S.updateLineNumbers==null||S.updateLineNumbers>=S.viewTo))return!1;var pt=function(Jt){if(Jt.hasFocus())return null;var ee=Ae();if(!ee||!pe(Jt.display.lineDiv,ee))return null;var xe={activeElt:ee};if(window.getSelection){var ge=window.getSelection();ge.anchorNode&&ge.extend&&pe(Jt.display.lineDiv,ge.anchorNode)&&(xe.anchorNode=ge.anchorNode,xe.anchorOffset=ge.anchorOffset,xe.focusNode=ge.focusNode,xe.focusOffset=ge.focusOffset)}return xe}(f);return mt>4&&(S.lineDiv.style.display="none"),Ul(f,S.updateLineNumbers,g.dims),mt>4&&(S.lineDiv.style.display=""),S.renderedView=S.view,function(Jt){if(Jt&&Jt.activeElt&&Jt.activeElt!=Ae()&&(Jt.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Jt.activeElt.nodeName)&&Jt.anchorNode&&pe(document.body,Jt.anchorNode)&&pe(document.body,Jt.focusNode))){var ee=window.getSelection(),xe=document.createRange();xe.setEnd(Jt.anchorNode,Jt.anchorOffset),xe.collapse(!1),ee.removeAllRanges(),ee.addRange(xe),ee.extend(Jt.focusNode,Jt.focusOffset)}}(pt),It(S.cursorDiv),It(S.selectionDiv),S.gutters.style.height=S.sizer.style.minHeight=0,X&&(S.lastWrapHeight=g.wrapperHeight,S.lastWrapWidth=g.wrapperWidth,Zs(f,400)),S.updateLineNumbers=null,!0}function Df(f,g){for(var S=g.viewport,_=!0;;_=!1){if(_&&f.options.lineWrapping&&g.oldDisplayWidth!=ca(f))_&&(g.visible=qs(f.display,f.doc,S));else if(S&&S.top!=null&&(S={top:Math.min(f.doc.height+Ma(f.display)-$a(f),S.top)}),g.visible=qs(f.display,f.doc,S),g.visible.from>=f.display.viewFrom&&g.visible.to<=f.display.viewTo)break;if(!Pu(f,g))break;Fl(f);var T=ja(f);ml(f),Hl(f,T),Ec(f,T),g.force=!1}g.signal(f,"update",f),f.display.viewFrom==f.display.reportedViewFrom&&f.display.viewTo==f.display.reportedViewTo||(g.signal(f,"viewportChange",f,f.display.viewFrom,f.display.viewTo),f.display.reportedViewFrom=f.display.viewFrom,f.display.reportedViewTo=f.display.viewTo)}function If(f,g){var S=new Eu(f,g);if(Pu(f,S)){Fl(f),Df(f,S);var _=ja(f);ml(f),Hl(f,_),Ec(f,_),S.finish()}}function Ul(f,g,S){var _=f.display,T=f.options.lineNumbers,D=_.lineDiv,K=D.firstChild;function X(Ge){var Ke=Ge.nextSibling;return W&&Ft&&f.display.currentWheelTarget==Ge?Ge.style.display="none":Ge.parentNode.removeChild(Ge),Ke}for(var mt=_.view,pt=_.viewFrom,Jt=0;Jt<mt.length;Jt++){var ee=mt[Jt];if(!ee.hidden)if(ee.node&&ee.node.parentNode==D){for(;K!=ee.node;)K=X(K);var xe=T&&g!=null&&g<=pt&&ee.lineNumber;ee.changes&&(Et(ee.changes,"gutter")>-1&&(xe=!1),za(f,ee,pt,S)),xe&&(It(ee.lineNumber),ee.lineNumber.appendChild(document.createTextNode(Jr(f.options,pt)))),K=ee.node.nextSibling}else{var ge=Dl(f,ee,pt,S);D.insertBefore(ge,K)}pt+=ee.size}for(;K;)K=X(K)}function ks(f){var g=f.gutters.offsetWidth;f.sizer.style.marginLeft=g+"px",Vo(f,"gutterChanged",f)}function Ec(f,g){f.display.sizer.style.minHeight=g.docHeight+"px",f.display.heightForcer.style.top=g.docHeight+"px",f.display.gutters.style.height=g.docHeight+f.display.barHeight+_i(f)+"px"}function ku(f){var g=f.display,S=g.view;if(g.alignWidgets||g.gutters.firstChild&&f.options.fixedGutter){for(var _=uc(g)-g.scroller.scrollLeft+f.doc.scrollLeft,T=g.gutters.offsetWidth,D=_+"px",K=0;K<S.length;K++)if(!S[K].hidden){f.options.fixedGutter&&(S[K].gutter&&(S[K].gutter.style.left=D),S[K].gutterBackground&&(S[K].gutterBackground.style.left=D));var X=S[K].alignable;if(X)for(var mt=0;mt<X.length;mt++)X[mt].style.left=D}f.options.fixedGutter&&(g.gutters.style.left=_+T+"px")}}function vc(f){if(!f.options.lineNumbers)return!1;var g=f.doc,S=Jr(f.options,g.first+g.size-1),_=f.display;if(S.length!=_.lineNumChars){var T=_.measure.appendChild(Bt("div",[Bt("div",S)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=T.firstChild.offsetWidth,K=T.offsetWidth-D;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(D,_.lineGutter.offsetWidth-K)+1,_.lineNumWidth=_.lineNumInnerWidth+K,_.lineNumChars=_.lineNumInnerWidth?S.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",ks(f.display),!0}return!1}function Au(f,g){for(var S=[],_=!1,T=0;T<f.length;T++){var D=f[T],K=null;if(typeof D!="string"&&(K=D.style,D=D.className),D=="CodeMirror-linenumbers"){if(!g)continue;_=!0}S.push({className:D,style:K})}return g&&!_&&S.push({className:"CodeMirror-linenumbers",style:null}),S}function Nf(f){var g=f.gutters,S=f.gutterSpecs;It(g),f.lineGutter=null;for(var _=0;_<S.length;++_){var T=S[_],D=T.className,K=T.style,X=g.appendChild(Bt("div",null,"CodeMirror-gutter "+D));K&&(X.style.cssText=K),D=="CodeMirror-linenumbers"&&(f.lineGutter=X,X.style.width=(f.lineNumWidth||1)+"px")}g.style.display=S.length?"":"none",ks(f)}function Mu(f){Nf(f.display),Ti(f),ku(f)}function Ka(f,g,S,_){var T=this;this.input=S,T.scrollbarFiller=Bt("div",null,"CodeMirror-scrollbar-filler"),T.scrollbarFiller.setAttribute("cm-not-content","true"),T.gutterFiller=Bt("div",null,"CodeMirror-gutter-filler"),T.gutterFiller.setAttribute("cm-not-content","true"),T.lineDiv=Me("div",null,"CodeMirror-code"),T.selectionDiv=Bt("div",null,null,"position: relative; z-index: 1"),T.cursorDiv=Bt("div",null,"CodeMirror-cursors"),T.measure=Bt("div",null,"CodeMirror-measure"),T.lineMeasure=Bt("div",null,"CodeMirror-measure"),T.lineSpace=Me("div",[T.measure,T.lineMeasure,T.selectionDiv,T.cursorDiv,T.lineDiv],null,"position: relative; outline: none");var D=Me("div",[T.lineSpace],"CodeMirror-lines");T.mover=Bt("div",[D],null,"position: relative"),T.sizer=Bt("div",[T.mover],"CodeMirror-sizer"),T.sizerWidth=null,T.heightForcer=Bt("div",null,null,"position: absolute; height: "+qt+"px; width: 1px;"),T.gutters=Bt("div",null,"CodeMirror-gutters"),T.lineGutter=null,T.scroller=Bt("div",[T.sizer,T.heightForcer,T.gutters],"CodeMirror-scroll"),T.scroller.setAttribute("tabIndex","-1"),T.wrapper=Bt("div",[T.scrollbarFiller,T.gutterFiller,T.scroller],"CodeMirror"),T.wrapper.setAttribute("translate","no"),I&&N<8&&(T.gutters.style.zIndex=-1,T.scroller.style.paddingRight=0),W||ht&&G||(T.scroller.draggable=!0),f&&(f.appendChild?f.appendChild(T.wrapper):f(T.wrapper)),T.viewFrom=T.viewTo=g.first,T.reportedViewFrom=T.reportedViewTo=g.first,T.view=[],T.renderedView=null,T.externalMeasured=null,T.viewOffset=0,T.lastWrapHeight=T.lastWrapWidth=0,T.updateLineNumbers=null,T.nativeBarWidth=T.barHeight=T.barWidth=0,T.scrollbarsClipped=!1,T.lineNumWidth=T.lineNumInnerWidth=T.lineNumChars=null,T.alignWidgets=!1,T.cachedCharWidth=T.cachedTextHeight=T.cachedPaddingH=null,T.maxLine=null,T.maxLineLength=0,T.maxLineChanged=!1,T.wheelDX=T.wheelDY=T.wheelStartX=T.wheelStartY=null,T.shift=!1,T.selForContextMenu=null,T.activeTouch=null,T.gutterSpecs=Au(_.gutters,_.lineNumbers),Nf(T),S.init(T)}Eu.prototype.signal=function(f,g){Ze(f,g)&&this.events.push(arguments)},Eu.prototype.finish=function(){for(var f=0;f<this.events.length;f++)xt.apply(null,this.events[f])};var fi=0,co=null;function Ui(f){var g=f.wheelDeltaX,S=f.wheelDeltaY;return g==null&&f.detail&&f.axis==f.HORIZONTAL_AXIS&&(g=f.detail),S==null&&f.detail&&f.axis==f.VERTICAL_AXIS?S=f.detail:S==null&&(S=f.wheelDelta),{x:g,y:S}}function Lu(f){var g=Ui(f);return g.x*=co,g.y*=co,g}function hp(f,g){F&&U>=102&&(f.display.chromeScrollHack==null?f.display.sizer.style.pointerEvents="none":clearTimeout(f.display.chromeScrollHack),f.display.chromeScrollHack=setTimeout(function(){f.display.chromeScrollHack=null,f.display.sizer.style.pointerEvents=""},100));var S=Ui(g),_=S.x,T=S.y,D=co;g.deltaMode===0&&(_=g.deltaX,T=g.deltaY,D=1);var K=f.display,X=K.scroller,mt=X.scrollWidth>X.clientWidth,pt=X.scrollHeight>X.clientHeight;if(_&&mt||T&&pt){if(T&&Ft&&W){t:for(var Jt=g.target,ee=K.view;Jt!=X;Jt=Jt.parentNode)for(var xe=0;xe<ee.length;xe++)if(ee[xe].node==Jt){f.display.currentWheelTarget=Jt;break t}}if(_&&!ht&&!$&&D!=null)return T&&pt&&Ys(f,Math.max(0,X.scrollTop+T*D)),fs(f,Math.max(0,X.scrollLeft+_*D)),(!T||T&&pt)&&Yr(g),void(K.wheelStartX=null);if(T&&D!=null){var ge=T*D,Ge=f.doc.scrollTop,Ke=Ge+K.wrapper.clientHeight;ge<0?Ge=Math.max(0,Ge+ge-50):Ke=Math.min(f.doc.height,Ke+ge+50),If(f,{top:Ge,bottom:Ke})}fi<20&&g.deltaMode!==0&&(K.wheelStartX==null?(K.wheelStartX=X.scrollLeft,K.wheelStartY=X.scrollTop,K.wheelDX=_,K.wheelDY=T,setTimeout(function(){if(K.wheelStartX!=null){var ze=X.scrollLeft-K.wheelStartX,er=X.scrollTop-K.wheelStartY,mr=er&&K.wheelDY&&er/K.wheelDY||ze&&K.wheelDX&&ze/K.wheelDX;K.wheelStartX=K.wheelStartY=null,mr&&(co=(co*fi+mr)/(fi+1),++fi)}},200)):(K.wheelDX+=_,K.wheelDY+=T))}}I?co=-.53:ht?co=15:F?co=-.7:Q&&(co=-.3333333333333333);var _a=function(f,g){this.ranges=f,this.primIndex=g};_a.prototype.primary=function(){return this.ranges[this.primIndex]},_a.prototype.equals=function(f){if(f==this)return!0;if(f.primIndex!=this.primIndex||f.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var S=this.ranges[g],_=f.ranges[g];if(!we(S.anchor,_.anchor)||!we(S.head,_.head))return!1}return!0},_a.prototype.deepCopy=function(){for(var f=[],g=0;g<this.ranges.length;g++)f[g]=new Co(cr(this.ranges[g].anchor),cr(this.ranges[g].head));return new _a(f,this.primIndex)},_a.prototype.somethingSelected=function(){for(var f=0;f<this.ranges.length;f++)if(!this.ranges[f].empty())return!0;return!1},_a.prototype.contains=function(f,g){g||(g=f);for(var S=0;S<this.ranges.length;S++){var _=this.ranges[S];if(At(g,_.from())>=0&&At(f,_.to())<=0)return S}return-1};var Co=function(f,g){this.anchor=f,this.head=g};function Xs(f,g,S){var _=f&&f.options.selectionsMayTouch,T=g[S];g.sort(function(xe,ge){return At(xe.from(),ge.from())}),S=Et(g,T);for(var D=1;D<g.length;D++){var K=g[D],X=g[D-1],mt=At(X.to(),K.from());if(_&&!K.empty()?mt>0:mt>=0){var pt=nn(X.from(),K.from()),Jt=Xr(X.to(),K.to()),ee=X.empty()?K.from()==K.head:X.from()==X.head;D<=S&&--S,g.splice(--D,2,new Co(ee?Jt:pt,ee?pt:Jt))}}return new _a(g,S)}function mc(f,g){return new _a([new Co(f,g||f)],0)}function xl(f){return f.text?gr(f.from.line+f.text.length-1,Qe(f.text).length+(f.text.length==1?f.from.ch:0)):f.to}function Ff(f,g){if(At(f,g.from)<0)return f;if(At(f,g.to)<=0)return xl(g);var S=f.line+g.text.length-(g.to.line-g.from.line)-1,_=f.ch;return f.line==g.to.line&&(_+=xl(g).ch-g.to.ch),gr(S,_)}function zl(f,g){for(var S=[],_=0;_<f.sel.ranges.length;_++){var T=f.sel.ranges[_];S.push(new Co(Ff(T.anchor,g),Ff(T.head,g)))}return Xs(f.cm,S,f.sel.primIndex)}function Vf(f,g,S){return f.line==g.line?gr(S.line,f.ch-g.ch+S.ch):gr(S.line+(f.line-g.line),f.ch)}function Pc(f){f.doc.mode=vo(f.options,f.doc.modeOption),kc(f)}function kc(f){f.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null)}),f.doc.modeFrontier=f.doc.highlightFrontier=f.doc.first,Zs(f,100),f.state.modeGen++,f.curOp&&Ti(f)}function of(f,g){return g.from.ch==0&&g.to.ch==0&&Qe(g.text)==""&&(!f.cm||f.cm.options.wholeLineUpdateBefore)}function af(f,g,S,_){function T(mr){return S?S[mr]:null}function D(mr,br,Ar){(function(Tr,Er,gn,Ur){Tr.text=Er,Tr.stateAfter&&(Tr.stateAfter=null),Tr.styles&&(Tr.styles=null),Tr.order!=null&&(Tr.order=null),vi(Tr),Bs(Tr,gn);var zn=Ur?Ur(Tr):1;zn!=Tr.height&&hr(Tr,zn)})(mr,br,Ar,_),Vo(mr,"change",mr,g)}function K(mr,br){for(var Ar=[],Tr=mr;Tr<br;++Tr)Ar.push(new Pn(pt[Tr],T(Tr),_));return Ar}var X=g.from,mt=g.to,pt=g.text,Jt=rt(f,X.line),ee=rt(f,mt.line),xe=Qe(pt),ge=T(pt.length-1),Ge=mt.line-X.line;if(g.full)f.insert(0,K(0,pt.length)),f.remove(pt.length,f.size-pt.length);else if(of(f,g)){var Ke=K(0,pt.length-1);D(ee,ee.text,ge),Ge&&f.remove(X.line,Ge),Ke.length&&f.insert(X.line,Ke)}else if(Jt==ee)if(pt.length==1)D(Jt,Jt.text.slice(0,X.ch)+xe+Jt.text.slice(mt.ch),ge);else{var ze=K(1,pt.length-1);ze.push(new Pn(xe+Jt.text.slice(mt.ch),ge,_)),D(Jt,Jt.text.slice(0,X.ch)+pt[0],T(0)),f.insert(X.line+1,ze)}else if(pt.length==1)D(Jt,Jt.text.slice(0,X.ch)+pt[0]+ee.text.slice(mt.ch),T(0)),f.remove(X.line+1,Ge);else{D(Jt,Jt.text.slice(0,X.ch)+pt[0],T(0)),D(ee,xe+ee.text.slice(mt.ch),ge);var er=K(1,pt.length-1);Ge>1&&f.remove(X.line+1,Ge-1),f.insert(X.line+1,er)}Vo(f,"change",f,g)}function Js(f,g,S){(function _(T,D,K){if(T.linked)for(var X=0;X<T.linked.length;++X){var mt=T.linked[X];if(mt.doc!=D){var pt=K&&mt.sharedHist;S&&!pt||(g(mt.doc,pt),_(mt.doc,T,pt))}}})(f,null,!0)}function Rf(f,g){if(g.cm)throw new Error("This document is already in use.");f.doc=g,g.cm=f,Oc(f),Pc(f),eu(f),f.options.direction=g.direction,f.options.lineWrapping||Mo(f),f.options.mode=g.modeOption,Ti(f)}function eu(f){(f.doc.direction=="rtl"?ir:Ht)(f.display.lineDiv,"CodeMirror-rtl")}function Cl(f){this.done=[],this.undone=[],this.undoDepth=f?f.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=f?f.maxGeneration:1}function ru(f,g){var S={from:cr(g.from),to:xl(g),text:Zt(f,g.from,g.to)};return Ia(f,S,g.from.line,g.to.line+1),Js(f,function(_){return Ia(_,S,g.from.line,g.to.line+1)},!0),S}function Sl(f){for(;f.length&&Qe(f).ranges;)f.pop()}function Hf(f,g,S,_){var T=f.history;T.undone.length=0;var D,K,X=+new Date;if((T.lastOp==_||T.lastOrigin==g.origin&&g.origin&&(g.origin.charAt(0)=="+"&&T.lastModTime>X-(f.cm?f.cm.options.historyEventDelay:500)||g.origin.charAt(0)=="*"))&&(D=function(pt,Jt){return Jt?(Sl(pt.done),Qe(pt.done)):pt.done.length&&!Qe(pt.done).ranges?Qe(pt.done):pt.done.length>1&&!pt.done[pt.done.length-2].ranges?(pt.done.pop(),Qe(pt.done)):void 0}(T,T.lastOp==_)))K=Qe(D.changes),At(g.from,g.to)==0&&At(g.from,K.to)==0?K.to=xl(g):D.changes.push(ru(f,g));else{var mt=Qe(T.done);for(mt&&mt.ranges||ju(f.sel,T.done),D={changes:[ru(f,g)],generation:T.generation},T.done.push(D);T.done.length>T.undoDepth;)T.done.shift(),T.done[0].ranges||T.done.shift()}T.done.push(S),T.generation=++T.maxGeneration,T.lastModTime=T.lastSelTime=X,T.lastOp=T.lastSelOp=_,T.lastOrigin=T.lastSelOrigin=g.origin,K||xt(f,"historyAdded")}function $p(f,g,S,_){var T=f.history,D=_&&_.origin;S==T.lastSelOp||D&&T.lastSelOrigin==D&&(T.lastModTime==T.lastSelTime&&T.lastOrigin==D||function(K,X,mt,pt){var Jt=X.charAt(0);return Jt=="*"||Jt=="+"&&mt.ranges.length==pt.ranges.length&&mt.somethingSelected()==pt.somethingSelected()&&new Date-K.history.lastSelTime<=(K.cm?K.cm.options.historyEventDelay:500)}(f,D,Qe(T.done),g))?T.done[T.done.length-1]=g:ju(g,T.done),T.lastSelTime=+new Date,T.lastSelOrigin=D,T.lastSelOp=S,_&&_.clearRedo!==!1&&Sl(T.undone)}function ju(f,g){var S=Qe(g);S&&S.ranges&&S.equals(f)||g.push(f)}function Ia(f,g,S,_){var T=g["spans_"+f.id],D=0;f.iter(Math.max(f.first,S),Math.min(f.first+f.size,_),function(K){K.markedSpans&&((T||(T=g["spans_"+f.id]={}))[D]=K.markedSpans),++D})}function So(f){if(!f)return null;for(var g,S=0;S<f.length;++S)f[S].marker.explicitlyCleared?g||(g=f.slice(0,S)):g&&g.push(f[S]);return g?g.length?g:null:f}function ds(f,g){var S=function(Jt,ee){var xe=ee["spans_"+Jt.id];if(!xe)return null;for(var ge=[],Ge=0;Ge<ee.text.length;++Ge)ge.push(So(xe[Ge]));return ge}(f,g),_=ss(f,g);if(!S)return _;if(!_)return S;for(var T=0;T<S.length;++T){var D=S[T],K=_[T];if(D&&K)t:for(var X=0;X<K.length;++X){for(var mt=K[X],pt=0;pt<D.length;++pt)if(D[pt].marker==mt.marker)continue t;D.push(mt)}else K&&(S[T]=K)}return S}function xa(f,g,S){for(var _=[],T=0;T<f.length;++T){var D=f[T];if(D.ranges)_.push(S?_a.prototype.deepCopy.call(D):D);else{var K=D.changes,X=[];_.push({changes:X});for(var mt=0;mt<K.length;++mt){var pt=K[mt],Jt=void 0;if(X.push({from:pt.from,to:pt.to,text:pt.text}),g)for(var ee in pt)(Jt=ee.match(/^spans_(\d+)$/))&&Et(g,Number(Jt[1]))>-1&&(Qe(X)[ee]=pt[ee],delete pt[ee])}}}return _}function Ol(f,g,S,_){if(_){var T=f.anchor;if(S){var D=At(g,T)<0;D!=At(S,T)<0?(T=g,g=S):D!=At(g,S)<0&&(g=S)}return new Co(T,g)}return new Co(S||g,g)}function nu(f,g,S,_,T){T==null&&(T=f.cm&&(f.cm.display.shift||f.extend)),Pi(f,new _a([Ol(f.sel.primary(),g,S,T)],0),_)}function sf(f,g,S){for(var _=[],T=f.cm&&(f.cm.display.shift||f.extend),D=0;D<f.sel.ranges.length;D++)_[D]=Ol(f.sel.ranges[D],g[D],null,T);Pi(f,Xs(f.cm,_,f.sel.primIndex),S)}function Du(f,g,S,_){var T=f.sel.ranges.slice(0);T[g]=S,Pi(f,Xs(f.cm,T,f.sel.primIndex),_)}function Bf(f,g,S,_){Pi(f,mc(g,S),_)}function lf(f,g,S){var _=f.history.done,T=Qe(_);T&&T.ranges?(_[_.length-1]=g,Iu(f,g,S)):Pi(f,g,S)}function Pi(f,g,S){Iu(f,g,S),$p(f,f.sel,f.cm?f.cm.curOp.id:NaN,S)}function Iu(f,g,S){(Ze(f,"beforeSelectionChange")||f.cm&&Ze(f.cm,"beforeSelectionChange"))&&(g=function(T,D,K){var X={ranges:D.ranges,update:function(mt){this.ranges=[];for(var pt=0;pt<mt.length;pt++)this.ranges[pt]=new Co(Lr(T,mt[pt].anchor),Lr(T,mt[pt].head))},origin:K&&K.origin};return xt(T,"beforeSelectionChange",T,X),T.cm&&xt(T.cm,"beforeSelectionChange",T.cm,X),X.ranges!=D.ranges?Xs(T.cm,X.ranges,X.ranges.length-1):D}(f,g,S));var _=S&&S.bias||(At(g.primary().head,f.sel.primary().head)<0?-1:1);fa(f,Ac(f,g,_,!0)),S&&S.scroll===!1||!f.cm||f.cm.getOption("readOnly")=="nocursor"||hc(f.cm)}function fa(f,g){g.equals(f.sel)||(f.sel=g,f.cm&&(f.cm.curOp.updateInput=1,f.cm.curOp.selectionChanged=!0,ke(f.cm)),Vo(f,"cursorActivity",f))}function Wl(f){fa(f,Ac(f,f.sel,null,!1))}function Ac(f,g,S,_){for(var T,D=0;D<g.ranges.length;D++){var K=g.ranges[D],X=g.ranges.length==f.sel.ranges.length&&f.sel.ranges[D],mt=Nu(f,K.anchor,X&&X.anchor,S,_),pt=K.head==K.anchor?mt:Nu(f,K.head,X&&X.head,S,_);(T||mt!=K.anchor||pt!=K.head)&&(T||(T=g.ranges.slice(0,D)),T[D]=new Co(mt,pt))}return T?Xs(f.cm,T,g.primIndex):g}function Mc(f,g,S,_,T){var D=rt(f,g.line);if(D.markedSpans)for(var K=0;K<D.markedSpans.length;++K){var X=D.markedSpans[K],mt=X.marker,pt="selectLeft"in mt?!mt.selectLeft:mt.inclusiveLeft,Jt="selectRight"in mt?!mt.selectRight:mt.inclusiveRight;if((X.from==null||(pt?X.from<=g.ch:X.from<g.ch))&&(X.to==null||(Jt?X.to>=g.ch:X.to>g.ch))){if(T&&(xt(mt,"beforeCursorEnter"),mt.explicitlyCleared)){if(D.markedSpans){--K;continue}break}if(!mt.atomic)continue;if(S){var ee=mt.find(_<0?1:-1),xe=void 0;if((_<0?Jt:pt)&&(ee=Fu(f,ee,-_,ee&&ee.line==g.line?D:null)),ee&&ee.line==g.line&&(xe=At(ee,S))&&(_<0?xe<0:xe>0))return Mc(f,ee,g,_,T)}var ge=mt.find(_<0?-1:1);return(_<0?pt:Jt)&&(ge=Fu(f,ge,_,ge.line==g.line?D:null)),ge?Mc(f,ge,g,_,T):null}}return g}function Nu(f,g,S,_,T){var D=_||1;return Mc(f,g,S,D,T)||!T&&Mc(f,g,S,D,!0)||Mc(f,g,S,-D,T)||!T&&Mc(f,g,S,-D,!0)||(f.cantEdit=!0,gr(f.first,0))}function Fu(f,g,S,_){return S<0&&g.ch==0?g.line>f.first?Lr(f,gr(g.line-1)):null:S>0&&g.ch==(_||rt(f,g.line)).text.length?g.line<f.first+f.size-1?gr(g.line+1,0):null:new gr(g.line,g.ch+S)}function Lc(f){f.setSelection(gr(f.firstLine(),0),gr(f.lastLine()),Le)}function Uf(f,g,S){var _={canceled:!1,from:g.from,to:g.to,text:g.text,origin:g.origin,cancel:function(){return _.canceled=!0}};return S&&(_.update=function(T,D,K,X){T&&(_.from=Lr(f,T)),D&&(_.to=Lr(f,D)),K&&(_.text=K),X!==void 0&&(_.origin=X)}),xt(f,"beforeChange",f,_),f.cm&&xt(f.cm,"beforeChange",f.cm,_),_.canceled?(f.cm&&(f.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function jc(f,g,S){if(f.cm){if(!f.cm.curOp)return Ho(f.cm,jc)(f,g,S);if(f.cm.state.suppressEdits)return}if(!(Ze(f,"beforeChange")||f.cm&&Ze(f.cm,"beforeChange"))||(g=Uf(f,g,!0))){var _=ti&&!S&&function(D,K,X){var mt=null;if(D.iter(K.line,X.line+1,function(mr){if(mr.markedSpans)for(var br=0;br<mr.markedSpans.length;++br){var Ar=mr.markedSpans[br].marker;!Ar.readOnly||mt&&Et(mt,Ar)!=-1||(mt||(mt=[])).push(Ar)}}),!mt)return null;for(var pt=[{from:K,to:X}],Jt=0;Jt<mt.length;++Jt)for(var ee=mt[Jt],xe=ee.find(0),ge=0;ge<pt.length;++ge){var Ge=pt[ge];if(!(At(Ge.to,xe.from)<0||At(Ge.from,xe.to)>0)){var Ke=[ge,1],ze=At(Ge.from,xe.from),er=At(Ge.to,xe.to);(ze<0||!ee.inclusiveLeft&&!ze)&&Ke.push({from:Ge.from,to:xe.from}),(er>0||!ee.inclusiveRight&&!er)&&Ke.push({from:xe.to,to:Ge.to}),pt.splice.apply(pt,Ke),ge+=Ke.length-3}}return pt}(f,g.from,g.to);if(_)for(var T=_.length-1;T>=0;--T)zf(f,{from:_[T].from,to:_[T].to,text:T?[""]:g.text,origin:g.origin});else zf(f,g)}}function zf(f,g){if(g.text.length!=1||g.text[0]!=""||At(g.from,g.to)!=0){var S=zl(f,g);Hf(f,g,S,f.cm?f.cm.curOp.id:NaN),As(f,g,S,ss(f,g));var _=[];Js(f,function(T,D){D||Et(_,T.history)!=-1||($f(T.history,g),_.push(T.history)),As(T,g,null,ss(T,g))})}}function Qs(f,g,S){var _=f.cm&&f.cm.state.suppressEdits;if(!_||S){for(var T,D=f.history,K=f.sel,X=g=="undo"?D.done:D.undone,mt=g=="undo"?D.undone:D.done,pt=0;pt<X.length&&(T=X[pt],S?!T.ranges||T.equals(f.sel):T.ranges);pt++);if(pt!=X.length){for(D.lastOrigin=D.lastSelOrigin=null;;){if(!(T=X.pop()).ranges){if(_)return void X.push(T);break}if(ju(T,mt),S&&!T.equals(f.sel))return void Pi(f,T,{clearRedo:!1});K=T}var Jt=[];ju(K,mt),mt.push({changes:Jt,generation:D.generation}),D.generation=T.generation||++D.maxGeneration;for(var ee=Ze(f,"beforeChange")||f.cm&&Ze(f.cm,"beforeChange"),xe=function(Ke){var ze=T.changes[Ke];if(ze.origin=g,ee&&!Uf(f,ze,!1))return X.length=0,{};Jt.push(ru(f,ze));var er=Ke?zl(f,ze):Qe(X);As(f,ze,er,ds(f,ze)),!Ke&&f.cm&&f.cm.scrollIntoView({from:ze.from,to:xl(ze)});var mr=[];Js(f,function(br,Ar){Ar||Et(mr,br.history)!=-1||($f(br.history,ze),mr.push(br.history)),As(br,ze,null,ds(br,ze))})},ge=T.changes.length-1;ge>=0;--ge){var Ge=xe(ge);if(Ge)return Ge.v}}}}function Wf(f,g){if(g!=0&&(f.first+=g,f.sel=new _a(Ir(f.sel.ranges,function(T){return new Co(gr(T.anchor.line+g,T.anchor.ch),gr(T.head.line+g,T.head.ch))}),f.sel.primIndex),f.cm)){Ti(f.cm,f.first,f.first-g,g);for(var S=f.cm.display,_=S.viewFrom;_<S.viewTo;_++)$s(f.cm,_,"gutter")}}function As(f,g,S,_){if(f.cm&&!f.cm.curOp)return Ho(f.cm,As)(f,g,S,_);if(g.to.line<f.first)Wf(f,g.text.length-1-(g.to.line-g.from.line));else if(!(g.from.line>f.lastLine())){if(g.from.line<f.first){var T=g.text.length-1-(f.first-g.from.line);Wf(f,T),g={from:gr(f.first,0),to:gr(g.to.line+T,g.to.ch),text:[Qe(g.text)],origin:g.origin}}var D=f.lastLine();g.to.line>D&&(g={from:g.from,to:gr(D,rt(f,D).text.length),text:[g.text[0]],origin:g.origin}),g.removed=Zt(f,g.from,g.to),S||(S=zl(f,g)),f.cm?function(K,X,mt){var pt=K.doc,Jt=K.display,ee=X.from,xe=X.to,ge=!1,Ge=ee.line;K.options.lineWrapping||(Ge=Mr(Do(rt(pt,ee.line))),pt.iter(Ge,xe.line+1,function(br){if(br==Jt.maxLine)return ge=!0,!0})),pt.sel.contains(X.from,X.to)>-1&&ke(K),af(pt,X,mt,xu(K)),K.options.lineWrapping||(pt.iter(Ge,ee.line+X.text.length,function(br){var Ar=mi(br);Ar>Jt.maxLineLength&&(Jt.maxLine=br,Jt.maxLineLength=Ar,Jt.maxLineChanged=!0,ge=!1)}),ge&&(K.curOp.updateMaxLine=!0)),function(br,Ar){if(br.modeFrontier=Math.min(br.modeFrontier,Ar),!(br.highlightFrontier<Ar-10)){for(var Tr=br.first,Er=Ar-1;Er>Tr;Er--){var gn=rt(br,Er).stateAfter;if(gn&&(!(gn instanceof xo)||Er+gn.lookAhead<Ar)){Tr=Er+1;break}}br.highlightFrontier=Math.min(br.highlightFrontier,Tr)}}(pt,ee.line),Zs(K,400);var Ke=X.text.length-(xe.line-ee.line)-1;X.full?Ti(K):ee.line!=xe.line||X.text.length!=1||of(K.doc,X)?Ti(K,ee.line,xe.line+1,Ke):$s(K,ee.line,"text");var ze=Ze(K,"changes"),er=Ze(K,"change");if(er||ze){var mr={from:ee,to:xe,text:X.text,removed:X.removed,origin:X.origin};er&&Vo(K,"change",K,mr),ze&&(K.curOp.changeObjs||(K.curOp.changeObjs=[])).push(mr)}K.display.selForContextMenu=null}(f.cm,g,_):af(f,g,_),Iu(f,S,Le),f.cantEdit&&Nu(f,gr(f.firstLine(),0))&&(f.cantEdit=!1)}}function tl(f,g,S,_,T){var D;_||(_=S),At(_,S)<0&&(S=(D=[_,S])[0],_=D[1]),typeof g=="string"&&(g=f.splitLines(g)),jc(f,{from:S,to:_,text:g,origin:T})}function gp(f,g,S,_){S<f.line?f.line+=_:g<f.line&&(f.line=g,f.ch=0)}function Vu(f,g,S,_){for(var T=0;T<f.length;++T){var D=f[T],K=!0;if(D.ranges){D.copied||((D=f[T]=D.deepCopy()).copied=!0);for(var X=0;X<D.ranges.length;X++)gp(D.ranges[X].anchor,g,S,_),gp(D.ranges[X].head,g,S,_)}else{for(var mt=0;mt<D.changes.length;++mt){var pt=D.changes[mt];if(S<pt.from.line)pt.from=gr(pt.from.line+_,pt.from.ch),pt.to=gr(pt.to.line+_,pt.to.ch);else if(g<=pt.to.line){K=!1;break}}K||(f.splice(0,T+1),T=0)}}}function $f(f,g){var S=g.from.line,_=g.to.line,T=g.text.length-(_-S)-1;Vu(f.done,S,_,T),Vu(f.undone,S,_,T)}function hs(f,g,S,_){var T=g,D=g;return typeof g=="number"?D=rt(f,xn(f,g)):T=Mr(g),T==null?null:(_(D,T)&&f.cm&&$s(f.cm,T,S),D)}function Dc(f){this.lines=f,this.parent=null;for(var g=0,S=0;S<f.length;++S)f[S].parent=this,g+=f[S].height;this.height=g}function $l(f){this.children=f;for(var g=0,S=0,_=0;_<f.length;++_){var T=f[_];g+=T.chunkSize(),S+=T.height,T.parent=this}this.size=g,this.height=S,this.parent=null}Co.prototype.from=function(){return nn(this.anchor,this.head)},Co.prototype.to=function(){return Xr(this.anchor,this.head)},Co.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Dc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f,g){for(var S=f,_=f+g;S<_;++S){var T=this.lines[S];this.height-=T.height,vn(T),Vo(T,"delete")}this.lines.splice(f,g)},collapse:function(f){f.push.apply(f,this.lines)},insertInner:function(f,g,S){this.height+=S,this.lines=this.lines.slice(0,f).concat(g).concat(this.lines.slice(f));for(var _=0;_<g.length;++_)g[_].parent=this},iterN:function(f,g,S){for(var _=f+g;f<_;++f)if(S(this.lines[f]))return!0}},$l.prototype={chunkSize:function(){return this.size},removeInner:function(f,g){this.size-=g;for(var S=0;S<this.children.length;++S){var _=this.children[S],T=_.chunkSize();if(f<T){var D=Math.min(g,T-f),K=_.height;if(_.removeInner(f,D),this.height-=K-_.height,T==D&&(this.children.splice(S--,1),_.parent=null),(g-=D)==0)break;f=0}else f-=T}if(this.size-g<25&&(this.children.length>1||!(this.children[0]instanceof Dc))){var X=[];this.collapse(X),this.children=[new Dc(X)],this.children[0].parent=this}},collapse:function(f){for(var g=0;g<this.children.length;++g)this.children[g].collapse(f)},insertInner:function(f,g,S){this.size+=g.length,this.height+=S;for(var _=0;_<this.children.length;++_){var T=this.children[_],D=T.chunkSize();if(f<=D){if(T.insertInner(f,g,S),T.lines&&T.lines.length>50){for(var K=T.lines.length%25+25,X=K;X<T.lines.length;){var mt=new Dc(T.lines.slice(X,X+=25));T.height-=mt.height,this.children.splice(++_,0,mt),mt.parent=this}T.lines=T.lines.slice(0,K),this.maybeSpill()}break}f-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var f=this;do{var g=new $l(f.children.splice(f.children.length-5,5));if(f.parent){f.size-=g.size,f.height-=g.height;var S=Et(f.parent.children,f);f.parent.children.splice(S+1,0,g)}else{var _=new $l(f.children);_.parent=f,f.children=[_,g],f=_}g.parent=f.parent}while(f.children.length>10);f.parent.maybeSpill()}},iterN:function(f,g,S){for(var _=0;_<this.children.length;++_){var T=this.children[_],D=T.chunkSize();if(f<D){var K=Math.min(g,D-f);if(T.iterN(f,K,S))return!0;if((g-=K)==0)break;f=0}else f-=D}}};var ou=function(f,g,S){if(S)for(var _ in S)S.hasOwnProperty(_)&&(this[_]=S[_]);this.doc=f,this.node=g};function cf(f,g,S){Ni(g)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&Zc(f,S)}ou.prototype.clear=function(){var f=this.doc.cm,g=this.line.widgets,S=this.line,_=Mr(S);if(_!=null&&g){for(var T=0;T<g.length;++T)g[T]==this&&g.splice(T--,1);g.length||(S.widgets=null);var D=bi(this);hr(S,Math.max(0,S.height-D)),f&&(Da(f,function(){cf(f,S,-D),$s(f,_,"widget")}),Vo(f,"lineWidgetCleared",f,this,_))}},ou.prototype.changed=function(){var f=this,g=this.height,S=this.doc.cm,_=this.line;this.height=null;var T=bi(this)-g;T&&(Cn(this.doc,_)||hr(_,_.height+T),S&&Da(S,function(){S.curOp.forceUpdate=!0,cf(S,_,T),Vo(S,"lineWidgetChanged",S,f,Mr(_))}))},xr(ou);var Gl=0,ql=function(f,g){this.lines=[],this.type=g,this.doc=f,this.id=++Gl};function Kl(f,g,S,_,T){if(_&&_.shared)return function(ee,xe,ge,Ge,Ke){(Ge=Vr(Ge)).shared=!1;var ze=[Kl(ee,xe,ge,Ge,Ke)],er=ze[0],mr=Ge.widgetNode;return Js(ee,function(br){mr&&(Ge.widgetNode=mr.cloneNode(!0)),ze.push(Kl(br,Lr(br,xe),Lr(br,ge),Ge,Ke));for(var Ar=0;Ar<br.linked.length;++Ar)if(br.linked[Ar].isParent)return;er=Qe(ze)}),new ki(ze,er)}(f,g,S,_,T);if(f.cm&&!f.cm.curOp)return Ho(f.cm,Kl)(f,g,S,_,T);var D=new ql(f,T),K=At(g,S);if(_&&Vr(_,D,!1),K>0||K==0&&D.clearWhenEmpty!==!1)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=Me("span",[D.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(qi(f,g.line,g,S,D)||g.line!=S.line&&qi(f,S.line,g,S,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");ui=!0}D.addToHistory&&Hf(f,{from:g,to:S,origin:"markText"},f.sel,NaN);var X,mt=g.line,pt=f.cm;if(f.iter(mt,S.line+1,function(ee){pt&&D.collapsed&&!pt.options.lineWrapping&&Do(ee)==pt.display.maxLine&&(X=!0),D.collapsed&&mt!=g.line&&hr(ee,0),function(xe,ge,Ge){var Ke=Ge&&window.WeakSet&&(Ge.markedSpans||(Ge.markedSpans=new WeakSet));Ke&&xe.markedSpans&&Ke.has(xe.markedSpans)?xe.markedSpans.push(ge):(xe.markedSpans=xe.markedSpans?xe.markedSpans.concat([ge]):[ge],Ke&&Ke.add(xe.markedSpans)),ge.marker.attachLine(xe)}(ee,new Ii(D,mt==g.line?g.ch:null,mt==S.line?S.ch:null),f.cm&&f.cm.curOp),++mt}),D.collapsed&&f.iter(g.line,S.line+1,function(ee){Cn(f,ee)&&hr(ee,0)}),D.clearOnEnter&&te(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(ti=!0,(f.history.done.length||f.history.undone.length)&&f.clearHistory()),D.collapsed&&(D.id=++Gl,D.atomic=!0),pt){if(X&&(pt.curOp.updateMaxLine=!0),D.collapsed)Ti(pt,g.line,S.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var Jt=g.line;Jt<=S.line;Jt++)$s(pt,Jt,"text");D.atomic&&Wl(pt.doc),Vo(pt,"markerAdded",pt,D)}return D}ql.prototype.clear=function(){if(!this.explicitlyCleared){var f=this.doc.cm,g=f&&!f.curOp;if(g&&_l(f),Ze(this,"clear")){var S=this.find();S&&Vo(this,"clear",S.from,S.to)}for(var _=null,T=null,D=0;D<this.lines.length;++D){var K=this.lines[D],X=Hs(K.markedSpans,this);f&&!this.collapsed?$s(f,Mr(K),"text"):f&&(X.to!=null&&(T=Mr(K)),X.from!=null&&(_=Mr(K))),K.markedSpans=as(K.markedSpans,X),X.from==null&&this.collapsed&&!Cn(this.doc,K)&&f&&hr(K,La(f.display))}if(f&&this.collapsed&&!f.options.lineWrapping)for(var mt=0;mt<this.lines.length;++mt){var pt=Do(this.lines[mt]),Jt=mi(pt);Jt>f.display.maxLineLength&&(f.display.maxLine=pt,f.display.maxLineLength=Jt,f.display.maxLineChanged=!0)}_!=null&&f&&this.collapsed&&Ti(f,_,T+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,f&&Wl(f.doc)),f&&Vo(f,"markerCleared",f,this,_,T),g&&ps(f),this.parent&&this.parent.clear()}},ql.prototype.find=function(f,g){var S,_;f==null&&this.type=="bookmark"&&(f=1);for(var T=0;T<this.lines.length;++T){var D=this.lines[T],K=Hs(D.markedSpans,this);if(K.from!=null&&(S=gr(g?D:Mr(D),K.from),f==-1))return S;if(K.to!=null&&(_=gr(g?D:Mr(D),K.to),f==1))return _}return S&&{from:S,to:_}},ql.prototype.changed=function(){var f=this,g=this.find(-1,!0),S=this,_=this.doc.cm;g&&_&&Da(_,function(){var T=g.line,D=Mr(g.line),K=Ri(_,D);if(K&&(Ve(K),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!Cn(S.doc,T)&&S.height!=null){var X=S.height;S.height=null;var mt=bi(S)-X;mt&&hr(T,T.height+mt)}Vo(_,"markerChanged",_,f)})},ql.prototype.attachLine=function(f){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;g.maybeHiddenMarkers&&Et(g.maybeHiddenMarkers,this)!=-1||(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(f)},ql.prototype.detachLine=function(f){if(this.lines.splice(Et(this.lines,f),1),!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this)}},xr(ql);var ki=function(f,g){this.markers=f,this.primary=g;for(var S=0;S<f.length;++S)f[S].parent=this};function Ru(f){return f.findMarks(gr(f.first,0),f.clipPos(gr(f.lastLine())),function(g){return g.parent})}function Gf(f){for(var g=function(_){var T=f[_],D=[T.primary.doc];Js(T.primary.doc,function(mt){return D.push(mt)});for(var K=0;K<T.markers.length;K++){var X=T.markers[K];Et(D,X.doc)==-1&&(X.parent=null,T.markers.splice(K--,1))}},S=0;S<f.length;S++)g(S)}ki.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var f=0;f<this.markers.length;++f)this.markers[f].clear();Vo(this,"clear")}},ki.prototype.find=function(f,g){return this.primary.find(f,g)},xr(ki);var vp=0,Ca=function(f,g,S,_,T){if(!(this instanceof Ca))return new Ca(f,g,S,_,T);S==null&&(S=0),$l.call(this,[new Dc([new Pn("",null)])]),this.first=S,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=S;var D=gr(S,0);this.sel=mc(D),this.history=new Cl(null),this.id=++vp,this.modeOption=g,this.lineSep=_,this.direction=T=="rtl"?"rtl":"ltr",this.extend=!1,typeof f=="string"&&(f=this.splitLines(f)),af(this,{from:D,to:D,text:f}),Pi(this,mc(D),Le)};Ca.prototype=vt($l.prototype,{constructor:Ca,iter:function(f,g,S){S?this.iterN(f-this.first,g-f,S):this.iterN(this.first,this.first+this.size,f)},insert:function(f,g){for(var S=0,_=0;_<g.length;++_)S+=g[_].height;this.insertInner(f-this.first,g,S)},remove:function(f,g){this.removeInner(f-this.first,g)},getValue:function(f){var g=ar(this,this.first,this.first+this.size);return f===!1?g:g.join(f||this.lineSeparator())},setValue:ei(function(f){var g=gr(this.first,0),S=this.first+this.size-1;jc(this,{from:g,to:gr(S,rt(this,S).text.length),text:this.splitLines(f),origin:"setValue",full:!0},!0),this.cm&&Ks(this.cm,0,0),Pi(this,mc(g),Le)}),replaceRange:function(f,g,S,_){tl(this,f,g=Lr(this,g),S=S?Lr(this,S):g,_)},getRange:function(f,g,S){var _=Zt(this,Lr(this,f),Lr(this,g));return S===!1?_:S===""?_.join(""):_.join(S||this.lineSeparator())},getLine:function(f){var g=this.getLineHandle(f);return g&&g.text},getLineHandle:function(f){if(Vn(this,f))return rt(this,f)},getLineNumber:function(f){return Mr(f)},getLineHandleVisualStart:function(f){return typeof f=="number"&&(f=rt(this,f)),Do(f)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f){return Lr(this,f)},getCursor:function(f){var g=this.sel.primary();return f==null||f=="head"?g.head:f=="anchor"?g.anchor:f=="end"||f=="to"||f===!1?g.to():g.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ei(function(f,g,S){Bf(this,Lr(this,typeof f=="number"?gr(f,g||0):f),null,S)}),setSelection:ei(function(f,g,S){Bf(this,Lr(this,f),Lr(this,g||f),S)}),extendSelection:ei(function(f,g,S){nu(this,Lr(this,f),g&&Lr(this,g),S)}),extendSelections:ei(function(f,g){sf(this,Ln(this,f),g)}),extendSelectionsBy:ei(function(f,g){sf(this,Ln(this,Ir(this.sel.ranges,f)),g)}),setSelections:ei(function(f,g,S){if(f.length){for(var _=[],T=0;T<f.length;T++)_[T]=new Co(Lr(this,f[T].anchor),Lr(this,f[T].head||f[T].anchor));g==null&&(g=Math.min(f.length-1,this.sel.primIndex)),Pi(this,Xs(this.cm,_,g),S)}}),addSelection:ei(function(f,g,S){var _=this.sel.ranges.slice(0);_.push(new Co(Lr(this,f),Lr(this,g||f))),Pi(this,Xs(this.cm,_,_.length-1),S)}),getSelection:function(f){for(var g,S=this.sel.ranges,_=0;_<S.length;_++){var T=Zt(this,S[_].from(),S[_].to());g=g?g.concat(T):T}return f===!1?g:g.join(f||this.lineSeparator())},getSelections:function(f){for(var g=[],S=this.sel.ranges,_=0;_<S.length;_++){var T=Zt(this,S[_].from(),S[_].to());f!==!1&&(T=T.join(f||this.lineSeparator())),g[_]=T}return g},replaceSelection:function(f,g,S){for(var _=[],T=0;T<this.sel.ranges.length;T++)_[T]=f;this.replaceSelections(_,g,S||"+input")},replaceSelections:ei(function(f,g,S){for(var _=[],T=this.sel,D=0;D<T.ranges.length;D++){var K=T.ranges[D];_[D]={from:K.from(),to:K.to(),text:this.splitLines(f[D]),origin:S}}for(var X=g&&g!="end"&&function(pt,Jt,ee){for(var xe=[],ge=gr(pt.first,0),Ge=ge,Ke=0;Ke<Jt.length;Ke++){var ze=Jt[Ke],er=Vf(ze.from,ge,Ge),mr=Vf(xl(ze),ge,Ge);if(ge=ze.to,Ge=mr,ee=="around"){var br=pt.sel.ranges[Ke],Ar=At(br.head,br.anchor)<0;xe[Ke]=new Co(Ar?mr:er,Ar?er:mr)}else xe[Ke]=new Co(er,er)}return new _a(xe,pt.sel.primIndex)}(this,_,g),mt=_.length-1;mt>=0;mt--)jc(this,_[mt]);X?lf(this,X):this.cm&&hc(this.cm)}),undo:ei(function(){Qs(this,"undo")}),redo:ei(function(){Qs(this,"redo")}),undoSelection:ei(function(){Qs(this,"undo",!0)}),redoSelection:ei(function(){Qs(this,"redo",!0)}),setExtending:function(f){this.extend=f},getExtending:function(){return this.extend},historySize:function(){for(var f=this.history,g=0,S=0,_=0;_<f.done.length;_++)f.done[_].ranges||++g;for(var T=0;T<f.undone.length;T++)f.undone[T].ranges||++S;return{undo:g,redo:S}},clearHistory:function(){var f=this;this.history=new Cl(this.history),Js(this,function(g){return g.history=f.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(f){return f&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(f){return this.history.generation==(f||this.cleanGeneration)},getHistory:function(){return{done:xa(this.history.done),undone:xa(this.history.undone)}},setHistory:function(f){var g=this.history=new Cl(this.history);g.done=xa(f.done.slice(0),null,!0),g.undone=xa(f.undone.slice(0),null,!0)},setGutterMarker:ei(function(f,g,S){return hs(this,f,"gutter",function(_){var T=_.gutterMarkers||(_.gutterMarkers={});return T[g]=S,!S&&Ce(T)&&(_.gutterMarkers=null),!0})}),clearGutter:ei(function(f){var g=this;this.iter(function(S){S.gutterMarkers&&S.gutterMarkers[f]&&hs(g,S,"gutter",function(){return S.gutterMarkers[f]=null,Ce(S.gutterMarkers)&&(S.gutterMarkers=null),!0})})}),lineInfo:function(f){var g;if(typeof f=="number"){if(!Vn(this,f)||(g=f,!(f=rt(this,f))))return null}else if((g=Mr(f))==null)return null;return{line:g,handle:f,text:f.text,gutterMarkers:f.gutterMarkers,textClass:f.textClass,bgClass:f.bgClass,wrapClass:f.wrapClass,widgets:f.widgets}},addLineClass:ei(function(f,g,S){return hs(this,f,g=="gutter"?"gutter":"class",function(_){var T=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass";if(_[T]){if(Rt(S).test(_[T]))return!1;_[T]+=" "+S}else _[T]=S;return!0})}),removeLineClass:ei(function(f,g,S){return hs(this,f,g=="gutter"?"gutter":"class",function(_){var T=g=="text"?"textClass":g=="background"?"bgClass":g=="gutter"?"gutterClass":"wrapClass",D=_[T];if(!D)return!1;if(S==null)_[T]=null;else{var K=D.match(Rt(S));if(!K)return!1;var X=K.index+K[0].length;_[T]=D.slice(0,K.index)+(K.index&&X!=D.length?" ":"")+D.slice(X)||null}return!0})}),addLineWidget:ei(function(f,g,S){return function(_,T,D,K){var X=new ou(_,D,K),mt=_.cm;return mt&&X.noHScroll&&(mt.display.alignWidgets=!0),hs(_,T,"widget",function(pt){var Jt=pt.widgets||(pt.widgets=[]);if(X.insertAt==null?Jt.push(X):Jt.splice(Math.min(Jt.length,Math.max(0,X.insertAt)),0,X),X.line=pt,mt&&!Cn(_,pt)){var ee=Ni(pt)<_.scrollTop;hr(pt,pt.height+bi(X)),ee&&Zc(mt,X.height),mt.curOp.forceUpdate=!0}return!0}),mt&&Vo(mt,"lineWidgetAdded",mt,X,typeof T=="number"?T:Mr(T)),X}(this,f,g,S)}),removeLineWidget:function(f){f.clear()},markText:function(f,g,S){return Kl(this,Lr(this,f),Lr(this,g),S,S&&S.type||"range")},setBookmark:function(f,g){var S={replacedWith:g&&(g.nodeType==null?g.widget:g),insertLeft:g&&g.insertLeft,clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};return Kl(this,f=Lr(this,f),f,S,"bookmark")},findMarksAt:function(f){var g=[],S=rt(this,(f=Lr(this,f)).line).markedSpans;if(S)for(var _=0;_<S.length;++_){var T=S[_];(T.from==null||T.from<=f.ch)&&(T.to==null||T.to>=f.ch)&&g.push(T.marker.parent||T.marker)}return g},findMarks:function(f,g,S){f=Lr(this,f),g=Lr(this,g);var _=[],T=f.line;return this.iter(f.line,g.line+1,function(D){var K=D.markedSpans;if(K)for(var X=0;X<K.length;X++){var mt=K[X];mt.to!=null&&T==f.line&&f.ch>=mt.to||mt.from==null&&T!=f.line||mt.from!=null&&T==g.line&&mt.from>=g.ch||S&&!S(mt.marker)||_.push(mt.marker.parent||mt.marker)}++T}),_},getAllMarks:function(){var f=[];return this.iter(function(g){var S=g.markedSpans;if(S)for(var _=0;_<S.length;++_)S[_].from!=null&&f.push(S[_].marker)}),f},posFromIndex:function(f){var g,S=this.first,_=this.lineSeparator().length;return this.iter(function(T){var D=T.text.length+_;if(D>f)return g=f,!0;f-=D,++S}),Lr(this,gr(S,g))},indexFromPos:function(f){var g=(f=Lr(this,f)).ch;if(f.line<this.first||f.ch<0)return 0;var S=this.lineSeparator().length;return this.iter(this.first,f.line,function(_){g+=_.text.length+S}),g},copy:function(f){var g=new Ca(ar(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return g.scrollTop=this.scrollTop,g.scrollLeft=this.scrollLeft,g.sel=this.sel,g.extend=!1,f&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory())),g},linkedDoc:function(f){f||(f={});var g=this.first,S=this.first+this.size;f.from!=null&&f.from>g&&(g=f.from),f.to!=null&&f.to<S&&(S=f.to);var _=new Ca(ar(this,g,S),f.mode||this.modeOption,g,this.lineSep,this.direction);return f.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:f.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:f.sharedHist}],function(T,D){for(var K=0;K<D.length;K++){var X=D[K],mt=X.find(),pt=T.clipPos(mt.from),Jt=T.clipPos(mt.to);if(At(pt,Jt)){var ee=Kl(T,pt,Jt,X.primary,X.primary.type);X.markers.push(ee),ee.parent=X}}}(_,Ru(this)),_},unlinkDoc:function(f){if(f instanceof Wo&&(f=f.doc),this.linked){for(var g=0;g<this.linked.length;++g)if(this.linked[g].doc==f){this.linked.splice(g,1),f.unlinkDoc(this),Gf(Ru(this));break}}if(f.history==this.history){var S=[f.id];Js(f,function(_){return S.push(_.id)},!0),f.history=new Cl(null),f.history.done=xa(this.history.done,S),f.history.undone=xa(this.history.undone,S)}},iterLinkedDocs:function(f){Js(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(f){return this.lineSep?f.split(this.lineSep):wo(f)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ei(function(f){f!="rtl"&&(f="ltr"),f!=this.direction&&(this.direction=f,this.iter(function(g){return g.order=null}),this.cm&&function(g){Da(g,function(){eu(g),Ti(g)})}(this.cm))})}),Ca.prototype.eachLine=Ca.prototype.iter;var Yl=0;function uf(f){var g=this;if(yc(g),!ce(g,f)&&!wi(g.display,f)){Yr(f),I&&(Yl=+new Date);var S=gl(g,f,!0),_=f.dataTransfer.files;if(S&&!g.isReadOnly())if(_&&_.length&&window.FileReader&&window.File)for(var T=_.length,D=Array(T),K=0,X=function(){++K==T&&Ho(g,function(){var ge={from:S=Lr(g.doc,S),to:S,text:g.doc.splitLines(D.filter(function(Ge){return Ge!=null}).join(g.doc.lineSeparator())),origin:"paste"};jc(g.doc,ge),lf(g.doc,mc(Lr(g.doc,S),Lr(g.doc,xl(ge))))})()},mt=function(ge,Ge){if(g.options.allowDropFileTypes&&Et(g.options.allowDropFileTypes,ge.type)==-1)X();else{var Ke=new FileReader;Ke.onerror=function(){return X()},Ke.onload=function(){var ze=Ke.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ze)||(D[Ge]=ze),X()},Ke.readAsText(ge)}},pt=0;pt<_.length;pt++)mt(_[pt],pt);else{if(g.state.draggingText&&g.doc.sel.contains(S)>-1)return g.state.draggingText(f),void setTimeout(function(){return g.display.input.focus()},20);try{var Jt=f.dataTransfer.getData("Text");if(Jt){var ee;if(g.state.draggingText&&!g.state.draggingText.copy&&(ee=g.listSelections()),Iu(g.doc,mc(S,S)),ee)for(var xe=0;xe<ee.length;++xe)tl(g.doc,"",ee[xe].anchor,ee[xe].head,"drag");g.replaceSelection(Jt,"around","paste"),g.display.input.focus()}}catch{}}}}function yc(f){f.display.dragCursor&&(f.display.lineSpace.removeChild(f.display.dragCursor),f.display.dragCursor=null)}function iu(f){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),S=[],_=0;_<g.length;_++){var T=g[_].CodeMirror;T&&S.push(T)}S.length&&S[0].operation(function(){for(var D=0;D<S.length;D++)f(S[D])})}}var au=!1;function Ic(){au||(function(){var f;te(window,"resize",function(){f==null&&(f=setTimeout(function(){f=null,iu(qf)},100))}),te(window,"blur",function(){return iu(wa)})}(),au=!0)}function qf(f){var g=f.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.scrollbarsClipped=!1,f.setSize()}for(var Ms={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Nc=0;Nc<10;Nc++)Ms[Nc+48]=Ms[Nc+96]=String(Nc);for(var Zl=65;Zl<=90;Zl++)Ms[Zl]=String.fromCharCode(Zl);for(var Hu=1;Hu<=12;Hu++)Ms[Hu+111]=Ms[Hu+63235]="F"+Hu;var Xi={};function Bu(f){var g,S,_,T,D=f.split(/-(?!$)/);f=D[D.length-1];for(var K=0;K<D.length-1;K++){var X=D[K];if(/^(cmd|meta|m)$/i.test(X))T=!0;else if(/^a(lt)?$/i.test(X))g=!0;else if(/^(c|ctrl|control)$/i.test(X))S=!0;else{if(!/^s(hift)?$/i.test(X))throw new Error("Unrecognized modifier name: "+X);_=!0}}return g&&(f="Alt-"+f),S&&(f="Ctrl-"+f),T&&(f="Cmd-"+f),_&&(f="Shift-"+f),f}function Kf(f){var g={};for(var S in f)if(f.hasOwnProperty(S)){var _=f[S];if(/^(name|fallthrough|(de|at)tach)$/.test(S))continue;if(_=="..."){delete f[S];continue}for(var T=Ir(S.split(" "),Bu),D=0;D<T.length;D++){var K=void 0,X=void 0;D==T.length-1?(X=T.join(" "),K=_):(X=T.slice(0,D+1).join(" "),K="...");var mt=g[X];if(mt){if(mt!=K)throw new Error("Inconsistent bindings for "+X)}else g[X]=K}delete f[S]}for(var pt in g)f[pt]=g[pt];return f}function el(f,g,S,_){var T=(g=Na(g)).call?g.call(f,_):g[f];if(T===!1)return"nothing";if(T==="...")return"multi";if(T!=null&&S(T))return"handled";if(g.fallthrough){if(Object.prototype.toString.call(g.fallthrough)!="[object Array]")return el(f,g.fallthrough,S,_);for(var D=0;D<g.fallthrough.length;D++){var K=el(f,g.fallthrough[D],S,_);if(K)return K}}}function Fc(f){var g=typeof f=="string"?f:Ms[f.keyCode];return g=="Ctrl"||g=="Alt"||g=="Shift"||g=="Mod"}function rl(f,g,S){var _=f;return g.altKey&&_!="Alt"&&(f="Alt-"+f),(bt?g.metaKey:g.ctrlKey)&&_!="Ctrl"&&(f="Ctrl-"+f),(bt?g.ctrlKey:g.metaKey)&&_!="Mod"&&(f="Cmd-"+f),!S&&g.shiftKey&&_!="Shift"&&(f="Shift-"+f),f}function su(f,g){if($&&f.keyCode==34&&f.char)return!1;var S=Ms[f.keyCode];return S!=null&&!f.altGraphKey&&(f.keyCode==3&&f.code&&(S=f.code),rl(S,f,g))}function Na(f){return typeof f=="string"?Xi[f]:f}function bc(f,g){for(var S=f.doc.sel.ranges,_=[],T=0;T<S.length;T++){for(var D=g(S[T]);_.length&&At(D.from,Qe(_).to)<=0;){var K=_.pop();if(At(K.from,D.from)<0){D.from=K.from;break}}_.push(D)}Da(f,function(){for(var X=_.length-1;X>=0;X--)tl(f.doc,"",_[X].from,_[X].to,"+delete");hc(f)})}function Yf(f,g,S){var _=dr(f.text,g+S,S);return _<0||_>f.text.length?null:_}function ff(f,g,S){var _=Yf(f,g.ch,S);return _==null?null:new gr(g.line,_,S<0?"after":"before")}function nl(f,g,S,_,T){if(f){g.doc.direction=="rtl"&&(T=-T);var D=$n(S,g.doc.direction);if(D){var K,X=T<0?Qe(D):D[0],mt=T<0==(X.level==1)?"after":"before";if(X.level>0||g.doc.direction=="rtl"){var pt=Yi(g,S);K=T<0?S.text.length-1:0;var Jt=ua(g,pt,K).top;K=on(function(ee){return ua(g,pt,ee).top==Jt},T<0==(X.level==1)?X.from:X.to-1,K),mt=="before"&&(K=Yf(S,K,1))}else K=T<0?X.to:X.from;return new gr(_,K,mt)}}return new gr(_,T<0?S.text.length:0,T<0?"before":"after")}Xi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Xi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Xi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Xi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Xi.default=Ft?Xi.macDefault:Xi.pcDefault;var Tl={selectAll:Lc,singleSelection:function(f){return f.setSelection(f.getCursor("anchor"),f.getCursor("head"),Le)},killLine:function(f){return bc(f,function(g){if(g.empty()){var S=rt(f.doc,g.head.line).text.length;return g.head.ch==S&&g.head.line<f.lastLine()?{from:g.head,to:gr(g.head.line+1,0)}:{from:g.head,to:gr(g.head.line,S)}}return{from:g.from(),to:g.to()}})},deleteLine:function(f){return bc(f,function(g){return{from:gr(g.from().line,0),to:Lr(f.doc,gr(g.to().line+1,0))}})},delLineLeft:function(f){return bc(f,function(g){return{from:gr(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(f){return bc(f,function(g){var S=f.charCoords(g.head,"div").top+5;return{from:f.coordsChar({left:0,top:S},"div"),to:g.from()}})},delWrappedLineRight:function(f){return bc(f,function(g){var S=f.charCoords(g.head,"div").top+5,_=f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:S},"div");return{from:g.from(),to:_}})},undo:function(f){return f.undo()},redo:function(f){return f.redo()},undoSelection:function(f){return f.undoSelection()},redoSelection:function(f){return f.redoSelection()},goDocStart:function(f){return f.extendSelection(gr(f.firstLine(),0))},goDocEnd:function(f){return f.extendSelection(gr(f.lastLine()))},goLineStart:function(f){return f.extendSelectionsBy(function(g){return Vc(f,g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f){return f.extendSelectionsBy(function(g){return pf(f,g.head)},{origin:"+move",bias:1})},goLineEnd:function(f){return f.extendSelectionsBy(function(g){return function(S,_){var T=rt(S.doc,_),D=function(K){for(var X;X=Si(K);)K=X.find(1,!0).line;return K}(T);return D!=T&&(_=Mr(D)),nl(!0,S,T,_,-1)}(f,g.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f){return f.extendSelectionsBy(function(g){var S=f.cursorCoords(g.head,"div").top+5;return f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:S},"div")},ue)},goLineLeft:function(f){return f.extendSelectionsBy(function(g){var S=f.cursorCoords(g.head,"div").top+5;return f.coordsChar({left:0,top:S},"div")},ue)},goLineLeftSmart:function(f){return f.extendSelectionsBy(function(g){var S=f.cursorCoords(g.head,"div").top+5,_=f.coordsChar({left:0,top:S},"div");return _.ch<f.getLine(_.line).search(/\S/)?pf(f,g.head):_},ue)},goLineUp:function(f){return f.moveV(-1,"line")},goLineDown:function(f){return f.moveV(1,"line")},goPageUp:function(f){return f.moveV(-1,"page")},goPageDown:function(f){return f.moveV(1,"page")},goCharLeft:function(f){return f.moveH(-1,"char")},goCharRight:function(f){return f.moveH(1,"char")},goColumnLeft:function(f){return f.moveH(-1,"column")},goColumnRight:function(f){return f.moveH(1,"column")},goWordLeft:function(f){return f.moveH(-1,"word")},goGroupRight:function(f){return f.moveH(1,"group")},goGroupLeft:function(f){return f.moveH(-1,"group")},goWordRight:function(f){return f.moveH(1,"word")},delCharBefore:function(f){return f.deleteH(-1,"codepoint")},delCharAfter:function(f){return f.deleteH(1,"char")},delWordBefore:function(f){return f.deleteH(-1,"word")},delWordAfter:function(f){return f.deleteH(1,"word")},delGroupBefore:function(f){return f.deleteH(-1,"group")},delGroupAfter:function(f){return f.deleteH(1,"group")},indentAuto:function(f){return f.indentSelection("smart")},indentMore:function(f){return f.indentSelection("add")},indentLess:function(f){return f.indentSelection("subtract")},insertTab:function(f){return f.replaceSelection("	")},insertSoftTab:function(f){for(var g=[],S=f.listSelections(),_=f.options.tabSize,T=0;T<S.length;T++){var D=S[T].from(),K=Je(f.getLine(D.line),D.ch,_);g.push(vr(_-K%_))}f.replaceSelections(g)},defaultTab:function(f){f.somethingSelected()?f.indentSelection("add"):f.execCommand("insertTab")},transposeChars:function(f){return Da(f,function(){for(var g=f.listSelections(),S=[],_=0;_<g.length;_++)if(g[_].empty()){var T=g[_].head,D=rt(f.doc,T.line).text;if(D){if(T.ch==D.length&&(T=new gr(T.line,T.ch-1)),T.ch>0)T=new gr(T.line,T.ch+1),f.replaceRange(D.charAt(T.ch-1)+D.charAt(T.ch-2),gr(T.line,T.ch-2),T,"+transpose");else if(T.line>f.doc.first){var K=rt(f.doc,T.line-1).text;K&&(T=new gr(T.line,1),f.replaceRange(D.charAt(0)+f.doc.lineSeparator()+K.charAt(K.length-1),gr(T.line-1,K.length-1),T,"+transpose"))}}S.push(new Co(T,T))}f.setSelections(S)})},newlineAndIndent:function(f){return Da(f,function(){for(var g=f.listSelections(),S=g.length-1;S>=0;S--)f.replaceRange(f.doc.lineSeparator(),g[S].anchor,g[S].head,"+input");g=f.listSelections();for(var _=0;_<g.length;_++)f.indentLine(g[_].from().line,null,!0);hc(f)})},openLine:function(f){return f.replaceSelection(`
`,"start")},toggleOverwrite:function(f){return f.toggleOverwrite()}};function Vc(f,g){var S=rt(f.doc,g),_=Do(S);return _!=S&&(g=Mr(_)),nl(!0,f,_,g,1)}function pf(f,g){var S=Vc(f,g.line),_=rt(f.doc,S.line),T=$n(_,f.doc.direction);if(!T||T[0].level==0){var D=Math.max(S.ch,_.text.search(/\S/)),K=g.line==S.line&&g.ch<=D&&g.ch;return gr(S.line,K?0:D,S.sticky)}return S}function Uu(f,g,S){if(typeof g=="string"&&!(g=Tl[g]))return!1;f.display.input.ensurePolled();var _=f.display.shift,T=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),S&&(f.display.shift=!1),T=g(f)!=me}finally{f.display.shift=_,f.state.suppressEdits=!1}return T}var df=new nt;function lu(f,g,S,_){var T=f.state.keySeq;if(T){if(Fc(g))return"handled";if(/\'$/.test(g)?f.state.keySeq=null:df.set(50,function(){f.state.keySeq==T&&(f.state.keySeq=null,f.display.input.reset())}),mp(f,T+" "+g,S,_))return!0}return mp(f,g,S,_)}function mp(f,g,S,_){var T=function(D,K,X){for(var mt=0;mt<D.state.keyMaps.length;mt++){var pt=el(K,D.state.keyMaps[mt],X,D);if(pt)return pt}return D.options.extraKeys&&el(K,D.options.extraKeys,X,D)||el(K,D.options.keyMap,X,D)}(f,g,_);return T=="multi"&&(f.state.keySeq=g),T=="handled"&&Vo(f,"keyHandled",f,g,S),T!="handled"&&T!="multi"||(Yr(S),Nl(f)),!!T}function Sa(f,g){var S=su(g,!0);return!!S&&(g.shiftKey&&!f.state.keySeq?lu(f,"Shift-"+S,g,function(_){return Uu(f,_,!0)})||lu(f,S,g,function(_){if(typeof _=="string"?/^go[A-Z]/.test(_):_.motion)return Uu(f,_)}):lu(f,S,g,function(_){return Uu(f,_)}))}var cu=null;function yp(f){var g=this;if(!(f.target&&f.target!=g.display.input.getField()||(g.curOp.focus=Ae(),ce(g,f)))){I&&N<11&&f.keyCode==27&&(f.returnValue=!1);var S=f.keyCode;g.display.shift=S==16||f.shiftKey;var _=Sa(g,f);$&&(cu=_?S:null,_||S!=88||va||!(Ft?f.metaKey:f.ctrlKey)||g.replaceSelection("",null,"cut")),ht&&!Ft&&!_&&S==46&&f.shiftKey&&!f.ctrlKey&&document.execCommand&&document.execCommand("cut"),S!=18||/\bCodeMirror-crosshair\b/.test(g.display.lineDiv.className)||function(T){var D=T.display.lineDiv;function K(X){X.keyCode!=18&&X.altKey||(Ht(D,"CodeMirror-crosshair"),Xe(document,"keyup",K),Xe(document,"mouseover",K))}ir(D,"CodeMirror-crosshair"),te(document,"keyup",K),te(document,"mouseover",K)}(g)}}function Rc(f){f.keyCode==16&&(this.doc.sel.shift=!1),ce(this,f)}function hf(f){var g=this;if(!(f.target&&f.target!=g.display.input.getField()||wi(g.display,f)||ce(g,f)||f.ctrlKey&&!f.altKey||Ft&&f.metaKey)){var S=f.keyCode,_=f.charCode;if($&&S==cu)return cu=null,void Yr(f);if(!$||f.which&&!(f.which<10)||!Sa(g,f)){var T=String.fromCharCode(_??S);T!="\b"&&(function(D,K,X){return lu(D,"'"+X+"'",K,function(mt){return Uu(D,mt,!0)})}(g,f,T)||g.display.input.onKeyPress(f))}}}var Hc,Bc,Zf=400,gf=function(f,g,S){this.time=f,this.pos=g,this.button=S};function Xf(f){var g=this,S=g.display;if(!(ce(g,f)||S.activeTouch&&S.input.supportsTouch())){if(S.input.ensurePolled(),S.shift=f.shiftKey,wi(S,f))W||(S.scroller.draggable=!1,setTimeout(function(){return S.scroller.draggable=!0},100));else if(!wc(g,f)){var _=gl(g,f),T=yn(f),D=_?function(K,X){var mt=+new Date;return Bc&&Bc.compare(mt,K,X)?(Hc=Bc=null,"triple"):Hc&&Hc.compare(mt,K,X)?(Bc=new gf(mt,K,X),Hc=null,"double"):(Hc=new gf(mt,K,X),Bc=null,"single")}(_,T):"single";window.focus(),T==1&&g.state.selectingText&&g.state.selectingText(f),_&&function(K,X,mt,pt,Jt){var ee="Click";return pt=="double"?ee="Double"+ee:pt=="triple"&&(ee="Triple"+ee),lu(K,rl(ee=(X==1?"Left":X==2?"Middle":"Right")+ee,Jt),Jt,function(xe){if(typeof xe=="string"&&(xe=Tl[xe]),!xe)return!1;var ge=!1;try{K.isReadOnly()&&(K.state.suppressEdits=!0),ge=xe(K,mt)!=me}finally{K.state.suppressEdits=!1}return ge})}(g,T,_,D,f)||(T==1?_?function(K,X,mt,pt){I?setTimeout(Dr(Gs,K),0):K.curOp.focus=Ae();var Jt,ee=function(ge,Ge,Ke){var ze=ge.getOption("configureMouse"),er=ze?ze(ge,Ge,Ke):{};if(er.unit==null){var mr=$t?Ke.shiftKey&&Ke.metaKey:Ke.altKey;er.unit=mr?"rectangle":Ge=="single"?"char":Ge=="double"?"word":"line"}return(er.extend==null||ge.doc.extend)&&(er.extend=ge.doc.extend||Ke.shiftKey),er.addNew==null&&(er.addNew=Ft?Ke.metaKey:Ke.ctrlKey),er.moveOnDrag==null&&(er.moveOnDrag=!(Ft?Ke.altKey:Ke.ctrlKey)),er}(K,mt,pt),xe=K.doc.sel;K.options.dragDrop&&Qo&&!K.isReadOnly()&&mt=="single"&&(Jt=xe.contains(X))>-1&&(At((Jt=xe.ranges[Jt]).from(),X)<0||X.xRel>0)&&(At(Jt.to(),X)>0||X.xRel<0)?bp(K,pt,X,ee):function(ge,Ge,Ke,ze){I&&Zi(ge);var er=ge.display,mr=ge.doc;Yr(Ge);var br,Ar,Tr=mr.sel,Er=Tr.ranges;if(ze.addNew&&!ze.extend?(Ar=mr.sel.contains(Ke),br=Ar>-1?Er[Ar]:new Co(Ke,Ke)):(br=mr.sel.primary(),Ar=mr.sel.primIndex),ze.unit=="rectangle")ze.addNew||(br=new Co(Ke,Ke)),Ke=gl(ge,Ge,!0,!0),Ar=-1;else{var gn=El(ge,Ke,ze.unit);br=ze.extend?Ol(br,gn.anchor,gn.head,ze.extend):gn}ze.addNew?Ar==-1?(Ar=Er.length,Pi(mr,Xs(ge,Er.concat([br]),Ar),{scroll:!1,origin:"*mouse"})):Er.length>1&&Er[Ar].empty()&&ze.unit=="char"&&!ze.extend?(Pi(mr,Xs(ge,Er.slice(0,Ar).concat(Er.slice(Ar+1)),0),{scroll:!1,origin:"*mouse"}),Tr=mr.sel):Du(mr,Ar,br,lt):(Ar=0,Pi(mr,new _a([br],0),lt),Tr=mr.sel);var Ur=Ke;function zn(Tn){if(At(Ur,Tn)!=0)if(Ur=Tn,ze.unit=="rectangle"){for(var Rn=[],Kn=ge.options.tabSize,kn=Je(rt(mr,Ke.line).text,Ke.ch,Kn),si=Je(rt(mr,Tn.line).text,Tn.ch,Kn),pi=Math.min(kn,si),so=Math.max(kn,si),On=Math.min(Ke.line,Tn.line),Za=Math.min(ge.lastLine(),Math.max(Ke.line,Tn.line));On<=Za;On++){var Sn=rt(mr,On).text,di=se(Sn,pi,Kn);pi==so?Rn.push(new Co(gr(On,di),gr(On,di))):Sn.length>di&&Rn.push(new Co(gr(On,di),gr(On,se(Sn,so,Kn))))}Rn.length||Rn.push(new Co(Ke,Ke)),Pi(mr,Xs(ge,Tr.ranges.slice(0,Ar).concat(Rn),Ar),{origin:"*mouse",scroll:!1}),ge.scrollIntoView(Tn)}else{var zi,io=br,Oa=El(ge,Tn,ze.unit),ys=io.anchor;At(Oa.anchor,ys)>0?(zi=Oa.head,ys=nn(io.from(),Oa.anchor)):(zi=Oa.anchor,ys=Xr(io.to(),Oa.head));var wp=Tr.ranges.slice(0);wp[Ar]=function(ri,Cc){var Ta=Cc.anchor,bs=Cc.head,du=rt(ri.doc,Ta.line);if(At(Ta,bs)==0&&Ta.sticky==bs.sticky)return Cc;var c=$n(du);if(!c)return Cc;var d=He(c,Ta.ch,Ta.sticky),b=c[d];if(b.from!=Ta.ch&&b.to!=Ta.ch)return Cc;var y,x=d+(b.from==Ta.ch==(b.level!=1)?0:1);if(x==0||x==c.length)return Cc;if(bs.line!=Ta.line)y=(bs.line-Ta.line)*(ri.doc.direction=="ltr"?1:-1)>0;else{var M=He(c,bs.ch,bs.sticky),z=M-d||(bs.ch-Ta.ch)*(b.level==1?-1:1);y=M==x-1||M==x?z<0:z>0}var tt=c[x+(y?-1:0)],ct=y==(tt.level==1),Ot=ct?tt.from:tt.to,ne=ct?"after":"before";return Ta.ch==Ot&&Ta.sticky==ne?Cc:new Co(new gr(Ta.line,Ot,ne),bs)}(ge,new Co(Lr(mr,ys),zi)),Pi(mr,Xs(ge,wp,Ar),lt)}}var zr=er.wrapper.getBoundingClientRect(),qn=0;function mo(Tn){var Rn=++qn,Kn=gl(ge,Tn,!0,ze.unit=="rectangle");if(Kn)if(At(Kn,Ur)!=0){ge.curOp.focus=Ae(),zn(Kn);var kn=qs(er,mr);(Kn.line>=kn.to||Kn.line<kn.from)&&setTimeout(Ho(ge,function(){qn==Rn&&mo(Tn)}),150)}else{var si=Tn.clientY<zr.top?-20:Tn.clientY>zr.bottom?20:0;si&&setTimeout(Ho(ge,function(){qn==Rn&&(er.scroller.scrollTop+=si,mo(Tn))}),50)}}function Yn(Tn){ge.state.selectingText=!1,qn=1/0,Tn&&(Yr(Tn),er.input.focus()),Xe(er.wrapper.ownerDocument,"mousemove",Zn),Xe(er.wrapper.ownerDocument,"mouseup",ro),mr.history.lastSelOrigin=null}var Zn=Ho(ge,function(Tn){Tn.buttons!==0&&yn(Tn)?mo(Tn):Yn(Tn)}),ro=Ho(ge,Yn);ge.state.selectingText=ro,te(er.wrapper.ownerDocument,"mousemove",Zn),te(er.wrapper.ownerDocument,"mouseup",ro)}(K,pt,X,ee)}(g,_,D,f):uo(f)==S.scroller&&Yr(f):T==2?(_&&nu(g.doc,_),setTimeout(function(){return S.input.focus()},20)):T==3&&(jt?g.display.input.onContextMenu(f):Zi(g)))}}}function bp(f,g,S,_){var T=f.display,D=!1,K=Ho(f,function(pt){W&&(T.scroller.draggable=!1),f.state.draggingText=!1,f.state.delayingBlurEvent&&(f.hasFocus()?f.state.delayingBlurEvent=!1:Zi(f)),Xe(T.wrapper.ownerDocument,"mouseup",K),Xe(T.wrapper.ownerDocument,"mousemove",X),Xe(T.scroller,"dragstart",mt),Xe(T.scroller,"drop",K),D||(Yr(pt),_.addNew||nu(f.doc,S,null,null,_.extend),W&&!Q||I&&N==9?setTimeout(function(){T.wrapper.ownerDocument.body.focus({preventScroll:!0}),T.input.focus()},20):T.input.focus())}),X=function(pt){D=D||Math.abs(g.clientX-pt.clientX)+Math.abs(g.clientY-pt.clientY)>=10},mt=function(){return D=!0};W&&(T.scroller.draggable=!0),f.state.draggingText=K,K.copy=!_.moveOnDrag,te(T.wrapper.ownerDocument,"mouseup",K),te(T.wrapper.ownerDocument,"mousemove",X),te(T.scroller,"dragstart",mt),te(T.scroller,"drop",K),f.state.delayingBlurEvent=!0,setTimeout(function(){return T.input.focus()},20),T.scroller.dragDrop&&T.scroller.dragDrop()}function El(f,g,S){if(S=="char")return new Co(g,g);if(S=="word")return f.findWordAt(g);if(S=="line")return new Co(gr(g.line,0),Lr(f.doc,gr(g.line+1,0)));var _=S(f,g);return new Co(_.from,_.to)}function ol(f,g,S,_){var T,D;if(g.touches)T=g.touches[0].clientX,D=g.touches[0].clientY;else try{T=g.clientX,D=g.clientY}catch{return!1}if(T>=Math.floor(f.display.gutters.getBoundingClientRect().right))return!1;_&&Yr(g);var K=f.display,X=K.lineDiv.getBoundingClientRect();if(D>X.bottom||!Ze(f,S))return In(g);D-=X.top-K.viewOffset;for(var mt=0;mt<f.display.gutterSpecs.length;++mt){var pt=K.gutters.childNodes[mt];if(pt&&pt.getBoundingClientRect().right>=T)return xt(f,S,f,_n(f.doc,D),f.display.gutterSpecs[mt].className,g),In(g)}}function wc(f,g){return ol(f,g,"gutterClick",!0)}function gs(f,g){wi(f.display,g)||function(S,_){return!!Ze(S,"gutterContextMenu")&&ol(S,_,"gutterContextMenu",!1)}(f,g)||ce(f,g,"contextmenu")||jt||f.display.input.onContextMenu(g)}function Ls(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fr(f)}gf.prototype.compare=function(f,g,S){return this.time+Zf>f&&At(g,this.pos)==0&&S==this.button};var Uc={toString:function(){return"CodeMirror.Init"}},zc={},Xl={};function ai(f,g,S){if(!g!=!(S&&S!=Uc)){var _=f.display.dragFunctions,T=g?te:Xe;T(f.display.scroller,"dragstart",_.start),T(f.display.scroller,"dragenter",_.enter),T(f.display.scroller,"dragover",_.over),T(f.display.scroller,"dragleave",_.leave),T(f.display.scroller,"drop",_.drop)}}function vf(f){f.options.lineWrapping?(ir(f.display.wrapper,"CodeMirror-wrap"),f.display.sizer.style.minWidth="",f.display.sizerWidth=null):(Ht(f.display.wrapper,"CodeMirror-wrap"),Mo(f)),Oc(f),Ti(f),Fr(f),setTimeout(function(){return Hl(f)},100)}function Wo(f,g){var S=this;if(!(this instanceof Wo))return new Wo(f,g);this.options=g=g?Vr(g):{},Vr(zc,g,!1);var _=g.value;typeof _=="string"?_=new Ca(_,g.mode,null,g.lineSeparator,g.direction):g.mode&&(_.modeOption=g.mode),this.doc=_;var T=new Wo.inputStyles[g.inputStyle](this),D=this.display=new Ka(f,_,T,g);for(var K in D.wrapper.CodeMirror=this,Ls(this),g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ou(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new nt,keySeq:null,specialChars:null},g.autofocus&&!G&&D.input.focus(),I&&N<11&&setTimeout(function(){return S.display.input.reset(!0)},20),function(mt){var pt=mt.display;te(pt.scroller,"mousedown",Ho(mt,Xf)),te(pt.scroller,"dblclick",I&&N<11?Ho(mt,function(ze){if(!ce(mt,ze)){var er=gl(mt,ze);if(er&&!wc(mt,ze)&&!wi(mt.display,ze)){Yr(ze);var mr=mt.findWordAt(er);nu(mt.doc,mr.anchor,mr.head)}}}):function(ze){return ce(mt,ze)||Yr(ze)}),te(pt.scroller,"contextmenu",function(ze){return gs(mt,ze)}),te(pt.input.getField(),"contextmenu",function(ze){pt.scroller.contains(ze.target)||gs(mt,ze)});var Jt,ee={end:0};function xe(){pt.activeTouch&&(Jt=setTimeout(function(){return pt.activeTouch=null},1e3),(ee=pt.activeTouch).end=+new Date)}function ge(ze){if(ze.touches.length!=1)return!1;var er=ze.touches[0];return er.radiusX<=1&&er.radiusY<=1}function Ge(ze,er){if(er.left==null)return!0;var mr=er.left-ze.left,br=er.top-ze.top;return mr*mr+br*br>400}te(pt.scroller,"touchstart",function(ze){if(!ce(mt,ze)&&!ge(ze)&&!wc(mt,ze)){pt.input.ensurePolled(),clearTimeout(Jt);var er=+new Date;pt.activeTouch={start:er,moved:!1,prev:er-ee.end<=300?ee:null},ze.touches.length==1&&(pt.activeTouch.left=ze.touches[0].pageX,pt.activeTouch.top=ze.touches[0].pageY)}}),te(pt.scroller,"touchmove",function(){pt.activeTouch&&(pt.activeTouch.moved=!0)}),te(pt.scroller,"touchend",function(ze){var er=pt.activeTouch;if(er&&!wi(pt,ze)&&er.left!=null&&!er.moved&&new Date-er.start<300){var mr,br=mt.coordsChar(pt.activeTouch,"page");mr=!er.prev||Ge(er,er.prev)?new Co(br,br):!er.prev.prev||Ge(er,er.prev.prev)?mt.findWordAt(br):new Co(gr(br.line,0),Lr(mt.doc,gr(br.line+1,0))),mt.setSelection(mr.anchor,mr.head),mt.focus(),Yr(ze)}xe()}),te(pt.scroller,"touchcancel",xe),te(pt.scroller,"scroll",function(){pt.scroller.clientHeight&&(Ys(mt,pt.scroller.scrollTop),fs(mt,pt.scroller.scrollLeft,!0),xt(mt,"scroll",mt))}),te(pt.scroller,"mousewheel",function(ze){return hp(mt,ze)}),te(pt.scroller,"DOMMouseScroll",function(ze){return hp(mt,ze)}),te(pt.wrapper,"scroll",function(){return pt.wrapper.scrollTop=pt.wrapper.scrollLeft=0}),pt.dragFunctions={enter:function(ze){ce(mt,ze)||lo(ze)},over:function(ze){ce(mt,ze)||(function(er,mr){var br=gl(er,mr);if(br){var Ar=document.createDocumentFragment();Tc(er,br,Ar),er.display.dragCursor||(er.display.dragCursor=Bt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),er.display.lineSpace.insertBefore(er.display.dragCursor,er.display.cursorDiv)),St(er.display.dragCursor,Ar)}}(mt,ze),lo(ze))},start:function(ze){return function(er,mr){if(I&&(!er.state.draggingText||+new Date-Yl<100))lo(mr);else if(!ce(er,mr)&&!wi(er.display,mr)&&(mr.dataTransfer.setData("Text",er.getSelection()),mr.dataTransfer.effectAllowed="copyMove",mr.dataTransfer.setDragImage&&!Q)){var br=Bt("img",null,null,"position: fixed; left: 0; top: 0;");br.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$&&(br.width=br.height=1,er.display.wrapper.appendChild(br),br._top=br.offsetTop),mr.dataTransfer.setDragImage(br,0,0),$&&br.parentNode.removeChild(br)}}(mt,ze)},drop:Ho(mt,uf),leave:function(ze){ce(mt,ze)||yc(mt)}};var Ke=pt.input.getField();te(Ke,"keyup",function(ze){return Rc.call(mt,ze)}),te(Ke,"keydown",Ho(mt,yp)),te(Ke,"keypress",Ho(mt,hf)),te(Ke,"focus",function(ze){return yl(mt,ze)}),te(Ke,"blur",function(ze){return wa(mt,ze)})}(this),Ic(),_l(this),this.curOp.forceUpdate=!0,Rf(this,_),g.autofocus&&!G||this.hasFocus()?setTimeout(function(){S.hasFocus()&&!S.state.focused&&yl(S)},20):wa(this),Xl)Xl.hasOwnProperty(K)&&Xl[K](this,g[K],Uc);vc(this),g.finishInit&&g.finishInit(this);for(var X=0;X<Pl.length;++X)Pl[X](this);ps(this),W&&g.lineWrapping&&getComputedStyle(D.lineDiv).textRendering=="optimizelegibility"&&(D.lineDiv.style.textRendering="auto")}Wo.defaults=zc,Wo.optionHandlers=Xl;var Pl=[];function vs(f,g,S,_){var T,D=f.doc;S==null&&(S="add"),S=="smart"&&(D.mode.indent?T=jo(f,g).state:S="prev");var K=f.options.tabSize,X=rt(D,g),mt=Je(X.text,null,K);X.stateAfter&&(X.stateAfter=null);var pt,Jt=X.text.match(/^\s*/)[0];if(_||/\S/.test(X.text)){if(S=="smart"&&((pt=D.mode.indent(T,X.text.slice(Jt.length),X.text))==me||pt>150)){if(!_)return;S="prev"}}else pt=0,S="not";S=="prev"?pt=g>D.first?Je(rt(D,g-1).text,null,K):0:S=="add"?pt=mt+f.options.indentUnit:S=="subtract"?pt=mt-f.options.indentUnit:typeof S=="number"&&(pt=mt+S),pt=Math.max(0,pt);var ee="",xe=0;if(f.options.indentWithTabs)for(var ge=Math.floor(pt/K);ge;--ge)xe+=K,ee+="	";if(xe<pt&&(ee+=vr(pt-xe)),ee!=Jt)return tl(D,ee,gr(g,0),gr(g,Jt.length),"+input"),X.stateAfter=null,!0;for(var Ge=0;Ge<D.sel.ranges.length;Ge++){var Ke=D.sel.ranges[Ge];if(Ke.head.line==g&&Ke.head.ch<Jt.length){var ze=gr(g,Jt.length);Du(D,Ge,new Co(ze,ze));break}}}Wo.defineInitHook=function(f){return Pl.push(f)};var ms=null;function Wc(f){ms=f}function $c(f,g,S,_,T){var D=f.doc;f.display.shift=!1,_||(_=D.sel);var K=+new Date-200,X=T=="paste"||f.state.pasteIncoming>K,mt=wo(g),pt=null;if(X&&_.ranges.length>1)if(ms&&ms.text.join(`
`)==g){if(_.ranges.length%ms.text.length==0){pt=[];for(var Jt=0;Jt<ms.text.length;Jt++)pt.push(D.splitLines(ms.text[Jt]))}}else mt.length==_.ranges.length&&f.options.pasteLinesPerSelection&&(pt=Ir(mt,function(er){return[er]}));for(var ee=f.curOp.updateInput,xe=_.ranges.length-1;xe>=0;xe--){var ge=_.ranges[xe],Ge=ge.from(),Ke=ge.to();ge.empty()&&(S&&S>0?Ge=gr(Ge.line,Ge.ch-S):f.state.overwrite&&!X?Ke=gr(Ke.line,Math.min(rt(D,Ke.line).text.length,Ke.ch+Qe(mt).length)):X&&ms&&ms.lineWise&&ms.text.join(`
`)==mt.join(`
`)&&(Ge=Ke=gr(Ge.line,0)));var ze={from:Ge,to:Ke,text:pt?pt[xe%pt.length]:mt,origin:T||(X?"paste":f.state.cutIncoming>K?"cut":"+input")};jc(f.doc,ze),Vo(f,"inputRead",f,ze)}g&&!X&&Jl(f,g),hc(f),f.curOp.updateInput<2&&(f.curOp.updateInput=ee),f.curOp.typing=!0,f.state.pasteIncoming=f.state.cutIncoming=-1}function Jf(f,g){var S=f.clipboardData&&f.clipboardData.getData("Text");if(S)return f.preventDefault(),g.isReadOnly()||g.options.disableInput||!g.hasFocus()||Da(g,function(){return $c(g,S,0,null,"paste")}),!0}function Jl(f,g){if(f.options.electricChars&&f.options.smartIndent)for(var S=f.doc.sel,_=S.ranges.length-1;_>=0;_--){var T=S.ranges[_];if(!(T.head.ch>100||_&&S.ranges[_-1].head.line==T.head.line)){var D=f.getModeAt(T.head),K=!1;if(D.electricChars){for(var X=0;X<D.electricChars.length;X++)if(g.indexOf(D.electricChars.charAt(X))>-1){K=vs(f,T.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(rt(f.doc,T.head.line).text.slice(0,T.head.ch))&&(K=vs(f,T.head.line,"smart"));K&&Vo(f,"electricInput",f,T.head.line)}}}function Ya(f){for(var g=[],S=[],_=0;_<f.doc.sel.ranges.length;_++){var T=f.doc.sel.ranges[_].head.line,D={anchor:gr(T,0),head:gr(T+1,0)};S.push(D),g.push(f.getRange(D.anchor,D.head))}return{text:g,ranges:S}}function Fa(f,g,S,_){f.setAttribute("autocorrect",S?"":"off"),f.setAttribute("autocapitalize",_?"":"off"),f.setAttribute("spellcheck",!!g)}function _c(){var f=Bt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),g=Bt("div",[f],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return W?f.style.width="1000px":f.setAttribute("wrap","off"),et&&(f.style.border="1px solid black"),Fa(f),g}function Gc(f,g,S,_,T){var D=g,K=S,X=rt(f,g.line),mt=T&&f.direction=="rtl"?-S:S;function pt(er){var mr;if(_=="codepoint"){var br=X.text.charCodeAt(g.ch+(S>0?0:-1));if(isNaN(br))mr=null;else{var Ar=S>0?br>=55296&&br<56320:br>=56320&&br<57343;mr=new gr(g.line,Math.max(0,Math.min(X.text.length,g.ch+S*(Ar?2:1))),-S)}}else mr=T?function(Tr,Er,gn,Ur){var zn=$n(Er,Tr.doc.direction);if(!zn)return ff(Er,gn,Ur);gn.ch>=Er.text.length?(gn.ch=Er.text.length,gn.sticky="before"):gn.ch<=0&&(gn.ch=0,gn.sticky="after");var zr=He(zn,gn.ch,gn.sticky),qn=zn[zr];if(Tr.doc.direction=="ltr"&&qn.level%2==0&&(Ur>0?qn.to>gn.ch:qn.from<gn.ch))return ff(Er,gn,Ur);var mo,Yn=function(so,On){return Yf(Er,so instanceof gr?so.ch:so,On)},Zn=function(so){return Tr.options.lineWrapping?(mo=mo||Yi(Tr,Er),Ga(Tr,Er,mo,so)):{begin:0,end:Er.text.length}},ro=Zn(gn.sticky=="before"?Yn(gn,-1):gn.ch);if(Tr.doc.direction=="rtl"||qn.level==1){var Tn=qn.level==1==Ur<0,Rn=Yn(gn,Tn?1:-1);if(Rn!=null&&(Tn?Rn<=qn.to&&Rn<=ro.end:Rn>=qn.from&&Rn>=ro.begin)){var Kn=Tn?"before":"after";return new gr(gn.line,Rn,Kn)}}var kn=function(so,On,Za){for(var Sn=function(Oa,ys){return ys?new gr(gn.line,Yn(Oa,1),"before"):new gr(gn.line,Oa,"after")};so>=0&&so<zn.length;so+=On){var di=zn[so],zi=On>0==(di.level!=1),io=zi?Za.begin:Yn(Za.end,-1);if(di.from<=io&&io<di.to||(io=zi?di.from:Yn(di.to,-1),Za.begin<=io&&io<Za.end))return Sn(io,zi)}},si=kn(zr+Ur,Ur,ro);if(si)return si;var pi=Ur>0?ro.end:Yn(ro.begin,-1);return pi==null||Ur>0&&pi==Er.text.length||!(si=kn(Ur>0?0:zn.length-1,Ur,Zn(pi)))?null:si}(f.cm,X,g,S):ff(X,g,S);if(mr==null){if(er||!function(){var Tr=g.line+mt;return!(Tr<f.first||Tr>=f.first+f.size)&&(g=new gr(Tr,g.ch,g.sticky),X=rt(f,Tr))}())return!1;g=nl(T,f.cm,X,g.line,mt)}else g=mr;return!0}if(_=="char"||_=="codepoint")pt();else if(_=="column")pt(!0);else if(_=="word"||_=="group")for(var Jt=null,ee=_=="group",xe=f.cm&&f.cm.getHelper(g,"wordChars"),ge=!0;!(S<0)||pt(!ge);ge=!1){var Ge=X.text.charAt(g.ch)||`
`,Ke=Vt(Ge,xe)?"w":ee&&Ge==`
`?"n":!ee||/\s/.test(Ge)?null:"p";if(!ee||ge||Ke||(Ke="s"),Jt&&Jt!=Ke){S<0&&(S=1,pt(),g.sticky="after");break}if(Ke&&(Jt=Ke),S>0&&!pt(!ge))break}var ze=Nu(f,g,D,K,!0);return we(D,ze)&&(ze.hitSide=!0),ze}function Ql(f,g,S,_){var T,D,K=f.doc,X=g.left;if(_=="page"){var mt=Math.min(f.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),pt=Math.max(mt-.5*La(f.display),3);T=(S>0?g.bottom:g.top)+S*pt}else _=="line"&&(T=S>0?g.bottom+3:g.top-3);for(;(D=Nn(f,X,T)).outside;){if(S<0?T<=0:T>=K.height){D.hitSide=!0;break}T+=5*S}return D}var Oo=function(f){this.cm=f,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new nt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function xc(f,g){var S=Ri(f,g.line);if(!S||S.hidden)return null;var _=rt(f.doc,g.line),T=Es(S,_,g.line),D=$n(_,f.doc.direction),K="left";D&&(K=He(D,g.ch)%2?"right":"left");var X=de(T.map,g.ch,K);return X.offset=X.collapse=="right"?X.end:X.start,X}function tc(f,g){return g&&(f.bad=!0),f}function uu(f,g,S){var _;if(g==f.display.lineDiv){if(!(_=f.display.lineDiv.childNodes[S]))return tc(f.clipPos(gr(f.display.viewTo-1)),!0);g=null,S=0}else for(_=g;;_=_.parentNode){if(!_||_==f.display.lineDiv)return null;if(_.parentNode&&_.parentNode==f.display.lineDiv)break}for(var T=0;T<f.display.view.length;T++){var D=f.display.view[T];if(D.node==_)return Qf(D,g,S)}}function Qf(f,g,S){var _=f.text.firstChild,T=!1;if(!g||!pe(_,g))return tc(gr(Mr(f.line),0),!0);if(g==_&&(T=!0,g=_.childNodes[S],S=0,!g)){var D=f.rest?Qe(f.rest):f.line;return tc(gr(Mr(D),D.text.length),T)}var K=g.nodeType==3?g:null,X=g;for(K||g.childNodes.length!=1||g.firstChild.nodeType!=3||(K=g.firstChild,S&&(S=K.nodeValue.length));X.parentNode!=_;)X=X.parentNode;var mt=f.measure,pt=mt.maps;function Jt(ze,er,mr){for(var br=-1;br<(pt?pt.length:0);br++)for(var Ar=br<0?mt.map:pt[br],Tr=0;Tr<Ar.length;Tr+=3){var Er=Ar[Tr+2];if(Er==ze||Er==er){var gn=Mr(br<0?f.line:f.rest[br]),Ur=Ar[Tr]+mr;return(mr<0||Er!=ze)&&(Ur=Ar[Tr+(mr?1:0)]),gr(gn,Ur)}}}var ee=Jt(K,X,S);if(ee)return tc(ee,T);for(var xe=X.nextSibling,ge=K?K.nodeValue.length-S:0;xe;xe=xe.nextSibling){if(ee=Jt(xe,xe.firstChild,0))return tc(gr(ee.line,ee.ch-ge),T);ge+=xe.textContent.length}for(var Ge=X.previousSibling,Ke=S;Ge;Ge=Ge.previousSibling){if(ee=Jt(Ge,Ge.firstChild,-1))return tc(gr(ee.line,ee.ch+Ke),T);Ke+=Ge.textContent.length}}Oo.prototype.init=function(f){var g=this,S=this,_=S.cm,T=S.div=f.lineDiv;function D(X){for(var mt=X.target;mt;mt=mt.parentNode){if(mt==T)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(mt.className))break}return!1}function K(X){if(D(X)&&!ce(_,X)){if(_.somethingSelected())Wc({lineWise:!1,text:_.getSelections()}),X.type=="cut"&&_.replaceSelection("",null,"cut");else{if(!_.options.lineWiseCopyCut)return;var mt=Ya(_);Wc({lineWise:!0,text:mt.text}),X.type=="cut"&&_.operation(function(){_.setSelections(mt.ranges,0,Le),_.replaceSelection("",null,"cut")})}if(X.clipboardData){X.clipboardData.clearData();var pt=ms.text.join(`
`);if(X.clipboardData.setData("Text",pt),X.clipboardData.getData("Text")==pt)return void X.preventDefault()}var Jt=_c(),ee=Jt.firstChild;_.display.lineSpace.insertBefore(Jt,_.display.lineSpace.firstChild),ee.value=ms.text.join(`
`);var xe=Ae();Nr(ee),setTimeout(function(){_.display.lineSpace.removeChild(Jt),xe.focus(),xe==T&&S.showPrimarySelection()},50)}}T.contentEditable=!0,Fa(T,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize),te(T,"paste",function(X){!D(X)||ce(_,X)||Jf(X,_)||N<=11&&setTimeout(Ho(_,function(){return g.updateFromDOM()}),20)}),te(T,"compositionstart",function(X){g.composing={data:X.data,done:!1}}),te(T,"compositionupdate",function(X){g.composing||(g.composing={data:X.data,done:!1})}),te(T,"compositionend",function(X){g.composing&&(X.data!=g.composing.data&&g.readFromDOMSoon(),g.composing.done=!0)}),te(T,"touchstart",function(){return S.forceCompositionEnd()}),te(T,"input",function(){g.composing||g.readFromDOMSoon()}),te(T,"copy",K),te(T,"cut",K)},Oo.prototype.screenReaderLabelChanged=function(f){f?this.div.setAttribute("aria-label",f):this.div.removeAttribute("aria-label")},Oo.prototype.prepareSelection=function(){var f=pc(this.cm,!1);return f.focus=Ae()==this.div,f},Oo.prototype.showSelection=function(f,g){f&&this.cm.display.view.length&&((f.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(f))},Oo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Oo.prototype.showPrimarySelection=function(){var f=this.getSelection(),g=this.cm,S=g.doc.sel.primary(),_=S.from(),T=S.to();if(g.display.viewTo==g.display.viewFrom||_.line>=g.display.viewTo||T.line<g.display.viewFrom)f.removeAllRanges();else{var D=uu(g,f.anchorNode,f.anchorOffset),K=uu(g,f.focusNode,f.focusOffset);if(!D||D.bad||!K||K.bad||At(nn(D,K),_)!=0||At(Xr(D,K),T)!=0){var X=g.display.view,mt=_.line>=g.display.viewFrom&&xc(g,_)||{node:X[0].measure.map[2],offset:0},pt=T.line<g.display.viewTo&&xc(g,T);if(!pt){var Jt=X[X.length-1].measure,ee=Jt.maps?Jt.maps[Jt.maps.length-1]:Jt.map;pt={node:ee[ee.length-1],offset:ee[ee.length-2]-ee[ee.length-3]}}if(mt&&pt){var xe,ge=f.rangeCount&&f.getRangeAt(0);try{xe=Xt(mt.node,mt.offset,pt.offset,pt.node)}catch{}xe&&(!ht&&g.state.focused?(f.collapse(mt.node,mt.offset),xe.collapsed||(f.removeAllRanges(),f.addRange(xe))):(f.removeAllRanges(),f.addRange(xe)),ge&&f.anchorNode==null?f.addRange(ge):ht&&this.startGracePeriod()),this.rememberSelection()}else f.removeAllRanges()}}},Oo.prototype.startGracePeriod=function(){var f=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){f.gracePeriod=!1,f.selectionChanged()&&f.cm.operation(function(){return f.cm.curOp.selectionChanged=!0})},20)},Oo.prototype.showMultipleSelections=function(f){St(this.cm.display.cursorDiv,f.cursors),St(this.cm.display.selectionDiv,f.selection)},Oo.prototype.rememberSelection=function(){var f=this.getSelection();this.lastAnchorNode=f.anchorNode,this.lastAnchorOffset=f.anchorOffset,this.lastFocusNode=f.focusNode,this.lastFocusOffset=f.focusOffset},Oo.prototype.selectionInEditor=function(){var f=this.getSelection();if(!f.rangeCount)return!1;var g=f.getRangeAt(0).commonAncestorContainer;return pe(this.div,g)},Oo.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&Ae()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Oo.prototype.blur=function(){this.div.blur()},Oo.prototype.getField=function(){return this.div},Oo.prototype.supportsTouch=function(){return!0},Oo.prototype.receivedFocus=function(){var f=this,g=this;this.selectionInEditor()?setTimeout(function(){return f.pollSelection()},20):Da(this.cm,function(){return g.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function S(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,S))})},Oo.prototype.selectionChanged=function(){var f=this.getSelection();return f.anchorNode!=this.lastAnchorNode||f.anchorOffset!=this.lastAnchorOffset||f.focusNode!=this.lastFocusNode||f.focusOffset!=this.lastFocusOffset},Oo.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var f=this.getSelection(),g=this.cm;if(_t&&F&&this.cm.display.gutterSpecs.length&&function(T){for(var D=T;D;D=D.parentNode)if(/CodeMirror-gutter-wrapper/.test(D.className))return!0;return!1}(f.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var S=uu(g,f.anchorNode,f.anchorOffset),_=uu(g,f.focusNode,f.focusOffset);S&&_&&Da(g,function(){Pi(g.doc,mc(S,_),Le),(S.bad||_.bad)&&(g.curOp.selectionChanged=!0)})}}},Oo.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var f,g,S,_=this.cm,T=_.display,D=_.doc.sel.primary(),K=D.from(),X=D.to();if(K.ch==0&&K.line>_.firstLine()&&(K=gr(K.line-1,rt(_.doc,K.line-1).length)),X.ch==rt(_.doc,X.line).text.length&&X.line<_.lastLine()&&(X=gr(X.line+1,0)),K.line<T.viewFrom||X.line>T.viewTo-1)return!1;K.line==T.viewFrom||(f=Il(_,K.line))==0?(g=Mr(T.view[0].line),S=T.view[0].node):(g=Mr(T.view[f].line),S=T.view[f-1].node.nextSibling);var mt,pt,Jt=Il(_,X.line);if(Jt==T.view.length-1?(mt=T.viewTo-1,pt=T.lineDiv.lastChild):(mt=Mr(T.view[Jt+1].line)-1,pt=T.view[Jt+1].node.previousSibling),!S)return!1;for(var ee=_.doc.splitLines(function(gn,Ur,zn,zr,qn){var mo="",Yn=!1,Zn=gn.doc.lineSeparator(),ro=!1;function Tn(){Yn&&(mo+=Zn,ro&&(mo+=Zn),Yn=ro=!1)}function Rn(kn){kn&&(Tn(),mo+=kn)}function Kn(kn){if(kn.nodeType==1){var si=kn.getAttribute("cm-text");if(si)return void Rn(si);var pi,so=kn.getAttribute("cm-marker");if(so){var On=gn.findMarks(gr(zr,0),gr(qn+1,0),function(di){return function(zi){return zi.id==di}}(+so));return void(On.length&&(pi=On[0].find(0))&&Rn(Zt(gn.doc,pi.from,pi.to).join(Zn)))}if(kn.getAttribute("contenteditable")=="false")return;var Za=/^(pre|div|p|li|table|br)$/i.test(kn.nodeName);if(!/^br$/i.test(kn.nodeName)&&kn.textContent.length==0)return;Za&&Tn();for(var Sn=0;Sn<kn.childNodes.length;Sn++)Kn(kn.childNodes[Sn]);/^(pre|p)$/i.test(kn.nodeName)&&(ro=!0),Za&&(Yn=!0)}else kn.nodeType==3&&Rn(kn.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Kn(Ur),Ur!=zn;)Ur=Ur.nextSibling,ro=!1;return mo}(_,S,pt,g,mt)),xe=Zt(_.doc,gr(g,0),gr(mt,rt(_.doc,mt).text.length));ee.length>1&&xe.length>1;)if(Qe(ee)==Qe(xe))ee.pop(),xe.pop(),mt--;else{if(ee[0]!=xe[0])break;ee.shift(),xe.shift(),g++}for(var ge=0,Ge=0,Ke=ee[0],ze=xe[0],er=Math.min(Ke.length,ze.length);ge<er&&Ke.charCodeAt(ge)==ze.charCodeAt(ge);)++ge;for(var mr=Qe(ee),br=Qe(xe),Ar=Math.min(mr.length-(ee.length==1?ge:0),br.length-(xe.length==1?ge:0));Ge<Ar&&mr.charCodeAt(mr.length-Ge-1)==br.charCodeAt(br.length-Ge-1);)++Ge;if(ee.length==1&&xe.length==1&&g==K.line)for(;ge&&ge>K.ch&&mr.charCodeAt(mr.length-Ge-1)==br.charCodeAt(br.length-Ge-1);)ge--,Ge++;ee[ee.length-1]=mr.slice(0,mr.length-Ge).replace(/^\u200b+/,""),ee[0]=ee[0].slice(ge).replace(/\u200b+$/,"");var Tr=gr(g,ge),Er=gr(mt,xe.length?Qe(xe).length-Ge:0);return ee.length>1||ee[0]||At(Tr,Er)?(tl(_.doc,ee,Tr,Er,"+input"),!0):void 0},Oo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Oo.prototype.reset=function(){this.forceCompositionEnd()},Oo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Oo.prototype.readFromDOMSoon=function(){var f=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(f.readDOMTimeout=null,f.composing){if(!f.composing.done)return;f.composing=null}f.updateFromDOM()},80))},Oo.prototype.updateFromDOM=function(){var f=this;!this.cm.isReadOnly()&&this.pollContent()||Da(this.cm,function(){return Ti(f.cm)})},Oo.prototype.setUneditable=function(f){f.contentEditable="false"},Oo.prototype.onKeyPress=function(f){f.charCode==0||this.composing||(f.preventDefault(),this.cm.isReadOnly()||Ho(this.cm,$c)(this.cm,String.fromCharCode(f.charCode==null?f.keyCode:f.charCode),0))},Oo.prototype.readOnlyChanged=function(f){this.div.contentEditable=String(f!="nocursor")},Oo.prototype.onContextMenu=function(){},Oo.prototype.resetPosition=function(){},Oo.prototype.needsContentAttribute=!0;var qo=function(f){this.cm=f,this.prevInput="",this.pollingFast=!1,this.polling=new nt,this.hasSelection=!1,this.composing=null};qo.prototype.init=function(f){var g=this,S=this,_=this.cm;this.createField(f);var T=this.textarea;function D(K){if(!ce(_,K)){if(_.somethingSelected())Wc({lineWise:!1,text:_.getSelections()});else{if(!_.options.lineWiseCopyCut)return;var X=Ya(_);Wc({lineWise:!0,text:X.text}),K.type=="cut"?_.setSelections(X.ranges,null,Le):(S.prevInput="",T.value=X.text.join(`
`),Nr(T))}K.type=="cut"&&(_.state.cutIncoming=+new Date)}}f.wrapper.insertBefore(this.wrapper,f.wrapper.firstChild),et&&(T.style.width="0px"),te(T,"input",function(){I&&N>=9&&g.hasSelection&&(g.hasSelection=null),S.poll()}),te(T,"paste",function(K){ce(_,K)||Jf(K,_)||(_.state.pasteIncoming=+new Date,S.fastPoll())}),te(T,"cut",D),te(T,"copy",D),te(f.scroller,"paste",function(K){if(!wi(f,K)&&!ce(_,K)){if(!T.dispatchEvent)return _.state.pasteIncoming=+new Date,void S.focus();var X=new Event("paste");X.clipboardData=K.clipboardData,T.dispatchEvent(X)}}),te(f.lineSpace,"selectstart",function(K){wi(f,K)||Yr(K)}),te(T,"compositionstart",function(){var K=_.getCursor("from");S.composing&&S.composing.range.clear(),S.composing={start:K,range:_.markText(K,_.getCursor("to"),{className:"CodeMirror-composing"})}}),te(T,"compositionend",function(){S.composing&&(S.poll(),S.composing.range.clear(),S.composing=null)})},qo.prototype.createField=function(f){this.wrapper=_c(),this.textarea=this.wrapper.firstChild},qo.prototype.screenReaderLabelChanged=function(f){f?this.textarea.setAttribute("aria-label",f):this.textarea.removeAttribute("aria-label")},qo.prototype.prepareSelection=function(){var f=this.cm,g=f.display,S=f.doc,_=pc(f);if(f.options.moveInputWithCursor){var T=ur(f,S.sel.primary().head,"div"),D=g.wrapper.getBoundingClientRect(),K=g.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,T.top+K.top-D.top)),_.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,T.left+K.left-D.left))}return _},qo.prototype.showSelection=function(f){var g=this.cm.display;St(g.cursorDiv,f.cursors),St(g.selectionDiv,f.selection),f.teTop!=null&&(this.wrapper.style.top=f.teTop+"px",this.wrapper.style.left=f.teLeft+"px")},qo.prototype.reset=function(f){if(!this.contextMenuPending&&!this.composing){var g=this.cm;if(g.somethingSelected()){this.prevInput="";var S=g.getSelection();this.textarea.value=S,g.state.focused&&Nr(this.textarea),I&&N>=9&&(this.hasSelection=S)}else f||(this.prevInput=this.textarea.value="",I&&N>=9&&(this.hasSelection=null))}},qo.prototype.getField=function(){return this.textarea},qo.prototype.supportsTouch=function(){return!1},qo.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!G||Ae()!=this.textarea))try{this.textarea.focus()}catch{}},qo.prototype.blur=function(){this.textarea.blur()},qo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qo.prototype.receivedFocus=function(){this.slowPoll()},qo.prototype.slowPoll=function(){var f=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){f.poll(),f.cm.state.focused&&f.slowPoll()})},qo.prototype.fastPoll=function(){var f=!1,g=this;g.pollingFast=!0,g.polling.set(20,function S(){g.poll()||f?(g.pollingFast=!1,g.slowPoll()):(f=!0,g.polling.set(60,S))})},qo.prototype.poll=function(){var f=this,g=this.cm,S=this.textarea,_=this.prevInput;if(this.contextMenuPending||!g.state.focused||_o(S)&&!_&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var T=S.value;if(T==_&&!g.somethingSelected())return!1;if(I&&N>=9&&this.hasSelection===T||Ft&&/[\uf700-\uf7ff]/.test(T))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var D=T.charCodeAt(0);if(D!=8203||_||(_="​"),D==8666)return this.reset(),this.cm.execCommand("undo")}for(var K=0,X=Math.min(_.length,T.length);K<X&&_.charCodeAt(K)==T.charCodeAt(K);)++K;return Da(g,function(){$c(g,T.slice(K),_.length-K,null,f.composing?"*compose":null),T.length>1e3||T.indexOf(`
`)>-1?S.value=f.prevInput="":f.prevInput=T,f.composing&&(f.composing.range.clear(),f.composing.range=g.markText(f.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qo.prototype.onKeyPress=function(){I&&N>=9&&(this.hasSelection=null),this.fastPoll()},qo.prototype.onContextMenu=function(f){var g=this,S=g.cm,_=S.display,T=g.textarea;g.contextMenuPending&&g.contextMenuPending();var D=gl(S,f),K=_.scroller.scrollTop;if(D&&!$){S.options.resetSelectionOnContextMenu&&S.doc.sel.contains(D)==-1&&Ho(S,Pi)(S.doc,mc(D),Le);var X,mt=T.style.cssText,pt=g.wrapper.style.cssText,Jt=g.wrapper.offsetParent.getBoundingClientRect();if(g.wrapper.style.cssText="position: static",T.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(f.clientY-Jt.top-5)+"px; left: "+(f.clientX-Jt.left-5)+`px;
      z-index: 1000; background: `+(I?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,W&&(X=window.scrollY),_.input.focus(),W&&window.scrollTo(null,X),_.input.reset(),S.somethingSelected()||(T.value=g.prevInput=" "),g.contextMenuPending=ge,_.selForContextMenu=S.doc.sel,clearTimeout(_.detectingSelectAll),I&&N>=9&&xe(),jt){lo(f);var ee=function(){Xe(window,"mouseup",ee),setTimeout(ge,20)};te(window,"mouseup",ee)}else setTimeout(ge,50)}function xe(){if(T.selectionStart!=null){var Ge=S.somethingSelected(),Ke="​"+(Ge?T.value:"");T.value="⇚",T.value=Ke,g.prevInput=Ge?"":"​",T.selectionStart=1,T.selectionEnd=Ke.length,_.selForContextMenu=S.doc.sel}}function ge(){if(g.contextMenuPending==ge&&(g.contextMenuPending=!1,g.wrapper.style.cssText=pt,T.style.cssText=mt,I&&N<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=K),T.selectionStart!=null)){(!I||I&&N<9)&&xe();var Ge=0,Ke=function(){_.selForContextMenu==S.doc.sel&&T.selectionStart==0&&T.selectionEnd>0&&g.prevInput=="​"?Ho(S,Lc)(S):Ge++<10?_.detectingSelectAll=setTimeout(Ke,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Ke,200)}}},qo.prototype.readOnlyChanged=function(f){f||this.reset(),this.textarea.disabled=f=="nocursor",this.textarea.readOnly=!!f},qo.prototype.setUneditable=function(){},qo.prototype.needsContentAttribute=!1,function(f){var g=f.optionHandlers;function S(_,T,D,K){f.defaults[_]=T,D&&(g[_]=K?function(X,mt,pt){pt!=Uc&&D(X,mt,pt)}:D)}f.defineOption=S,f.Init=Uc,S("value","",function(_,T){return _.setValue(T)},!0),S("mode",null,function(_,T){_.doc.modeOption=T,Pc(_)},!0),S("indentUnit",2,Pc,!0),S("indentWithTabs",!1),S("smartIndent",!0),S("tabSize",4,function(_){kc(_),Fr(_),Ti(_)},!0),S("lineSeparator",null,function(_,T){if(_.doc.lineSep=T,T){var D=[],K=_.doc.first;_.doc.iter(function(mt){for(var pt=0;;){var Jt=mt.text.indexOf(T,pt);if(Jt==-1)break;pt=Jt+T.length,D.push(gr(K,Jt))}K++});for(var X=D.length-1;X>=0;X--)tl(_.doc,T,D[X],gr(D[X].line,D[X].ch+T.length))}}),S("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(_,T,D){_.state.specialChars=new RegExp(T.source+(T.test("	")?"":"|	"),"g"),D!=Uc&&_.refresh()}),S("specialCharPlaceholder",ii,function(_){return _.refresh()},!0),S("electricChars",!0),S("inputStyle",G?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),S("spellcheck",!1,function(_,T){return _.getInputField().spellcheck=T},!0),S("autocorrect",!1,function(_,T){return _.getInputField().autocorrect=T},!0),S("autocapitalize",!1,function(_,T){return _.getInputField().autocapitalize=T},!0),S("rtlMoveVisually",!Lt),S("wholeLineUpdateBefore",!0),S("theme","default",function(_){Ls(_),Mu(_)},!0),S("keyMap","default",function(_,T,D){var K=Na(T),X=D!=Uc&&Na(D);X&&X.detach&&X.detach(_,K),K.attach&&K.attach(_,X||null)}),S("extraKeys",null),S("configureMouse",null),S("lineWrapping",!1,vf,!0),S("gutters",[],function(_,T){_.display.gutterSpecs=Au(T,_.options.lineNumbers),Mu(_)},!0),S("fixedGutter",!0,function(_,T){_.display.gutters.style.left=T?uc(_.display)+"px":"0",_.refresh()},!0),S("coverGutterNextToScrollbar",!1,function(_){return Hl(_)},!0),S("scrollbarStyle","native",function(_){Ou(_),Hl(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),S("lineNumbers",!1,function(_,T){_.display.gutterSpecs=Au(_.options.gutters,T),Mu(_)},!0),S("firstLineNumber",1,Mu,!0),S("lineNumberFormatter",function(_){return _},Mu,!0),S("showCursorWhenSelecting",!1,ml,!0),S("resetSelectionOnContextMenu",!0),S("lineWiseCopyCut",!0),S("pasteLinesPerSelection",!0),S("selectionsMayTouch",!1),S("readOnly",!1,function(_,T){T=="nocursor"&&(wa(_),_.display.input.blur()),_.display.input.readOnlyChanged(T)}),S("screenReaderLabel",null,function(_,T){T=T===""?null:T,_.display.input.screenReaderLabelChanged(T)}),S("disableInput",!1,function(_,T){T||_.display.input.reset()},!0),S("dragDrop",!0,ai),S("allowDropFileTypes",null),S("cursorBlinkRate",530),S("cursorScrollMargin",0),S("cursorHeight",1,ml,!0),S("singleCursorHeightPerLine",!0,ml,!0),S("workTime",100),S("workDelay",100),S("flattenSpans",!0,kc,!0),S("addModeClass",!1,kc,!0),S("pollInterval",100),S("undoDepth",200,function(_,T){return _.doc.history.undoDepth=T}),S("historyEventDelay",1250),S("viewportMargin",10,function(_){return _.refresh()},!0),S("maxHighlightLength",1e4,kc,!0),S("moveInputWithCursor",!0,function(_,T){T||_.display.input.resetPosition()}),S("tabindex",null,function(_,T){return _.display.input.getField().tabIndex=T||""}),S("autofocus",null),S("direction","ltr",function(_,T){return _.doc.setDirection(T)},!0),S("phrases",null)}(Wo),function(f){var g=f.optionHandlers,S=f.helpers={};f.prototype={constructor:f,focus:function(){window.focus(),this.display.input.focus()},setOption:function(_,T){var D=this.options,K=D[_];D[_]==T&&_!="mode"||(D[_]=T,g.hasOwnProperty(_)&&Ho(this,g[_])(this,T,K),xt(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,T){this.state.keyMaps[T?"push":"unshift"](Na(_))},removeKeyMap:function(_){for(var T=this.state.keyMaps,D=0;D<T.length;++D)if(T[D]==_||T[D].name==_)return T.splice(D,1),!0},addOverlay:Ei(function(_,T){var D=_.token?_:f.getMode(this.options,_);if(D.startState)throw new Error("Overlays may not be stateful.");(function(K,X,mt){for(var pt=0,Jt=mt(X);pt<K.length&&mt(K[pt])<=Jt;)pt++;K.splice(pt,0,X)})(this.state.overlays,{mode:D,modeSpec:_,opaque:T&&T.opaque,priority:T&&T.priority||0},function(K){return K.priority}),this.state.modeGen++,Ti(this)}),removeOverlay:Ei(function(_){for(var T=this.state.overlays,D=0;D<T.length;++D){var K=T[D].modeSpec;if(K==_||typeof _=="string"&&K.name==_)return T.splice(D,1),this.state.modeGen++,void Ti(this)}}),indentLine:Ei(function(_,T,D){typeof T!="string"&&typeof T!="number"&&(T=T==null?this.options.smartIndent?"smart":"prev":T?"add":"subtract"),Vn(this.doc,_)&&vs(this,_,T,D)}),indentSelection:Ei(function(_){for(var T=this.doc.sel.ranges,D=-1,K=0;K<T.length;K++){var X=T[K];if(X.empty())X.head.line>D&&(vs(this,X.head.line,_,!0),D=X.head.line,K==this.doc.sel.primIndex&&hc(this));else{var mt=X.from(),pt=X.to(),Jt=Math.max(D,mt.line);D=Math.min(this.lastLine(),pt.line-(pt.ch?0:1))+1;for(var ee=Jt;ee<D;++ee)vs(this,ee,_);var xe=this.doc.sel.ranges;mt.ch==0&&T.length==xe.length&&xe[K].from().ch>0&&Du(this.doc,K,new Co(mt,xe[K].to()),Le)}}}),getTokenAt:function(_,T){return Rs(this,_,T)},getLineTokens:function(_,T){return Rs(this,gr(_),T,!0)},getTokenTypeAt:function(_){_=Lr(this.doc,_);var T,D=Vs(this,rt(this.doc,_.line)),K=0,X=(D.length-1)/2,mt=_.ch;if(mt==0)T=D[2];else for(;;){var pt=K+X>>1;if((pt?D[2*pt-1]:0)>=mt)X=pt;else{if(!(D[2*pt+1]<mt)){T=D[2*pt+2];break}K=pt+1}}var Jt=T?T.indexOf("overlay "):-1;return Jt<0?T:Jt==0?null:T.slice(0,Jt-1)},getModeAt:function(_){var T=this.doc.mode;return T.innerMode?f.innerMode(T,this.getTokenAt(_).state).mode:T},getHelper:function(_,T){return this.getHelpers(_,T)[0]},getHelpers:function(_,T){var D=[];if(!S.hasOwnProperty(T))return D;var K=S[T],X=this.getModeAt(_);if(typeof X[T]=="string")K[X[T]]&&D.push(K[X[T]]);else if(X[T])for(var mt=0;mt<X[T].length;mt++){var pt=K[X[T][mt]];pt&&D.push(pt)}else X.helperType&&K[X.helperType]?D.push(K[X.helperType]):K[X.name]&&D.push(K[X.name]);for(var Jt=0;Jt<K._global.length;Jt++){var ee=K._global[Jt];ee.pred(X,this)&&Et(D,ee.val)==-1&&D.push(ee.val)}return D},getStateAfter:function(_,T){var D=this.doc;return jo(this,(_=xn(D,_??D.first+D.size-1))+1,T).state},cursorCoords:function(_,T){var D=this.doc.sel.primary();return ur(this,_==null?D.head:typeof _=="object"?Lr(this.doc,_):_?D.from():D.to(),T||"page")},charCoords:function(_,T){return Fe(this,Lr(this.doc,_),T||"page")},coordsChar:function(_,T){return Nn(this,(_=qe(this,_,T||"page")).left,_.top)},lineAtHeight:function(_,T){return _=qe(this,{top:_,left:0},T||"page").top,_n(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,T,D){var K,X=!1;if(typeof _=="number"){var mt=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>mt&&(_=mt,X=!0),K=rt(this.doc,_)}else K=_;return be(this,K,{top:0,left:0},T||"page",D||X).top+(X?this.doc.height-Ni(K):0)},defaultTextHeight:function(){return La(this.display)},defaultCharWidth:function(){return Hi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,T,D,K,X){var mt=this.display,pt=(_=ur(this,Lr(this.doc,_))).bottom,Jt=_.left;if(T.style.position="absolute",T.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(T),mt.sizer.appendChild(T),K=="over")pt=_.top;else if(K=="above"||K=="near"){var ee=Math.max(mt.wrapper.clientHeight,this.doc.height),xe=Math.max(mt.sizer.clientWidth,mt.lineSpace.clientWidth);(K=="above"||_.bottom+T.offsetHeight>ee)&&_.top>T.offsetHeight?pt=_.top-T.offsetHeight:_.bottom+T.offsetHeight<=ee&&(pt=_.bottom),Jt+T.offsetWidth>xe&&(Jt=xe-T.offsetWidth)}T.style.top=pt+"px",T.style.left=T.style.right="",X=="right"?(Jt=mt.sizer.clientWidth-T.offsetWidth,T.style.right="0px"):(X=="left"?Jt=0:X=="middle"&&(Jt=(mt.sizer.clientWidth-T.offsetWidth)/2),T.style.left=Jt+"px"),D&&function(ge,Ge){var Ke=Ps(ge,Ge);Ke.scrollTop!=null&&Ys(ge,Ke.scrollTop),Ke.scrollLeft!=null&&fs(ge,Ke.scrollLeft)}(this,{left:Jt,top:pt,right:Jt+T.offsetWidth,bottom:pt+T.offsetHeight})},triggerOnKeyDown:Ei(yp),triggerOnKeyPress:Ei(hf),triggerOnKeyUp:Rc,triggerOnMouseDown:Ei(Xf),execCommand:function(_){if(Tl.hasOwnProperty(_))return Tl[_].call(null,this)},triggerElectric:Ei(function(_){Jl(this,_)}),findPosH:function(_,T,D,K){var X=1;T<0&&(X=-1,T=-T);for(var mt=Lr(this.doc,_),pt=0;pt<T&&!(mt=Gc(this.doc,mt,X,D,K)).hitSide;++pt);return mt},moveH:Ei(function(_,T){var D=this;this.extendSelectionsBy(function(K){return D.display.shift||D.doc.extend||K.empty()?Gc(D.doc,K.head,_,T,D.options.rtlMoveVisually):_<0?K.from():K.to()},ue)}),deleteH:Ei(function(_,T){var D=this.doc.sel,K=this.doc;D.somethingSelected()?K.replaceSelection("",null,"+delete"):bc(this,function(X){var mt=Gc(K,X.head,_,T,!1);return _<0?{from:mt,to:X.head}:{from:X.head,to:mt}})}),findPosV:function(_,T,D,K){var X=1,mt=K;T<0&&(X=-1,T=-T);for(var pt=Lr(this.doc,_),Jt=0;Jt<T;++Jt){var ee=ur(this,pt,"div");if(mt==null?mt=ee.left:ee.left=mt,(pt=Ql(this,ee,X,D)).hitSide)break}return pt},moveV:Ei(function(_,T){var D=this,K=this.doc,X=[],mt=!this.display.shift&&!K.extend&&K.sel.somethingSelected();if(K.extendSelectionsBy(function(Jt){if(mt)return _<0?Jt.from():Jt.to();var ee=ur(D,Jt.head,"div");Jt.goalColumn!=null&&(ee.left=Jt.goalColumn),X.push(ee.left);var xe=Ql(D,ee,_,T);return T=="page"&&Jt==K.sel.primary()&&Zc(D,Fe(D,xe,"div").top-ee.top),xe},ue),X.length)for(var pt=0;pt<K.sel.ranges.length;pt++)K.sel.ranges[pt].goalColumn=X[pt]}),findWordAt:function(_){var T=rt(this.doc,_.line).text,D=_.ch,K=_.ch;if(T){var X=this.getHelper(_,"wordChars");_.sticky!="before"&&K!=T.length||!D?++K:--D;for(var mt=T.charAt(D),pt=Vt(mt,X)?function(Jt){return Vt(Jt,X)}:/\s/.test(mt)?function(Jt){return/\s/.test(Jt)}:function(Jt){return!/\s/.test(Jt)&&!Vt(Jt)};D>0&&pt(T.charAt(D-1));)--D;for(;K<T.length&&pt(T.charAt(K));)++K}return new Co(gr(_.line,D),gr(_.line,K))},toggleOverwrite:function(_){_!=null&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ir(this.display.cursorDiv,"CodeMirror-overwrite"):Ht(this.display.cursorDiv,"CodeMirror-overwrite"),xt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ae()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ei(function(_,T){Ks(this,_,T)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-_i(this)-this.display.barHeight,width:_.scrollWidth-_i(this)-this.display.barWidth,clientHeight:$a(this),clientWidth:ca(this)}},scrollIntoView:Ei(function(_,T){_==null?(_={from:this.doc.sel.primary().head,to:null},T==null&&(T=this.options.cursorScrollMargin)):typeof _=="number"?_={from:gr(_,0),to:null}:_.from==null&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=T||0,_.from.line!=null?function(D,K){Xc(D),D.curOp.scrollToPos=K}(this,_):Vl(this,_.from,_.to,_.margin)}),setSize:Ei(function(_,T){var D=this,K=function(mt){return typeof mt=="number"||/^\d+$/.test(String(mt))?mt+"px":mt};_!=null&&(this.display.wrapper.style.width=K(_)),T!=null&&(this.display.wrapper.style.height=K(T)),this.options.lineWrapping&&fr(this);var X=this.display.viewFrom;this.doc.iter(X,this.display.viewTo,function(mt){if(mt.widgets){for(var pt=0;pt<mt.widgets.length;pt++)if(mt.widgets[pt].noHScroll){$s(D,X,"widget");break}}++X}),this.curOp.forceUpdate=!0,xt(this,"refresh",this)}),operation:function(_){return Da(this,_)},startOperation:function(){return _l(this)},endOperation:function(){return ps(this)},refresh:Ei(function(){var _=this.display.cachedTextHeight;Ti(this),this.curOp.forceUpdate=!0,Fr(this),Ks(this,this.doc.scrollLeft,this.doc.scrollTop),ks(this.display),(_==null||Math.abs(_-La(this.display))>.5||this.options.lineWrapping)&&Oc(this),xt(this,"refresh",this)}),swapDoc:Ei(function(_){var T=this.doc;return T.cm=null,this.state.selectingText&&this.state.selectingText(),Rf(this,_),Fr(this),this.display.input.reset(),Ks(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,Vo(this,"swapDoc",this,T),T}),phrase:function(_){var T=this.options.phrases;return T&&Object.prototype.hasOwnProperty.call(T,_)?T[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xr(f),f.registerHelper=function(_,T,D){S.hasOwnProperty(_)||(S[_]=f[_]={_global:[]}),S[_][T]=D},f.registerGlobalHelper=function(_,T,D,K){f.registerHelper(_,T,K),S[_]._global.push({pred:D,val:K})}}(Wo);var fu="iter insert remove copy getEditor constructor".split(" ");for(var pu in Ca.prototype)Ca.prototype.hasOwnProperty(pu)&&Et(fu,pu)<0&&(Wo.prototype[pu]=function(f){return function(){return f.apply(this.doc,arguments)}}(Ca.prototype[pu]));return xr(Ca),Wo.inputStyles={textarea:qo,contenteditable:Oo},Wo.defineMode=function(f){Wo.defaults.mode||f=="null"||(Wo.defaults.mode=f),eo.apply(this,arguments)},Wo.defineMIME=function(f,g){ni[f]=g},Wo.defineMode("null",function(){return{token:function(f){return f.skipToEnd()}}}),Wo.defineMIME("text/plain","null"),Wo.defineExtension=function(f,g){Wo.prototype[f]=g},Wo.defineDocExtension=function(f,g){Ca.prototype[f]=g},Wo.fromTextArea=function(f,g){if((g=g?Vr(g):{}).value=f.value,!g.tabindex&&f.tabIndex&&(g.tabindex=f.tabIndex),!g.placeholder&&f.placeholder&&(g.placeholder=f.placeholder),g.autofocus==null){var S=Ae();g.autofocus=S==f||f.getAttribute("autofocus")!=null&&S==document.body}function _(){f.value=X.getValue()}var T;if(f.form&&(te(f.form,"submit",_),!g.leaveSubmitMethodAlone)){var D=f.form;T=D.submit;try{var K=D.submit=function(){_(),D.submit=T,D.submit(),D.submit=K}}catch{}}g.finishInit=function(mt){mt.save=_,mt.getTextArea=function(){return f},mt.toTextArea=function(){mt.toTextArea=isNaN,_(),f.parentNode.removeChild(mt.getWrapperElement()),f.style.display="",f.form&&(Xe(f.form,"submit",_),g.leaveSubmitMethodAlone||typeof f.form.submit!="function"||(f.form.submit=T))}},f.style.display="none";var X=Wo(function(mt){return f.parentNode.insertBefore(mt,f.nextSibling)},g);return X},function(f){f.off=Xe,f.on=te,f.wheelEventPixels=Lu,f.Doc=Ca,f.splitLines=wo,f.countColumn=Je,f.findColumn=se,f.isWordChar=fe,f.Pass=me,f.signal=xt,f.Line=Pn,f.changeEnd=xl,f.scrollbarModel=dp,f.Pos=gr,f.cmpPos=At,f.modes=Ao,f.mimeModes=ni,f.resolveMode=Wr,f.getMode=vo,f.modeExtensions=po,f.extendMode=oi,f.copyState=un,f.startState=Ci,f.innerMode=Zo,f.commands=Tl,f.keyMap=Xi,f.keyName=su,f.isModifierKey=Fc,f.lookupKey=el,f.normalizeKeyMap=Kf,f.StringStream=Bn,f.SharedTextMarker=ki,f.TextMarker=ql,f.LineWidget=ou,f.e_preventDefault=Yr,f.e_stopPropagation=Un,f.e_stop=lo,f.addClass=ir,f.contains=pe,f.rmClass=Ht,f.keyNames=Ms}(Wo),Wo.version="5.65.6",Wo}()},629:(k,H,ft)=>{(function(ht){function dt(jt){for(var Rt={},Xt=0;Xt<jt.length;++Xt)Rt[jt[Xt].toLowerCase()]=!0;return Rt}ht.defineMode("css",function(jt,Rt){var Xt=Rt.inline;Rt.propertyKeywords||(Rt=ht.resolveMode("text/css"));var Ht,It,St=jt.indentUnit,Bt=Rt.tokenHooks,Me=Rt.documentTypes||{},pe=Rt.mediaTypes||{},Ae=Rt.mediaFeatures||{},ir=Rt.mediaValueKeywords||{},Or=Rt.propertyKeywords||{},Nr=Rt.nonStandardPropertyKeywords||{},Dr=Rt.fontProperties||{},Vr=Rt.counterDescriptors||{},Je=Rt.colorKeywords||{},nt=Rt.valueKeywords||{},Et=Rt.allowNested,qt=Rt.lineComment,me=Rt.supportsAtComponent===!0,Le=jt.highlightNonStandardPropertyKeywords!==!1;function lt(Vt,Ce){return Ht=Ce,Vt}function ue(Vt,Ce){var Yt=Vt.next();if(Bt[Yt]){var pr=Bt[Yt](Vt,Ce);if(pr!==!1)return pr}return Yt=="@"?(Vt.eatWhile(/[\w\\\-]/),lt("def",Vt.current())):Yt=="="||(Yt=="~"||Yt=="|")&&Vt.eat("=")?lt(null,"compare"):Yt=='"'||Yt=="'"?(Ce.tokenize=se(Yt),Ce.tokenize(Vt,Ce)):Yt=="#"?(Vt.eatWhile(/[\w\\\-]/),lt("atom","hash")):Yt=="!"?(Vt.match(/^\s*\w*/),lt("keyword","important")):/\d/.test(Yt)||Yt=="."&&Vt.eat(/\d/)?(Vt.eatWhile(/[\w.%]/),lt("number","unit")):Yt!=="-"?/[,+>*\/]/.test(Yt)?lt(null,"select-op"):Yt=="."&&Vt.match(/^-?[_a-z][_a-z0-9-]*/i)?lt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Yt)?lt(null,Yt):Vt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Vt.current())&&(Ce.tokenize=nr),lt("variable callee","variable")):/[\w\\\-]/.test(Yt)?(Vt.eatWhile(/[\w\\\-]/),lt("property","word")):lt(null,null):/[\d.]/.test(Vt.peek())?(Vt.eatWhile(/[\w.%]/),lt("number","unit")):Vt.match(/^-[\w\\\-]*/)?(Vt.eatWhile(/[\w\\\-]/),Vt.match(/^\s*:/,!1)?lt("variable-2","variable-definition"):lt("variable-2","variable")):Vt.match(/^\w+-/)?lt("meta","meta"):void 0}function se(Vt){return function(Ce,Yt){for(var pr,dr=!1;(pr=Ce.next())!=null;){if(pr==Vt&&!dr){Vt==")"&&Ce.backUp(1);break}dr=!dr&&pr=="\\"}return(pr==Vt||!dr&&Vt!=")")&&(Yt.tokenize=null),lt("string","string")}}function nr(Vt,Ce){return Vt.next(),Vt.match(/^\s*[\"\')]/,!1)?Ce.tokenize=null:Ce.tokenize=se(")"),lt(null,"(")}function vr(Vt,Ce,Yt){this.type=Vt,this.indent=Ce,this.prev=Yt}function Qe(Vt,Ce,Yt,pr){return Vt.context=new vr(Yt,Ce.indentation()+(pr===!1?0:St),Vt.context),Yt}function Ir(Vt){return Vt.context.prev&&(Vt.context=Vt.context.prev),Vt.context.type}function rn(Vt,Ce,Yt){return fe[Yt.context.type](Vt,Ce,Yt)}function vt(Vt,Ce,Yt,pr){for(var dr=pr||1;dr>0;dr--)Yt.context=Yt.context.prev;return rn(Vt,Ce,Yt)}function Wt(Vt){var Ce=Vt.current().toLowerCase();It=nt.hasOwnProperty(Ce)?"atom":Je.hasOwnProperty(Ce)?"keyword":"variable"}var fe={top:function(Vt,Ce,Yt){if(Vt=="{")return Qe(Yt,Ce,"block");if(Vt=="}"&&Yt.context.prev)return Ir(Yt);if(me&&/@component/i.test(Vt))return Qe(Yt,Ce,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Vt))return Qe(Yt,Ce,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Vt))return Qe(Yt,Ce,"atBlock");if(/^@(font-face|counter-style)/i.test(Vt))return Yt.stateArg=Vt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Vt))return"keyframes";if(Vt&&Vt.charAt(0)=="@")return Qe(Yt,Ce,"at");if(Vt=="hash")It="builtin";else if(Vt=="word")It="tag";else{if(Vt=="variable-definition")return"maybeprop";if(Vt=="interpolation")return Qe(Yt,Ce,"interpolation");if(Vt==":")return"pseudo";if(Et&&Vt=="(")return Qe(Yt,Ce,"parens")}return Yt.context.type},block:function(Vt,Ce,Yt){if(Vt=="word"){var pr=Ce.current().toLowerCase();return Or.hasOwnProperty(pr)?(It="property","maybeprop"):Nr.hasOwnProperty(pr)?(It=Le?"string-2":"property","maybeprop"):Et?(It=Ce.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(It+=" error","maybeprop")}return Vt=="meta"?"block":Et||Vt!="hash"&&Vt!="qualifier"?fe.top(Vt,Ce,Yt):(It="error","block")},maybeprop:function(Vt,Ce,Yt){return Vt==":"?Qe(Yt,Ce,"prop"):rn(Vt,Ce,Yt)},prop:function(Vt,Ce,Yt){if(Vt==";")return Ir(Yt);if(Vt=="{"&&Et)return Qe(Yt,Ce,"propBlock");if(Vt=="}"||Vt=="{")return vt(Vt,Ce,Yt);if(Vt=="(")return Qe(Yt,Ce,"parens");if(Vt!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Ce.current())){if(Vt=="word")Wt(Ce);else if(Vt=="interpolation")return Qe(Yt,Ce,"interpolation")}else It+=" error";return"prop"},propBlock:function(Vt,Ce,Yt){return Vt=="}"?Ir(Yt):Vt=="word"?(It="property","maybeprop"):Yt.context.type},parens:function(Vt,Ce,Yt){return Vt=="{"||Vt=="}"?vt(Vt,Ce,Yt):Vt==")"?Ir(Yt):Vt=="("?Qe(Yt,Ce,"parens"):Vt=="interpolation"?Qe(Yt,Ce,"interpolation"):(Vt=="word"&&Wt(Ce),"parens")},pseudo:function(Vt,Ce,Yt){return Vt=="meta"?"pseudo":Vt=="word"?(It="variable-3",Yt.context.type):rn(Vt,Ce,Yt)},documentTypes:function(Vt,Ce,Yt){return Vt=="word"&&Me.hasOwnProperty(Ce.current())?(It="tag",Yt.context.type):fe.atBlock(Vt,Ce,Yt)},atBlock:function(Vt,Ce,Yt){if(Vt=="(")return Qe(Yt,Ce,"atBlock_parens");if(Vt=="}"||Vt==";")return vt(Vt,Ce,Yt);if(Vt=="{")return Ir(Yt)&&Qe(Yt,Ce,Et?"block":"top");if(Vt=="interpolation")return Qe(Yt,Ce,"interpolation");if(Vt=="word"){var pr=Ce.current().toLowerCase();It=pr=="only"||pr=="not"||pr=="and"||pr=="or"?"keyword":pe.hasOwnProperty(pr)?"attribute":Ae.hasOwnProperty(pr)?"property":ir.hasOwnProperty(pr)?"keyword":Or.hasOwnProperty(pr)?"property":Nr.hasOwnProperty(pr)?Le?"string-2":"property":nt.hasOwnProperty(pr)?"atom":Je.hasOwnProperty(pr)?"keyword":"error"}return Yt.context.type},atComponentBlock:function(Vt,Ce,Yt){return Vt=="}"?vt(Vt,Ce,Yt):Vt=="{"?Ir(Yt)&&Qe(Yt,Ce,Et?"block":"top",!1):(Vt=="word"&&(It="error"),Yt.context.type)},atBlock_parens:function(Vt,Ce,Yt){return Vt==")"?Ir(Yt):Vt=="{"||Vt=="}"?vt(Vt,Ce,Yt,2):fe.atBlock(Vt,Ce,Yt)},restricted_atBlock_before:function(Vt,Ce,Yt){return Vt=="{"?Qe(Yt,Ce,"restricted_atBlock"):Vt=="word"&&Yt.stateArg=="@counter-style"?(It="variable","restricted_atBlock_before"):rn(Vt,Ce,Yt)},restricted_atBlock:function(Vt,Ce,Yt){return Vt=="}"?(Yt.stateArg=null,Ir(Yt)):Vt=="word"?(It=Yt.stateArg=="@font-face"&&!Dr.hasOwnProperty(Ce.current().toLowerCase())||Yt.stateArg=="@counter-style"&&!Vr.hasOwnProperty(Ce.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Vt,Ce,Yt){return Vt=="word"?(It="variable","keyframes"):Vt=="{"?Qe(Yt,Ce,"top"):rn(Vt,Ce,Yt)},at:function(Vt,Ce,Yt){return Vt==";"?Ir(Yt):Vt=="{"||Vt=="}"?vt(Vt,Ce,Yt):(Vt=="word"?It="tag":Vt=="hash"&&(It="builtin"),"at")},interpolation:function(Vt,Ce,Yt){return Vt=="}"?Ir(Yt):Vt=="{"||Vt==";"?vt(Vt,Ce,Yt):(Vt=="word"?It="variable":Vt!="variable"&&Vt!="("&&Vt!=")"&&(It="error"),"interpolation")}};return{startState:function(Vt){return{tokenize:null,state:Xt?"block":"top",stateArg:null,context:new vr(Xt?"block":"top",Vt||0,null)}},token:function(Vt,Ce){if(!Ce.tokenize&&Vt.eatSpace())return null;var Yt=(Ce.tokenize||ue)(Vt,Ce);return Yt&&typeof Yt=="object"&&(Ht=Yt[1],Yt=Yt[0]),It=Yt,Ht!="comment"&&(Ce.state=fe[Ce.state](Ht,Vt,Ce)),It},indent:function(Vt,Ce){var Yt=Vt.context,pr=Ce&&Ce.charAt(0),dr=Yt.indent;return Yt.type!="prop"||pr!="}"&&pr!=")"||(Yt=Yt.prev),Yt.prev&&(pr!="}"||Yt.type!="block"&&Yt.type!="top"&&Yt.type!="interpolation"&&Yt.type!="restricted_atBlock"?(pr!=")"||Yt.type!="parens"&&Yt.type!="atBlock_parens")&&(pr!="{"||Yt.type!="at"&&Yt.type!="atBlock")||(dr=Math.max(0,Yt.indent-St)):dr=(Yt=Yt.prev).indent),dr},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:qt,fold:"brace"}});var B=["domain","regexp","url","url-prefix"],V=dt(B),I=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],N=dt(I),W=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],R=dt(W),F=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],U=dt(F),$=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],Q=dt($),J=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],Tt=dt(J),et=dt(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),_t=dt(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),G=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Ft=dt(G),$t=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Lt=dt($t),ve=B.concat(I).concat(W).concat(F).concat($).concat(J).concat(G).concat($t);function bt(jt,Rt){for(var Xt,Ht=!1;(Xt=jt.next())!=null;){if(Ht&&Xt=="/"){Rt.tokenize=null;break}Ht=Xt=="*"}return["comment","comment"]}ht.registerHelper("hintWords","css",ve),ht.defineMIME("text/css",{documentTypes:V,mediaTypes:N,mediaFeatures:R,mediaValueKeywords:U,propertyKeywords:Q,nonStandardPropertyKeywords:Tt,fontProperties:et,counterDescriptors:_t,colorKeywords:Ft,valueKeywords:Lt,tokenHooks:{"/":function(jt,Rt){return!!jt.eat("*")&&(Rt.tokenize=bt,bt(jt,Rt))}},name:"css"}),ht.defineMIME("text/x-scss",{mediaTypes:N,mediaFeatures:R,mediaValueKeywords:U,propertyKeywords:Q,nonStandardPropertyKeywords:Tt,colorKeywords:Ft,valueKeywords:Lt,fontProperties:et,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(jt,Rt){return jt.eat("/")?(jt.skipToEnd(),["comment","comment"]):jt.eat("*")?(Rt.tokenize=bt,bt(jt,Rt)):["operator","operator"]},":":function(jt){return!!jt.match(/^\s*\{/,!1)&&[null,null]},$:function(jt){return jt.match(/^[\w-]+/),jt.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(jt){return!!jt.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),ht.defineMIME("text/x-less",{mediaTypes:N,mediaFeatures:R,mediaValueKeywords:U,propertyKeywords:Q,nonStandardPropertyKeywords:Tt,colorKeywords:Ft,valueKeywords:Lt,fontProperties:et,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(jt,Rt){return jt.eat("/")?(jt.skipToEnd(),["comment","comment"]):jt.eat("*")?(Rt.tokenize=bt,bt(jt,Rt)):["operator","operator"]},"@":function(jt){return jt.eat("{")?[null,"interpolation"]:!jt.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(jt.eatWhile(/[\w\\\-]/),jt.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ht.defineMIME("text/x-gss",{documentTypes:V,mediaTypes:N,mediaFeatures:R,propertyKeywords:Q,nonStandardPropertyKeywords:Tt,fontProperties:et,counterDescriptors:_t,colorKeywords:Ft,valueKeywords:Lt,supportsAtComponent:!0,tokenHooks:{"/":function(jt,Rt){return!!jt.eat("*")&&(Rt.tokenize=bt,bt(jt,Rt))}},name:"css",helperType:"gss"})})(ft(631))},531:(k,H,ft)=>{(function(ht){var dt={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},B={};function V(R,F){var U=R.match(function($){return B[$]||(B[$]=new RegExp("\\s+"+$+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}(F));return U?/^\s*(.*?)\s*$/.exec(U[2])[1]:""}function I(R,F){return new RegExp((F?"^":"")+"</\\s*"+R+"\\s*>","i")}function N(R,F){for(var U in R)for(var $=F[U]||(F[U]=[]),Q=R[U],J=Q.length-1;J>=0;J--)$.unshift(Q[J])}function W(R,F){for(var U=0;U<R.length;U++){var $=R[U];if(!$[0]||$[1].test(V(F,$[0])))return $[2]}}ht.defineMode("htmlmixed",function(R,F){var U=ht.getMode(R,{name:"xml",htmlMode:!0,multilineTagIndentFactor:F.multilineTagIndentFactor,multilineTagIndentPastTag:F.multilineTagIndentPastTag,allowMissingTagName:F.allowMissingTagName}),$={},Q=F&&F.tags,J=F&&F.scriptTypes;if(N(dt,$),Q&&N(Q,$),J)for(var Tt=J.length-1;Tt>=0;Tt--)$.script.unshift(["type",J[Tt].matches,J[Tt].mode]);function et(_t,G){var Ft,$t=U.token(_t,G.htmlState),Lt=/\btag\b/.test($t);if(Lt&&!/[<>\s\/]/.test(_t.current())&&(Ft=G.htmlState.tagName&&G.htmlState.tagName.toLowerCase())&&$.hasOwnProperty(Ft))G.inTag=Ft+" ";else if(G.inTag&&Lt&&/>$/.test(_t.current())){var ve=/^([\S]+) (.*)/.exec(G.inTag);G.inTag=null;var bt=_t.current()==">"&&W($[ve[1]],ve[2]),jt=ht.getMode(R,bt),Rt=I(ve[1],!0),Xt=I(ve[1],!1);G.token=function(Ht,It){return Ht.match(Rt,!1)?(It.token=et,It.localState=It.localMode=null,null):function(St,Bt,Me){var pe=St.current(),Ae=pe.search(Bt);return Ae>-1?St.backUp(pe.length-Ae):pe.match(/<\/?$/)&&(St.backUp(pe.length),St.match(Bt,!1)||St.match(pe)),Me}(Ht,Xt,It.localMode.token(Ht,It.localState))},G.localMode=jt,G.localState=ht.startState(jt,U.indent(G.htmlState,"",""))}else G.inTag&&(G.inTag+=_t.current(),_t.eol()&&(G.inTag+=" "));return $t}return{startState:function(){return{token:et,inTag:null,localMode:null,localState:null,htmlState:ht.startState(U)}},copyState:function(_t){var G;return _t.localState&&(G=ht.copyState(_t.localMode,_t.localState)),{token:_t.token,inTag:_t.inTag,localMode:_t.localMode,localState:G,htmlState:ht.copyState(U,_t.htmlState)}},token:function(_t,G){return G.token(_t,G)},indent:function(_t,G,Ft){return!_t.localMode||/^\s*<\//.test(G)?U.indent(_t.htmlState,G,Ft):_t.localMode.indent?_t.localMode.indent(_t.localState,G,Ft):ht.Pass},innerMode:function(_t){return{state:_t.localState||_t.htmlState,mode:_t.localMode||U}}}},"xml","javascript","css"),ht.defineMIME("text/html","htmlmixed")})(ft(631),ft(589),ft(876),ft(629))},876:(k,H,ft)=>{(function(ht){ht.defineMode("javascript",function(dt,B){var V,I,N=dt.indentUnit,W=B.statementIndent,R=B.jsonld,F=B.json||R,U=B.trackScope!==!1,$=B.typescript,Q=B.wordCharacters||/[\w$\xa1-\uffff]/,J=function(){function At(Ln){return{type:Ln,style:"keyword"}}var we=At("keyword a"),cr=At("keyword b"),Xr=At("keyword c"),nn=At("keyword d"),xn=At("operator"),Lr={type:"atom",style:"atom"};return{if:At("if"),while:we,with:we,else:cr,do:cr,try:cr,finally:cr,return:nn,break:nn,continue:nn,new:At("new"),delete:Xr,void:Xr,throw:Xr,debugger:At("debugger"),var:At("var"),const:At("var"),let:At("var"),function:At("function"),catch:At("catch"),for:At("for"),switch:At("switch"),case:At("case"),default:At("default"),in:xn,typeof:xn,instanceof:xn,true:Lr,false:Lr,null:Lr,undefined:Lr,NaN:Lr,Infinity:Lr,this:At("this"),class:At("class"),super:At("atom"),yield:Xr,export:At("export"),import:At("import"),extends:Xr,await:Xr}}(),Tt=/[+\-*&%=<>!?|~^@]/,et=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function _t(At,we,cr){return V=At,I=cr,we}function G(At,we){var cr=At.next();if(cr=='"'||cr=="'")return we.tokenize=function(xn){return function(Lr,Ln){var xo,Uo=!1;if(R&&Lr.peek()=="@"&&Lr.match(et))return Ln.tokenize=G,_t("jsonld-keyword","meta");for(;(xo=Lr.next())!=null&&(xo!=xn||Uo);)Uo=!Uo&&xo=="\\";return Uo||(Ln.tokenize=G),_t("string","string")}}(cr),we.tokenize(At,we);if(cr=="."&&At.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return _t("number","number");if(cr=="."&&At.match(".."))return _t("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(cr))return _t(cr);if(cr=="="&&At.eat(">"))return _t("=>","operator");if(cr=="0"&&At.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return _t("number","number");if(/\d/.test(cr))return At.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),_t("number","number");if(cr=="/")return At.eat("*")?(we.tokenize=Ft,Ft(At,we)):At.eat("/")?(At.skipToEnd(),_t("comment","comment")):gr(At,we,1)?(function(xn){for(var Lr,Ln=!1,xo=!1;(Lr=xn.next())!=null;){if(!Ln){if(Lr=="/"&&!xo)return;Lr=="["?xo=!0:xo&&Lr=="]"&&(xo=!1)}Ln=!Ln&&Lr=="\\"}}(At),At.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),_t("regexp","string-2")):(At.eat("="),_t("operator","operator",At.current()));if(cr=="`")return we.tokenize=$t,$t(At,we);if(cr=="#"&&At.peek()=="!")return At.skipToEnd(),_t("meta","meta");if(cr=="#"&&At.eatWhile(Q))return _t("variable","property");if(cr=="<"&&At.match("!--")||cr=="-"&&At.match("->")&&!/\S/.test(At.string.slice(0,At.start)))return At.skipToEnd(),_t("comment","comment");if(Tt.test(cr))return cr==">"&&we.lexical&&we.lexical.type==">"||(At.eat("=")?cr!="!"&&cr!="="||At.eat("="):/[<>*+\-|&?]/.test(cr)&&(At.eat(cr),cr==">"&&At.eat(cr))),cr=="?"&&At.eat(".")?_t("."):_t("operator","operator",At.current());if(Q.test(cr)){At.eatWhile(Q);var Xr=At.current();if(we.lastType!="."){if(J.propertyIsEnumerable(Xr)){var nn=J[Xr];return _t(nn.type,nn.style,Xr)}if(Xr=="async"&&At.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return _t("async","keyword",Xr)}return _t("variable","variable",Xr)}}function Ft(At,we){for(var cr,Xr=!1;cr=At.next();){if(cr=="/"&&Xr){we.tokenize=G;break}Xr=cr=="*"}return _t("comment","comment")}function $t(At,we){for(var cr,Xr=!1;(cr=At.next())!=null;){if(!Xr&&(cr=="`"||cr=="$"&&At.eat("{"))){we.tokenize=G;break}Xr=!Xr&&cr=="\\"}return _t("quasi","string-2",At.current())}var Lt="([{}])";function ve(At,we){we.fatArrowAt&&(we.fatArrowAt=null);var cr=At.string.indexOf("=>",At.start);if(!(cr<0)){if($){var Xr=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(At.string.slice(At.start,cr));Xr&&(cr=Xr.index)}for(var nn=0,xn=!1,Lr=cr-1;Lr>=0;--Lr){var Ln=At.string.charAt(Lr),xo=Lt.indexOf(Ln);if(xo>=0&&xo<3){if(!nn){++Lr;break}if(--nn==0){Ln=="("&&(xn=!0);break}}else if(xo>=3&&xo<6)++nn;else if(Q.test(Ln))xn=!0;else if(/["'\/`]/.test(Ln))for(;;--Lr){if(Lr==0)return;if(At.string.charAt(Lr-1)==Ln&&At.string.charAt(Lr-2)!="\\"){Lr--;break}}else if(xn&&!nn){++Lr;break}}xn&&!nn&&(we.fatArrowAt=Lr)}}var bt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function jt(At,we,cr,Xr,nn,xn){this.indented=At,this.column=we,this.type=cr,this.prev=nn,this.info=xn,Xr!=null&&(this.align=Xr)}function Rt(At,we){if(!U)return!1;for(var cr=At.localVars;cr;cr=cr.next)if(cr.name==we)return!0;for(var Xr=At.context;Xr;Xr=Xr.prev)for(cr=Xr.vars;cr;cr=cr.next)if(cr.name==we)return!0}function Xt(At,we,cr,Xr,nn){var xn=At.cc;for(Ht.state=At,Ht.stream=nn,Ht.marked=null,Ht.cc=xn,Ht.style=we,At.lexical.hasOwnProperty("align")||(At.lexical.align=!0);;)if((xn.length?xn.pop():F?lt:me)(cr,Xr)){for(;xn.length&&xn[xn.length-1].lex;)xn.pop()();return Ht.marked?Ht.marked:cr=="variable"&&Rt(At,Xr)?"variable-2":we}}var Ht={state:null,column:null,marked:null,cc:null};function It(){for(var At=arguments.length-1;At>=0;At--)Ht.cc.push(arguments[At])}function St(){return It.apply(null,arguments),!0}function Bt(At,we){for(var cr=we;cr;cr=cr.next)if(cr.name==At)return!0;return!1}function Me(At){var we=Ht.state;if(Ht.marked="def",U){if(we.context){if(we.lexical.info=="var"&&we.context&&we.context.block){var cr=pe(At,we.context);if(cr!=null)return void(we.context=cr)}else if(!Bt(At,we.localVars))return void(we.localVars=new Or(At,we.localVars))}B.globalVars&&!Bt(At,we.globalVars)&&(we.globalVars=new Or(At,we.globalVars))}}function pe(At,we){if(we){if(we.block){var cr=pe(At,we.prev);return cr?cr==we.prev?we:new ir(cr,we.vars,!0):null}return Bt(At,we.vars)?we:new ir(we.prev,new Or(At,we.vars),!1)}return null}function Ae(At){return At=="public"||At=="private"||At=="protected"||At=="abstract"||At=="readonly"}function ir(At,we,cr){this.prev=At,this.vars=we,this.block=cr}function Or(At,we){this.name=At,this.next=we}var Nr=new Or("this",new Or("arguments",null));function Dr(){Ht.state.context=new ir(Ht.state.context,Ht.state.localVars,!1),Ht.state.localVars=Nr}function Vr(){Ht.state.context=new ir(Ht.state.context,Ht.state.localVars,!0),Ht.state.localVars=null}function Je(){Ht.state.localVars=Ht.state.context.vars,Ht.state.context=Ht.state.context.prev}function nt(At,we){var cr=function(){var Xr=Ht.state,nn=Xr.indented;if(Xr.lexical.type=="stat")nn=Xr.lexical.indented;else for(var xn=Xr.lexical;xn&&xn.type==")"&&xn.align;xn=xn.prev)nn=xn.indented;Xr.lexical=new jt(nn,Ht.stream.column(),At,null,Xr.lexical,we)};return cr.lex=!0,cr}function Et(){var At=Ht.state;At.lexical.prev&&(At.lexical.type==")"&&(At.indented=At.lexical.indented),At.lexical=At.lexical.prev)}function qt(At){return function we(cr){return cr==At?St():At==";"||cr=="}"||cr==")"||cr=="]"?It():St(we)}}function me(At,we){return At=="var"?St(nt("vardef",we),Qn,qt(";"),Et):At=="keyword a"?St(nt("form"),se,me,Et):At=="keyword b"?St(nt("form"),me,Et):At=="keyword d"?Ht.stream.match(/^\s*$/,!1)?St():St(nt("stat"),vr,qt(";"),Et):At=="debugger"?St(qt(";")):At=="{"?St(nt("}"),Vr,$n,Et,Je):At==";"?St():At=="if"?(Ht.state.lexical.info=="else"&&Ht.state.cc[Ht.state.cc.length-1]==Et&&Ht.state.cc.pop()(),St(nt("form"),se,me,Et,wo)):At=="function"?St(Ao):At=="for"?St(nt("form"),Vr,_o,me,Je,Et):At=="class"||$&&we=="interface"?(Ht.marked="keyword",St(nt("form",At=="class"?At:we),po,Et)):At=="variable"?$&&we=="declare"?(Ht.marked="keyword",St(me)):$&&(we=="module"||we=="enum"||we=="type")&&Ht.stream.match(/^\s*\w/,!1)?(Ht.marked="keyword",we=="enum"?St(Vn):we=="type"?St(eo,qt("operator"),xt,qt(";")):St(nt("form"),Fn,qt("{"),nt("}"),$n,Et,Et)):$&&we=="namespace"?(Ht.marked="keyword",St(nt("form"),lt,me,Et)):$&&we=="abstract"?(Ht.marked="keyword",St(me)):St(nt("stat"),Yt):At=="switch"?St(nt("form"),se,qt("{"),nt("}","switch"),Vr,$n,Et,Et,Je):At=="case"?St(lt,qt(":")):At=="default"?St(qt(":")):At=="catch"?St(nt("form"),Dr,Le,me,Et,Je):At=="export"?St(nt("stat"),Ci,Et):At=="import"?St(nt("stat"),rt,Et):At=="async"?St(me):we=="@"?St(lt,me):It(nt("stat"),lt,qt(";"),Et)}function Le(At){if(At=="(")return St(Wr,qt(")"))}function lt(At,we){return nr(At,we,!1)}function ue(At,we){return nr(At,we,!0)}function se(At){return At!="("?It():St(nt(")"),vr,qt(")"),Et)}function nr(At,we,cr){if(Ht.state.fatArrowAt==Ht.stream.start){var Xr=cr?fe:Wt;if(At=="(")return St(Dr,nt(")"),He(Wr,")"),Et,qt("=>"),Xr,Je);if(At=="variable")return It(Dr,Fn,qt("=>"),Xr,Je)}var nn=cr?Ir:Qe;return bt.hasOwnProperty(At)?St(nn):At=="function"?St(Ao,nn):At=="class"||$&&we=="interface"?(Ht.marked="keyword",St(nt("form"),vo,Et)):At=="keyword c"||At=="async"?St(cr?ue:lt):At=="("?St(nt(")"),vr,qt(")"),Et,nn):At=="operator"||At=="spread"?St(cr?ue:lt):At=="["?St(nt("]"),_n,Et,nn):At=="{"?pn(dr,"}",null,nn):At=="quasi"?It(rn,nn):At=="new"?St(function(xn){return function(Lr){return Lr=="."?St(xn?Ce:Vt):Lr=="variable"&&$?St(lo,xn?Ir:Qe):It(xn?ue:lt)}}(cr)):St()}function vr(At){return At.match(/[;\}\)\],]/)?It():It(lt)}function Qe(At,we){return At==","?St(vr):Ir(At,we,!1)}function Ir(At,we,cr){var Xr=cr==0?Qe:Ir,nn=cr==0?lt:ue;return At=="=>"?St(Dr,cr?fe:Wt,Je):At=="operator"?/\+\+|--/.test(we)||$&&we=="!"?St(Xr):$&&we=="<"&&Ht.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?St(nt(">"),He(xt,">"),Et,Xr):we=="?"?St(lt,qt(":"),nn):St(nn):At=="quasi"?It(rn,Xr):At!=";"?At=="("?pn(ue,")","call",Xr):At=="."?St(pr,Xr):At=="["?St(nt("]"),vr,qt("]"),Et,Xr):$&&we=="as"?(Ht.marked="keyword",St(xt,Xr)):At=="regexp"?(Ht.state.lastType=Ht.marked="operator",Ht.stream.backUp(Ht.stream.pos-Ht.stream.start-1),St(nn)):void 0:void 0}function rn(At,we){return At!="quasi"?It():we.slice(we.length-2)!="${"?St(rn):St(vr,vt)}function vt(At){if(At=="}")return Ht.marked="string-2",Ht.state.tokenize=$t,St(rn)}function Wt(At){return ve(Ht.stream,Ht.state),It(At=="{"?me:lt)}function fe(At){return ve(Ht.stream,Ht.state),It(At=="{"?me:ue)}function Vt(At,we){if(we=="target")return Ht.marked="keyword",St(Qe)}function Ce(At,we){if(we=="target")return Ht.marked="keyword",St(Ir)}function Yt(At){return At==":"?St(Et,me):It(Qe,qt(";"),Et)}function pr(At){if(At=="variable")return Ht.marked="property",St()}function dr(At,we){return At=="async"?(Ht.marked="property",St(dr)):At=="variable"||Ht.style=="keyword"?(Ht.marked="property",we=="get"||we=="set"?St(on):($&&Ht.state.fatArrowAt==Ht.stream.start&&(cr=Ht.stream.match(/^\s*:\s*/,!1))&&(Ht.state.fatArrowAt=Ht.stream.pos+cr[0].length),St(Kr))):At=="number"||At=="string"?(Ht.marked=R?"property":Ht.style+" property",St(Kr)):At=="jsonld-keyword"?St(Kr):$&&Ae(we)?(Ht.marked="keyword",St(dr)):At=="["?St(lt,Ut,qt("]"),Kr):At=="spread"?St(ue,Kr):we=="*"?(Ht.marked="keyword",St(dr)):At==":"?It(Kr):void 0;var cr}function on(At){return At!="variable"?It(Kr):(Ht.marked="property",St(Ao))}function Kr(At){return At==":"?St(ue):At=="("?It(Ao):void 0}function He(At,we,cr){function Xr(nn,xn){if(cr?cr.indexOf(nn)>-1:nn==","){var Lr=Ht.state.lexical;return Lr.info=="call"&&(Lr.pos=(Lr.pos||0)+1),St(function(Ln,xo){return Ln==we||xo==we?It():It(At)},Xr)}return nn==we||xn==we?St():cr&&cr.indexOf(";")>-1?It(At):St(qt(we))}return function(nn,xn){return nn==we||xn==we?St():It(At,Xr)}}function pn(At,we,cr){for(var Xr=3;Xr<arguments.length;Xr++)Ht.cc.push(arguments[Xr]);return St(nt(we,cr),He(At,we),Et)}function $n(At){return At=="}"?St():It(me,$n)}function Ut(At,we){if($){if(At==":")return St(xt);if(we=="?")return St(Ut)}}function te(At,we){if($&&(At==":"||we=="in"))return St(xt)}function je(At){if($&&At==":")return Ht.stream.match(/^\s*\w+\s+is\b/,!1)?St(lt,Xe,xt):St(xt)}function Xe(At,we){if(we=="is")return Ht.marked="keyword",St()}function xt(At,we){return we=="keyof"||we=="typeof"||we=="infer"||we=="readonly"?(Ht.marked="keyword",St(we=="typeof"?ue:xt)):At=="variable"||we=="void"?(Ht.marked="type",St(In)):we=="|"||we=="&"?St(xt):At=="string"||At=="number"||At=="atom"?St(In):At=="["?St(nt("]"),He(xt,"]",","),Et,In):At=="{"?St(nt("}"),ke,Et,In):At=="("?St(He(Un,")"),ce,In):At=="<"?St(He(xt,">"),xt):At=="quasi"?It(xr,In):void 0}function ce(At){if(At=="=>")return St(xt)}function ke(At){return At.match(/[\}\)\]]/)?St():At==","||At==";"?St(ke):It(Ze,ke)}function Ze(At,we){return At=="variable"||Ht.style=="keyword"?(Ht.marked="property",St(Ze)):we=="?"||At=="number"||At=="string"?St(Ze):At==":"?St(xt):At=="["?St(qt("variable"),te,qt("]"),Ze):At=="("?It(ni,Ze):At.match(/[;\}\)\],]/)?void 0:St()}function xr(At,we){return At!="quasi"?It():we.slice(we.length-2)!="${"?St(xr):St(xt,Yr)}function Yr(At){if(At=="}")return Ht.marked="string-2",Ht.state.tokenize=$t,St(xr)}function Un(At,we){return At=="variable"&&Ht.stream.match(/^\s*[?:]/,!1)||we=="?"?St(Un):At==":"?St(xt):At=="spread"?St(Un):It(xt)}function In(At,we){return we=="<"?St(nt(">"),He(xt,">"),Et,In):we=="|"||At=="."||we=="&"?St(xt):At=="["?St(xt,qt("]"),In):we=="extends"||we=="implements"?(Ht.marked="keyword",St(xt)):we=="?"?St(xt,qt(":"),xt):void 0}function lo(At,we){if(we=="<")return St(nt(">"),He(xt,">"),Et,In)}function uo(){return It(xt,yn)}function yn(At,we){if(we=="=")return St(xt)}function Qn(At,we){return we=="enum"?(Ht.marked="keyword",St(Vn)):It(Fn,Ut,Bo,bo)}function Fn(At,we){return $&&Ae(we)?(Ht.marked="keyword",St(Fn)):At=="variable"?(Me(we),St()):At=="spread"?St(Fn):At=="["?pn(fo,"]"):At=="{"?pn(Qo,"}"):void 0}function Qo(At,we){return At!="variable"||Ht.stream.match(/^\s*:/,!1)?(At=="variable"&&(Ht.marked="property"),At=="spread"?St(Fn):At=="}"?It():At=="["?St(lt,qt("]"),qt(":"),Qo):St(qt(":"),Fn,Bo)):(Me(we),St(Bo))}function fo(){return It(Fn,Bo)}function Bo(At,we){if(we=="=")return St(ue)}function bo(At){if(At==",")return St(Qn)}function wo(At,we){if(At=="keyword b"&&we=="else")return St(nt("form","else"),me,Et)}function _o(At,we){return we=="await"?St(_o):At=="("?St(nt(")"),va,Et):void 0}function va(At){return At=="var"?St(Qn,$o):At=="variable"?St($o):It($o)}function $o(At,we){return At==")"?St():At==";"?St($o):we=="in"||we=="of"?(Ht.marked="keyword",St(lt,$o)):It(lt,$o)}function Ao(At,we){return we=="*"?(Ht.marked="keyword",St(Ao)):At=="variable"?(Me(we),St(Ao)):At=="("?St(Dr,nt(")"),He(Wr,")"),Et,je,me,Je):$&&we=="<"?St(nt(">"),He(uo,">"),Et,Ao):void 0}function ni(At,we){return we=="*"?(Ht.marked="keyword",St(ni)):At=="variable"?(Me(we),St(ni)):At=="("?St(Dr,nt(")"),He(Wr,")"),Et,je,Je):$&&we=="<"?St(nt(">"),He(uo,">"),Et,ni):void 0}function eo(At,we){return At=="keyword"||At=="variable"?(Ht.marked="type",St(eo)):we=="<"?St(nt(">"),He(uo,">"),Et):void 0}function Wr(At,we){return we=="@"&&St(lt,Wr),At=="spread"?St(Wr):$&&Ae(we)?(Ht.marked="keyword",St(Wr)):$&&At=="this"?St(Ut,Bo):It(Fn,Ut,Bo)}function vo(At,we){return At=="variable"?po(At,we):oi(At,we)}function po(At,we){if(At=="variable")return Me(we),St(oi)}function oi(At,we){return we=="<"?St(nt(">"),He(uo,">"),Et,oi):we=="extends"||we=="implements"||$&&At==","?(we=="implements"&&(Ht.marked="keyword"),St($?xt:lt,oi)):At=="{"?St(nt("}"),un,Et):void 0}function un(At,we){return At=="async"||At=="variable"&&(we=="static"||we=="get"||we=="set"||$&&Ae(we))&&Ht.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ht.marked="keyword",St(un)):At=="variable"||Ht.style=="keyword"?(Ht.marked="property",St(Zo,un)):At=="number"||At=="string"?St(Zo,un):At=="["?St(lt,Ut,qt("]"),Zo,un):we=="*"?(Ht.marked="keyword",St(un)):$&&At=="("?It(ni,un):At==";"||At==","?St(un):At=="}"?St():we=="@"?St(lt,un):void 0}function Zo(At,we){if(we=="!"||we=="?")return St(Zo);if(At==":")return St(xt,Bo);if(we=="=")return St(ue);var cr=Ht.state.lexical.prev;return It(cr&&cr.info=="interface"?ni:Ao)}function Ci(At,we){return we=="*"?(Ht.marked="keyword",St(Mr,qt(";"))):we=="default"?(Ht.marked="keyword",St(lt,qt(";"))):At=="{"?St(He(Bn,"}"),Mr,qt(";")):It(me)}function Bn(At,we){return we=="as"?(Ht.marked="keyword",St(qt("variable"))):At=="variable"?It(ue,Bn):void 0}function rt(At){return At=="string"?St():At=="("?It(lt):At=="."?It(Qe):It(Zt,ar,Mr)}function Zt(At,we){return At=="{"?pn(Zt,"}"):(At=="variable"&&Me(we),we=="*"&&(Ht.marked="keyword"),St(hr))}function ar(At){if(At==",")return St(Zt,ar)}function hr(At,we){if(we=="as")return Ht.marked="keyword",St(Zt)}function Mr(At,we){if(we=="from")return Ht.marked="keyword",St(lt)}function _n(At){return At=="]"?St():It(He(ue,"]"))}function Vn(){return It(nt("form"),Fn,qt("{"),nt("}"),He(Jr,"}"),Et,Et)}function Jr(){return It(Fn,Bo)}function gr(At,we,cr){return we.tokenize==G&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(we.lastType)||we.lastType=="quasi"&&/\{\s*$/.test(At.string.slice(0,At.pos-(cr||0)))}return Dr.lex=Vr.lex=!0,Je.lex=!0,Et.lex=!0,{startState:function(At){var we={tokenize:G,lastType:"sof",cc:[],lexical:new jt((At||0)-N,0,"block",!1),localVars:B.localVars,context:B.localVars&&new ir(null,null,!1),indented:At||0};return B.globalVars&&typeof B.globalVars=="object"&&(we.globalVars=B.globalVars),we},token:function(At,we){if(At.sol()&&(we.lexical.hasOwnProperty("align")||(we.lexical.align=!1),we.indented=At.indentation(),ve(At,we)),we.tokenize!=Ft&&At.eatSpace())return null;var cr=we.tokenize(At,we);return V=="comment"?cr:(we.lastType=V!="operator"||I!="++"&&I!="--"?V:"incdec",Xt(we,cr,V,I,At))},indent:function(At,we){if(At.tokenize==Ft||At.tokenize==$t)return ht.Pass;if(At.tokenize!=G)return 0;var cr,Xr=we&&we.charAt(0),nn=At.lexical;if(!/^\s*else\b/.test(we))for(var xn=At.cc.length-1;xn>=0;--xn){var Lr=At.cc[xn];if(Lr==Et)nn=nn.prev;else if(Lr!=wo&&Lr!=Je)break}for(;(nn.type=="stat"||nn.type=="form")&&(Xr=="}"||(cr=At.cc[At.cc.length-1])&&(cr==Qe||cr==Ir)&&!/^[,\.=+\-*:?[\(]/.test(we));)nn=nn.prev;W&&nn.type==")"&&nn.prev.type=="stat"&&(nn=nn.prev);var Ln=nn.type,xo=Xr==Ln;return Ln=="vardef"?nn.indented+(At.lastType=="operator"||At.lastType==","?nn.info.length+1:0):Ln=="form"&&Xr=="{"?nn.indented:Ln=="form"?nn.indented+N:Ln=="stat"?nn.indented+(function(Uo,Di){return Uo.lastType=="operator"||Uo.lastType==","||Tt.test(Di.charAt(0))||/[,.]/.test(Di.charAt(0))}(At,we)?W||N:0):nn.info!="switch"||xo||B.doubleIndentSwitch==0?nn.align?nn.column+(xo?0:1):nn.indented+(xo?0:N):nn.indented+(/^(?:case|default)\b/.test(we)?N:2*N)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:F?null:"/*",blockCommentEnd:F?null:"*/",blockCommentContinue:F?null:" * ",lineComment:F?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:F?"json":"javascript",jsonldMode:R,jsonMode:F,expressionAllowed:gr,skipExpression:function(At){Xt(At,"atom","atom","true",new ht.StringStream("",2,null))}}}),ht.registerHelper("wordChars","javascript",/[\w$]/),ht.defineMIME("text/javascript","javascript"),ht.defineMIME("text/ecmascript","javascript"),ht.defineMIME("application/javascript","javascript"),ht.defineMIME("application/x-javascript","javascript"),ht.defineMIME("application/ecmascript","javascript"),ht.defineMIME("application/json",{name:"javascript",json:!0}),ht.defineMIME("application/x-json",{name:"javascript",json:!0}),ht.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ht.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ht.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ht.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(ft(631))},589:(k,H,ft)=>{(function(ht){var dt={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},B={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ht.defineMode("xml",function(V,I){var N,W,R=V.indentUnit,F={},U=I.htmlMode?dt:B;for(var $ in U)F[$]=U[$];for(var $ in I)F[$]=I[$];function Q(Bt,Me){function pe(ir){return Me.tokenize=ir,ir(Bt,Me)}var Ae=Bt.next();return Ae=="<"?Bt.eat("!")?Bt.eat("[")?Bt.match("CDATA[")?pe(Tt("atom","]]>")):null:Bt.match("--")?pe(Tt("comment","-->")):Bt.match("DOCTYPE",!0,!0)?(Bt.eatWhile(/[\w\._\-]/),pe(et(1))):null:Bt.eat("?")?(Bt.eatWhile(/[\w\._\-]/),Me.tokenize=Tt("meta","?>"),"meta"):(N=Bt.eat("/")?"closeTag":"openTag",Me.tokenize=J,"tag bracket"):Ae=="&"?(Bt.eat("#")?Bt.eat("x")?Bt.eatWhile(/[a-fA-F\d]/)&&Bt.eat(";"):Bt.eatWhile(/[\d]/)&&Bt.eat(";"):Bt.eatWhile(/[\w\.\-:]/)&&Bt.eat(";"))?"atom":"error":(Bt.eatWhile(/[^&<]/),null)}function J(Bt,Me){var pe=Bt.next();if(pe==">"||pe=="/"&&Bt.eat(">"))return Me.tokenize=Q,N=pe==">"?"endTag":"selfcloseTag","tag bracket";if(pe=="=")return N="equals",null;if(pe=="<"){Me.tokenize=Q,Me.state=Lt,Me.tagName=Me.tagStart=null;var Ae=Me.tokenize(Bt,Me);return Ae?Ae+" tag error":"tag error"}return/[\'\"]/.test(pe)?(Me.tokenize=function(ir){var Or=function(Nr,Dr){for(;!Nr.eol();)if(Nr.next()==ir){Dr.tokenize=J;break}return"string"};return Or.isInAttribute=!0,Or}(pe),Me.stringStartCol=Bt.column(),Me.tokenize(Bt,Me)):(Bt.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Tt(Bt,Me){return function(pe,Ae){for(;!pe.eol();){if(pe.match(Me)){Ae.tokenize=Q;break}pe.next()}return Bt}}function et(Bt){return function(Me,pe){for(var Ae;(Ae=Me.next())!=null;){if(Ae=="<")return pe.tokenize=et(Bt+1),pe.tokenize(Me,pe);if(Ae==">"){if(Bt==1){pe.tokenize=Q;break}return pe.tokenize=et(Bt-1),pe.tokenize(Me,pe)}}return"meta"}}function _t(Bt){return Bt&&Bt.toLowerCase()}function G(Bt,Me,pe){this.prev=Bt.context,this.tagName=Me||"",this.indent=Bt.indented,this.startOfLine=pe,(F.doNotIndent.hasOwnProperty(Me)||Bt.context&&Bt.context.noIndent)&&(this.noIndent=!0)}function Ft(Bt){Bt.context&&(Bt.context=Bt.context.prev)}function $t(Bt,Me){for(var pe;;){if(!Bt.context||(pe=Bt.context.tagName,!F.contextGrabbers.hasOwnProperty(_t(pe))||!F.contextGrabbers[_t(pe)].hasOwnProperty(_t(Me))))return;Ft(Bt)}}function Lt(Bt,Me,pe){return Bt=="openTag"?(pe.tagStart=Me.column(),ve):Bt=="closeTag"?bt:Lt}function ve(Bt,Me,pe){return Bt=="word"?(pe.tagName=Me.current(),W="tag",Xt):F.allowMissingTagName&&Bt=="endTag"?(W="tag bracket",Xt(Bt,Me,pe)):(W="error",ve)}function bt(Bt,Me,pe){if(Bt=="word"){var Ae=Me.current();return pe.context&&pe.context.tagName!=Ae&&F.implicitlyClosed.hasOwnProperty(_t(pe.context.tagName))&&Ft(pe),pe.context&&pe.context.tagName==Ae||F.matchClosing===!1?(W="tag",jt):(W="tag error",Rt)}return F.allowMissingTagName&&Bt=="endTag"?(W="tag bracket",jt(Bt,Me,pe)):(W="error",Rt)}function jt(Bt,Me,pe){return Bt!="endTag"?(W="error",jt):(Ft(pe),Lt)}function Rt(Bt,Me,pe){return W="error",jt(Bt,0,pe)}function Xt(Bt,Me,pe){if(Bt=="word")return W="attribute",Ht;if(Bt=="endTag"||Bt=="selfcloseTag"){var Ae=pe.tagName,ir=pe.tagStart;return pe.tagName=pe.tagStart=null,Bt=="selfcloseTag"||F.autoSelfClosers.hasOwnProperty(_t(Ae))?$t(pe,Ae):($t(pe,Ae),pe.context=new G(pe,Ae,ir==pe.indented)),Lt}return W="error",Xt}function Ht(Bt,Me,pe){return Bt=="equals"?It:(F.allowMissing||(W="error"),Xt(Bt,0,pe))}function It(Bt,Me,pe){return Bt=="string"?St:Bt=="word"&&F.allowUnquoted?(W="string",Xt):(W="error",Xt(Bt,0,pe))}function St(Bt,Me,pe){return Bt=="string"?St:Xt(Bt,0,pe)}return Q.isInText=!0,{startState:function(Bt){var Me={tokenize:Q,state:Lt,indented:Bt||0,tagName:null,tagStart:null,context:null};return Bt!=null&&(Me.baseIndent=Bt),Me},token:function(Bt,Me){if(!Me.tagName&&Bt.sol()&&(Me.indented=Bt.indentation()),Bt.eatSpace())return null;N=null;var pe=Me.tokenize(Bt,Me);return(pe||N)&&pe!="comment"&&(W=null,Me.state=Me.state(N||pe,Bt,Me),W&&(pe=W=="error"?pe+" error":W)),pe},indent:function(Bt,Me,pe){var Ae=Bt.context;if(Bt.tokenize.isInAttribute)return Bt.tagStart==Bt.indented?Bt.stringStartCol+1:Bt.indented+R;if(Ae&&Ae.noIndent)return ht.Pass;if(Bt.tokenize!=J&&Bt.tokenize!=Q)return pe?pe.match(/^(\s*)/)[0].length:0;if(Bt.tagName)return F.multilineTagIndentPastTag!==!1?Bt.tagStart+Bt.tagName.length+2:Bt.tagStart+R*(F.multilineTagIndentFactor||1);if(F.alignCDATA&&/<!\[CDATA\[/.test(Me))return 0;var ir=Me&&/^<(\/)?([\w_:\.-]*)/.exec(Me);if(ir&&ir[1])for(;Ae;){if(Ae.tagName==ir[2]){Ae=Ae.prev;break}if(!F.implicitlyClosed.hasOwnProperty(_t(Ae.tagName)))break;Ae=Ae.prev}else if(ir)for(;Ae;){var Or=F.contextGrabbers[_t(Ae.tagName)];if(!Or||!Or.hasOwnProperty(_t(ir[2])))break;Ae=Ae.prev}for(;Ae&&Ae.prev&&!Ae.startOfLine;)Ae=Ae.prev;return Ae?Ae.indent+R:Bt.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:F.htmlMode?"html":"xml",helperType:F.htmlMode?"html":"xml",skipAttribute:function(Bt){Bt.state==It&&(Bt.state=Xt)},xmlCurrentTag:function(Bt){return Bt.tagName?{name:Bt.tagName,close:Bt.type=="closeTag"}:null},xmlCurrentContext:function(Bt){for(var Me=[],pe=Bt.context;pe;pe=pe.prev)Me.push(pe.tagName);return Me.reverse()}}}),ht.defineMIME("text/xml","xml"),ht.defineMIME("application/xml","xml"),ht.mimeModes.hasOwnProperty("text/html")||ht.defineMIME("text/html",{name:"xml",htmlMode:!0})})(ft(631))},858:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt){dt.DomComponents.clear(),dt.CssComposer.clear()}}},884:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>V});var ht=ft(50),dt=ft(163),B=ft(668);const V={run:function(I){(0,ht.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=I,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(I){this.toggleMove(),this.disableDragger()},onKeyUp:function(I){(0,dt.getKeyChar)(I)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(I){this.toggleDragger(1,I)},disableDragger:function(I){this.toggleDragger(0,I)},toggleDragger:function(I,N){var W=this.canvasModel,R=this.em,F=this.dragger,U=I?"add":"remove";this.getCanvas().classList[U]("".concat(this.ppfx,"is__grabbing")),F||(F=new B.Z({getPosition:function(){return{x:W.get("x"),y:W.get("y")}},setPosition:function($){var Q=$.x,J=$.y;W.set({x:Q,y:J})},onStart:function($,Q){R.trigger("canvas:move:start",Q)},onDrag:function($,Q){R.trigger("canvas:move",Q)},onEnd:function($,Q){R.trigger("canvas:move:end",Q)}}),this.dragger=F),I?F.start(N):F.stop()},toggleMove:function(I){var N=this.ppfx,W=I?"add":"remove",R=I?"on":"off",F={on:dt.on,off:dt.off},U=this.getCanvas(),$=["".concat(N,"is__grab")];!I&&$.push("".concat(N,"is__grabbing")),$.forEach(function(Q){return U.classList[W](Q)}),F[R](document,"keyup",this.onKeyUp),F[R](U,"mousedown",this.enableDragger),F[R](document,"mouseup",this.disableDragger)}}},790:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>I,defineCommand:()=>V});var ht,dt=ft(346),B=(ht=function(N,W){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(R[U]=F[U])},ht(N,W)},function(N,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function R(){this.constructor=N}ht(N,W),N.prototype=W===null?Object.create(W):(R.prototype=W.prototype,new R)});function V(N){return N}const I=function(N){function W(R){var F=N.call(this,0)||this;F.config=R||{},F.em=F.config.em||{};var U=F.config.stylePrefix;return F.pfx=U,F.ppfx=F.config.pStylePrefix,F.hoverClass="".concat(U,"hover"),F.badgeClass="".concat(U,"badge"),F.plhClass="".concat(U,"placeholder"),F.freezClass="".concat(F.ppfx,"freezed"),F.canvas=F.em.Canvas,F.init(F.config),F}return B(W,N),W.prototype.onFrameScroll=function(R){},W.prototype.getCanvas=function(){return this.canvas.getElement()},W.prototype.getCanvasBody=function(){return this.canvas.getBody()},W.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},W.prototype.offset=function(R){var F=R.getBoundingClientRect();return{top:F.top+R.ownerDocument.body.scrollTop,left:F.left+R.ownerDocument.body.scrollLeft}},W.prototype.init=function(R){},W.prototype.callRun=function(R,F){F===void 0&&(F={});var U=this.id;if(R.trigger("run:".concat(U,":before"),F),!F||!F.abort){var $=F.sender||R,Q=this.run(R,$,F);return R.trigger("run:".concat(U),Q,F),R.trigger("run",U,Q,F),Q}R.trigger("abort:".concat(U),F)},W.prototype.callStop=function(R,F){F===void 0&&(F={});var U=this.id,$=F.sender||R;R.trigger("stop:".concat(U,":before"),F);var Q=this.stop(R,$,F);return R.trigger("stop:".concat(U),Q,F),R.trigger("stop",U,Q,F),Q},W.prototype.stopCommand=function(R){this.em.Commands.stop(this.id,R)},W.prototype.run=function(R,F,U){},W.prototype.stop=function(R,F,U){},W}(dt.Hn)},180:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>B});var ht=ft(50),dt=function(V,I,N){if(N||arguments.length===2)for(var W,R=0,F=I.length;R<F;R++)!W&&R in I||(W||(W=Array.prototype.slice.call(I,0,R)),W[R]=I[R]);return V.concat(W||Array.prototype.slice.call(I))};const B={run:function(V,I,N){var W=this;N===void 0&&(N={});var R=[],F=N.component||V.getSelectedAll();return(F=(0,ht.isArray)(F)?dt([],F,!0):[F]).filter(Boolean).forEach(function(U){if(!U.get("removable"))return R.push(U),W.em.logWarning("The element is not removable",{component:U});U.remove()}),V.select(R),F}}},544:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>I});var ht=ft(50),dt=ft(668),B=function(){return B=Object.assign||function(N){for(var W,R=1,F=arguments.length;R<F;R++)for(var U in W=arguments[R])Object.prototype.hasOwnProperty.call(W,U)&&(N[U]=W[U]);return N},B.apply(this,arguments)},V="dmode";const I={run:function(N,W,R){var F=this;R===void 0&&(R={}),(0,ht.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var U=R.target,$=R.event,Q=R.mode,J=R.dragger,Tt=J===void 0?{}:J,et=U.getEl(),_t=B({doc:et.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return F.guidesStatic},guidesTarget:function(){return F.guidesTarget}},Tt);this.setupGuides(),this.opts=R,this.editor=N,this.em=N.getModel(),this.target=U,this.isTran=Q=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var G=this.dragger;return G?G.setOptions(_t):(G=new dt.Z(_t),this.dragger=G),$&&G.start($),this.toggleDrag(1),this.em.trigger("".concat(V,":start"),this.getEventOpts()),G},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(N){var W=N.guide;W&&W.parentNode.removeChild(W)}),this.guides=[]},getGuidesContainer:function(){var N=this,W=this.guidesEl;if(!W){var R=this,F=R.editor,U=R.em,$=R.opts,Q=F.getConfig().stylePrefix,J=document.createElement("div"),Tt=document.createElement("div"),et='<div class="'.concat(Q,"guide-info__line ").concat(Q,`danger-bg">
        <div class="`).concat(Q,"guide-info__content ").concat(Q,`danger-color"></div>
      </div>`);(W=document.createElement("div")).className="".concat(Q,"guides"),J.className="".concat(Q,"guide-info ").concat(Q,"guide-info__x"),Tt.className="".concat(Q,"guide-info ").concat(Q,"guide-info__y"),J.innerHTML=et,Tt.innerHTML=et,W.appendChild(J),W.appendChild(Tt),F.Canvas.getGlobalToolsEl().appendChild(W),this.guidesEl=W,this.elGuideInfoX=J,this.elGuideInfoY=Tt,this.elGuideInfoContentX=J.querySelector(".".concat(Q,"guide-info__content")),this.elGuideInfoContentY=Tt.querySelector(".".concat(Q,"guide-info__content")),U.on("canvas:update frame:scroll",(0,ht.debounce)(function(){var _t;N.updateGuides(),$.debug&&((_t=N.guides)===null||_t===void 0||_t.forEach(function(G){return N.renderGuide(G)}))},200))}return W},getGuidesStatic:function(){var N=this,W=[],R=this.target.getEl(),F=R.parentNode,U=F===void 0?{}:F;return(0,ht.each)(U.children,function($){return W=W.concat(R!==$?N.getElementGuides($):[])}),W.concat(this.getElementGuides(U))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(N){var W,R,F=this;(N||this.guides).forEach(function(U){var $=U.origin,Q=W===$?R:F.getElementPos($);W=$,R=Q,(0,ht.each)(F.getGuidePosUpdate(U,Q),function(J,Tt){return U[Tt]=J}),U.originRect=Q})},getGuidePosUpdate:function(N,W){var R={},F=W.top,U=W.height,$=W.left,Q=W.width;switch(N.type){case"t":R.y=F;break;case"b":R.y=F+U;break;case"l":R.x=$;break;case"r":R.x=$+Q;break;case"x":R.x=$+Q/2;break;case"y":R.y=F+U/2}return R},renderGuide:function(N){N===void 0&&(N={});var W=N.guide||document.createElement("div"),R="px",F=N.active?2:1,U=W.children[0];return W.style="position: absolute; background-color: ".concat(N.active?"green":"red",";"),W.children.length||((U=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",W.appendChild(U)),N.y?(W.style.width="100%",W.style.height="".concat(F).concat(R),W.style.top="".concat(N.y).concat(R),W.style.left=0):(W.style.width="".concat(F).concat(R),W.style.height="100%",W.style.left="".concat(N.x).concat(R),W.style.top="0".concat(R)),!N.guide&&this.guidesContainer.appendChild(W),W},getElementPos:function(N){return this.editor.Canvas.getElementPos(N,{noScroll:1})},getElementGuides:function(N){var W=this,R=this.opts,F=this.getElementPos(N),U=F.top,$=F.height,Q=F.left,J=F.width,Tt=[{type:"t",y:U},{type:"b",y:U+$},{type:"l",x:Q},{type:"r",x:Q+J},{type:"x",x:Q+J/2},{type:"y",y:U+$/2}].map(function(et){return B(B({},et),{origin:N,originRect:F,guide:R.debug&&W.renderGuide(et)})});return Tt.forEach(function(et){var _t;return(_t=W.guides)===null||_t===void 0?void 0:_t.push(et)}),Tt},getTranslate:function(N,W){W===void 0&&(W="x");var R=0;return(N||"").split(" ").forEach(function(F){var U=F.trim(),$="translate".concat(W.toUpperCase(),"(");U.indexOf($)===0&&(R=parseFloat(U.replace($,"")))}),R},setTranslate:function(N,W,R){var F="translate".concat(W.toUpperCase(),"("),U="".concat(F).concat(R,")"),$=(N||"").split(" ").map(function(Q){return Q.trim().indexOf(F)===0&&(Q=U),Q}).join(" ");return $.indexOf(F)<0&&($+=" ".concat(U)),$},getPosition:function(){var N=this.target,W=this.isTran,R=N.getStyle(),F=R.left,U=R.top,$=R.transform,Q=0,J=0;return W?(Q=this.getTranslate($),J=this.getTranslate($,"y")):(Q=parseFloat(F||0),J=parseFloat(U||0)),{x:Q,y:J}},setPosition:function(N){var W=N.x,R=N.y,F=N.end,U=N.position,$=N.width,Q=N.height,J=this,Tt=J.target,et=J.isTran,_t=J.em,G="px",Ft=!F,$t="".concat(parseInt(W,10)).concat(G),Lt="".concat(parseInt(R,10)).concat(G),ve={};if(et){var bt=Tt.getStyle().transform||"";bt=this.setTranslate(bt,"x",$t),ve={transform:bt=this.setTranslate(bt,"y",Lt),__p:Ft},Tt.addStyle(ve,{avoidStore:!F})}else{var jt={position:U,width:$,height:Q},Rt={left:$t,top:Lt,__p:Ft};(0,ht.keys)(jt).forEach(function(Xt){var Ht=jt[Xt];Ht&&(Rt[Xt]=Ht)}),ve=Rt,Tt.addStyle(ve,{avoidStore:!F})}_t==null||_t.Styles.__emitCmpStyleUpdate(ve,{components:_t.getSelected()})},_getDragData:function(){var N=this.target;return{target:N,parent:N.parent(),index:N.index()}},onStart:function(N){var W=this,R=W.target,F=W.editor,U=W.isTran,$=W.opts,Q=$.center,J=$.onStart,Tt=F.Canvas,et=R.getStyle(),_t="absolute",G=[_t,"relative"];if(J&&J(this._getDragData()),!U&&et.position!==_t){var Ft=Tt.offset(R.getEl()),$t=Ft.left,Lt=Ft.top,ve=Ft.width,bt=Ft.height,jt=R.parent(),Rt=void 0;do{var Xt=jt.getStyle();Rt=G.indexOf(Xt.position)>=0?jt:null,jt=jt.parent()}while(jt&&!Rt);if(Q){var Ht=Tt.getMouseRelativeCanvas(N);$t=Ht.x,Lt=Ht.y}else if(Rt){var It=Tt.offset(Rt.getEl());$t-=It.left,Lt-=It.top}this.setPosition({x:$t,y:Lt,width:"".concat(ve,"px"),height:"".concat(bt,"px"),position:_t})}},onDrag:function(){for(var N=this,W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];var F=this.guidesTarget,U=this.opts,$=U.onDrag;this.updateGuides(F),U.debug&&F.forEach(function(Q){return N.renderGuide(Q)}),U.guidesInfo&&this.renderGuideInfo(F.filter(function(Q){return Q.active})),$&&$(this._getDragData())},onEnd:function(N,W,R){R===void 0&&(R={});var F=this,U=F.editor,$=F.opts,Q=F.id,J=$.onEnd;J&&J(N,R,B(B({event:N},R),this._getDragData())),U.stopCommand(Q),this.hideGuidesInfo(),this.em.trigger("".concat(V,":end"),this.getEventOpts())},hideGuidesInfo:function(){var N=this;["X","Y"].forEach(function(W){var R=N["elGuideInfo".concat(W)];R&&(R.style.display="none")})},renderGuideInfo:function(N){var W=this;N===void 0&&(N=[]);var R=this.guidesStatic;this.hideGuidesInfo(),N.forEach(function(F){var U=F.origin,$=F.x,Q=W.getElementPos(U),J=(0,ht.isUndefined)($)?"y":"x",Tt=J==="y",et=Q[Tt?"left":"top"],_t=Q.rect[Tt?"left":"top"],G=Tt?et+Q.width:et+Q.height,Ft=Tt?_t+Q.rect.width:_t+Q.rect.height,$t=W["elGuideInfo".concat(J.toUpperCase())],Lt=W["elGuideInfoContent".concat(J.toUpperCase())],ve=$t.style,bt=R==null?void 0:R.filter(function(nt){return nt.type===F.type}).map(function(nt){var Et=nt.originRect,qt=Et.left,me=Et.width,Le=Et.top,lt=Et.height,ue=Tt?qt+me:Le+lt;return{gap:ue<et?et-ue:(Tt?qt:Le)-G,guide:nt}}).filter(function(nt){return nt.gap>0}).sort(function(nt,Et){return nt.gap-Et.gap}).map(function(nt){return nt.guide})[0];if(bt){var jt=bt.originRect,Rt=jt.left,Xt=jt.width,Ht=jt.top,It=jt.height,St=jt.rect,Bt=Tt?Rt<Q.left:Ht<Q.top,Me=Tt?Rt:Ht,pe=Tt?St.left:St.top,Ae=Tt?Rt+Xt:Ht+It,ir=Tt?St.left+St.width:St.top+St.height,Or=Tt?F.y:F.x,Nr=Bt?Ae:G,Dr="".concat(Or,"px"),Vr=Bt?et-Ae:Me-G,Je=Bt?_t-ir:pe-Ft;ve.display="",ve[Tt?"top":"left"]=Dr,ve[Tt?"left":"top"]="".concat(Nr,"px"),ve[Tt?"width":"height"]="".concat(Vr,"px"),Lt.innerHTML="".concat(Math.round(Je),"px"),W.em.trigger("".concat(V,":active"),B(B({},W.getEventOpts()),{guide:F,guidesStatic:R,matched:bt,posFirst:Or,posSecond:Nr,size:Vr,sizeRaw:Je,elGuideInfo:$t,elGuideInfoCnt:Lt}))}})},toggleDrag:function(N){var W=this.ppfx,R=this.editor,F=N?"add":"remove",U=["".concat(W,"is__grabbing")],$=R.Canvas,Q=$.getBody();U.forEach(function(J){return Q.classList[F](J)}),$[N?"startAutoscroll":"stopAutoscroll"]()}}},236:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt){if(dt.Canvas.hasFocus()){var B=[];dt.getSelectedAll().forEach(function(V){var I=V.components(),N=I&&I.filter(function(W){return W.get("selectable")})[0];N&&B.push(N)}),B.length&&dt.select(B)}}}},368:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt,B,V){if(V===void 0&&(V={}),dt.Canvas.hasFocus()||V.force){var I=[];dt.getSelectedAll().forEach(function(N){for(var W=N.parent();W&&!W.get("selectable");)W=W.parent();W&&I.push(W)}),I.length&&dt.select(I)}}}},243:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt){if(dt.Canvas.hasFocus()){var B=[];dt.getSelectedAll().forEach(function(V){var I=V.parent();if(I){var N,W=I.components().length,R=0,F=0;do R++,N=(F=V.index()+R)<=W?I.getChildAt(F):null;while(N&&!N.get("selectable"));B.push(N||V)}}),B.length&&dt.select(B)}}}},400:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt){if(dt.Canvas.hasFocus()){var B=[];dt.getSelectedAll().forEach(function(V){var I=V.parent();if(I){var N,W=0,R=0;do W++,N=(R=V.index()-W)>=0?I.getChildAt(R):null;while(N&&!N.get("selectable"));B.push(N||V)}}),B.length&&dt.select(B)}}}},910:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(50);const dt={run:function(B,V,I){I===void 0&&(I={});var N=I.target,W=[];if(!N.get("styles"))return W;var R=N.get("type"),F=B.Pages.getAllWrappers();if(!(0,ht.flatten)(F.map(function($){return $.findType(R)})).length){var U=B.CssComposer.getAll();W=U.filter(function($){return $.get("group")==="cmp:".concat(R)}),U.remove(W)}return W}}},744:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=function(B,V,I){if(I||arguments.length===2)for(var N,W=0,R=V.length;W<R;W++)!N&&W in V||(N||(N=Array.prototype.slice.call(V,0,W)),N[W]=V[W]);return B.concat(N||Array.prototype.slice.call(V))};const dt={run:function(B){var V=B.getModel(),I=ht([],B.getSelectedAll(),!0);I.length&&V.set("clipboard",I)}}},517:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>V});var ht=ft(50),dt=ft(895),B=ft(407);const V=(0,ht.extend)({},B.default,{init:function(){(0,ht.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(I){I.stopPropagation();var N=(0,dt.default)(I.target);N.data("model").get("removable")&&(N.addClass(this.hoverClass),this.attachBadge(N.get(0)))},stopDelete:function(I){I.stopPropagation(),(0,dt.default)(I.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(I){I.stopPropagation();var N=(0,dt.default)(I.target);N.data("model").get("removable")&&(N.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(I){this.badge.html("Remove "+I.getName())}})},457:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(491);const dt={run:function(B,V,I){var N=this;I===void 0&&(I={}),V&&V.set&&V.set("active",0);var W=B.getConfig(),R=B.Modal,F=W.stylePrefix;if(this.cm=B.CodeManager||null,!this.editors){var U=this.buildEditor("htmlmixed","hopscotch","HTML"),$=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=U.model,this.cssEditor=$.model;var Q=(0,ht.ut)("div",{class:"".concat(F,"export-dl")});Q.appendChild(U.el),Q.appendChild($.el),this.editors=Q}R.open({title:W.textViewCode,content:this.editors}).getModel().once("change:open",function(){return B.stopCommand("".concat(N.id))}),this.htmlEditor.setContent(B.getHtml(I.optsHtml)),this.cssEditor.setContent(B.getCss(I.optsCss))},stop:function(B){var V=B.Modal;V&&V.close()},buildEditor:function(B,V,I){var N=this.em.CodeManager,W=N.createViewer({label:I,codeName:B,theme:V});return{model:W,el:new N.EditorView({model:W,config:N.getConfig()}).render().el}}}},975:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(50);const dt={isEnabled:function(){var B=document;return!!(B.fullscreenElement||B.webkitFullscreenElement||B.mozFullScreenElement)},enable:function(B){var V="";return B.requestFullscreen?B.requestFullscreen():B.webkitRequestFullscreen?(V="webkit",B.webkitRequestFullscreen()):B.mozRequestFullScreen?(V="moz",B.mozRequestFullScreen()):B.msRequestFullscreen&&B.msRequestFullscreen(),V},disable:function(){var B=document;this.isEnabled()&&(B.exitFullscreen?B.exitFullscreen():B.webkitExitFullscreen?B.webkitExitFullscreen():B.mozCancelFullScreen?B.mozCancelFullScreen():B.msExitFullscreen&&B.msExitFullscreen())},fsChanged:function(B){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(B||"","fullscreenchange"),this.fsChanged))},run:function(B,V,I){I===void 0&&(I={}),this.sender=V;var N=I.target,W=(0,ht.isElement)(N)?N:document.querySelector(N),R=this.enable(W||B.getContainer());this.fsChanged=this.fsChanged.bind(this,R),document.addEventListener(R+"fullscreenchange",this.fsChanged),B.trigger("change:canvasOffset")},stop:function(B,V){V&&V.set&&V.set("active",!1),this.disable(),B&&B.trigger("change:canvasOffset")}}},191:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>N});var ht=ft(50),dt=ft(895),B=ft(163),V=ft(407),I=ft(189);const N=(0,ht.extend)({},I.default,V.default,{init:function(W){V.default.init.apply(this,arguments),(0,ht.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=W,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];V.default.enable.apply(this,W),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var F=this.$wrapper;F.css("cursor","move"),F.on("mousedown",this.initSorter),F.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(W){var R=(0,dt.default)(W.target).data("model").get("draggable");R&&(this.cacheEl=null,this.startSelectPosition(W.target,this.frameEl.contentDocument),this.sorter.draggable=R,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,B.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(W){var R=W.get("draggable");if(R){this.cacheEl=null;var F=W.view.el;this.startSelectPosition(F,this.frameEl.contentDocument),this.sorter.draggable=R,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,B.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(W){this.cacheEl=null;var R=W[W.length-1],F=(this.em.get("currentFrame")||{}).model,U=R.getEl(F),$=U.ownerDocument;this.startSelectPosition(U,$,{onStart:this.onStart}),this.sorter.draggable=R.get("draggable"),this.sorter.toMove=W,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,B.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,B.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,B.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(W,R){},rollback:function(W,R){((W.which||W.keyCode)==27||R)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,dt.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,dt.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var W=[],R=0;R<arguments.length;R++)W[R]=arguments[R];V.default.stop.apply(this,W),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>B});var ht=ft(50),dt=ft(491);const B={open:function(V){var I=this,N=this,W=N.editor,R=N.title,F=N.config,U=N.am,$=F.custom;if((0,ht.isFunction)($.open))return $.open(U.__customData());W.Modal.open({title:R,content:V}).onceClose(function(){return W.stopCommand(I.id)})},close:function(){var V=this.config.custom;if((0,ht.isFunction)(V.close))return V.close(this.am.__customData());var I=this.editor.Modal;I&&I.close()},run:function(V,I,N){N===void 0&&(N={});var W=V.AssetManager,R=W.getConfig(),F=N.types,U=F===void 0?[]:F,$=N.accept,Q=N.select;if(this.title=N.modalTitle||V.t("assetManager.modalTitle")||"",this.editor=V,this.config=R,this.am=W,W.setTarget(N.target),W.onClick(N.onClick),W.onDblClick(N.onDblClick),W.onSelect(N.onSelect),W.__behaviour({select:Q,types:U,options:N}),R.custom)this.rendered=this.rendered||(0,dt.ut)("div"),this.rendered.className="".concat(R.stylePrefix,"custom-wrp"),W.__behaviour({container:this.rendered}),W.__trgCustom();else{if(!this.rendered||U){var J=W.getAll().filter(function(et){return et});U&&U.length&&(J=J.filter(function(et){return U.indexOf(et.get("type"))!==-1})),W.render(J),this.rendered=W.getContainer()}if($){var Tt=this.rendered.querySelector("input#".concat(R.stylePrefix,"uploadFile"));Tt&&Tt.setAttribute("accept",$)}}return this.open(this.rendered),this},stop:function(V){this.editor=V,this.close(this.rendered)}}},117:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>B});var ht=ft(50),dt=ft(491);const B={open:function(){var V=this,I=V.container,N=V.editor,W=V.bm,R=V.config,F=R.custom,U=R.appendTo;if((0,ht.isFunction)(F.open))return F.open(W.__customData());if(this.firstRender&&!U){var $="views-container",Q=N.Panels;(Q.getPanel($)||Q.addPanel({id:$})).set("appendContent",I).trigger("change:appendContent"),F||I.appendChild(W.render())}I&&(I.style.display="block")},close:function(){var V=this.container,I=this.config.custom;if((0,ht.isFunction)(I.close))return I.close(this.bm.__customData());V&&(V.style.display="none")},run:function(V){var I=V.Blocks;this.config=I.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,dt.ut)("div"),this.editor=V,this.bm=I;var N=this.container;I.__behaviour({container:N}),this.config.custom&&I.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ht});const ht={run:function(dt){var B=dt.LayerManager,V=dt.Panels,I=B.getConfig();if(!I.appendTo){if(!this.layers){var N="views-container",W=document.createElement("div"),R=V.getPanel(N)||V.addPanel({id:N});I.custom?B.__trgCustom({container:W}):W.appendChild(B.render()),R.set("appendContent",W).trigger("change:appendContent"),this.layers=W}this.layers.style.display="block"}},stop:function(){var dt=this.layers;dt&&(dt.style.display="none")}}},801:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(895);const dt={run:function(B,V){if(this.sender=V,!this.$cnt){var I=B.getConfig(),N=B.Panels,W=B.DeviceManager,R=B.SelectorManager,F=B.StyleManager,U="change:appendContent",$=(0,ht.default)("<div></div>"),Q=(0,ht.default)("<div></div>"),J=(0,ht.default)("<div></div>"),Tt=(0,ht.default)("<div></div>");if(this.$cnt=$,this.$cntInner=Q,Q.append(J),Q.append(Tt),$.append(Q),W&&I.showDevices){var et=N.addPanel({id:"devices-c"}),_t=W.render();et.set("appendContent",_t).trigger(U)}var G=R.getConfig();G.custom?R.__trgCustom({container:J.get(0)}):G.appendTo||J.append(R.render([])),this.sm=F;var Ft=F.getConfig(),$t=Ft.stylePrefix;this.$header=(0,ht.default)('<div class="'.concat($t,'header">').concat(B.t("styleManager.empty"),"</div>")),$.append(this.$header),Ft.custom?F.__trgCustom({container:Tt.get(0)}):Ft.appendTo||Tt.append(F.render());var Lt="views-container";(N.getPanel(Lt)||N.addPanel({id:Lt})).set("appendContent",$).trigger(U);var ve=B.getModel();this.listenTo(ve,F.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var B=this,V=B.sender,I=B.sm,N=B.$cntInner,W=B.$header;V&&V.get&&!V.get("active")||!I||(I.getSelected()?(N==null||N.show(),W==null||W.hide()):(N==null||N.hide(),W==null||W.show()))},stop:function(){var B,V;(B=this.$cntInner)===null||B===void 0||B.hide(),(V=this.$header)===null||V===void 0||V.hide()}}},395:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(895);const dt={run:function(B,V){this.sender=V;var I,N=B.getModel(),W=B.Config.stylePrefix,R=B.TraitManager,F=R.getConfig();if(!F.appendTo){if(!this.$cn){this.$cn=(0,ht.default)("<div></div>"),this.$cn2=(0,ht.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,ht.default)("<div>").append('<div class="'.concat(F.stylePrefix,'header">').concat(N.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),F.custom?R.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(W,'traits-label">').concat(N.t("traitManager.label"),"</div>")),this.$cn2.append(R.render()));var U=B.Panels;(I=U.getPanel("views-container")?U.getPanel("views-container"):U.addPanel({id:"views-container"}))==null||I.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=B.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var B=this.sender;B&&B.get&&!B.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(50);const dt={run:function(B,V,I){I===void 0&&(I={});var N=B.getModel().get("clipboard"),W=B.getSelected();N&&W&&(B.getSelectedAll().forEach(function(R){var F=R.collection;if(F){var U,$={at:R.index()+1,action:I.action||"paste-component"};if((0,ht.contains)(N,R)&&R.get("copyable"))U=F.add(R.clone(),$);else{var Q=N.filter(function(J){return J.get("copyable")}).filter(function(J){return B.Components.canMove(R.parent(),J).result});U=F.add(Q.map(function(J){return J.clone()}),$)}(U=(0,ht.isArray)(U)?U:[U]).forEach(function(J){return B.trigger("component:paste",J)})}}),W.emitUpdate())}}},129:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>V});var ht=ft(50),dt=function(I,N,W){if(W||arguments.length===2)for(var R,F=0,U=N.length;F<U;F++)!R&&F in N||(R||(R=Array.prototype.slice.call(N,0,F)),R[F]=N[F]);return I.concat(R||Array.prototype.slice.call(N))},B="core:component-outline";const V={getPanels:function(I){return this.panels||(this.panels=I.Panels.getPanels()),this.panels},preventDrag:function(I){I.abort=1},tglEffects:function(I){var N=this.em,W=I?"on":"off";if(N){var R=N.Canvas,F=R.getBody(),U=R.getToolbarEl();U&&(U.style.display=I?"none":"");var $=F.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,ht.each)($,function(Q){return Q.style.pointerEvents=I?"all":""}),N[W]("run:tlb-move:before",this.preventDrag)}},run:function(I,N){var W=this;this.sender=N,this.selected=dt([],I.getSelectedAll(),!0),I.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=I.Commands.isActive(B)),this.shouldRunSwVisibility&&I.stopCommand(B),I.getModel().stopDefault();var R=this.getPanels(I),F=I.Canvas.getElement(),U=I.getEl(),$=I.Config.stylePrefix;if(!this.helper){var Q=document.createElement("span");Q.className="".concat($,"off-prv fa fa-eye-slash"),U.appendChild(Q),Q.onclick=function(){return W.stopCommand()},this.helper=Q}this.helper.style.display="inline-block",R.forEach(function(Tt){return Tt.set("visible",!1)});var J=F.style;J.width="100%",J.height="100%",J.top="0",J.left="0",J.padding="0",J.margin="0",I.refresh(),this.tglEffects(1)},stop:function(I){var N=this.sender,W=N===void 0?{}:N,R=this.selected;W.set&&W.set("active",0);var F=this.getPanels(I);this.shouldRunSwVisibility&&(I.runCommand(B),this.shouldRunSwVisibility=!1),I.getModel().runDefault(),F.forEach(function(U){return U.set("visible",!0)}),I.Canvas.getElement().setAttribute("style",""),R&&I.select(R),delete this.selected,this.helper&&(this.helper.style.display="none"),I.refresh(),this.tglEffects()}}},116:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=function(){return ht=Object.assign||function(B){for(var V,I=1,N=arguments.length;I<N;I++)for(var W in V=arguments[I])Object.prototype.hasOwnProperty.call(V,W)&&(B[W]=V[W]);return B},ht.apply(this,arguments)};const dt={run:function(B,V,I){var N=I||{},W=B.Canvas,R=W.getCanvasView(),F=ht({appendTo:W.getResizerEl(),prefix:B.getConfig().stylePrefix,posFetcher:R.getElementPos.bind(R),mousePosFetcher:W.getMouseRelativePos},N.options||{}),U=this.canvasResizer;return U&&!N.forceNew||(this.canvasResizer=new B.Utils.Resizer(F),U=this.canvasResizer),U.setOptions(F,!0),U.blur(),U.focus(N.el),U},stop:function(){var B;(B=this.canvasResizer)===null||B===void 0||B.blur()}}},407:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>ve});var ht,dt=ft(50),B=ft(895),V=ft(346),I=(ht=function(bt,jt){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,Xt){Rt.__proto__=Xt}||function(Rt,Xt){for(var Ht in Xt)Object.prototype.hasOwnProperty.call(Xt,Ht)&&(Rt[Ht]=Xt[Ht])},ht(bt,jt)},function(bt,jt){if(typeof jt!="function"&&jt!==null)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Rt(){this.constructor=bt}ht(bt,jt),bt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)});const N=function(bt){function jt(){return bt!==null&&bt.apply(this,arguments)||this}return I(jt,bt),jt.prototype.defaults=function(){return{command:"",attributes:{}}},jt}(V.Hn);var W=function(){var bt=function(jt,Rt){return bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Xt,Ht){Xt.__proto__=Ht}||function(Xt,Ht){for(var It in Ht)Object.prototype.hasOwnProperty.call(Ht,It)&&(Xt[It]=Ht[It])},bt(jt,Rt)};return function(jt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function Xt(){this.constructor=jt}bt(jt,Rt),jt.prototype=Rt===null?Object.create(Rt):(Xt.prototype=Rt.prototype,new Xt)}}(),R=function(bt){function jt(){return bt!==null&&bt.apply(this,arguments)||this}return W(jt,bt),jt}(V.FE);const F=R;R.prototype.model=N;var U=ft(330),$=function(){var bt=function(jt,Rt){return bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Xt,Ht){Xt.__proto__=Ht}||function(Xt,Ht){for(var It in Ht)Object.prototype.hasOwnProperty.call(Ht,It)&&(Xt[It]=Ht[It])},bt(jt,Rt)};return function(jt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function Xt(){this.constructor=jt}bt(jt,Rt),jt.prototype=Rt===null?Object.create(Rt):(Xt.prototype=Rt.prototype,new Xt)}}(),Q=function(){return Q=Object.assign||function(bt){for(var jt,Rt=1,Xt=arguments.length;Rt<Xt;Rt++)for(var Ht in jt=arguments[Rt])Object.prototype.hasOwnProperty.call(jt,Ht)&&(bt[Ht]=jt[Ht]);return bt},Q.apply(this,arguments)};const J=function(bt){function jt(Rt){var Xt=bt.call(this,Rt)||this;return Xt.em=Rt.config.em,Xt}return $(jt,bt),jt.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},jt.prototype.attributes=function(){return this.model.get("attributes")},jt.prototype.handleClick=function(Rt){Rt.preventDefault(),Rt.stopPropagation();var Xt=this.em,Ht=Xt.Canvas.getFrameEl().getBoundingClientRect(),It=Ht.left,St=Ht.top,Bt=Q(Q({},Rt),{clientX:Rt.clientX-It,clientY:Rt.clientY-St});Xt.trigger("toolbar:run:before",{event:Bt}),this.execCommand(Bt)},jt.prototype.execCommand=function(Rt){var Xt=this.em,Ht={event:Rt},It=this.model.get("command"),St=Xt.Editor;(0,dt.isFunction)(It)&&It(St,null,Ht),(0,dt.isString)(It)&&St.runCommand(It,Ht)},jt.prototype.render=function(){var Rt=this,Xt=Rt.em,Ht=Rt.$el,It=Rt.model,St=It.get("id"),Bt=It.get("label"),Me=Xt.getConfig().stylePrefix;return Ht.addClass("".concat(Me,"toolbar-item")),St&&Ht.addClass("".concat(Me,"toolbar-item__").concat(St)),Bt&&Ht.append(Bt),this},jt}(V.G7);var Tt=function(){var bt=function(jt,Rt){return bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Xt,Ht){Xt.__proto__=Ht}||function(Xt,Ht){for(var It in Ht)Object.prototype.hasOwnProperty.call(Ht,It)&&(Xt[It]=Ht[It])},bt(jt,Rt)};return function(jt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");function Xt(){this.constructor=jt}bt(jt,Rt),jt.prototype=Rt===null?Object.create(Rt):(Xt.prototype=Rt.prototype,new Xt)}}(),et=function(bt){function jt(Rt){var Xt=bt.call(this,Rt)||this,Ht=Rt.em;return Xt.em=Ht,Xt.config={em:Ht},Xt.listenTo(Xt.collection,"reset",Xt.render),Xt}return Tt(jt,bt),jt.prototype.onRender=function(){var Rt=this.em.config.stylePrefix;this.el.className="".concat(Rt,"toolbar-items")},jt}(U.Z);const _t=et;et.prototype.itemView=J;var G,Ft=ft(491),$t=ft(163),Lt=function(){return Lt=Object.assign||function(bt){for(var jt,Rt=1,Xt=arguments.length;Rt<Xt;Rt++)for(var Ht in jt=arguments[Rt])Object.prototype.hasOwnProperty.call(jt,Ht)&&(bt[Ht]=jt[Ht]);return bt},Lt.apply(this,arguments)};const ve={init:function(bt){(0,dt.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),G=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(bt){var jt=this,Rt=this.em,Xt=Rt.getConfig().listenToEl,Ht=Rt.getContainer().parentNode,It=bt?"on":"off",St={on:$t.on,off:$t.off};!Xt.length&&Ht&&Xt.push(Ht),St[It](window,"resize",this.onFrameUpdated),St[It](Xt,"scroll",this.onContainerChange),Rt[It]("component:toggled component:update undo redo",this.onSelect,this),Rt[It]("change:componentHovered",this.onHovered,this),Rt[It]("component:resize styleable:change component:input",this.updateGlobalPos,this),Rt[It]("component:update:toolbar",this._upToolbar,this),Rt[It]("change:canvasOffset",this.updateAttached,this),Rt[It]("frame:updated",this.onFrameUpdated,this),Rt[It]("canvas:updateTools",this.onFrameUpdated,this),Rt.Canvas.getFrames().forEach(function(Bt){var Me=Bt.view,pe=Me==null?void 0:Me.getWindow();pe&&function(Ae,ir){St[It](ir,"mouseover",jt.onHover),St[It](ir,"mouseleave",jt.onOut),St[It](ir,"click",jt.onClick),St[It](Ae,"scroll",jt.onFrameScroll,!0)}(pe,Me==null?void 0:Me.getBody())})},onHover:function(bt){bt.stopPropagation();var jt=this.em,Rt=bt.target,Xt=(0,$t.getViewEl)(Rt),Ht=Xt&&Xt._getFrame(),It=(0,B.default)(Rt),St=It.data("model");if(!St)for(var Bt=It.parent();!St&&Bt.length&&!(0,Ft.Mx)(Bt[0]);)St=Bt.data("model"),Bt=Bt.parent();this.currentDoc=Rt.ownerDocument,jt.setHovered(St,{useValid:!0}),Ht&&jt.set("currentFrame",Ht)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(bt,jt){var Rt,Xt=this,Ht={};jt?(Rt=jt.views)===null||Rt===void 0||Rt.forEach(function(It){var St=It.el,Bt=Xt.getElementPos(St);Ht={el:St,pos:Bt,component:jt,view:(0,$t.getViewEl)(St)},Xt.updateToolsLocal(Ht),St.ownerDocument===Xt.currentDoc&&(Xt.elHovered=Ht)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(It){var St=It.view,Bt=St&&St.getToolsEl();Bt&&Xt.toggleToolsEl(0,0,{el:Bt})}))},onSelect:(0,dt.debounce)(function(){var bt=this.em,jt=bt.getSelected(),Rt=bt.get("currentFrame")||{},Xt=jt&&jt.getView(Rt.model),Ht=Xt&&Xt.el,It={};Ht&&(0,Ft.pn)(Ht)&&(It={el:Ht,pos:this.getElementPos(Ht),component:jt,view:(0,$t.getViewEl)(Ht)}),this.elSelected=It,this.updateToolsGlobal(),this.updateLocalPos(It),this.initResize(jt)},0),updateGlobalPos:function(){var bt=this.getElSelected();bt.el&&(bt.pos=this.getElementPos(bt.el),this.updateToolsGlobal())},updateLocalPos:function(bt){var jt=this.getElHovered();jt.el&&(jt.pos=this.getElementPos(jt.el),this.updateToolsLocal(bt))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(bt,jt,Rt){Rt===void 0&&(Rt={});var Xt=Rt.el||this.canvas.getToolsEl(jt);return Xt&&(Xt.style.display=bt?"":"none"),Xt||{}},showElementOffset:function(bt,jt,Rt){Rt===void 0&&(Rt={}),G&&this.editor.runCommand("show-offset",{el:bt,elPos:jt,view:Rt.view,force:1,top:0,left:0})},hideElementOffset:function(bt){this.editor.stopCommand("show-offset",{view:bt})},showFixedElementOffset:function(bt,jt){this.editor.runCommand("show-offset",{el:bt,elPos:jt,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(bt){this.canvas.getHighlighter(bt).style.opacity=0},onClick:function(bt){bt.stopPropagation(),bt.preventDefault();var jt=this.em;if(jt.get("_cmpDrag"))return jt.set("_cmpDrag");var Rt=(0,B.default)(bt.target),Xt=Rt.data("model");if(!Xt)for(var Ht=Rt.parent();!Xt&&Ht.length&&!(0,Ft.Mx)(Ht[0]);)Xt=Ht.data("model"),Ht=Ht.parent();if(Xt){if(jt.isEditing()&&!Xt.get("textable")&&Xt.isChildOf("text"))return;this.select(Xt,bt)}},select:function(bt,jt){jt===void 0&&(jt={}),bt&&(this.editor.select(bt,{event:jt,useValid:!0}),this.initResize(bt))},updateBadge:function(bt,jt,Rt){Rt===void 0&&(Rt={});var Xt=this.canvas,Ht=(0,B.default)(bt).data("model");if(Ht&&Ht.get("badgable")){var It=this.getBadge(Rt);if(!Rt.posOnly){var St=this.canvas.getConfig(),Bt=Ht.getIcon(),Me=St.pStylePrefix||"",pe="".concat(Me,"badge"),Ae=St.customBadgeLabel,ir="".concat(Bt?'<div class="'.concat(pe,'__icon">').concat(Bt,"</div>"):"",`
        <div class="`).concat(pe,'__name">').concat(Ht.getName(),"</div>");It.innerHTML=Ae?Ae(Ht):ir}var Or="px",Nr=It.style;Nr.display="block";var Dr=Xt.getTargetToElementFixed(bt,It,{pos:jt}).top,Vr=Rt.leftOff<0?-Rt.leftOff:0;Nr.top=Dr+Or,Nr.left=Vr+Or}},showHighlighter:function(bt){this.canvas.getHighlighter(bt).style.opacity=""},initResize:function(bt){var jt,Rt=this.em,Xt=this.canvas,Ht=Rt==null?void 0:Rt.Editor,It=(Rt==null?void 0:Rt.config).stylePrefix||"",St="".concat(It,"resizing"),Bt=!(0,dt.isElement)(bt)&&(0,$t.isTaggableNode)(bt)?bt:Rt.getSelected(),Me=Bt&&Bt.get("resizable"),pe={},Ae=function(Or,Nr,Dr){var Vr=Dr.docs;Vr&&Vr.forEach(function(Je){var nt=Je.body,Et=nt.className||"";nt.className=(Or=="add"?"".concat(Et," ").concat(St):Et.replace(St,"")).trim()})};if(Ht&&Me){var ir=(0,dt.isElement)(bt)?bt:Bt.getEl();pe={onStart:function(Or,Nr){Nr===void 0&&(Nr={});var Dr=Nr.el,Vr=Nr.config,Je=Nr.resizer,nt=Vr.keyHeight,Et=Vr.keyWidth,qt=Vr.currentUnit,me=Vr.keepAutoHeight,Le=Vr.keepAutoWidth;Ae("add",0,Nr),jt=Rt.Styles.getModelToStyle(Bt),Xt.toggleFramesEvents(!1);var lt=getComputedStyle(Dr),ue=jt.getStyle(),se=ue[Et];Vr.autoWidth=Le&&se==="auto",isNaN(parseFloat(se))&&(se=lt[Et]);var nr=ue[nt];Vr.autoHeight=me&&nr==="auto",isNaN(parseFloat(nr))&&(nr=lt[nt]),Je.startDim.w=parseFloat(se),Je.startDim.h=parseFloat(nr),G=!1,qt&&(Vr.unitHeight=(0,$t.getUnitFromValue)(nr),Vr.unitWidth=(0,$t.getUnitFromValue)(se))},onMove:function(){Ht.trigger("component:resize")},onEnd:function(Or,Nr){Ae("remove",0,Nr),Ht.trigger("component:resize"),Xt.toggleFramesEvents(!0),G=!0},updateTarget:function(Or,Nr,Dr){if(Dr===void 0&&(Dr={}),jt){var Vr=Dr.store,Je=Dr.selectedHandler,nt=Dr.config,Et=nt.keyHeight,qt=nt.keyWidth,me=nt.autoHeight,Le=nt.autoWidth,lt=nt.unitWidth,ue=nt.unitHeight,se=["tc","bc"].indexOf(Je)>=0,nr=["cl","cr"].indexOf(Je)>=0,vr={};if(!se){var Qe=Xt.getBody().offsetWidth,Ir=Nr.w<Qe?Nr.w:Qe;vr[qt]=Le?"auto":"".concat(Ir).concat(lt)}nr||(vr[Et]=me?"auto":"".concat(Nr.h).concat(ue)),Rt.getDragMode(Bt)&&(vr.top="".concat(Nr.t).concat(ue),vr.left="".concat(Nr.l).concat(lt));var rn=Lt(Lt({},vr),{__p:!Vr});jt.addStyle(rn,{avoidStore:!Vr}),Rt.Styles.__emitCmpStyleUpdate(rn,{components:Rt.getSelected()})}}},typeof Me=="object"&&(pe=Lt(Lt(Lt({},pe),Me),{parent:pe})),this.resizer=Ht.runCommand("resize",{el:ir,options:pe,force:1})}else Ht.stopCommand("resize"),this.resizer=null},updateToolbar:function(bt){var jt=this.config.em,Rt=bt==jt?jt.getSelected():bt,Xt=this.canvas.getToolbarEl(),Ht=Xt.style,It=Rt.get("toolbar"),St=jt.config.showToolbar;if(Rt&&St&&It&&It.length){if(Ht.display="",!this.toolbar){Xt.innerHTML="",this.toolbar=new F(It);var Bt=new _t({collection:this.toolbar,em:jt});Xt.appendChild(Bt.render().el)}this.toolbar.reset(It),Ht.top="-100px",Ht.left="0"}else Ht.display="none"},updateToolbarPos:function(bt){var jt="px",Rt=this.canvas.getToolbarEl().style;Rt.top="".concat(bt.top).concat(jt),Rt.left="".concat(bt.left).concat(jt),Rt.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(bt){return bt===void 0&&(bt={}),this.canvas.getBadgeEl(bt.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(bt){return bt&&bt.get("status")==="selected"},updateToolsLocal:function(bt){var jt=this.em.getConfig(),Rt=bt||this.getElHovered(),Xt=Rt.el,Ht=Rt.pos,It=Rt.view,St=Rt.component;if(Xt){var Bt=St.get("hoverable"),Me=this.lastHovered!==Xt,pe=Me?{}:{posOnly:1};Me&&Bt&&(this.lastHovered=Xt,this.showHighlighter(It),this.showElementOffset(Xt,Ht,{view:It})),this.isCompSelected(St)&&(this.hideHighlighter(It),!jt.showOffsetsSelected&&this.hideElementOffset(It));var Ae="px",ir=this.toggleToolsEl(1,It),Or=ir.style,Nr=this.canvas.canvasRectOffset(Xt,Ht),Dr=Nr.top,Vr=Nr.left;this.updateBadge(Xt,Ht,Lt(Lt({},pe),{view:It,topOff:Dr,leftOff:Vr})),Or.top=Dr+Ae,Or.left=Vr+Ae,Or.width=Ht.width+Ae,Or.height=Ht.height+Ae,this._trgToolUp("local",{component:St,el:ir,top:Dr,left:Vr,width:Ht.width,height:Ht.height})}else this.lastHovered=0},_upToolbar:(0,dt.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(bt,jt){jt===void 0&&(jt={}),this.em.trigger("canvas:tools:update",Lt({type:bt},jt))},updateToolsGlobal:function(bt){bt===void 0&&(bt={});var jt=this.getElSelected(),Rt=jt.el,Xt=jt.pos,Ht=jt.component;if(!Rt)return this.toggleToolsEl(),void(this.lastSelected=0);var It=this.canvas;(this.lastSelected!==Rt||bt.force)&&(this.lastSelected=Rt,this.updateToolbar(Ht));var St="px",Bt=this.toggleToolsEl(1),Me=Bt.style,pe=It.getTargetToElementFixed(Rt,It.getToolbarEl(),{pos:Xt}),Ae=pe.canvasOffsetTop,ir=pe.canvasOffsetLeft;Me.top=Ae+St,Me.left=ir+St,Me.width=Xt.width+St,Me.height=Xt.height+St,this.updateToolbarPos({top:pe.top,left:pe.left}),this._trgToolUp("global",{component:Ht,el:Bt,top:Ae,left:ir,width:Xt.width,height:Xt.height})},updateAttached:(0,dt.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,dt.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(bt){return this.canvas.getCanvasView().getElementPos(bt,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(bt){bt&&bt.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(bt){(0,$t.hasWin)()&&(this.editor=bt&&bt.get("Editor"),this.enable())},stop:function(bt,jt,Rt){if(Rt===void 0&&(Rt={}),(0,$t.hasWin)()){var Xt=this.em,Ht=this.editor;this.onHovered(),this.stopSelectComponent(),!Rt.preserveSelected&&Xt.setSelected(),this.toggleToolsEl(),Ht&&Ht.stopCommand("resize")}}}},189:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(895);const dt={startSelectPosition:function(B,V,I){var N=this;I===void 0&&(I={}),this.isPointed=!1;var W=this.em.Utils,R=B.ownerDocument.body;W&&!this.sorter&&(this.sorter=new W.Sorter({container:R,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:V,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return N.em.getZoomDecimal()}})),I.onStart&&(this.sorter.onStart=I.onStart),B&&this.sorter.startSort(B,{container:R})},getOffsetDim:function(){var B=this.offset(this.canvas.getFrameEl()),V=this.offset(this.canvas.getElement());return{top:B.top-V.top,left:B.left-V.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,ht.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,ht.default)(this.cDim[this.posIndex][5]).parent():(0,ht.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(B,V,I){var N=B||0,W=V||"before",R=I.length,F=R!==0&&W=="after"&&N==R;return R!==0&&(!F&&!I[N][4]||I[N-1]&&!I[N-1][4]||F&&!I[N-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>I});var ht=ft(50),dt=ft(895),B=ft(163),V=function(){return V=Object.assign||function(N){for(var W,R=1,F=arguments.length;R<F;R++)for(var U in W=arguments[R])Object.prototype.hasOwnProperty.call(W,U)&&(N[U]=W[U]);return N},V.apply(this,arguments)};const I={getOffsetMethod:function(N){return"get"+(N||"")+"OffsetViewerEl"},run:function(N,W,R){var F=R||{},U=F.state||"",$=N.getConfig(),Q=this.em.getZoomDecimal(),J=F.el||"";if(!$.showOffsets||(0,B.isTextNode)(J)||!$.showOffsetsSelected&&U=="Fixed")N.stopCommand("".concat(this.id),R);else{var Tt=N.Canvas,et=V({},F.elPos||Tt.getElementPos(J));(0,ht.isUndefined)(F.top)||(et.top=F.top),(0,ht.isUndefined)(F.left)||(et.left=F.left);var _t=window.getComputedStyle(J),G=this.ppfx,Ft=U+"State",$t=Tt[this.getOffsetMethod(U)](R.view);$t.style.opacity="";var Lt=this["marginT"+U],ve=this["marginB"+U],bt=this["marginL"+U],jt=this["marginR"+U],Rt=this["padT"+U],Xt=this["padB"+U],Ht=this["padL"+U],It=this["padR"+U];if($t.childNodes.length&&(this[Ft]="1",Lt=$t.querySelector("[data-offset-m-t]"),ve=$t.querySelector("[data-offset-m-b]"),bt=$t.querySelector("[data-offset-m-l]"),jt=$t.querySelector("[data-offset-m-r]"),Rt=$t.querySelector("[data-offset-p-t]"),Xt=$t.querySelector("[data-offset-p-b]"),Ht=$t.querySelector("[data-offset-p-l]"),It=$t.querySelector("[data-offset-p-r]")),!this[Ft]){var St=U.toLowerCase(),Bt=St+"margin-v",Me=St+"padding-v",pe=(0,dt.default)('<div class="'.concat(G,'marginName">')).get(0),Ae=(0,dt.default)('<div class="'.concat(G,'paddingName">')).get(0),ir=G+Me+"-el",Or="".concat(G+Bt+"-el"," ").concat(G+Bt),Nr="".concat(ir," ").concat(G+Me);Lt=(0,dt.default)('<div class="'.concat(Or,'-top"></div>')).get(0),ve=(0,dt.default)('<div class="'.concat(Or,'-bottom"></div>')).get(0),bt=(0,dt.default)('<div class="'.concat(Or,'-left"></div>')).get(0),jt=(0,dt.default)('<div class="'.concat(Or,'-right"></div>')).get(0),Rt=(0,dt.default)('<div class="'.concat(Nr,'-top"></div>')).get(0),Xt=(0,dt.default)('<div class="'.concat(Nr,'-bottom"></div>')).get(0),Ht=(0,dt.default)('<div class="'.concat(Nr,'-left"></div>')).get(0),It=(0,dt.default)('<div class="'.concat(Nr,'-right"></div>')).get(0),this["marginT"+U]=Lt,this["marginB"+U]=ve,this["marginL"+U]=bt,this["marginR"+U]=jt,this["padT"+U]=Rt,this["padB"+U]=Xt,this["padL"+U]=Ht,this["padR"+U]=It,pe.appendChild(Lt),pe.appendChild(ve),pe.appendChild(bt),pe.appendChild(jt),Ae.appendChild(Rt),Ae.appendChild(Xt),Ae.appendChild(Ht),Ae.appendChild(It),$t.appendChild(pe),$t.appendChild(Ae),this[Ft]="1"}var Dr="px",Vr=parseFloat(_t.marginLeft.replace(Dr,""))*Q,Je=parseFloat(_t.marginRight.replace(Dr,""))*Q,nt=parseFloat(_t.marginTop.replace(Dr,""))*Q,Et=parseFloat(_t.marginBottom.replace(Dr,""))*Q,qt=Lt.style,me=ve.style,Le=bt.style,lt=jt.style,ue=Rt.style,se=Xt.style,nr=Ht.style,vr=It.style,Qe=parseFloat(et.left),Ir=parseFloat(_t.width)*Q+Dr;qt.height=nt+Dr,qt.width=Ir,qt.top=et.top-nt+Dr,qt.left=Qe+Dr,me.height=Et+Dr,me.width=Ir,me.top=et.top+et.height+Dr,me.left=Qe+Dr;var rn=et.height+nt+Et+Dr,vt=et.top-nt+Dr;Le.height=rn,Le.width=Vr+Dr,Le.top=vt,Le.left=Qe-Vr+Dr,lt.height=rn,lt.width=Je+Dr,lt.top=vt,lt.left=Qe+et.width+Dr;var Wt=parseFloat(_t.paddingTop)*Q;ue.height=Wt+Dr;var fe=parseFloat(_t.paddingBottom)*Q;se.height=fe+Dr;var Vt=et.height-fe-Wt+Dr,Ce=et.top+Wt+Dr;nr.height=Vt,nr.width=parseFloat(_t.paddingLeft)*Q+Dr,nr.top=Ce;var Yt=parseFloat(_t.paddingRight)*Q;vr.height=Vt,vr.width=Yt+Dr,vr.top=Ce}},stop:function(N,W,R){R===void 0&&(R={});var F=(R||{}).state||"",U=this.getOffsetMethod(F);N.Canvas[U](R.view).style.opacity=0}}},434:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>dt});var ht=ft(50);const dt={init:function(){(0,ht.bindAll)(this,"_onFramesChange")},run:function(B){this.toggleVis(B)},stop:function(B){this.toggleVis(B,0)},toggleVis:function(B,V){var I=this;if(V===void 0&&(V=1),!B.Commands.isActive("preview")){var N=B.Canvas,W=V?"on":"off",R=N.getModel();N.getFrames().forEach(function(F){return I._upFrame(F,V)}),R[W]("change:frames",this._onFramesChange)}},_onFramesChange:function(B,V){var I=this;V.forEach(function(N){var W,R=function(){return I._upFrame(N,!0)};!((W=N.view)===null||W===void 0)&&W.loaded?R():N.once("loaded",R)})},_upFrame:function(B,V){var I,N=V?"add":"remove",W="".concat(this.ppfx,"dashed");(I=B.view)===null||I===void 0||I.getBody().classList[N](W)}}},346:(k,H,ft)=>{ft.d(H,{FE:()=>N,G7:()=>W,Hn:()=>I});var ht,dt=ft(316),B=ft.n(dt),V=(ht=function(R,F){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,$){U.__proto__=$}||function(U,$){for(var Q in $)Object.prototype.hasOwnProperty.call($,Q)&&(U[Q]=$[Q])},ht(R,F)},function(R,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function U(){this.constructor=R}ht(R,F),R.prototype=F===null?Object.create(F):(U.prototype=F.prototype,new U)}),I=function(R){function F(){return R!==null&&R.apply(this,arguments)||this}return V(F,R),F}(B().Model),N=function(R){function F(){return R!==null&&R.apply(this,arguments)||this}return V(F,R),F}(B().Collection),W=function(R){function F(){return R!==null&&R.apply(this,arguments)||this}return V(F,R),F}(B().View)},330:(k,H,ft)=>{ft.d(H,{Z:()=>N});var ht,dt=ft(50),B=ft(346),V=(ht=function(W,R){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,U){F.__proto__=U}||function(F,U){for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(F[$]=U[$])},ht(W,R)},function(W,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function F(){this.constructor=W}ht(W,R),W.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}),I=function(W){function R(F,U,$){F===void 0&&(F={}),$===void 0&&($=!1);var Q=W.call(this,F)||this;return Q.itemsView="",Q.itemType="type",Q.reuseView=!1,Q.config=U||F.config||{},$&&Q.listenTo(Q.collection,"add",Q.addTo),Q.items=[],Q}return V(R,W),R.prototype.addTo=function(F){this.add(F)},R.prototype.itemViewNotFound=function(F){var U=this.config,$=this.ns,Q=U.em,J="".concat($?"[".concat($,"]: "):"","'").concat(F,"' type not found");Q&&Q.logWarning(J)},R.prototype.add=function(F,U){var $,Q=this,J=Q.config,Tt=Q.reuseView,et=Q.items,_t=this.itemsView||{},G=U||null,Ft=this.itemView,$t=F.get(this.itemType);_t[$t]?Ft=_t[$t]:!$t||_t[$t]||(0,dt.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],$t)||this.itemViewNotFound($t),$=F.view&&Tt?F.view:new Ft({model:F,config:J},J),et&&et.push($);var Lt=$.render().el;G?G.appendChild(Lt):this.$el.append(Lt)},R.prototype.render=function(){var F=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(U){this.add(U,F)},this),this.$el.append(F),this.onRender(),this},R.prototype.onRender=function(){},R.prototype.onRemoveBefore=function(F,U){},R.prototype.onRemove=function(F,U){},R.prototype.remove=function(F){F===void 0&&(F={});var U=this.items;return this.onRemoveBefore(U,F),this.clearItems(),W.prototype.remove.call(this),this.onRemove(U,F),this},R.prototype.clearItems=function(){this.items},R}(B.G7);const N=I;I.prototype.itemView=""},668:(k,H,ft)=>{ft.d(H,{Z:()=>I});var ht=ft(50),dt=ft(163),B=function(){return B=Object.assign||function(N){for(var W,R=1,F=arguments.length;R<F;R++)for(var U in W=arguments[R])Object.prototype.hasOwnProperty.call(W,U)&&(N[U]=W[U]);return N},B.apply(this,arguments)},V=["x","y"];const I=function(){function N(W){return W===void 0&&(W={}),this.opts={snapOffset:5,scale:1},(0,ht.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(W),this.delta={x:0,y:0},this.lastScroll={x:0,y:0},this.lastScrollDiff={x:0,y:0},this.startPointer={x:0,y:0},this.startPosition={x:0,y:0},this.globScrollDiff={x:0,y:0},this.currentPointer={x:0,y:0},this.position={x:0,y:0},this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return N.prototype.setOptions=function(W){W===void 0&&(W={}),this.opts=B(B({},this.opts),W)},N.prototype.toggleDrag=function(W){var R=this.getDocumentEl(),F=this.getContainerEl(),U=this.getWindowEl(),$=W?"on":"off",Q={on:dt.on,off:dt.off};Q[$](F,"mousemove dragover",this.drag),Q[$](R,"mouseup dragend touchend",this.stop),Q[$](R,"keydown",this.keyHandle),Q[$](U,"scroll",this.handleScroll)},N.prototype.handleScroll=function(){var W=this.lastScroll,R=this.delta,F=this.getScrollInfo(),U={x:F.x-W.x,y:F.y-W.y};this.move(R.x+U.x,R.y+U.y),this.lastScrollDiff=U},N.prototype.start=function(W){var R=this.opts,F=R.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(W),this.guidesStatic=(0,ht.result)(R,"guidesStatic")||[],this.guidesTarget=(0,ht.result)(R,"guidesTarget")||[],(0,ht.isFunction)(F)&&F(W,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(W)},N.prototype.drag=function(W){var R=this,F=this,U=F.opts,$=F.lastScrollDiff,Q=F.globScrollDiff,J=U.onDrag,Tt=this.startPointer,et=this.getPointerPos(W),_t={x:Q.x+$.x,y:Q.y+$.y};this.globScrollDiff=_t;var G={x:et.x-Tt.x+_t.x,y:et.y-Tt.y+_t.y};this.lastScrollDiff={x:0,y:0};var Ft=this.lockedAxis;(Ft=W.shiftKey?!Ft&&this.detectAxisLock(G.x,G.y):null)==="x"?G.x=Tt.x:Ft==="y"&&(G.y=Tt.y);var $t=function(Xt){V.forEach(function(Ht){return Xt[Ht]=Xt[Ht]*(0,ht.result)(U,"scale")}),R.delta=Xt,R.move(Xt.x,Xt.y),(0,ht.isFunction)(J)&&J(W,R)},Lt=B({},G);if(this.currentPointer=et,this.lockedAxis=Ft,this.lastScroll=this.getScrollInfo(),$t(G),this.guidesTarget.length){var ve=this.snapGuides(Lt),bt=ve.newDelta,jt=ve.trgX,Rt=ve.trgY;(jt||Rt)&&$t(bt)}W.which===0&&this.stop(W)},N.prototype.snapGuides=function(W){var R=this,F=W,U=this.trgX,$=this.trgY;return this.guidesTarget.forEach(function(Q){Q.x&&R.trgX||Q.y&&R.trgY||(Q.active=!1,R.guidesStatic.forEach(function(J){if(!(Q.y&&J.x||Q.x&&J.y)){var Tt=Q.y&&J.y,et=Tt?"y":"x",_t=Q[et],G=J[et],Ft=W[et],$t=Tt?$:U;if(R.isPointIn(_t,G)&&(0,ht.isUndefined)($t)){var Lt=Ft-(_t-G);R.setGuideLock(Q,Lt)}}}))}),U=this.trgX,$=this.trgY,V.forEach(function(Q){var J=Q.toUpperCase(),Tt=R["trg".concat(J)];Tt&&!R.isPointIn(W[Q],Tt.lock)&&(R.setGuideLock(Tt,null),Tt=null),Tt&&!(0,ht.isUndefined)(Tt.lock)&&(F[Q]=Tt.lock)}),{newDelta:F,trgX:this.trgX,trgY:this.trgY}},N.prototype.isPointIn=function(W,R,F){var U=(F===void 0?{}:F).offset||this.opts.snapOffset||0;return W>=R&&W<=R+U||W<=R&&W>=R-U},N.prototype.setGuideLock=function(W,R){var F=(0,ht.isUndefined)(W.x)?"Y":"X",U="trg".concat(F);return R!==null?(W.active=!0,W.lock=R,this[U]=W):(delete W.active,delete W.lock,delete this[U]),W},N.prototype.stop=function(W,R){R===void 0&&(R={});var F=this.delta,U=!!R.cancel,$=U?0:F.x,Q=U?0:F.y;this.toggleDrag(),this.lockedAxis=null,this.move($,Q,!0);var J=this.opts.onEnd;(0,ht.isFunction)(J)&&J(W,this,{cancelled:U})},N.prototype.keyHandle=function(W){(0,dt.isEscKey)(W)&&this.stop(W,{cancel:!0})},N.prototype.move=function(W,R,F){var U=this.el,$=this.opts,Q=this.startPosition;if(Q){var J=$.setPosition,Tt=Q.x+W,et=Q.y+R;this.position={x:Tt,y:et,end:F},(0,ht.isFunction)(J)&&J(this.position),U&&(U.style.left="".concat(Tt,"px"),U.style.top="".concat(et,"px"))}},N.prototype.getContainerEl=function(){var W=this.opts.container;return W?[W]:this.getDocumentEl()},N.prototype.getWindowEl=function(){return this.getContainerEl().map(function(W){var R=W.ownerDocument||W;return R.defaultView||R.parentWindow})},N.prototype.getDocumentEl=function(W){var R=this.opts.doc;if(W=W||this.el,!this.docs.length){var F=[document];W&&F.push(W.ownerDocument),R&&F.push(R),this.docs=F}return this.docs},N.prototype.getPointerPos=function(W){var R=this.opts.getPointerPosition,F=(0,dt.getPointerEvent)(W);return R?R(W):{x:F.clientX,y:F.clientY}},N.prototype.getStartPosition=function(){var W=this.el,R=this.opts.getPosition,F={x:0,y:0};return(0,ht.isFunction)(R)?F=R():W&&(F={x:parseFloat(W.style.left),y:parseFloat(W.style.top)}),F},N.prototype.getScrollInfo=function(){var W=this.opts.doc,R=W&&W.body;return{y:R?R.scrollTop:0,x:R?R.scrollLeft:0}},N.prototype.detectAxisLock=function(W,R){var F=W,U=R,$=Math.abs(F),Q=Math.abs(U);return U>=$||U<=-$?"x":F>Q||F<-Q?"y":void 0},N}()},895:(k,H,ft)=>{ft.r(H),ft.d(H,{default:()=>Xe});var ht=typeof document<"u"?document:null,dt=typeof window<"u"?window:null,B=Array.prototype,V=B.filter,I=B.indexOf,N=B.map,W=B.push,R=B.reverse,F=B.slice,U=B.splice,$=/^#[\w-]*$/,Q=/^\.[\w-]*$/,J=/<.+>/,Tt=/^\w+$/;function et(xt,ce){return ce===void 0&&(ce=ht),Q.test(xt)?ce.getElementsByClassName(xt.slice(1)):Tt.test(xt)?ce.getElementsByTagName(xt):ce.querySelectorAll(xt)}function _t(xt,ce){if(ce===void 0&&(ce=ht),xt){if(xt.__cash)return xt;var ke=xt;if(Ht(xt)){if(ce.__cash&&(ce=ce[0]),!(ke=$.test(xt)?ce.getElementById(xt.slice(1)):J.test(xt)?Ut(xt):et(xt,ce)))return}else if(Xt(xt))return this.ready(xt);(ke.nodeType||ke===dt)&&(ke=[ke]),this.length=ke.length;for(var Ze=0,xr=this.length;Ze<xr;Ze++)this[Ze]=ke[Ze]}}function G(xt,ce){return new _t(xt,ce)}var Ft=G.fn=G.prototype=_t.prototype={constructor:G,__cash:!0,length:0,splice:U};Ft.get=function(xt){return xt===void 0?F.call(this):this[xt<0?xt+this.length:xt]},Ft.eq=function(xt){return G(this.get(xt))},Ft.first=function(){return this.eq(0)},Ft.last=function(){return this.eq(-1)},Ft.map=function(xt){return G(N.call(this,function(ce,ke){return xt.call(ce,ke,ce)}))},Ft.slice=function(){return G(F.apply(this,arguments))};var $t=/(?:^\w|[A-Z]|\b\w)/g,Lt=/[\s-_]+/g;function ve(xt){return xt.replace($t,function(ce,ke){return ce[ke?"toUpperCase":"toLowerCase"]()}).replace(Lt,"")}function bt(xt,ce){for(var ke=0,Ze=xt.length;ke<Ze&&ce.call(xt[ke],xt[ke],ke,xt)!==!1;ke++);}G.camelCase=ve,G.each=bt,Ft.each=function(xt){return bt(this,function(ce,ke){return xt.call(ce,ke,ce)}),this},Ft.removeProp=function(xt){return this.each(function(ce,ke){delete ke[xt]})},G.extend=Ft.extend=function(xt){xt===void 0&&(xt=this);for(var ce=arguments,ke=ce.length,Ze=ke<2?0:1;Ze<ke;Ze++)for(var xr in ce[Ze])xt[xr]=ce[Ze][xr];return xt};var jt=1;function Rt(xt,ce){var ke=xt&&(xt.matches||xt.webkitMatchesSelector||xt.mozMatchesSelector||xt.msMatchesSelector||xt.oMatchesSelector);return!!ke&&ke.call(xt,ce)}function Xt(xt){return typeof xt=="function"}function Ht(xt){return typeof xt=="string"}function It(xt){return!isNaN(parseFloat(xt))&&isFinite(xt)}G.guid=jt,G.matches=Rt,G.isFunction=Xt,G.isString=Ht,G.isNumeric=It;var St=Array.isArray;function Bt(xt){return Ht(xt)?function(ce,ke){return Rt(ke,xt)}:xt.__cash?function(ce,ke){return xt.is(ke)}:function(ce,ke,Ze){return ke===Ze}}G.isArray=St,Ft.prop=function(xt,ce){if(xt){if(Ht(xt))return arguments.length<2?this[0]&&this[0][xt]:this.each(function(Ze,xr){xr[xt]=ce});for(var ke in xt)this.prop(ke,xt[ke]);return this}},Ft.filter=function(xt){if(!xt)return G();var ce=Xt(xt)?xt:Bt(xt);return G(V.call(this,function(ke,Ze){return ce.call(ke,Ze,ke,xt)}))};var Me=/\S+/g;function pe(xt){return Ht(xt)&&xt.match(Me)||[]}function Ae(xt){return xt.filter(function(ce,ke,Ze){return Ze.indexOf(ce)===ke})}function ir(xt,ce,ke){if(xt.nodeType===1){var Ze=dt.getComputedStyle(xt,null);return ce?ke?Ze.getPropertyValue(ce):Ze[ce]:Ze}}function Or(xt,ce){return parseInt(ir(xt,ce),10)||0}Ft.hasClass=function(xt){var ce=pe(xt),ke=!1;return ce.length&&this.each(function(Ze,xr){return!(ke=xr.classList.contains(ce[0]))}),ke},Ft.removeAttr=function(xt){var ce=pe(xt);return ce.length?this.each(function(ke,Ze){bt(ce,function(xr){Ze.removeAttribute(xr)})}):this},Ft.attr=function(xt,ce){if(xt){if(Ht(xt)){if(arguments.length<2){if(!this[0])return;var ke=this[0].getAttribute(xt);return ke===null?void 0:ke}return ce===null?this.removeAttr(xt):this.each(function(xr,Yr){Yr.setAttribute(xt,ce)})}for(var Ze in xt)this.attr(Ze,xt[Ze]);return this}},Ft.toggleClass=function(xt,ce){var ke=pe(xt),Ze=ce!==void 0;return ke.length?this.each(function(xr,Yr){bt(ke,function(Un){Ze?ce?Yr.classList.add(Un):Yr.classList.remove(Un):Yr.classList.toggle(Un)})}):this},Ft.addClass=function(xt){return this.toggleClass(xt,!0)},Ft.removeClass=function(xt){return arguments.length?this.toggleClass(xt,!1):this.attr("class","")},G.unique=Ae,Ft.add=function(xt,ce){return G(Ae(this.get().concat(G(xt,ce).get())))};var Nr=/^--/;function Dr(xt){return Nr.test(xt)}var Vr={},Je=ht&&ht.createElement("div"),nt=Je?Je.style:{},Et=["webkit","moz","ms","o"];function qt(xt,ce){if(ce===void 0&&(ce=Dr(xt)),ce)return xt;if(!Vr[xt]){var ke=ve(xt),Ze=""+ke.charAt(0).toUpperCase()+ke.slice(1);bt((ke+" "+Et.join(Ze+" ")+Ze).split(" "),function(xr){if(xr in nt)return Vr[xt]=xr,!1})}return Vr[xt]}G.prefixedProp=qt;var me={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Le(xt,ce,ke){return ke===void 0&&(ke=Dr(xt)),ke||me[xt]||!It(ce)?ce:ce+"px"}Ft.css=function(xt,ce){if(Ht(xt)){var ke=Dr(xt);return xt=qt(xt,ke),arguments.length<2?this[0]&&ir(this[0],xt,ke):xt?(ce=Le(xt,ce,ke),this.each(function(xr,Yr){Yr.nodeType===1&&(ke?Yr.style.setProperty(xt,ce):Yr.style[xt]=ce)})):this}for(var Ze in xt)this.css(Ze,xt[Ze]);return this};var lt="__cashData",ue=/^data-(.*)/;function se(xt){return xt[lt]=xt[lt]||{}}function nr(xt,ce){var ke=se(xt);if(ce){if(!(ce in ke)){var Ze=xt.dataset?xt.dataset[ce]||xt.dataset[ve(ce)]:G(xt).attr("data-"+ce);if(Ze!==void 0){try{Ze=JSON.parse(Ze)}catch{}ke[ce]=Ze}}return ke[ce]}return ke}function vr(xt,ce){return Or(xt,"border"+(ce?"Left":"Top")+"Width")+Or(xt,"padding"+(ce?"Left":"Top"))+Or(xt,"padding"+(ce?"Right":"Bottom"))+Or(xt,"border"+(ce?"Right":"Bottom")+"Width")}function Qe(xt,ce){for(var ke=0,Ze=ce.length;ke<Ze;ke++)if(xt.indexOf(ce[ke])<0)return!1;return!0}function Ir(xt,ce,ke){bt(xt[ke],function(Ze){Ze[0];var xr=Ze[1];ce.removeEventListener(ke,xr)}),delete xt[ke]}G.hasData=function(xt){return lt in xt},Ft.data=function(xt,ce){var ke=this;if(!xt)return this[0]?(bt(this[0].attributes,function(xr){var Yr=xr.name.match(ue);Yr&&ke.data(Yr[1])}),nr(this[0])):void 0;if(Ht(xt))return ce===void 0?this[0]&&nr(this[0],xt):this.each(function(xr,Yr){return function(Un,In,lo){se(Un)[In]=lo}(Yr,xt,ce)});for(var Ze in xt)this.data(Ze,xt[Ze]);return this},Ft.removeData=function(xt){return this.each(function(ce,ke){return function(Ze,xr){xr===void 0?delete Ze[lt]:delete se(Ze)[xr]}(ke,xt)})},bt(["Width","Height"],function(xt){Ft["inner"+xt]=function(){if(this[0])return this[0]===dt?dt["inner"+xt]:this[0]["client"+xt]}}),bt(["width","height"],function(xt,ce){Ft[xt]=function(ke){return this[0]?arguments.length?(ke=parseInt(ke,10),this.each(function(Ze,xr){if(xr.nodeType===1){var Yr=ir(xr,"boxSizing");xr.style[xt]=Le(xt,ke+(Yr==="border-box"?vr(xr,!ce):0))}})):this[0]===dt?this[0][ve("outer-"+xt)]:this[0].getBoundingClientRect()[xt]-vr(this[0],!ce):ke===void 0?void 0:this}}),bt(["Width","Height"],function(xt,ce){Ft["outer"+xt]=function(ke){if(this[0])return this[0]===dt?dt["outer"+xt]:this[0]["offset"+xt]+(ke?Or(this[0],"margin"+(ce?"Top":"Left"))+Or(this[0],"margin"+(ce?"Bottom":"Right")):0)}});var rn="__cashEvents",vt=".";function Wt(xt){return xt[rn]=xt[rn]||{}}function fe(xt){var ce=xt.split(vt);return[ce[0],ce.slice(1).sort()]}function Vt(xt,ce,ke,Ze){var xr=Wt(xt);if(ce){var Yr=xr[ce];if(!Yr)return;Ze&&(Ze.guid=Ze.guid||jt++),xr[ce]=Yr.filter(function(Un){var In=Un[0],lo=Un[1];if(Ze&&lo.guid!==Ze.guid||!Qe(In,ke))return!0;xt.removeEventListener(ce,lo)})}else if(ke&&ke.length)for(ce in xr)Vt(xt,ce,ke,Ze);else for(ce in xr)Ir(xr,xt,ce)}Ft.off=function(xt,ce){var ke=this;return xt===void 0?this.each(function(Ze,xr){return Vt(xr)}):bt(pe(xt),function(Ze){var xr=fe(Ze),Yr=xr[0],Un=xr[1];ke.each(function(In,lo){return Vt(lo,Yr,Un,ce)})}),this},Ft.on=function(xt,ce,ke,Ze){var xr=this;if(!Ht(xt)){for(var Yr in xt)this.on(Yr,ce,xt[Yr]);return this}return Xt(ce)&&(ke=ce,ce=!1),bt(pe(xt),function(Un){var In=fe(Un),lo=In[0],uo=In[1];xr.each(function(yn,Qn){var Fn=function Qo(fo){if(!fo.namespace||Qe(uo,fo.namespace.split(vt))){var Bo=Qn;if(ce){for(var bo=fo.target;!Rt(bo,ce);)if(bo===Qn||!(bo=bo.parentNode))return;Bo=bo}fo.namespace=fo.namespace||"";var wo=ke.call(Bo,fo,fo.data);Ze&&Vt(Qn,lo,uo,Qo),wo===!1&&(fo.preventDefault(),fo.stopPropagation())}};Fn.guid=ke.guid=ke.guid||jt++,function(Qo,fo,Bo,bo){bo.guid=bo.guid||jt++;var wo=Wt(Qo);wo[fo]=wo[fo]||[],wo[fo].push([Bo,bo]),Qo.addEventListener(fo,bo)}(Qn,lo,uo,Fn)})}),this},Ft.one=function(xt,ce,ke){return this.on(xt,ce,ke,!0)},Ft.ready=function(xt){var ce=function(){return xt(G)};return ht.readyState!=="loading"?setTimeout(ce):ht.addEventListener("DOMContentLoaded",ce),this},Ft.trigger=function(xt,ce){var ke=xt;if(Ht(xt)){var Ze=fe(xt),xr=Ze[0],Yr=Ze[1];(ke=ht.createEvent("HTMLEvents")).initEvent(xr,!0,!0),ke.namespace=Yr.join(vt)}return ke.data=ce,this.each(function(Un,In){In.dispatchEvent(ke)})};var Ce=/select-one/i,Yt=/select-multiple/i;function pr(xt){var ce=xt.type;return Ce.test(ce)?function(ke){return ke.selectedIndex<0?null:ke.options[ke.selectedIndex].value}(xt):Yt.test(ce)?function(ke){var Ze=[];return bt(ke.options,function(xr){!xr.selected||xr.disabled||xr.parentNode.disabled||Ze.push(xr.value)}),Ze}(xt):xt.value}var dr=/%20/g,on=/file|reset|submit|button|image/i,Kr=/radio|checkbox/i;Ft.serialize=function(){var xt="";return this.each(function(ce,ke){bt(ke.elements||[ke],function(Ze){if(!Ze.disabled&&Ze.name&&Ze.tagName!=="FIELDSET"&&!on.test(Ze.type)&&(!Kr.test(Ze.type)||Ze.checked)){var xr=pr(Ze);xr!==void 0&&bt(St(xr)?xr:[xr],function(Yr){xt+=function(Un,In){return"&"+encodeURIComponent(Un)+"="+encodeURIComponent(In).replace(dr,"+")}(Ze.name,Yr)})}})}),xt.substr(1)},Ft.val=function(xt){return xt===void 0?this[0]&&pr(this[0]):this.each(function(ce,ke){var Ze=Yt.test(ke.type),xr=xt===null?Ze?[]:"":xt;Ze&&St(xr)?bt(ke.options,function(Yr){Yr.selected=xr.indexOf(Yr.value)>=0}):ke.value=xr})},Ft.clone=function(){return this.map(function(xt,ce){return ce.cloneNode(!0)})},Ft.detach=function(){return this.each(function(xt,ce){ce.parentNode&&ce.parentNode.removeChild(ce)})};var He,pn=/^\s*<(\w+)[^>]*>/,$n=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Ut(xt){if(function(){if(!He){var Ze=ht.createElement("table"),xr=ht.createElement("tr");He={"*":ht.createElement("div"),tr:ht.createElement("tbody"),td:xr,th:xr,thead:Ze,tbody:Ze,tfoot:Ze}}}(),!Ht(xt))return[];if($n.test(xt))return[ht.createElement(RegExp.$1)];var ce=pn.test(xt)&&RegExp.$1,ke=He[ce]||He["*"];return ke.innerHTML=xt,G(ke.childNodes).detach().get()}function te(xt,ce,ke){if(ce!==void 0){var Ze=Ht(ce);!Ze&&ce.length?bt(ce,function(xr){return te(xt,xr,ke)}):bt(xt,Ze?function(xr){xr.insertAdjacentHTML(ke?"afterbegin":"beforeend",ce)}:function(xr,Yr){return function(Un,In,lo){lo?Un.insertBefore(In,Un.childNodes[0]):Un.appendChild(In)}(xr,Yr?ce.cloneNode(!0):ce,ke)})}}G.parseHTML=Ut,Ft.empty=function(){var xt=this[0];if(xt)for(;xt.firstChild;)xt.removeChild(xt.firstChild);return this},Ft.append=function(){var xt=this;return bt(arguments,function(ce){te(xt,ce)}),this},Ft.appendTo=function(xt){return te(G(xt),this),this},Ft.html=function(xt){if(xt===void 0)return this[0]&&this[0].innerHTML;var ce=xt.nodeType?xt[0].outerHTML:xt;return this.each(function(ke,Ze){Ze.innerHTML=ce})},Ft.insertAfter=function(xt){var ce=this;return G(xt).each(function(ke,Ze){var xr=Ze.parentNode;ce.each(function(Yr,Un){xr.insertBefore(ke?Un.cloneNode(!0):Un,Ze.nextSibling)})}),this},Ft.after=function(){var xt=this;return bt(R.apply(arguments),function(ce){R.apply(G(ce).slice()).insertAfter(xt)}),this},Ft.insertBefore=function(xt){var ce=this;return G(xt).each(function(ke,Ze){var xr=Ze.parentNode;ce.each(function(Yr,Un){xr.insertBefore(ke?Un.cloneNode(!0):Un,Ze)})}),this},Ft.before=function(){var xt=this;return bt(arguments,function(ce){G(ce).insertBefore(xt)}),this},Ft.prepend=function(){var xt=this;return bt(arguments,function(ce){te(xt,ce,!0)}),this},Ft.prependTo=function(xt){return te(G(xt),R.apply(this.slice()),!0),this},Ft.remove=function(){return this.detach().off()},Ft.replaceWith=function(xt){var ce=this;return this.each(function(ke,Ze){var xr=Ze.parentNode;if(xr){var Yr=ke?G(xt).clone():G(xt);if(!Yr[0])return ce.remove(),!1;xr.replaceChild(Yr[0],Ze),G(Yr[0]).after(Yr.slice(1))}})},Ft.replaceAll=function(xt){return G(xt).replaceWith(this),this},Ft.text=function(xt){return xt===void 0?this[0]?this[0].textContent:"":this.each(function(ce,ke){ke.textContent=xt})};var je=ht&&ht.documentElement;Ft.offset=function(){var xt=this[0];if(xt){var ce=xt.getBoundingClientRect();return{top:ce.top+dt.pageYOffset-je.clientTop,left:ce.left+dt.pageXOffset-je.clientLeft}}},Ft.offsetParent=function(){return G(this[0]&&this[0].offsetParent)},Ft.position=function(){var xt=this[0];if(xt)return{left:xt.offsetLeft,top:xt.offsetTop}},Ft.children=function(xt){var ce=[];return this.each(function(ke,Ze){W.apply(ce,Ze.children)}),ce=G(Ae(ce)),xt?ce.filter(function(ke,Ze){return Rt(Ze,xt)}):ce},Ft.contents=function(){var xt=[];return this.each(function(ce,ke){W.apply(xt,ke.tagName==="IFRAME"?[ke.contentDocument]:ke.childNodes)}),G(xt.length&&Ae(xt))},Ft.find=function(xt){for(var ce=[],ke=0,Ze=this.length;ke<Ze;ke++){var xr=et(xt,this[ke]);xr.length&&W.apply(ce,xr)}return G(ce.length&&Ae(ce))},Ft.has=function(xt){var ce=Ht(xt)?function(ke,Ze){return!!et(xt,Ze).length}:function(ke,Ze){return Ze.contains(xt)};return this.filter(ce)},Ft.is=function(xt){if(!xt||!this[0])return!1;var ce=Bt(xt),ke=!1;return this.each(function(Ze,xr){return!(ke=ce(Ze,xr,xt))}),ke},Ft.next=function(){return G(this[0]&&this[0].nextElementSibling)},Ft.not=function(xt){if(!xt||!this[0])return this;var ce=Bt(xt);return this.filter(function(ke,Ze){return!ce(ke,Ze,xt)})},Ft.parent=function(){var xt=[];return this.each(function(ce,ke){ke&&ke.parentNode&&xt.push(ke.parentNode)}),G(Ae(xt))},Ft.index=function(xt){var ce=xt?G(xt)[0]:this[0],ke=xt?this:G(ce).parent().children();return I.call(ke,ce)},Ft.closest=function(xt){return xt&&this[0]?this.is(xt)?this.filter(xt):this.parent().closest(xt):G()},Ft.parents=function(xt){var ce,ke=[];return this.each(function(Ze,xr){for(ce=xr;ce&&ce.parentNode&&ce!==ht.body.parentNode;)ce=ce.parentNode,(!xt||xt&&Rt(ce,xt))&&ke.push(ce)}),G(Ae(ke))},Ft.prev=function(){return G(this[0]&&this[0].previousElementSibling)},Ft.siblings=function(){var xt=this[0];return this.parent().children().filter(function(ce,ke){return ke!==xt})};const Xe=G},491:(k,H,ft)=>{ft.d(H,{$Q:()=>J,FW:()=>U,G1:()=>I,GX:()=>$t,L_:()=>W,Mx:()=>N,R3:()=>Tt,SJ:()=>Ft,cx:()=>R,dL:()=>Q,pn:()=>$,rw:()=>_t,sE:()=>F,t3:()=>G,ut:()=>et});var ht=ft(50),dt=function(Lt,ve,bt){if(bt||arguments.length===2)for(var jt,Rt=0,Xt=ve.length;Rt<Xt;Rt++)!jt&&Rt in ve||(jt||(jt=Array.prototype.slice.call(ve,0,Rt)),jt[Rt]=ve[Rt]);return Lt.concat(jt||Array.prototype.slice.call(ve))},B="tag",V="attributes",I="transitionend oTransitionEnd transitionend webkitTransitionEnd",N=function(Lt){return Lt&&Lt.nodeType===9},W=function(Lt){var ve=Lt&&Lt.parentNode;ve&&ve.removeChild(Lt)};function R(){for(var Lt=[],ve=0;ve<arguments.length;ve++)Lt[ve]=arguments[ve];return(Array.isArray(Lt[0])?Lt[0]:dt([],Lt,!0)).filter(Boolean).join(" ")}var F=function(Lt,ve){return Lt.querySelectorAll(ve)},U=function(Lt,ve){return ve===void 0&&(ve={}),Lt&&Lt.setAttribute&&(0,ht.each)(ve,function(bt,jt){return Lt.setAttribute(jt,bt)})},$=function(Lt){return Lt&&!!(Lt.offsetWidth||Lt.offsetHeight||Lt.getClientRects().length)},Q=function(Lt,ve){var bt;(bt=Lt.parentNode)===null||bt===void 0||bt.replaceChild(ve,Lt)},J=function(Lt,ve,bt){var jt=Lt.childNodes,Rt=jt.length,Xt=(0,ht.isUndefined)(bt)?Rt:bt;(0,ht.isString)(ve)&&(Lt.insertAdjacentHTML("beforeEnd",ve),ve=Lt.lastChild,Lt.removeChild(ve)),Xt>=Rt?Lt.appendChild(ve):Lt.insertBefore(ve,jt[Xt])},Tt=function(Lt,ve){return J(Lt,ve)},et=function(Lt,ve,bt){ve===void 0&&(ve={});var jt=document.createElement(Lt);return ve&&(0,ht.each)(ve,function(Rt,Xt){return jt.setAttribute(Xt,Rt)}),bt&&((0,ht.isString)(bt)?jt.innerHTML=bt:jt.appendChild(bt)),jt},_t=function(Lt){return document.createTextNode(Lt)},G=function(Lt,ve){var bt,jt=Lt.type;try{bt=new window[ve](jt,Lt)}catch{(bt=document.createEvent(ve)).initEvent(jt,!0,!0)}return bt._parentEvent=Lt,jt.indexOf("key")===0&&(bt.keyCodeVal=Lt.keyCode,["keyCode","which"].forEach(function(Rt){Object.defineProperty(bt,Rt,{get:function(){return this.keyCodeVal}})})),bt},Ft=function(Lt,ve){ve===void 0&&(ve=[]),(Array.isArray(ve)?ve:[ve]).forEach(function(bt){var jt=bt[B]||"div",Rt=bt[V]||{},Xt=document.createElement(jt);(0,ht.each)(Rt,function(Ht,It){Xt.setAttribute(It,Ht)}),Lt.appendChild(Xt)})},$t=function(Lt){var ve=(Lt==null?void 0:Lt.ownerDocument)||document,bt=ve.documentElement,jt=ve.defaultView||window;return{x:(jt.pageXOffset||bt.scrollLeft||0)-(bt.clientLeft||0),y:(jt.pageYOffset||bt.scrollTop||0)-(bt.clientTop||0)}}},163:(k,H,ft)=>{ft.r(H),ft.d(H,{appendStyles:()=>$,buildBase64UrlFromSvg:()=>Le,camelCase:()=>G,capitalize:()=>Vr,createId:()=>me,deepMerge:()=>It,escape:()=>Xt,escapeNodeContent:()=>Ht,find:()=>Rt,getElRect:()=>Bt,getElement:()=>Lt,getGlobal:()=>N,getKeyChar:()=>Ae,getKeyCode:()=>pe,getModel:()=>St,getPointerEvent:()=>Me,getUiClass:()=>U,getUnitFromValue:()=>et,getViewEl:()=>Et,hasDnd:()=>$t,hasWin:()=>I,isCommentNode:()=>bt,isComponent:()=>Je,isDef:()=>V,isEmptyObj:()=>Dr,isEnterKey:()=>Or,isEscKey:()=>ir,isObject:()=>Nr,isRule:()=>nt,isTaggableNode:()=>jt,isTextNode:()=>ve,matches:()=>F,normalizeFloat:()=>Ft,off:()=>Tt,on:()=>J,setViewEl:()=>qt,shallowDiff:()=>Q,toLowerCase:()=>W,upFirst:()=>_t});var ht=ft(50),dt=function(){return dt=Object.assign||function(lt){for(var ue,se=1,nr=arguments.length;se<nr;se++)for(var vr in ue=arguments[se])Object.prototype.hasOwnProperty.call(ue,vr)&&(lt[vr]=ue[vr]);return lt},dt.apply(this,arguments)},B=function(lt,ue,se){if(se||arguments.length===2)for(var nr,vr=0,Qe=ue.length;vr<Qe;vr++)!nr&&vr in ue||(nr||(nr=Array.prototype.slice.call(ue,0,vr)),nr[vr]=ue[vr]);return lt.concat(nr||Array.prototype.slice.call(ue))},V=function(lt){return lt!==void 0},I=function(){return typeof window<"u"},N=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:ft.g},W=function(lt){return(lt||"").toLowerCase()},R=I()?window.Element.prototype:{},F=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.msMatchesSelector,U=function(lt,ue){var se=lt.getConfig(),nr=se.stylePrefix;return[se.customUI&&"".concat(nr,"cui"),ue].filter(function(vr){return vr}).join(" ")},$=function(lt,ue){ue===void 0&&(ue={});var se=(0,ht.isArray)(lt)?B([],lt,!0):[lt];if(se.length){var nr=se.shift();if(nr&&(!ue.unique||!document.querySelector('link[href="'.concat(nr,'"]')))){var vr=document.head,Qe=document.createElement("link");Qe.href=nr,Qe.rel="stylesheet",ue.prepand?vr.insertBefore(Qe,vr.firstChild):vr.appendChild(Qe)}$(se)}},Q=function(lt,ue){var se={},nr=(0,ht.keys)(ue);for(var vr in lt)if(lt.hasOwnProperty(vr)){var Qe=lt[vr],Ir=ue[vr];nr.indexOf(vr)>=0?Qe!==Ir&&(se[vr]=Ir):se[vr]=null}for(var vr in ue)ue.hasOwnProperty(vr)&&(0,ht.isUndefined)(lt[vr])&&(se[vr]=ue[vr]);return se},J=function(lt,ue,se,nr){var vr=ue.split(/\s+/);lt=lt instanceof Array?lt:[lt];for(var Qe=function(rn){lt.forEach(function(vt){return vt&&vt.addEventListener(vr[rn],se,nr)})},Ir=0;Ir<vr.length;++Ir)Qe(Ir)},Tt=function(lt,ue,se,nr){var vr=ue.split(/\s+/);lt=lt instanceof Array?lt:[lt];for(var Qe=function(rn){lt.forEach(function(vt){return vt&&vt.removeEventListener(vr[rn],se,nr)})},Ir=0;Ir<vr.length;++Ir)Qe(Ir)},et=function(lt){return lt.replace(parseFloat(lt),"")},_t=function(lt){return lt[0].toUpperCase()+lt.toLowerCase().slice(1)},G=function(lt){return lt.replace(/-./g,function(ue){return ue[1].toUpperCase()})},Ft=function(lt,ue,se){ue===void 0&&(ue=1),se===void 0&&(se=0);var nr=0;if(isNaN(lt))return se;if(lt=parseFloat(lt),Math.floor(lt)!==lt){var vr=ue.toString().split(".")[1];nr=vr?vr.length:0}return nr?parseFloat(lt.toFixed(nr)):lt},$t=function(lt){return"draggable"in document.createElement("i")&&(!lt||lt.config.nativeDnD)},Lt=function(lt){return(0,ht.isElement)(lt)||ve(lt)?lt:lt&&lt.getEl?lt.getEl():void 0},ve=function(lt){return lt&&lt.nodeType===3},bt=function(lt){return lt&&lt.nodeType===8},jt=function(lt){return lt&&!ve(lt)&&!bt(lt)},Rt=function(lt,ue){var se=null;return lt.some(function(nr,vr){return ue(nr,vr,lt)?(se=nr,1):0}),se},Xt=function(lt){return lt===void 0&&(lt=""),"".concat(lt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},Ht=function(lt){return lt===void 0&&(lt=""),"".concat(lt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},It=function(){for(var lt=[],ue=0;ue<arguments.length;ue++)lt[ue]=arguments[ue];for(var se=dt({},lt[0]),nr=1;nr<lt.length;nr++){var vr=dt({},lt[nr]);for(var Qe in vr){var Ir=se[Qe],rn=vr[Qe];Nr(Ir)&&Nr(rn)?se[Qe]=It(Ir,rn):se[Qe]=rn}}return se},St=function(lt,ue){var se=lt;return!ue&&lt&&lt.__cashData?se=lt.__cashData.model:(0,ht.isElement)(lt)&&(se=ue(lt).data("model")),se},Bt=function(lt){var ue,se={top:0,left:0,width:0,height:0};if(!lt)return se;if(ve(lt)){var nr=document.createRange();nr.selectNode(lt),ue=nr.getBoundingClientRect(),nr.detach()}return ue||(lt.getBoundingClientRect?lt.getBoundingClientRect():se)},Me=function(lt){return lt.touches&&lt.touches[0]?lt.touches[0]:lt},pe=function(lt){return lt.which||lt.keyCode},Ae=function(lt){return String.fromCharCode(pe(lt))},ir=function(lt){return pe(lt)===27},Or=function(lt){return pe(lt)===13},Nr=function(lt){return lt!==null&&!Array.isArray(lt)&&typeof lt=="object"},Dr=function(lt){return Object.keys(lt).length<=0},Vr=function(lt){return lt===void 0&&(lt=""),lt&&lt.charAt(0).toUpperCase()+lt.substring(1)},Je=function(lt){return lt&&lt.toHTML},nt=function(lt){return lt&&lt.toCSS},Et=function(lt){return lt.__gjsv},qt=function(lt,ue){lt.__gjsv=ue},me=function(lt){lt===void 0&&(lt=16);for(var ue="",se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",nr=se.length,vr=0;vr<lt;vr++)ue+=se.charAt(Math.floor(Math.random()*nr));return ue},Le=function(lt){if(lt&&lt.substr(0,4)==="<svg"){var ue="";return I()?ue=window.btoa(lt):typeof Buffer<"u"&&(ue=Buffer.from(lt,"utf8").toString("base64")),ue?"data:image/svg+xml;base64,".concat(ue):lt}return lt}},828:(k,H,ft)=>{var ht={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./DeleteComponent":517,"./DeleteComponent.ts":517,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function dt(V){var I=B(V);return ft(I)}function B(V){if(!ft.o(ht,V)){var I=new Error("Cannot find module '"+V+"'");throw I.code="MODULE_NOT_FOUND",I}return ht[V]}dt.keys=function(){return Object.keys(ht)},dt.resolve=B,k.exports=dt,dt.id=828},50:(k,H,ft)=>{ft.r(H),ft.d(H,{VERSION:()=>dt,after:()=>Gi,all:()=>ii,allKeys:()=>Xe,any:()=>yi,assign:()=>_o,before:()=>ls,bind:()=>ia,bindAll:()=>Ii,chain:()=>is,chunk:()=>de,clone:()=>ni,collect:()=>Pn,compact:()=>cc,compose:()=>ba,constant:()=>Ir,contains:()=>Fo,countBy:()=>Vi,create:()=>Ao,debounce:()=>vi,default:()=>Fr,defaults:()=>va,defer:()=>ss,delay:()=>as,detect:()=>Ni,difference:()=>ca,drop:()=>la,each:()=>Mo,escape:()=>Xr,every:()=>ii,extend:()=>wo,extendOwn:()=>_o,filter:()=>ta,find:()=>Ni,findIndex:()=>qi,findKey:()=>Si,findLastIndex:()=>Do,findWhere:()=>mi,first:()=>wi,flatten:()=>_i,foldl:()=>aa,foldr:()=>No,forEach:()=>Mo,functions:()=>Bo,get:()=>oi,groupBy:()=>sc,has:()=>un,head:()=>wi,identity:()=>Zo,include:()=>Fo,includes:()=>Fo,indexBy:()=>cs,indexOf:()=>Cn,initial:()=>bi,inject:()=>aa,intersection:()=>Ri,invert:()=>fo,invoke:()=>Ss,isArguments:()=>nr,isArray:()=>lt,isArrayBuffer:()=>Nr,isBoolean:()=>Ht,isDataView:()=>Le,isDate:()=>pe,isElement:()=>It,isEmpty:()=>on,isEqual:()=>je,isError:()=>ir,isFinite:()=>vr,isFunction:()=>Je,isMap:()=>lo,isMatch:()=>Kr,isNaN:()=>Qe,isNull:()=>Rt,isNumber:()=>Me,isObject:()=>jt,isRegExp:()=>Ae,isSet:()=>yn,isString:()=>Bt,isSymbol:()=>Or,isTypedArray:()=>Ce,isUndefined:()=>Xt,isWeakMap:()=>uo,isWeakSet:()=>Qn,iteratee:()=>ar,keys:()=>dr,last:()=>Ma,lastIndexOf:()=>Io,map:()=>Pn,mapObject:()=>Mr,matcher:()=>Ci,matches:()=>Ci,max:()=>zs,memoize:()=>Hs,methods:()=>Bo,min:()=>Gn,mixin:()=>Be,negate:()=>ya,noop:()=>_n,now:()=>At,object:()=>gt,omit:()=>Sc,once:()=>Ua,pairs:()=>Qo,partial:()=>Go,partition:()=>Ro,pick:()=>Wa,pluck:()=>Os,property:()=>Bn,propertyOf:()=>Vn,random:()=>gr,range:()=>Dt,reduce:()=>aa,reduceRight:()=>No,reject:()=>Cs,rest:()=>la,restArguments:()=>bt,result:()=>jo,sample:()=>jl,select:()=>ta,shuffle:()=>za,size:()=>Dl,some:()=>yi,sortBy:()=>sa,sortedIndex:()=>Oi,tail:()=>la,take:()=>wi,tap:()=>eo,template:()=>Vs,templateSettings:()=>xn,throttle:()=>ka,times:()=>Jr,toArray:()=>Vo,toPath:()=>Wr,transpose:()=>Yi,unescape:()=>nn,union:()=>Ki,uniq:()=>Es,unique:()=>Es,uniqueId:()=>Ll,unzip:()=>Yi,values:()=>Fn,where:()=>Fi,without:()=>$a,wrap:()=>Bs,zip:()=>ua});var ht={};ft.r(ht),ft.d(ht,{VERSION:()=>dt,after:()=>Gi,all:()=>ii,allKeys:()=>Xe,any:()=>yi,assign:()=>_o,before:()=>ls,bind:()=>ia,bindAll:()=>Ii,chain:()=>is,chunk:()=>de,clone:()=>ni,collect:()=>Pn,compact:()=>cc,compose:()=>ba,constant:()=>Ir,contains:()=>Fo,countBy:()=>Vi,create:()=>Ao,debounce:()=>vi,default:()=>Ve,defaults:()=>va,defer:()=>ss,delay:()=>as,detect:()=>Ni,difference:()=>ca,drop:()=>la,each:()=>Mo,escape:()=>Xr,every:()=>ii,extend:()=>wo,extendOwn:()=>_o,filter:()=>ta,find:()=>Ni,findIndex:()=>qi,findKey:()=>Si,findLastIndex:()=>Do,findWhere:()=>mi,first:()=>wi,flatten:()=>_i,foldl:()=>aa,foldr:()=>No,forEach:()=>Mo,functions:()=>Bo,get:()=>oi,groupBy:()=>sc,has:()=>un,head:()=>wi,identity:()=>Zo,include:()=>Fo,includes:()=>Fo,indexBy:()=>cs,indexOf:()=>Cn,initial:()=>bi,inject:()=>aa,intersection:()=>Ri,invert:()=>fo,invoke:()=>Ss,isArguments:()=>nr,isArray:()=>lt,isArrayBuffer:()=>Nr,isBoolean:()=>Ht,isDataView:()=>Le,isDate:()=>pe,isElement:()=>It,isEmpty:()=>on,isEqual:()=>je,isError:()=>ir,isFinite:()=>vr,isFunction:()=>Je,isMap:()=>lo,isMatch:()=>Kr,isNaN:()=>Qe,isNull:()=>Rt,isNumber:()=>Me,isObject:()=>jt,isRegExp:()=>Ae,isSet:()=>yn,isString:()=>Bt,isSymbol:()=>Or,isTypedArray:()=>Ce,isUndefined:()=>Xt,isWeakMap:()=>uo,isWeakSet:()=>Qn,iteratee:()=>ar,keys:()=>dr,last:()=>Ma,lastIndexOf:()=>Io,map:()=>Pn,mapObject:()=>Mr,matcher:()=>Ci,matches:()=>Ci,max:()=>zs,memoize:()=>Hs,methods:()=>Bo,min:()=>Gn,mixin:()=>Be,negate:()=>ya,noop:()=>_n,now:()=>At,object:()=>gt,omit:()=>Sc,once:()=>Ua,pairs:()=>Qo,partial:()=>Go,partition:()=>Ro,pick:()=>Wa,pluck:()=>Os,property:()=>Bn,propertyOf:()=>Vn,random:()=>gr,range:()=>Dt,reduce:()=>aa,reduceRight:()=>No,reject:()=>Cs,rest:()=>la,restArguments:()=>bt,result:()=>jo,sample:()=>jl,select:()=>ta,shuffle:()=>za,size:()=>Dl,some:()=>yi,sortBy:()=>sa,sortedIndex:()=>Oi,tail:()=>la,take:()=>wi,tap:()=>eo,template:()=>Vs,templateSettings:()=>xn,throttle:()=>ka,times:()=>Jr,toArray:()=>Vo,toPath:()=>Wr,transpose:()=>Yi,unescape:()=>nn,union:()=>Ki,uniq:()=>Es,unique:()=>Es,uniqueId:()=>Ll,unzip:()=>Yi,values:()=>Fn,where:()=>Fi,without:()=>$a,wrap:()=>Bs,zip:()=>ua});var dt="1.13.4",B=typeof self=="object"&&self.self===self&&self||typeof Ct.g=="object"&&Ct.g.global===Ct.g&&Ct.g||Function("return this")()||{},V=Array.prototype,I=Object.prototype,N=typeof Symbol<"u"?Symbol.prototype:null,W=V.push,R=V.slice,F=I.toString,U=I.hasOwnProperty,$=typeof ArrayBuffer<"u",Q=typeof DataView<"u",J=Array.isArray,Tt=Object.keys,et=Object.create,_t=$&&ArrayBuffer.isView,G=isNaN,Ft=isFinite,$t=!{toString:null}.propertyIsEnumerable("toString"),Lt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ve=Math.pow(2,53)-1;function bt(it,Mt){return Mt=Mt==null?it.length-1:+Mt,function(){for(var ie=Math.max(arguments.length-Mt,0),be=Array(ie),qe=0;qe<ie;qe++)be[qe]=arguments[qe+Mt];switch(Mt){case 0:return it.call(this,be);case 1:return it.call(this,arguments[0],be);case 2:return it.call(this,arguments[0],arguments[1],be)}var Fe=Array(Mt+1);for(qe=0;qe<Mt;qe++)Fe[qe]=arguments[qe];return Fe[Mt]=be,it.apply(this,Fe)}}function jt(it){var Mt=typeof it;return Mt==="function"||Mt==="object"&&!!it}function Rt(it){return it===null}function Xt(it){return it===void 0}function Ht(it){return it===!0||it===!1||F.call(it)==="[object Boolean]"}function It(it){return!(!it||it.nodeType!==1)}function St(it){var Mt="[object "+it+"]";return function(ie){return F.call(ie)===Mt}}const Bt=St("String"),Me=St("Number"),pe=St("Date"),Ae=St("RegExp"),ir=St("Error"),Or=St("Symbol"),Nr=St("ArrayBuffer");var Dr=St("Function"),Vr=B.document&&B.document.childNodes;typeof Int8Array!="object"&&typeof Vr!="function"&&(Dr=function(it){return typeof it=="function"||!1});const Je=Dr,nt=St("Object");var Et=Q&&nt(new DataView(new ArrayBuffer(8))),qt=typeof Map<"u"&&nt(new Map),me=St("DataView");const Le=Et?function(it){return it!=null&&Je(it.getInt8)&&Nr(it.buffer)}:me,lt=J||St("Array");function ue(it,Mt){return it!=null&&U.call(it,Mt)}var se=St("Arguments");(function(){se(arguments)||(se=function(it){return ue(it,"callee")})})();const nr=se;function vr(it){return!Or(it)&&Ft(it)&&!isNaN(parseFloat(it))}function Qe(it){return Me(it)&&G(it)}function Ir(it){return function(){return it}}function rn(it){return function(Mt){var ie=it(Mt);return typeof ie=="number"&&ie>=0&&ie<=ve}}function vt(it){return function(Mt){return Mt==null?void 0:Mt[it]}}const Wt=vt("byteLength"),fe=rn(Wt);var Vt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Ce=$?function(it){return _t?_t(it)&&!Le(it):fe(it)&&Vt.test(F.call(it))}:Ir(!1),Yt=vt("length");function pr(it,Mt){Mt=function(ur){for(var kr={},hn=ur.length,Nn=0;Nn<hn;++Nn)kr[ur[Nn]]=!0;return{contains:function(Eo){return kr[Eo]===!0},push:function(Eo){return kr[Eo]=!0,ur.push(Eo)}}}(Mt);var ie=Lt.length,be=it.constructor,qe=Je(be)&&be.prototype||I,Fe="constructor";for(ue(it,Fe)&&!Mt.contains(Fe)&&Mt.push(Fe);ie--;)(Fe=Lt[ie])in it&&it[Fe]!==qe[Fe]&&!Mt.contains(Fe)&&Mt.push(Fe)}function dr(it){if(!jt(it))return[];if(Tt)return Tt(it);var Mt=[];for(var ie in it)ue(it,ie)&&Mt.push(ie);return $t&&pr(it,Mt),Mt}function on(it){if(it==null)return!0;var Mt=Yt(it);return typeof Mt=="number"&&(lt(it)||Bt(it)||nr(it))?Mt===0:Yt(dr(it))===0}function Kr(it,Mt){var ie=dr(Mt),be=ie.length;if(it==null)return!be;for(var qe=Object(it),Fe=0;Fe<be;Fe++){var ur=ie[Fe];if(Mt[ur]!==qe[ur]||!(ur in qe))return!1}return!0}function He(it){return it instanceof He?it:this instanceof He?void(this._wrapped=it):new He(it)}function pn(it){return new Uint8Array(it.buffer||it,it.byteOffset||0,Wt(it))}He.VERSION=dt,He.prototype.value=function(){return this._wrapped},He.prototype.valueOf=He.prototype.toJSON=He.prototype.value,He.prototype.toString=function(){return String(this._wrapped)};var $n="[object DataView]";function Ut(it,Mt,ie,be){if(it===Mt)return it!==0||1/it==1/Mt;if(it==null||Mt==null)return!1;if(it!=it)return Mt!=Mt;var qe=typeof it;return(qe==="function"||qe==="object"||typeof Mt=="object")&&te(it,Mt,ie,be)}function te(it,Mt,ie,be){it instanceof He&&(it=it._wrapped),Mt instanceof He&&(Mt=Mt._wrapped);var qe=F.call(it);if(qe!==F.call(Mt))return!1;if(Et&&qe=="[object Object]"&&Le(it)){if(!Le(Mt))return!1;qe=$n}switch(qe){case"[object RegExp]":case"[object String]":return""+it==""+Mt;case"[object Number]":return+it!=+it?+Mt!=+Mt:+it==0?1/+it==1/Mt:+it==+Mt;case"[object Date]":case"[object Boolean]":return+it==+Mt;case"[object Symbol]":return N.valueOf.call(it)===N.valueOf.call(Mt);case"[object ArrayBuffer]":case $n:return te(pn(it),pn(Mt),ie,be)}var Fe=qe==="[object Array]";if(!Fe&&Ce(it)){if(Wt(it)!==Wt(Mt))return!1;if(it.buffer===Mt.buffer&&it.byteOffset===Mt.byteOffset)return!0;Fe=!0}if(!Fe){if(typeof it!="object"||typeof Mt!="object")return!1;var ur=it.constructor,kr=Mt.constructor;if(ur!==kr&&!(Je(ur)&&ur instanceof ur&&Je(kr)&&kr instanceof kr)&&"constructor"in it&&"constructor"in Mt)return!1}be=be||[];for(var hn=(ie=ie||[]).length;hn--;)if(ie[hn]===it)return be[hn]===Mt;if(ie.push(it),be.push(Mt),Fe){if((hn=it.length)!==Mt.length)return!1;for(;hn--;)if(!Ut(it[hn],Mt[hn],ie,be))return!1}else{var Nn,Eo=dr(it);if(hn=Eo.length,dr(Mt).length!==hn)return!1;for(;hn--;)if(!ue(Mt,Nn=Eo[hn])||!Ut(it[Nn],Mt[Nn],ie,be))return!1}return ie.pop(),be.pop(),!0}function je(it,Mt){return Ut(it,Mt)}function Xe(it){if(!jt(it))return[];var Mt=[];for(var ie in it)Mt.push(ie);return $t&&pr(it,Mt),Mt}function xt(it){var Mt=Yt(it);return function(ie){if(ie==null)return!1;var be=Xe(ie);if(Yt(be))return!1;for(var qe=0;qe<Mt;qe++)if(!Je(ie[it[qe]]))return!1;return it!==Un||!Je(ie[ce])}}var ce="forEach",ke="has",Ze=["clear","delete"],xr=["get",ke,"set"],Yr=Ze.concat(ce,xr),Un=Ze.concat(xr),In=["add"].concat(Ze,ce,ke);const lo=qt?xt(Yr):St("Map"),uo=qt?xt(Un):St("WeakMap"),yn=qt?xt(In):St("Set"),Qn=St("WeakSet");function Fn(it){for(var Mt=dr(it),ie=Mt.length,be=Array(ie),qe=0;qe<ie;qe++)be[qe]=it[Mt[qe]];return be}function Qo(it){for(var Mt=dr(it),ie=Mt.length,be=Array(ie),qe=0;qe<ie;qe++)be[qe]=[Mt[qe],it[Mt[qe]]];return be}function fo(it){for(var Mt={},ie=dr(it),be=0,qe=ie.length;be<qe;be++)Mt[it[ie[be]]]=ie[be];return Mt}function Bo(it){var Mt=[];for(var ie in it)Je(it[ie])&&Mt.push(ie);return Mt.sort()}function bo(it,Mt){return function(ie){var be=arguments.length;if(Mt&&(ie=Object(ie)),be<2||ie==null)return ie;for(var qe=1;qe<be;qe++)for(var Fe=arguments[qe],ur=it(Fe),kr=ur.length,hn=0;hn<kr;hn++){var Nn=ur[hn];Mt&&ie[Nn]!==void 0||(ie[Nn]=Fe[Nn])}return ie}}const wo=bo(Xe),_o=bo(dr),va=bo(Xe,!0);function $o(it){if(!jt(it))return{};if(et)return et(it);var Mt=function(){};Mt.prototype=it;var ie=new Mt;return Mt.prototype=null,ie}function Ao(it,Mt){var ie=$o(it);return Mt&&_o(ie,Mt),ie}function ni(it){return jt(it)?lt(it)?it.slice():wo({},it):it}function eo(it,Mt){return Mt(it),it}function Wr(it){return lt(it)?it:[it]}function vo(it){return He.toPath(it)}function po(it,Mt){for(var ie=Mt.length,be=0;be<ie;be++){if(it==null)return;it=it[Mt[be]]}return ie?it:void 0}function oi(it,Mt,ie){var be=po(it,vo(Mt));return Xt(be)?ie:be}function un(it,Mt){for(var ie=(Mt=vo(Mt)).length,be=0;be<ie;be++){var qe=Mt[be];if(!ue(it,qe))return!1;it=it[qe]}return!!ie}function Zo(it){return it}function Ci(it){return it=_o({},it),function(Mt){return Kr(Mt,it)}}function Bn(it){return it=vo(it),function(Mt){return po(Mt,it)}}function rt(it,Mt,ie){if(Mt===void 0)return it;switch(ie??3){case 1:return function(be){return it.call(Mt,be)};case 3:return function(be,qe,Fe){return it.call(Mt,be,qe,Fe)};case 4:return function(be,qe,Fe,ur){return it.call(Mt,be,qe,Fe,ur)}}return function(){return it.apply(Mt,arguments)}}function Zt(it,Mt,ie){return it==null?Zo:Je(it)?rt(it,Mt,ie):jt(it)&&!lt(it)?Ci(it):Bn(it)}function ar(it,Mt){return Zt(it,Mt,1/0)}function hr(it,Mt,ie){return He.iteratee!==ar?He.iteratee(it,Mt):Zt(it,Mt,ie)}function Mr(it,Mt,ie){Mt=hr(Mt,ie);for(var be=dr(it),qe=be.length,Fe={},ur=0;ur<qe;ur++){var kr=be[ur];Fe[kr]=Mt(it[kr],kr,it)}return Fe}function _n(){}function Vn(it){return it==null?_n:function(Mt){return oi(it,Mt)}}function Jr(it,Mt,ie){var be=Array(Math.max(0,it));Mt=rt(Mt,ie,1);for(var qe=0;qe<it;qe++)be[qe]=Mt(qe);return be}function gr(it,Mt){return Mt==null&&(Mt=it,it=0),it+Math.floor(Math.random()*(Mt-it+1))}He.toPath=Wr,He.iteratee=ar;const At=Date.now||function(){return new Date().getTime()};function we(it){var Mt=function(Fe){return it[Fe]},ie="(?:"+dr(it).join("|")+")",be=RegExp(ie),qe=RegExp(ie,"g");return function(Fe){return Fe=Fe==null?"":""+Fe,be.test(Fe)?Fe.replace(qe,Mt):Fe}}const cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Xr=we(cr),nn=we(fo(cr)),xn=He.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Lr=/(.)^/,Ln={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xo=/\\|'|\r|\n|\u2028|\u2029/g;function Uo(it){return"\\"+Ln[it]}var Di=/^\s*(\w|\$)+\s*$/;function Vs(it,Mt,ie){!Mt&&ie&&(Mt=ie),Mt=va({},Mt,He.templateSettings);var be=RegExp([(Mt.escape||Lr).source,(Mt.interpolate||Lr).source,(Mt.evaluate||Lr).source].join("|")+"|$","g"),qe=0,Fe="__p+='";it.replace(be,function(Nn,Eo,Ga,us,Yc){return Fe+=it.slice(qe,Yc).replace(xo,Uo),qe=Yc+Nn.length,Eo?Fe+=`'+
((__t=(`+Eo+`))==null?'':_.escape(__t))+
'`:Ga?Fe+=`'+
((__t=(`+Ga+`))==null?'':__t)+
'`:us&&(Fe+=`';
`+us+`
__p+='`),Nn}),Fe+=`';
`;var ur,kr=Mt.variable;if(kr){if(!Di.test(kr))throw new Error("variable is not a bare identifier: "+kr)}else Fe=`with(obj||{}){
`+Fe+`}
`,kr="obj";Fe=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Fe+`return __p;
`;try{ur=new Function(kr,"_",Fe)}catch(Nn){throw Nn.source=Fe,Nn}var hn=function(Nn){return ur.call(this,Nn,He)};return hn.source="function("+kr+`){
`+Fe+"}",hn}function jo(it,Mt,ie){var be=(Mt=vo(Mt)).length;if(!be)return Je(ie)?ie.call(it):ie;for(var qe=0;qe<be;qe++){var Fe=it==null?void 0:it[Mt[qe]];Fe===void 0&&(Fe=ie,qe=be),it=Je(Fe)?Fe.call(it):Fe}return it}var ma=0;function Ll(it){var Mt=++ma+"";return it?it+Mt:Mt}function is(it){var Mt=He(it);return Mt._chain=!0,Mt}function zo(it,Mt,ie,be,qe){if(!(be instanceof Mt))return it.apply(ie,qe);var Fe=$o(it.prototype),ur=it.apply(Fe,qe);return jt(ur)?ur:Fe}var Rs=bt(function(it,Mt){var ie=Rs.placeholder,be=function(){for(var qe=0,Fe=Mt.length,ur=Array(Fe),kr=0;kr<Fe;kr++)ur[kr]=Mt[kr]===ie?arguments[qe++]:Mt[kr];for(;qe<arguments.length;)ur.push(arguments[qe++]);return zo(it,be,this,this,ur)};return be});Rs.placeholder=He;const Go=Rs,ia=bt(function(it,Mt,ie){if(!Je(it))throw new TypeError("Bind must be called on a function");var be=bt(function(qe){return zo(it,be,Mt,this,ie.concat(qe))});return be}),ti=rn(Yt);function ui(it,Mt,ie,be){if(be=be||[],Mt||Mt===0){if(Mt<=0)return be.concat(it)}else Mt=1/0;for(var qe=be.length,Fe=0,ur=Yt(it);Fe<ur;Fe++){var kr=it[Fe];if(ti(kr)&&(lt(kr)||nr(kr)))if(Mt>1)ui(kr,Mt-1,ie,be),qe=be.length;else for(var hn=0,Nn=kr.length;hn<Nn;)be[qe++]=kr[hn++];else ie||(be[qe++]=kr)}return be}const Ii=bt(function(it,Mt){var ie=(Mt=ui(Mt,!1,!1)).length;if(ie<1)throw new Error("bindAll must be passed function names");for(;ie--;){var be=Mt[ie];it[be]=ia(it[be],it)}return it});function Hs(it,Mt){var ie=function(be){var qe=ie.cache,Fe=""+(Mt?Mt.apply(this,arguments):be);return ue(qe,Fe)||(qe[Fe]=it.apply(this,arguments)),qe[Fe]};return ie.cache={},ie}const as=bt(function(it,Mt,ie){return setTimeout(function(){return it.apply(null,ie)},Mt)}),ss=Go(as,He,1);function ka(it,Mt,ie){var be,qe,Fe,ur,kr=0;ie||(ie={});var hn=function(){kr=ie.leading===!1?0:At(),be=null,ur=it.apply(qe,Fe),be||(qe=Fe=null)},Nn=function(){var Eo=At();kr||ie.leading!==!1||(kr=Eo);var Ga=Mt-(Eo-kr);return qe=this,Fe=arguments,Ga<=0||Ga>Mt?(be&&(clearTimeout(be),be=null),kr=Eo,ur=it.apply(qe,Fe),be||(qe=Fe=null)):be||ie.trailing===!1||(be=setTimeout(hn,Ga)),ur};return Nn.cancel=function(){clearTimeout(be),kr=0,be=qe=Fe=null},Nn}function vi(it,Mt,ie){var be,qe,Fe,ur,kr,hn=function(){var Eo=At()-qe;Mt>Eo?be=setTimeout(hn,Mt-Eo):(be=null,ie||(ur=it.apply(kr,Fe)),be||(Fe=kr=null))},Nn=bt(function(Eo){return kr=this,Fe=Eo,qe=At(),be||(be=setTimeout(hn,Mt),ie&&(ur=it.apply(kr,Fe))),ur});return Nn.cancel=function(){clearTimeout(be),be=Fe=kr=null},Nn}function Bs(it,Mt){return Go(Mt,it)}function ya(it){return function(){return!it.apply(this,arguments)}}function ba(){var it=arguments,Mt=it.length-1;return function(){for(var ie=Mt,be=it[Mt].apply(this,arguments);ie--;)be=it[ie].call(this,be);return be}}function Gi(it,Mt){return function(){if(--it<1)return Mt.apply(this,arguments)}}function ls(it,Mt){var ie;return function(){return--it>0&&(ie=Mt.apply(this,arguments)),it<=1&&(Mt=null),ie}}const Ua=Go(ls,2);function Si(it,Mt,ie){Mt=hr(Mt,ie);for(var be,qe=dr(it),Fe=0,ur=qe.length;Fe<ur;Fe++)if(Mt(it[be=qe[Fe]],be,it))return be}function Us(it){return function(Mt,ie,be){ie=hr(ie,be);for(var qe=Yt(Mt),Fe=it>0?0:qe-1;Fe>=0&&Fe<qe;Fe+=it)if(ie(Mt[Fe],Fe,Mt))return Fe;return-1}}const qi=Us(1),Do=Us(-1);function Oi(it,Mt,ie,be){for(var qe=(ie=hr(ie,be,1))(Mt),Fe=0,ur=Yt(it);Fe<ur;){var kr=Math.floor((Fe+ur)/2);ie(it[kr])<qe?Fe=kr+1:ur=kr}return Fe}function Aa(it,Mt,ie){return function(be,qe,Fe){var ur=0,kr=Yt(be);if(typeof Fe=="number")it>0?ur=Fe>=0?Fe:Math.max(Fe+kr,ur):kr=Fe>=0?Math.min(Fe+1,kr):Fe+kr+1;else if(ie&&Fe&&kr)return be[Fe=ie(be,qe)]===qe?Fe:-1;if(qe!=qe)return(Fe=Mt(R.call(be,ur,kr),Qe))>=0?Fe+ur:-1;for(Fe=it>0?ur:kr-1;Fe>=0&&Fe<kr;Fe+=it)if(be[Fe]===qe)return Fe;return-1}}const Cn=Aa(1,qi,Oi),Io=Aa(-1,Do);function Ni(it,Mt,ie){var be=(ti(it)?qi:Si)(it,Mt,ie);if(be!==void 0&&be!==-1)return it[be]}function mi(it,Mt){return Ni(it,Ci(Mt))}function Mo(it,Mt,ie){var be,qe;if(Mt=rt(Mt,ie),ti(it))for(be=0,qe=it.length;be<qe;be++)Mt(it[be],be,it);else{var Fe=dr(it);for(be=0,qe=Fe.length;be<qe;be++)Mt(it[Fe[be]],Fe[be],it)}return it}function Pn(it,Mt,ie){Mt=hr(Mt,ie);for(var be=!ti(it)&&dr(it),qe=(be||it).length,Fe=Array(qe),ur=0;ur<qe;ur++){var kr=be?be[ur]:ur;Fe[ur]=Mt(it[kr],kr,it)}return Fe}function vn(it){var Mt=function(ie,be,qe,Fe){var ur=!ti(ie)&&dr(ie),kr=(ur||ie).length,hn=it>0?0:kr-1;for(Fe||(qe=ie[ur?ur[hn]:hn],hn+=it);hn>=0&&hn<kr;hn+=it){var Nn=ur?ur[hn]:hn;qe=be(qe,ie[Nn],Nn,ie)}return qe};return function(ie,be,qe,Fe){var ur=arguments.length>=3;return Mt(ie,rt(be,Fe,4),qe,ur)}}const aa=vn(1),No=vn(-1);function ta(it,Mt,ie){var be=[];return Mt=hr(Mt,ie),Mo(it,function(qe,Fe,ur){Mt(qe,Fe,ur)&&be.push(qe)}),be}function Cs(it,Mt,ie){return ta(it,ya(hr(Mt)),ie)}function ii(it,Mt,ie){Mt=hr(Mt,ie);for(var be=!ti(it)&&dr(it),qe=(be||it).length,Fe=0;Fe<qe;Fe++){var ur=be?be[Fe]:Fe;if(!Mt(it[ur],ur,it))return!1}return!0}function yi(it,Mt,ie){Mt=hr(Mt,ie);for(var be=!ti(it)&&dr(it),qe=(be||it).length,Fe=0;Fe<qe;Fe++){var ur=be?be[Fe]:Fe;if(Mt(it[ur],ur,it))return!0}return!1}function Fo(it,Mt,ie,be){return ti(it)||(it=Fn(it)),(typeof ie!="number"||be)&&(ie=0),Cn(it,Mt,ie)>=0}const Ss=bt(function(it,Mt,ie){var be,qe;return Je(Mt)?qe=Mt:(Mt=vo(Mt),be=Mt.slice(0,-1),Mt=Mt[Mt.length-1]),Pn(it,function(Fe){var ur=qe;if(!ur){if(be&&be.length&&(Fe=po(Fe,be)),Fe==null)return;ur=Fe[Mt]}return ur==null?ur:ur.apply(Fe,ie)})});function Os(it,Mt){return Pn(it,Bn(Mt))}function Fi(it,Mt){return ta(it,Ci(Mt))}function zs(it,Mt,ie){var be,qe,Fe=-1/0,ur=-1/0;if(Mt==null||typeof Mt=="number"&&typeof it[0]!="object"&&it!=null)for(var kr=0,hn=(it=ti(it)?it:Fn(it)).length;kr<hn;kr++)(be=it[kr])!=null&&be>Fe&&(Fe=be);else Mt=hr(Mt,ie),Mo(it,function(Nn,Eo,Ga){((qe=Mt(Nn,Eo,Ga))>ur||qe===-1/0&&Fe===-1/0)&&(Fe=Nn,ur=qe)});return Fe}function Gn(it,Mt,ie){var be,qe,Fe=1/0,ur=1/0;if(Mt==null||typeof Mt=="number"&&typeof it[0]!="object"&&it!=null)for(var kr=0,hn=(it=ti(it)?it:Fn(it)).length;kr<hn;kr++)(be=it[kr])!=null&&be<Fe&&(Fe=be);else Mt=hr(Mt,ie),Mo(it,function(Nn,Eo,Ga){((qe=Mt(Nn,Eo,Ga))<ur||qe===1/0&&Fe===1/0)&&(Fe=Nn,ur=qe)});return Fe}var Ws=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Vo(it){return it?lt(it)?R.call(it):Bt(it)?it.match(Ws):ti(it)?Pn(it,Zo):Fn(it):[]}function jl(it,Mt,ie){if(Mt==null||ie)return ti(it)||(it=Fn(it)),it[gr(it.length-1)];var be=Vo(it),qe=Yt(be);Mt=Math.max(Math.min(Mt,qe),0);for(var Fe=qe-1,ur=0;ur<Mt;ur++){var kr=gr(ur,Fe),hn=be[ur];be[ur]=be[kr],be[kr]=hn}return be.slice(0,Mt)}function za(it){return jl(it,1/0)}function sa(it,Mt,ie){var be=0;return Mt=hr(Mt,ie),Os(Pn(it,function(qe,Fe,ur){return{value:qe,index:be++,criteria:Mt(qe,Fe,ur)}}).sort(function(qe,Fe){var ur=qe.criteria,kr=Fe.criteria;if(ur!==kr){if(ur>kr||ur===void 0)return 1;if(ur<kr||kr===void 0)return-1}return qe.index-Fe.index}),"value")}function Ts(it,Mt){return function(ie,be,qe){var Fe=Mt?[[],[]]:{};return be=hr(be,qe),Mo(ie,function(ur,kr){var hn=be(ur,kr,ie);it(Fe,ur,hn)}),Fe}}const sc=Ts(function(it,Mt,ie){ue(it,ie)?it[ie].push(Mt):it[ie]=[Mt]}),cs=Ts(function(it,Mt,ie){it[ie]=Mt}),Vi=Ts(function(it,Mt,ie){ue(it,ie)?it[ie]++:it[ie]=1}),Ro=Ts(function(it,Mt,ie){it[ie?0:1].push(Mt)},!0);function Dl(it){return it==null?0:ti(it)?it.length:dr(it).length}function lc(it,Mt,ie){return Mt in ie}const Wa=bt(function(it,Mt){var ie={},be=Mt[0];if(it==null)return ie;Je(be)?(Mt.length>1&&(be=rt(be,Mt[1])),Mt=Xe(it)):(be=lc,Mt=ui(Mt,!1,!1),it=Object(it));for(var qe=0,Fe=Mt.length;qe<Fe;qe++){var ur=Mt[qe],kr=it[ur];be(kr,ur,it)&&(ie[ur]=kr)}return ie}),Sc=bt(function(it,Mt){var ie,be=Mt[0];return Je(be)?(be=ya(be),Mt.length>1&&(ie=Mt[1])):(Mt=Pn(ui(Mt,!1,!1),String),be=function(qe,Fe){return!Fo(Mt,Fe)}),Wa(it,be,ie)});function bi(it,Mt,ie){return R.call(it,0,Math.max(0,it.length-(Mt==null||ie?1:Mt)))}function wi(it,Mt,ie){return it==null||it.length<1?Mt==null||ie?void 0:[]:Mt==null||ie?it[0]:bi(it,it.length-Mt)}function la(it,Mt,ie){return R.call(it,Mt==null||ie?1:Mt)}function Ma(it,Mt,ie){return it==null||it.length<1?Mt==null||ie?void 0:[]:Mt==null||ie?it[it.length-1]:la(it,Math.max(0,it.length-Mt))}function cc(it){return ta(it,Boolean)}function _i(it,Mt){return ui(it,Mt,!1)}const ca=bt(function(it,Mt){return Mt=ui(Mt,!0,!0),ta(it,function(ie){return!Fo(Mt,ie)})}),$a=bt(function(it,Mt){return ca(it,Mt)});function Es(it,Mt,ie,be){Ht(Mt)||(be=ie,ie=Mt,Mt=!1),ie!=null&&(ie=hr(ie,be));for(var qe=[],Fe=[],ur=0,kr=Yt(it);ur<kr;ur++){var hn=it[ur],Nn=ie?ie(hn,ur,it):hn;Mt&&!ie?(ur&&Fe===Nn||qe.push(hn),Fe=Nn):ie?Fo(Fe,Nn)||(Fe.push(Nn),qe.push(hn)):Fo(qe,hn)||qe.push(hn)}return qe}const Ki=bt(function(it){return Es(ui(it,!0,!0))});function Ri(it){for(var Mt=[],ie=arguments.length,be=0,qe=Yt(it);be<qe;be++){var Fe=it[be];if(!Fo(Mt,Fe)){var ur;for(ur=1;ur<ie&&Fo(arguments[ur],Fe);ur++);ur===ie&&Mt.push(Fe)}}return Mt}function Yi(it){for(var Mt=it&&zs(it,Yt).length||0,ie=Array(Mt),be=0;be<Mt;be++)ie[be]=Os(it,be);return ie}const ua=bt(Yi);function gt(it,Mt){for(var ie={},be=0,qe=Yt(it);be<qe;be++)Mt?ie[it[be]]=Mt[be]:ie[it[be][0]]=it[be][1];return ie}function Dt(it,Mt,ie){Mt==null&&(Mt=it||0,it=0),ie||(ie=Mt<it?-1:1);for(var be=Math.max(Math.ceil((Mt-it)/ie),0),qe=Array(be),Fe=0;Fe<be;Fe++,it+=ie)qe[Fe]=it;return qe}function de(it,Mt){if(Mt==null||Mt<1)return[];for(var ie=[],be=0,qe=it.length;be<qe;)ie.push(R.call(it,be,be+=Mt));return ie}function Te(it,Mt){return it._chain?He(Mt).chain():Mt}function Be(it){return Mo(Bo(it),function(Mt){var ie=He[Mt]=it[Mt];He.prototype[Mt]=function(){var be=[this._wrapped];return W.apply(be,arguments),Te(this,ie.apply(He,be))}}),He}Mo(["pop","push","reverse","shift","sort","splice","unshift"],function(it){var Mt=V[it];He.prototype[it]=function(){var ie=this._wrapped;return ie!=null&&(Mt.apply(ie,arguments),it!=="shift"&&it!=="splice"||ie.length!==0||delete ie[0]),Te(this,ie)}}),Mo(["concat","join","slice"],function(it){var Mt=V[it];He.prototype[it]=function(){var ie=this._wrapped;return ie!=null&&(ie=Mt.apply(ie,arguments)),Te(this,ie)}});const Ve=He;var fr=Be(ht);fr._=fr;const Fr=fr}},yt={};function Y(k){var H=yt[k];if(H!==void 0)return H.exports;var ft=yt[k]={exports:{}};return q[k].call(ft.exports,ft,ft.exports,Y),ft.exports}Y.n=k=>{var H=k&&k.__esModule?()=>k.default:()=>k;return Y.d(H,{a:H}),H},Y.d=(k,H)=>{for(var ft in H)Y.o(H,ft)&&!Y.o(k,ft)&&Object.defineProperty(k,ft,{enumerable:!0,get:H[ft]})},Y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Y.o=(k,H)=>Object.prototype.hasOwnProperty.call(k,H),Y.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var st={};return(()=>{Y.r(st),Y.d(st,{default:()=>Fy,grapesjs:()=>iv,usePlugin:()=>ov});var k=Y(50),H=Y(163);function ft(h){for(var s=[],e=1;e<arguments.length;e++)s[e-1]=arguments[e];var n=h.raw;return n.reduce(function(i,u,m){var O=s[m-1],P=n[m-1];return Array.isArray(O)?O=O.join(""):P&&P.slice(-1)==="$"?i=i.slice(0,-1):O=(0,H.escape)(O),i+O+u})}const ht={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var dt,B=Y(316),V=Y.n(B),I=Y(895),N=Y(346),W=(dt=function(h,s){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},dt(h,s)},function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function e(){this.constructor=h}dt(h,s),h.prototype=s===null?Object.create(s):(e.prototype=s.prototype,new e)}),R=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return W(s,h),s}(N.Hn);const F=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return W(s,h),s.prototype.getByComponent=function(e){var n=this;return this.filter(function(i){return n.getComponent(i)===e})[0]},s.prototype.addComponent=function(e,n){var i=this,u=((0,k.isArray)(e)?e:[e]).filter(function(m){return!i.hasComponent(m)}).map(function(m){return new R({component:m})})[0];return this.push(u,n)},s.prototype.getComponent=function(e){return e.get("component")},s.prototype.hasComponent=function(e){var n=this.getByComponent(e);return n&&this.contains(n)},s.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},s.prototype.allComponents=function(){var e=this;return this.map(function(n){return e.getComponent(n)}).filter(function(n){return n})},s.prototype.removeComponent=function(e,n){var i=this,u=((0,k.isArray)(e)?e:[e]).map(function(m){return i.getByComponent(m)});return this.remove(u,n)},s}(N.FE);var U=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$=function(){return $=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},$.apply(this,arguments)},Q=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},J=function(){function h(s,e,n){this.cls=[],this._em=s,this._name=e;var i=this.name.charAt(0).toLowerCase()+this.name.slice(1),u=(0,k.isUndefined)(s.config[i])?s.config[this.name]:s.config[i],m=u===!0?{}:u||{};m.pStylePrefix=s.config.pStylePrefix||"",(0,k.isUndefined)(u)||u||(m._disable=1),m.em=s,this._config=(0,H.deepMerge)(n||{},m)}return Object.defineProperty(h.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),h.prototype.render=function(s){},h.prototype.postLoad=function(s){},Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),h.prototype.getConfig=function(s){return s?this.config[s]:this.config},h.prototype.__logWarn=function(s,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(s),e)},h.prototype.__appendTo=function(){var s=this.getConfig().appendTo;if(s){var e=(0,k.isElement)(s)?s:document.querySelector(s);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},h}();const Tt=J;var et=function(h){function s(e,n,i,u,m,O){O===void 0&&(O={});var P=h.call(this,e,n,m)||this;return P.cls=[],P.private=!1,P.all=i,P.events=u,!O.skipListen&&P.__initListen(),P}return U(s,h),s.prototype.postLoad=function(e){},s.prototype.render=function(e){},s.prototype.getProjectData=function(e){var n={},i=this.storageKey;return i&&(n[i]=e||this.getAll()),n},s.prototype.loadProjectData=function(e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.all,u=n.onResult,m=n.reset,O=this.storageKey,P={action:"load"},L=i||this.all,A=e[O];if(typeof A=="string")try{A=JSON.parse(A)}catch{this.__logWarn("Data parsing failed",{input:A})}return m&&A&&L.reset(void 0,P),u?A&&u(A,P):A&&(0,H.isDef)(A.length)&&L.reset(A,P),A},s.prototype.clear=function(e){e===void 0&&(e={});var n=this.all;return n&&n.reset(void 0,e),this},s.prototype.getAll=function(){return Q([],this.all.models,!0)},s.prototype.getAllMap=function(){return this.getAll().reduce(function(e,n){return e[n.get(n.idAttribute)]=n,e},{})},s.prototype.__initListen=function(e){e===void 0&&(e={});var n=this,i=n.all,u=n.em,m=n.events;i&&u&&i.on("add",function(O,P,L){return u.trigger(m.add,O,L)}).on("remove",function(O,P,L){return u.trigger(m.remove,O,L)}).on("change",function(O,P){return u.trigger(m.update,O,O.changedAttributes(),P)}).on("all",this.__catchAllEvent,this),this.cls=[i].concat(e.collections||[]),(e.propagate||[]).forEach(function(O){var P=O.entity,L=O.event;P.on("all",function(A,ot,kt,zt){var Gt=$({event:A},zt||kt);[u,i].map(function(_e){return _e.trigger(L,ot,Gt)})})})},s.prototype.__remove=function(e,n){var i=this;n===void 0&&(n={});var u=this.em,m=(0,k.isString)(e)?this.get(e):e,O=function(){return m&&i.all.remove(m,n),m};return!n.silent&&(u==null||u.trigger(this.events.removeBefore,m,O,n)),!n.abort&&O()},s.prototype.__catchAllEvent=function(e,n,i,u){var m=this.em,O=this.events,P=u||i;m&&O.all&&m.trigger(O.all,{event:e,model:n,options:P}),this.__onAllEvent()},s.prototype.__appendTo=function(e){var n=this.config.appendTo;if(n){var i=(0,k.isElement)(n)?n:document.querySelector(n);if(!i)return this.__logWarn('"appendTo" element not found');i.appendChild(this.render(e))}},s.prototype.__onAllEvent=function(){},s.prototype._createId=function(e){e===void 0&&(e=16);var n,i=this.getAll().length+e,u=this.getAllMap();do n=(0,H.createId)(i);while(u[n]);return n},s.prototype.__listenAdd=function(e,n){var i=this;e.on("add",function(u,m,O){return i.em.trigger(n,u,O)})},s.prototype.__listenRemove=function(e,n){var i=this;e.on("remove",function(u,m,O){return i.em.trigger(n,u,O)})},s.prototype.__listenUpdate=function(e,n){var i=this;e.on("change",function(u,m){return i.em.trigger(n,u,u.changedAttributes(),m)})},s.prototype.__destroy=function(){var e;this.cls.forEach(function(n){n.stopListening(),n.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},s}(J);const _t={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var G=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Ft=function(h){function s(e,n,i){var u=h.call(this,n,i)||this;return u._module=e,u}return G(s,h),Object.defineProperty(s.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),s}(N.Hn);var $t=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Lt=function(h){function s(e,n,i){return h.call(this,n,{module:e,modelConstructor:i})||this}return $t(s,h),s.prototype.add=function(e,n){var i,u=this,m=(0,k.isArray)(e)?e:(0,k.isUndefined)(e)?void 0:[e];return m=(i=m==null?void 0:m.map(function(O){return O instanceof u.newModel?O:new u.newModel(u.module,O)}))!==null&&i!==void 0?i:[void 0],h.prototype.add.call(this,(0,k.isArray)(e)?m:m[0],n)},s.prototype.preinitialize=function(e,n){this.newModel=n.modelConstructor,this.module=n.module},s}(N.FE);var ve=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bt=function(){return bt=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},bt.apply(this,arguments)},jt=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Rt="__aw",Xt="__ah",Ht=function(h){function s(e,n){var i=h.call(this,e,n)||this,u=i.em,m=i.attributes,O=m.styles,P=m.component,L=u.Components,A=L.getConfig(),ot=u.Css.getAll(),kt={},zt={em:u,config:A,frame:i,idMap:kt};if(!(0,H.isComponent)(P)){var Gt=(0,H.isObject)(P)?P:{components:P};!Gt.type&&(Gt.type="wrapper");var _e=L.getType("wrapper").model;i.set("component",new _e(Gt,zt))}return O?(0,H.isObject)(O)||(Object.keys(kt).length&&Array.isArray(O)&&O.forEach(function(Ee){var Se=Ee.selectors;if(Se&&Se.length==1){var or=Se[0],yr=or.name&&or.type===2&&or;if(yr&&kt[yr.name])yr.name=kt[yr.name];else if((0,k.isString)(or)&&or[0]==="#"){var Qr=or.substring(1);Qr&&kt[Qr]&&(Se[0]="#".concat(kt[Qr]))}}}),ot.add(O),i.set("styles",ot)):i.set("styles",ot),!n.width&&i.set(Rt,1),!n.height&&i.set(Xt,1),i}return ve(s,h),s.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(s.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),s.prototype.onRemove=function(){this.getComponent().remove({root:1})},s.prototype.changesUp=function(e){e===void 0&&(e={}),e.temporary||e.noCount||e.avoidStore||this.set("changesCount",this.get("changesCount")+1)},s.prototype.getComponent=function(){return this.get("component")},s.prototype.getStyles=function(){return this.get("styles")},s.prototype.disable=function(){this.trigger("disable")},s.prototype.remove=function(){this.view=void 0;var e=this.collection;return e&&e.remove(this)},s.prototype.getHead=function(){return jt([],this.head,!0)},s.prototype.setHead=function(e){return this.set("head",jt([],e,!0))},s.prototype.addHeadItem=function(e){this.head.push(e)},s.prototype.getHeadByAttr=function(e,n,i){return this.head.filter(function(u){return u.attributes&&u.attributes[e]==n&&(!i||i===u.tag)})[0]},s.prototype.removeHeadByAttr=function(e,n,i){var u=this.getHeadByAttr(e,n,i),m=this.head.indexOf(u);m>=0&&this.head.splice(m,1)},s.prototype.addLink=function(e){var n="link";!this.getHeadByAttr("href",e,n)&&this.addHeadItem({tag:n,attributes:{href:e,rel:"stylesheet"}})},s.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},s.prototype.addScript=function(e){var n="script";!this.getHeadByAttr("src",e,n)&&this.addHeadItem({tag:n,attributes:{src:e}})},s.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},s.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},s.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",bt({frame:this},e))},s.prototype.toJSON=function(e){e===void 0&&(e={});var n=Ft.prototype.toJSON.call(this,e),i=(0,k.result)(this,"defaults");return e.fromUndo&&delete n.component,delete n.styles,delete n.changesCount,n[Rt]&&delete n.width,n[Xt]&&delete n.height,(0,k.forEach)(n,function(u,m){m.indexOf("_")===0&&delete n[m]}),(0,k.forEach)(i,function(u,m){n[m]===u&&delete n[m]}),(0,k.forEach)(["attributes","head"],function(u){(0,k.isEmpty)(n[u])&&delete n[u]}),n},s}(Ft);const It=Ht;var St=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Bt=function(h){function s(e,n){n===void 0&&(n=[]);var i=h.call(this,e,n,It)||this;return i.loadedItems=0,i.itemsToLoad=0,(0,k.bindAll)(i,"itemLoaded"),i.on("reset",i.onReset),i.on("remove",i.onRemove),i}return St(s,h),s.prototype.onReset=function(e,n){var i=this;((n==null?void 0:n.previousModels)||[]).map(function(u){return i.onRemove(u)})},s.prototype.onRemove=function(e){e==null||e.onRemove()},s.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},s.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},s.prototype.listenToLoadItems=function(e){var n=this;this.forEach(function(i){return i[e?"on":"off"]("loaded",n.itemLoaded)})},s}(Lt);var Me=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const pe=function(h){function s(e,n){n===void 0&&(n={});var i=h.call(this,e,n)||this,u=n.em,m={};i.em=u,e.frames||(m.component=e.component,m.styles=e.styles,["component","styles"].map(function(A){return i.unset(A)}));var O=e.frames||[m],P=new Bt(u.Canvas,O);P.page=i,i.set("frames",P),!i.getId()&&i.set("id",u==null?void 0:u.get("PageManager")._createId());var L=u==null?void 0:u.get("UndoManager");return L==null||L.add(P),i}return Me(s,h),s.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},s.prototype.onRemove=function(){this.getFrames().reset()},s.prototype.getFrames=function(){return this.get("frames")},s.prototype.getId=function(){return this.id},s.prototype.getName=function(){return this.get("name")},s.prototype.setName=function(e){return this.set({name:e})},s.prototype.getAllFrames=function(){return this.getFrames().models||[]},s.prototype.getMainFrame=function(){return this.getFrames().at(0)},s.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},s.prototype.toJSON=function(e){e===void 0&&(e={});var n=N.Hn.prototype.toJSON.call(this,e),i=(0,k.result)(this,"defaults");return(0,k.forEach)(n,function(u,m){m.indexOf("_")===0&&delete n[m]}),(0,k.forEach)(i,function(u,m){n[m]===u&&delete n[m]}),n},s}(N.Hn);var Ae=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ir=function(){return ir=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},ir.apply(this,arguments)};const Or=function(h){function s(e,n){var i=h.call(this,e)||this;return i.on("reset",i.onReset),i.on("remove",i.onRemove),i.model=function(u,m){return m===void 0&&(m={}),new pe(u,ir(ir({},m),{em:n}))},i}return Ae(s,h),s.prototype.onReset=function(e,n){var i,u=this;(i=n==null?void 0:n.previousModels)===null||i===void 0||i.map(function(m){return u.onRemove(m)})},s.prototype.onRemove=function(e){e==null||e.onRemove()},s}(N.FE);var Nr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dr=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Vr="page",Je="".concat(Vr,":"),nt="".concat(Je,"select"),Et="".concat(nt,":before"),qt="".concat(Je,"update"),me="".concat(Je,"add"),Le="".concat(me,":before"),lt="".concat(Je,"remove"),ue="".concat(lt,":before"),se="change:selected",nr="main",vr={all:Vr,select:nt,selectBefore:Et,update:qt,add:me,addBefore:Le,remove:lt,removeBefore:ue},Qe=function(h){function s(e){var n=h.call(this,e,"PageManager",new Or([],e),vr)||this;n.storageKey="pages",(0,k.bindAll)(n,"_onPageChange");var i=new Ft({_undo:!0});return n.model=i,n.pages.on("reset",function(u){return u.at(0)&&n.select(u.at(0))}),n.pages.on("all",n.__onChange,n),i.on(se,n._onPageChange),n}return Nr(s,h),Object.defineProperty(s.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),s.prototype.getAll=function(){return Dr([],this.all.models,!0)},s.prototype.__onChange=function(e,n,i,u){var m=u||i;this.em.trigger(Vr,{event:e,page:n,options:m})},s.prototype.onLoad=function(){var e,n=this,i=this.pages,u={silent:!0};i.add(((e=this.config.pages)===null||e===void 0?void 0:e.map(function(O){return new pe(O,{em:n.em,config:n.config})}))||[],u);var m=i.length?this.getMain():this.add({type:nr},u);m&&this.select(m,u)},s.prototype._onPageChange=function(e,n,i){var u=this.em,m=u.Layers,O=n.getMainComponent();m&&O&&m.setRoot(O),u.trigger(nt,n,e.previous("selected")),this.__onChange(se,n,i)},s.prototype.postLoad=function(){var e=this,n=e.em,i=e.model,u=e.pages,m=n.UndoManager;m.add(i),m.add(u),u.on("add remove reset change",function(O,P,L){return n.changesUp(L||P)})},s.prototype.add=function(e,n){var i=this;n===void 0&&(n={});var u=this.em;e.id=e.id||this._createId();var m=function(){var O=i.pages.add(new pe(e,{em:i.em,config:i.config}),n);return n.select&&i.select(O),O};return!n.silent&&u.trigger(Le,e,m,n),!n.abort&&m()},s.prototype.remove=function(e,n){var i=this;n===void 0&&(n={});var u=this.em,m=(0,k.isString)(e)?this.get(e):e,O=function(){return m&&i.pages.remove(m,n),m};return!n.silent&&u.trigger(ue,m,O,n),!n.abort&&O()},s.prototype.get=function(e){return this.pages.filter(function(n){return n.get(n.idAttribute)===e})[0]},s.prototype.getMain=function(){var e=this.pages;return e.filter(function(n){return n.get("type")===nr})[0]||e.at(0)},s.prototype.getAllWrappers=function(){var e=this.getAll();return(0,k.unique)((0,k.flatten)(e.map(function(n){return n.getAllFrames().map(function(i){return i.getComponent()})})))},s.prototype.select=function(e,n){n===void 0&&(n={});var i=(0,k.isString)(e)?this.get(e):e;return i&&(this.em.trigger(Et,i,n),this.model.set("selected",i,n)),this},s.prototype.getSelected=function(){return this.model.get("selected")},s.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(n){return e[n]=0})},s.prototype.store=function(){return this.getProjectData()},s.prototype.load=function(e){return this.loadProjectData(e,{all:this.pages,reset:!0})},s.prototype._createId=function(){var e,n=this.getAll().length+16,i=this.getAllMap();do e=(0,H.createId)(n);while(i[e]);return e},s}(et);const Ir=Qe,rn={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var vt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Wt=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return vt(s,h),s.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},s.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(n){return e.checkUnit(n)})},s.prototype.checkUnit=function(e){var n=this.get(e)||"";(parseFloat(n)||0).toString()===n.toString()&&this.set(e,"".concat(n,"px"))},s.prototype.getName=function(){return this.get("name")||this.get("id")},s.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},s}(N.Hn);var fe=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vt=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return fe(s,h),s}(N.FE);const Ce=Vt;Vt.prototype.model=Wt;var Yt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pr=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h};const dr=function(h){function s(e){var n=h.call(this,e)||this;return n.config=e.config||{},n.em=n.config.em,n.ppfx=n.config.pStylePrefix||"",n.listenTo(n.em,"change:device",n.updateSelect),n}return Yt(s,h),s.prototype.template=function(e){var n=e.ppfx,i=e.label;return ft(on||(on=pr([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),n,i,n,n,n,n,n,n,n)},s.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},s.prototype.startAdd=function(){},s.prototype.updateDevice=function(){var e=this.em;if(e){var n=this.devicesEl;e.set("device",n?n.val():"")}},s.prototype.updateSelect=function(){var e=this.em,n=this.devicesEl;if(e&&e.getDeviceModel&&n){var i=e.getDeviceModel();n.val(i?i.get("id"):"")}},s.prototype.getOptions=function(){var e=this.collection,n=this.em,i="";return e.forEach(function(u){var m=u.attributes,O=m.name,P=m.id,L=n&&n.t&&n.t("deviceManager.devices.".concat(P))||O;i+='<option value="'.concat(P||O,'">').concat(L,"</option>")}),i},s.prototype.render=function(){var e=this,n=e.em,i=e.ppfx,u=e.$el,m=e.el,O=n&&n.t&&n.t("deviceManager.device");return u.html(this.template({ppfx:i,label:O})),this.devicesEl=u.find(".".concat(i,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(n.get("device")),m.className="".concat(i,"devices-c"),this},s}(N.G7);var on,Kr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),He=function(){return He=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},He.apply(this,arguments)},pn="device",$n="".concat(pn,":"),Ut="".concat($n,"select"),te="".concat($n,"update"),je="".concat($n,"add"),Xe="".concat($n,"remove"),xt="".concat(Xe,":before"),ce="change:device",ke={all:pn,select:Ut,update:te,add:je,remove:Xe,removeBefore:xt},Ze=function(h){function s(e){var n,i=this;return(i=h.call(this,e,"DeviceManager",new Ce,ke,rn)||this).Device=Wt,i.Devices=Ce,i.storageKey="",i.devices=i.all,(n=i.config.devices)===null||n===void 0||n.forEach(function(u){return i.add(u,{silent:!0})}),i.select(i.config.default||i.devices.at(0)),e.on(ce,i._onSelect,i),i}return Kr(s,h),s.prototype._onSelect=function(e,n,i){var u=this.em,m=this.events,O=e.previous("device"),P=this.get(n),L=m.select;u.trigger(L,P,this.get(O)),this.__catchAllEvent(L,P,i)},s.prototype.add=function(e,n){var i;n===void 0&&(n={});var u=n;if((0,k.isString)(e)){var m=n;i=He(He({},u=arguments[2]||{}),{id:e,name:u.name||e,width:m})}else i=e;return i.id||(i.id=i.name||this._createId()),this.devices.add(i,u)},s.prototype.get=function(e){return this.getAll().filter(function(n){return n.get("name")===e})[0]||this.devices.get(e)||null},s.prototype.remove=function(e,n){return n===void 0&&(n={}),this.__remove(e,n)},s.prototype.getDevices=function(){return this.devices.models},s.prototype.select=function(e,n){n===void 0&&(n={});var i=(0,k.isString)(e)?this.get(e):e;return i&&this.em.set("device",i.get("id"),n),this},s.prototype.getSelected=function(){return this.get(this.em.get("device"))},s.prototype.getAll=function(){return this.devices},s.prototype.render=function(){var e,n=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new dr({collection:this.devices,config:He({em:n},this.config)}),this.view.render().el},s.prototype.destroy=function(){this.__destroy()},s}(et);const xr=Ze;var Yr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Un=function(h){function s(e){var n=this,i=e.em,u=e.config,m=u.scripts,O=u.styles;return(n=h.call(this,e,{scripts:m,styles:O})||this).set("frames",new Bt(e)),n.listenTo(n,"change:zoom",n.onZoomChange),n.listenTo(i,"change:device ".concat(te),n.updateDevice),n.listenTo(i,nt,n._pageUpdated),n}return Yr(s,h),s.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(s.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),s.prototype.init=function(){var e=this.em.Pages.getMain();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},s.prototype._pageUpdated=function(e,n){var i=this.em;i.setSelected(),i.get("readyCanvas")&&i.stopDefault(),n==null||n.getFrames().map(function(u){return u.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},s.prototype.updateDevice=function(e){e===void 0&&(e={});var n=this.em,i=n.getDeviceModel(),u=e.frame||n.getCurrentFrameModel();if(u&&i){var m=i.attributes,O=m.width,P=m.height;u.set({width:O,height:P},{noUndo:1})}},s.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},s}(Ft);const In=Un;var lo=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const uo=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return lo(s,h),Object.defineProperty(s.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"module",{get:function(){var e,n;return(n=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&n!==void 0?n:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),s.prototype.preinitialize=function(e){this.className=""},s}(N.G7);var yn=Y(491),Qn=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Fn=function(h){function s(e,n){e===void 0&&(e={}),n===void 0&&(n=!1);var i=h.call(this,e)||this;return i.itemsView="",i.itemType="type",i.reuseView=!1,i.viewCollection=[],n&&i.listenTo(i.collection,"add",i.addTo),i}return Qn(s,h),s.prototype.addTo=function(e){this.add(e)},s.prototype.itemViewNotFound=function(e){},s.prototype.add=function(e,n){var i,u=this,m=u.reuseView,O=u.viewCollection,P=(u.itemsView,n||null),L=e.get(this.itemType);i=e.view&&m?e.view:this.renderView(e,L),O.push(i);var A=i.render().el;P?P.appendChild(A):this.$el.append(A)},s.prototype.render=function(){var e=this,n=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(i){return e.add(i,n)}),this.$el.append(n),this.onRender(),this},s.prototype.onRender=function(){},s.prototype.onRemoveBefore=function(e,n){},s.prototype.onRemove=function(e,n){},s.prototype.remove=function(e){e===void 0&&(e={});var n=this.viewCollection;return this.onRemoveBefore(n,e),this.clearItems(),N.G7.prototype.remove.apply(this,e),this.onRemove(n,e),this},s.prototype.clearItems=function(){this.viewCollection},s}(uo);var Qo=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const fo=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.config=e.config||{};var i=n.model;return n.listenTo(i,"change",n.render),n.listenTo(i,"destroy remove",n.remove),n.listenTo(i.get("selectors"),"change",n.render),n}return Qo(s,h),s.prototype.tagName=function(){return"style"},s.prototype.render=function(){var e=this.model,n=this.el,i=e.get("important");return n.innerHTML=e.toCSS({important:i}),this},s}(N.G7);var Bo=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const bo=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Bo(s,h),s.prototype._createElement=function(){return document.createTextNode("")},s.prototype.render=function(){var e=this.model,n=e.get("important");return this.el.textContent=e.getDeclaration({important:n}),this},s}(fo);var wo=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_o=function(h,s){return"".concat(h).concat(s?"-".concat(parseFloat(s)):"")},va=function(h){function s(e){var n=h.call(this,e)||this;(0,k.bindAll)(n,"sortRules");var i=e.config||{};n.atRules={},n.config=i,n.em=i.em,n.pfx=i.stylePrefix||"",n.className=n.pfx+"rules";var u=n.collection;return n.listenTo(u,"add",n.addTo),n.listenTo(u,"reset",n.render),n}return wo(s,h),s.prototype.addTo=function(e){this.addToCollection(e)},s.prototype.addToCollection=function(e,n){if(this.renderStarted){var i,u,m=n||null,O={model:e,config:this.config};if(e.get("atRuleType")==="keyframes"){var P=e.getAtRule(),L=this.atRules[P];if(!L){var A=document.createElement("style");L=document.createTextNode(""),A.appendChild(document.createTextNode("".concat(P,"{"))),A.appendChild(L),A.appendChild(document.createTextNode("}")),this.atRules[P]=L,i=A}u=new bo(O),L.appendData(u.render().el.textContent)}else i=(u=new fo(O)).render().el;var ot=this.className,kt=e.get("mediaText"),zt=_o(ot),Gt=zt;if(kt&&(Gt=_o(ot,this.getMediaWidth(kt))),i){var _e=m||this.el,Ee=void 0;try{Ee=_e.querySelector("#".concat(Gt))}catch{}Ee||(Ee=_e.querySelector("#".concat(zt))),Ee==null||Ee.appendChild(i)}return i}},s.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},s.prototype.sortRules=function(e,n){var i=(this.em.getConfig().mediaCondition||"").indexOf("min-width")!==-1;return i?(i?e:n)-(i?n:e):0},s.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var n=this,i=n.em,u=n.$el,m=n.collection,O=this.className,P=document.createDocumentFragment();u.empty();var L=i.Devices.getAll().pluck("priority").sort(this.sortRules);return L.every(function(A){return A})&&L.unshift(0),L.forEach(function(A){return P.appendChild((0,yn.ut)("div",{id:_o(O,A)}))}),m.each(function(A){return e.addToCollection(A,P)}),u.append(P),u.attr("class",O),this},s}(N.G7);const $o=va;var Ao=function(){return Ao=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ao.apply(this,arguments)},ni=function(){function h(s,e){var n=this;this.em=s,this.canvas=s.Canvas;var i=e||this.canvas.getFrames().map(function(m){return m.getComponent().getEl()}),u=Array.isArray(i)?i:[i];this.el=u[0],this.counter=0,(0,k.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),u.forEach(function(m){return n.toggleEffects(m,!0)})}return h.prototype.toggleEffects=function(s,e){var n={on:H.on,off:H.off},i=e?"on":"off";n[i](s,"dragenter",this.handleDragEnter),n[i](s,"dragover",this.handleDragOver),n[i](s,"drop",this.handleDrop),n[i](s,"dragleave",this.handleDragLeave)},h.prototype.__customTglEff=function(s){var e,n=s?H.on:H.off,i=this.el.ownerDocument,u=(e=i.defaultView)===null||e===void 0?void 0:e.frameElement;this.sortOpts=s?{onStart:function(m){var O=m.sorter;(0,H.on)(u,"pointermove",O.onMove)},onEnd:function(m){var O=m.sorter;(0,H.off)(u,"pointermove",O.onMove)},customTarget:function(m){var O=m.event;return i.elementFromPoint(O.clientX,O.clientY)}}:null,n(u,"pointerenter",this.handleDragEnter),n(u,"pointermove",this.handleDragOver),n(document,"pointerup",this.handleDrop),n(u,"pointerout",this.handleDragLeave)},h.prototype.startCustom=function(){this.__customTglEff(!0)},h.prototype.endCustom=function(s){this.over?this.endDrop(s):this.__customTglEff(!1)},h.prototype.endDrop=function(s,e){var n=this.em,i=this.dragStop;this.counter=0,i&&i(s),this.__customTglEff(!1),n.trigger("canvas:dragend",e)},h.prototype.handleDragLeave=function(s){this.updateCounter(-1,s)},h.prototype.updateCounter=function(s,e){this.counter+=s,this.counter===0&&this.endDrop(!0,e)},h.prototype.handleDragEnter=function(s){var e=this,n=this.em,i=this.canvas,u=s.dataTransfer;if(this.updateCounter(1,s),!this.over){this.over=!0;var m,O,P=n.Utils,L=n.get("dragContent")||"<br>";if(n.stopDefault(),n.inAbsoluteMode()){var A=n.Components.getWrapper(),ot=A.append({})[0],kt=n.Commands.run("core:component-drag",{event:s,guidesInfo:1,center:1,target:ot,onEnd:function(Gt,_e,Ee){var Se;if(!Ee.cancelled){Se=A.append(L)[0];var or=i.getOffset(),yr=ot.getStyle(),Qr=yr.top,en=yr.left,En=yr.position,An=(0,yn.GX)(Gt.target),yo=parseInt("".concat(parseFloat(en)+An.x-or.left),10),Po=parseInt("".concat(parseFloat(Qr)+An.y-or.top),10);Se.addStyle({left:yo+"px",top:Po+"px",position:En})}e.handleDragEnd(Se,u),ot.remove()}});m=function(Gt){return kt.stop(s,{cancel:Gt})},O=function(Gt){return L=Gt}}else{var zt=new P.Sorter(Ao({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(Gt){return e.handleDragEnd(Gt,u)},document:this.el.ownerDocument},this.sortOpts||{}));zt.setDropContent(L),zt.startSort(),this.sorter=zt,m=function(Gt){Gt&&(zt.moved=!1),zt.endMove()},O=function(Gt){return zt.setDropContent(Gt)}}this.dragStop=m,this.dragContent=O,n.trigger("canvas:dragenter",u,L)}},h.prototype.handleDragEnd=function(s,e){var n=this.em;this.over=!1,s&&(n.set("dragResult",s),n.trigger("canvas:drop",e,s)),n.runDefault({preserveSelected:1})},h.prototype.handleDragOver=function(s){s.preventDefault(),this.em.trigger("canvas:dragover",s)},h.prototype.handleDrop=function(s){s.preventDefault();var e=this.dragContent,n=s.dataTransfer,i=this.getContentByData(n).content;s.target.style.border="",i&&e&&e(i),this.endDrop(!i,s)},h.prototype.getContentByData=function(s){var e=this.em,n=s&&s.types,i=s&&s.files||[],u=e.get("dragContent"),m=s&&s.getData("text");if(i.length){m=[];for(var O=0;O<i.length;O++){var P=i[O],L=P.type.split("/")[0];L=="image"&&m.push({type:L,file:P,attributes:{alt:P.name}})}}else if(u)m=u;else if((0,k.indexOf)(n,"text/html")>=0)m=s&&s.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,k.indexOf)(n,"text/uri-list")>=0)m={type:"link",attributes:{href:m},content:m};else if((0,k.indexOf)(n,"text/json")>=0){var A=s&&s.getData("text/json");A&&(m=JSON.parse(A))}else n.length===1&&n[0]==="text/plain"&&(m="<div>".concat(m,"</div>"));var ot={content:m};return e.trigger("canvas:dragdata",s,ot),ot},h}();const eo=ni;var Wr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vo=function(){return vo=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},vo.apply(this,arguments)},po=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},oi=function(h){function s(e,n){var i=h.call(this,{model:e})||this;i.dragging=!1,i.loaded=!1,i.lastMaxHeight=0,i.tools={},(0,k.bindAll)(i,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var u=i,m=u.el;u.em,i.module._config=vo(vo({},i.config||{}),{frameView:i}),i.frameWrapView=n,i.showGlobalTools=(0,k.debounce)(i.showGlobalTools.bind(i),50);var O=i.getCanvasModel();return i.listenTo(e,"change:head",i.updateHead),i.listenTo(O,"change:styles",i.renderStyles),e.view=i,(0,H.setViewEl)(m,i),i}return Wr(s,h),Object.defineProperty(s.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),s.prototype.updateHead=function(){var e=this.model,n=this.getHead(),i=[],u=[],m=e.head,O=e.previous("head"),P=function(A){return A===void 0&&(A={}),Object.keys(A).sort().map(function(ot){return"[".concat(ot,'="').concat(A[ot],'"]')}).join("")},L=function(A,ot,kt){A.forEach(function(zt){var Gt=zt.tag,_e=zt.attributes;!ot.some(function(Ee){return Ee.tag===Gt&&P(Ee.attributes)===P(_e)})&&kt.push(zt)})};L(m,O,u),L(O,m,i),i.forEach(function(A){var ot,kt=n.querySelector("".concat(A.tag).concat(P(A.attributes)));(ot=kt==null?void 0:kt.parentNode)===null||ot===void 0||ot.removeChild(kt)}),(0,yn.SJ)(n,u)},s.prototype.getEl=function(){return this.el},s.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},s.prototype.getWindow=function(){return this.getEl().contentWindow},s.prototype.getDoc=function(){return this.getEl().contentDocument},s.prototype.getHead=function(){return this.getDoc().querySelector("head")},s.prototype.getBody=function(){return this.getDoc().querySelector("body")},s.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},s.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,yn.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},s.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},s.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},s.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},s.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},s.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},s.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},s.prototype.getOffsetRect=function(){var e=this.el,n=this.getBody(),i=n.scrollTop,u=n.scrollLeft,m=e.offsetHeight,O=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:m,width:O,scrollTop:i,scrollLeft:u,scrollBottom:i+m,scrollRight:u+O}},s.prototype._getTool=function(e){var n=this.tools,i=this.getToolsEl();return n[e]||(n[e]=i.querySelector(e)),n[e]},s.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.wrapper;return this._toggleEffects(!1),this.tools={},i&&i.remove(),uo.prototype.remove.apply(this,e),this},s.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},s.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,n=this.em.Canvas,i=this.getWindow(),u=i.pageYOffset,m=e||0,O=n.getConfig().autoscrollLimit,P=this.getRect().height-O,L=u;m<O&&(L-=O-m),m>P&&(L+=m-P),!(0,k.isUndefined)(e)&&L!==u&&L>0&&L<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity="0",this.showGlobalTools(),i.scrollTo(0,L)),requestAnimationFrame(this.autoscroll)}},s.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,H.getPointerEvent)(e).clientY*this.em.getZoomDecimal()},s.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},s.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},s.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var n=this.getWindow(),i=e?"on":"off",u={on:H.on,off:H.off};u[i](n,"mousemove dragover",this.updateClientY),u[i](n,"mouseup",this.stopAutoscroll)},s.prototype.render=function(){var e=this.$el,n=this.ppfx;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),this},s.prototype.renderScripts=function(){var e=this,n=this,i=n.el,u=n.model,m=n.em,O="frame:load",P={el:i,model:u,view:this},L=this.getCanvasModel(),A=function(ot){var kt;if(ot.length>0){var zt=ot.shift(),Gt=(0,yn.ut)("script",vo({type:"text/javascript"},(0,k.isString)(zt)?{src:zt}:zt));Gt.onerror=Gt.onload=A.bind(null,ot),(kt=i.contentDocument)===null||kt===void 0||kt.head.appendChild(Gt)}else e.renderBody(),m&&m.trigger(O,P)};i.onload=function(){var ot=e.config.frameContent;if(ot){var kt=e.getDoc();kt.open(),kt.write(ot),kt.close()}m&&m.trigger("".concat(O,":before"),P),A(po([],L.get("scripts"),!0))}},s.prototype.renderStyles=function(e){e===void 0&&(e={});var n=this.getHead(),i=this.getCanvasModel(),u=function(ot){return ot.map(function(kt){return{tag:"link",attributes:vo({rel:"stylesheet"},(0,k.isString)(kt)?{href:kt}:kt)}})},m=u(e.prev||i.previous("styles")),O=u(i.get("styles")),P=[],L=[],A=function(ot,kt,zt){ot.forEach(function(Gt){var _e=Gt.attributes.href;!kt.some(function(Ee){return Ee.attributes.href===_e})&&zt.push(Gt)})};A(O,m,L),A(m,O,P),P.forEach(function(ot){var kt,zt=n.querySelector('link[href="'.concat(ot.attributes.href,'"]'));(kt=zt==null?void 0:zt.parentNode)===null||kt===void 0||kt.removeChild(zt)}),(0,yn.SJ)(n,L)},s.prototype.renderBody=function(){var e,n,i=this,u=this,m=u.config,O=u.em,P=u.model,L=u.ppfx,A=this.getDoc(),ot=this.getBody(),kt=this.getWindow(),zt=O.config;kt._isEditor=!0,this.renderStyles({prev:[]}),(0,yn.R3)(ot,`<style>
      `.concat(zt.baseCss||m.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(L,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(L,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(L,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(L,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(L,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(L,`no-pointer {
        pointer-events: none;
      }

      .`).concat(L,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(L,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(L,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(L,`is__grabbing,
      .`).concat(L,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(zt.canvasCss||"",`
      `).concat(zt.protectedCss||"",`
    </style>`));var Gt=P.getComponent(),_e=O.Components.getType("wrapper").view;this.wrapper=new _e({model:Gt,config:vo(vo({},Gt.config),{em:O,frameView:this})}).render(),(0,yn.R3)(ot,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,yn.R3)(ot,new $o({collection:P.getStyles(),config:vo(vo({},O.Css.getConfig()),{frameView:this})}).render().el),(0,yn.R3)(ot,this.getJsContainer()),(0,H.on)(ot,"click",function(Ee){var Se;return Ee&&((Se=Ee.target)===null||Se===void 0?void 0:Se.tagName)=="A"&&Ee.preventDefault()}),(0,H.on)(ot,"submit",function(Ee){return Ee&&Ee.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(Ee){return Ee.event.split(" ").forEach(function(Se){A.addEventListener(Se,function(or){return i.el.dispatchEvent((0,yn.t3)(or,Ee.class))})})}),this._toggleEffects(!0),(0,H.hasDnd)(O)&&(this.droppable=new eo(O,(n=this.wrapper)===null||n===void 0?void 0:n.el)),P.trigger("loaded"),this.loaded=!0},s.prototype._toggleEffects=function(e){var n=e?H.on:H.off,i=this.getWindow();i&&n(i,"".concat(yn.G1," resize"),this._emitUpdate)},s.prototype._emitUpdate=function(){this.model._emitUpdated()},s}(uo);const un=oi;var Zo=Y(668),Ci=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bn=function(){return Bn=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Bn.apply(this,arguments)};const rt=function(h){function s(e,n){var i=h.call(this,{model:e})||this;return(0,k.bindAll)(i,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Bn(Bn({},e.config),{frameWrapView:i}),i.cv=n,i.frame=new un(e,i),i.classAnim="".concat(i.ppfx,"frame-wrapper--anim"),i.updateOffset=(0,k.debounce)(i.updateOffset.bind(i),0),i.updateSize=(0,k.debounce)(i.updateSize.bind(i),0),i.listenTo(e,"loaded",i.frameLoaded),i.listenTo(e,"change:x change:y",i.updatePos),i.listenTo(e,"change:width change:height",i.updateSize),i.listenTo(e,"destroy remove",i.remove),i.updatePos(),i.setupDragger(),i}return Ci(s,h),s.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},s.prototype.setupDragger=function(){var e,n,i,u=this,m=this.module,O=this.model,P=function(L){m.toggleFramesEvents(L)};this.dragger=new Zo.Z({onStart:function(){var L=O.attributes,A=L.x,ot=L.y;i=u.em.getZoomMultiplier(),e=A,n=ot,P(!1)},onEnd:function(){return P(!0)},setPosition:function(L){O.set({x:e+L.x*i,y:n+L.y*i})}})},s.prototype.startDrag=function(e){var n;e&&((n=this.dragger)===null||n===void 0||n.start(e))},s.prototype.__clear=function(e){var n=this.frame;n&&n.remove(e),(0,yn.L_)(this.elTools)},s.prototype.remove=function(e){var n=this;return this.__clear(e),uo.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(i){return n[i]=0}),this},s.prototype.updateOffset=function(){var e,n=this,i=n.em,u=n.$el,m=n.frame;i&&!i.destroyed&&(i.runDefault({preserveSelected:1}),u.removeClass(this.classAnim),(e=m==null?void 0:m.model)===null||e===void 0||e._emitUpdated())},s.prototype.updatePos=function(e){var n=this.model,i=this.el,u=n.attributes,m=u.x,O=u.y,P=i.style;this.frame.rect=void 0,P.left=isNaN(m)?m:"".concat(m,"px"),P.top=isNaN(O)?O:"".concat(O,"px"),e&&this.updateOffset()},s.prototype.updateSize=function(){this.updateDim()},s.prototype.updateDim=function(){var e=this,n=e.em,i=e.el,u=e.$el,m=e.model,O=e.classAnim,P=e.frame;if(P){P.rect=void 0,u.addClass(O);var L=this.__handleSize(),A=L.noChanges,ot=L.width,kt=L.height;((0,k.isNull)(ot)||(0,k.isNull)(kt))&&m.set(Bn(Bn({},ot?{}:{width:i.offsetWidth}),kt?{}:{height:i.offsetHeight}),{silent:1}),n.stopDefault({preserveSelected:1}),A?this.updateOffset():setTimeout(this.updateOffset,350)}},s.prototype.onScroll=function(){var e=this.frame;this.em.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},s.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},s.prototype.__handleSize=function(){var e="px",n=this.model,i=this.el.style,u=n.attributes,m=u.width,O=u.height,P=i.width||"",L=i.height||"",A=m||"",ot=O||"",kt=P==A&&L==ot;return i.width=(0,k.isNumber)(A)?"".concat(A).concat(e):A,i.height=(0,k.isNumber)(ot)?"".concat(ot).concat(e):ot,{noChanges:kt,width:m,height:O,newW:A,newH:ot}},s.prototype.render=function(){var e=this,n=e.frame,i=e.$el,u=e.ppfx,m=e.cv,O=e.model,P=e.el,L=O.attributes.onRender;this.__clear(),this.__handleSize(),n.render(),i.empty().attr({class:"".concat(u,"frame-wrapper")}).append(`
      <div class="`.concat(u,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(u,`frame-wrapper__name" data-action-move>
          `).concat(O.get("name")||"",`
        </div>
        <div class="`).concat(u,`frame-wrapper__top-r">
          <div class="`).concat(u,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(u,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(u,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(u,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(n.el);var A=(0,yn.ut)("div",{class:"".concat(u,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(u,`highlighter" data-hl></div>
      <div class="`).concat(u,`badge" data-badge></div>
      <div class="`).concat(u,`placeholder">
        <div class="`).concat(u,`placeholder-int"></div>
      </div>
      <div class="`).concat(u,`ghost"></div>
      <div class="`).concat(u,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(u,`resizer"></div>
      <div class="`).concat(u,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(u,`offset-fixed-v"></div>
    `));this.elTools=A;var ot=m==null?void 0:m.toolsWrapper;return ot&&ot.appendChild(A),L&&L({el:P,elTop:P.querySelector("[data-frame-top]"),elRight:P.querySelector("[data-frame-right]"),elBottom:P.querySelector("[data-frame-bottom]"),elLeft:P.querySelector("[data-frame-left]"),frame:O,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},s}(uo);var Zt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ar=function(h){function s(e,n){e===void 0&&(e={});var i=h.call(this,e,!0)||this;return i.listenTo(i.collection,"reset",i.render),i.canvasView=n.canvasView,i._module=n.module,i}return Zt(s,h),s.prototype.onRemoveBefore=function(e,n){n===void 0&&(n={}),e.forEach(function(i){return i.remove(n)})},s.prototype.onRender=function(){var e=this.$el,n=this.ppfx;e.attr({class:"".concat(n,"frames")})},s.prototype.renderView=function(e,n){return new rt(e,this.canvasView)},s}(Fn);const hr=ar;var Mr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_n=function(){return _n=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},_n.apply(this,arguments)},Vn=function(h){function s(e){var n=h.call(this,{model:e})||this;n.ready=!1,(0,k.bindAll)(n,"clearOff","onKeyPress","onCanvasMove");var i=n,u=i.em,m=i.pfx;return n.className="".concat(m,"canvas").concat(u.config.customUI?"":" ".concat(m,"canvas-bg")),n._initFrames(),n.listenTo(u,"change:canvasOffset",n.clearOff),n.listenTo(u,"component:selected",n.checkSelected),n.listenTo(e,"change:zoom change:x change:y",n.updateFrames),n.listenTo(e,"change:frames",n._onFramesUpdate),n.toggleListeners(!0),n}return Mr(s,h),s.prototype.events=function(){return{wheel:"onWheel"}},s.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames></div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
    `)},s.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},s.prototype._initFrames=function(){var e=this,n=e.frames,i=e.model,u=e.config,m=e.em,O=i.frames;m.set("readyCanvas",0),O.once("loaded:all",function(){return m.set("readyCanvas",1)}),n==null||n.remove(),this.frames=new hr({collection:O},_n(_n({},u),{canvasView:this}))},s.prototype.checkSelected=function(e,n){var i;n===void 0&&(n={});var u=n.scroll,m=this.em.get("currentFrame");u&&((i=e.views)===null||i===void 0||i.forEach(function(O){O._getFrame()===m&&O.scrollIntoView(u)}))},s.prototype.remove=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,uo.prototype.remove.apply(this,n),this.toggleListeners(!1),this},s.prototype.preventDefault=function(e){var n;e&&(e.preventDefault(),(n=e._parentEvent)===null||n===void 0||n.preventDefault())},s.prototype.onCanvasMove=function(e){},s.prototype.toggleListeners=function(e){this.el;var n=e?H.on:H.off;n(document,"keypress",this.onKeyPress),n(window,"scroll resize",this.clearOff)},s.prototype.onKeyPress=function(e){var n=this.em;(0,H.getKeyChar)(e)!==" "||n.getZoomDecimal()===1||n.Canvas.isInputFocused()||(this.preventDefault(e),n.Editor.runCommand("core:canvas-move"))},s.prototype.onWheel=function(e){if((e.ctrlKey||e.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(e);var n=this.model,i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),u=n.get("zoom");n.set("zoom",u+2*i)}},s.prototype.updateFrames=function(e){var n=this.em,i=this.model.attributes,u=i.x,m=i.y,O=this.getZoom(),P={preserveSelected:1},L=O?1/O:1;this.framesArea.style.transform="scale(".concat(O,") translate(").concat(u*L,"px, ").concat(m*L,"px)"),this.clearOff(),n.stopDefault(P),n.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){return n.runDefault(P)},300)},s.prototype.getZoom=function(){return this.em.getZoomDecimal()},s.prototype.isElInViewport=function(e){var n=(0,H.getElement)(e),i=(0,H.getElRect)(n),u=this.getFrameOffset(n),m=i.top,O=i.left;return m>=0&&O>=0&&m<=u.height&&O<=u.width},s.prototype.offset=function(e,n){n===void 0&&(n={});var i=n.noScroll,u=(0,H.getElRect)(e),m=i?{x:0,y:0}:(0,yn.GX)(e);return{top:u.top+m.y,left:u.left+m.x,width:u.width,height:u.height}},s.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},s.prototype.getFrameOffset=function(e){var n;if(!this.frmOff||e){var i=(n=this.frame)===null||n===void 0?void 0:n.el,u=e==null?void 0:e.ownerDocument.defaultView,m=u?u.frameElement:i;this.frmOff=this.offset(m||i)}return this.frmOff},s.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},s.prototype.getElementPos=function(e,n){n===void 0&&(n={});var i=this.getZoom(),u=this.getFrameOffset(e),m=this.el,O=this.getCanvasOffset(),P=this.offset(e,n),L=n.avoidFrameOffset?0:u.top,A=n.avoidFrameOffset?0:u.left,ot=n.avoidFrameZoom?P.top:P.top*i,kt=n.avoidFrameZoom?P.left:P.left*i;return{top:n.avoidFrameOffset?ot:ot+L-O.top+m.scrollTop,left:n.avoidFrameOffset?kt:kt+A-O.left+m.scrollLeft,height:n.avoidFrameZoom?P.height:P.height*i,width:n.avoidFrameZoom?P.width:P.width*i,zoom:i,rect:P}},s.prototype.getElementOffsets=function(e){var n=this;if(!e||(0,H.isTextNode)(e))return{};var i={},u=window.getComputedStyle(e);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(m){i[m]=parseFloat(u[m])*n.getZoom()}),i},s.prototype.getPosition=function(e){var n;e===void 0&&(e={});var i=(n=this.frame)===null||n===void 0?void 0:n.el.contentDocument;if(!i)return{top:0,left:0,width:0,height:0};var u=i.body,m=this.getZoom(),O=this.getFrameOffset(),P=this.getCanvasOffset(),L=e.noScroll;return{top:O.top+(L?0:u.scrollTop)*m-P.top,left:O.left+(L?0:u.scrollLeft)*m-P.left,width:P.width,height:P.height}},s.prototype.updateScript=function(e){var n=e.model,i=n.getId();e.scriptContainer||(e.scriptContainer=(0,yn.ut)("div",{"data-id":i}),this.getJsContainer().appendChild(e.scriptContainer)),e.el.id=i,e.scriptContainer.innerHTML="";var u=document.createElement("script"),m=n.getScriptString(),O=n.get("script-props")?m:`function(){
`.concat(m,`
;}`),P=JSON.stringify(n.__getScriptProps());u.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(i,`');
        if (!item) return;
        (`).concat(O,".bind(item))(").concat(P,`)
      }, 1);`),setTimeout(function(){var L=e.scriptContainer;L==null||L.appendChild(u)},0)},s.prototype.getJsContainer=function(e){var n=this.getFrameView(e);return n&&n.getJsContainer()},s.prototype.getFrameView=function(e){return(e==null?void 0:e._getFrame())||this.em.get("currentFrame")},s.prototype._renderFrames=function(){if(this.ready){var e=this,n=e.model,i=e.frames,u=e.em,m=e.framesArea,O=n.frames;O.listenToLoad(),i.render();var P=O.at(0),L=P==null?void 0:P.view;u.setCurrentFrame(L),m==null||m.appendChild(i.el),this.frame=L}},s.prototype.render=function(){var e=this,n=e.el,i=e.$el,u=e.ppfx,m=e.config,O=e.em;i.html(this.template());var P=i.find("[data-frames]");this.framesArea=P.get(0);var L=i.find("[data-tools]");return this.toolsWrapper=L.get(0),L.append(`
      <div class="`.concat(u,"tools ").concat(u,`tools-gl" style="pointer-events:none">
        <div class="`).concat(u,`placeholder">
          <div class="`).concat(u,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(u,`tools" style="pointer-events:none">
        `).concat(m.extHl?'<div class="'.concat(u,'highlighter-sel"></div>'):"",`
        <div class="`).concat(u,`badge"></div>
        <div class="`).concat(u,`ghost"></div>
        <div class="`).concat(u,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(u,`resizer"></div>
        <div class="`).concat(u,`offset-v"></div>
        <div class="`).concat(u,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=n.querySelector("#".concat(u,"tools")),this.hlEl=n.querySelector(".".concat(u,"highlighter")),this.badgeEl=n.querySelector(".".concat(u,"badge")),this.placerEl=n.querySelector(".".concat(u,"placeholder")),this.ghostEl=n.querySelector(".".concat(u,"ghost")),this.toolbarEl=n.querySelector(".".concat(u,"toolbar")),this.resizerEl=n.querySelector(".".concat(u,"resizer")),this.offsetEl=n.querySelector(".".concat(u,"offset-v")),this.fixedOffsetEl=n.querySelector(".".concat(u,"offset-fixed-v")),this.toolsGlobEl=n.querySelector(".".concat(u,"tools-gl")),this.el.className=(0,H.getUiClass)(O,this.className),this.ready=!0,this._renderFrames(),this},s}(uo);const Jr=Vn;var gr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),At=function(){return At=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},At.apply(this,arguments)},we=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},cr=function(h){function s(e){var n=h.call(this,e,"Canvas",_t)||this;return n.canvas=new In(n),n.model=n.canvas,n.startAutoscroll=n.startAutoscroll.bind(n),n.stopAutoscroll=n.stopAutoscroll.bind(n),n}return gr(s,h),s.prototype.getCanvasView=function(){return this.canvasView},s.prototype.onLoad=function(){this.model.init()},s.prototype.getModel=function(){return this.canvas},s.prototype.getElement=function(){return this.getCanvasView().el},s.prototype.getFrame=function(e){return this.getFrames()[e||0]},s.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},s.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},s.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},s.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},s.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},s.prototype._getLocalEl=function(e,n,i){var u=e,m=n==null?void 0:n._getFrame();return m?m[i]():u},s.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},s.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},s.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},s.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},s.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},s.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},s.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},s.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},s.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},s.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},s.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new Jr(this.canvas),this.canvasView.render().el},s.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),n=this.offset(this.getElement());return{top:e.top-n.top,left:e.left-n.left}},s.prototype.offset=function(e){return this.getCanvasView().offset(e)},s.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},s.prototype.getElementPos=function(e,n){return this.getCanvasView().getElementPos(e,n)},s.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},s.prototype.getRect=function(){var e,n=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},i=n.top,u=i===void 0?0:i,m=n.left,O=m===void 0?0:m;return At(At({},this.getCanvasView().getCanvasOffset()),{topScroll:u,leftScroll:O})},s.prototype.getTargetToElementDim=function(e,n,i){i===void 0&&(i={});var u=i||{},m=this.getCanvasView().getPosition();if(m){var O=u.elPos||this.getCanvasView().getElementPos(n),P=i.toRight||0,L=u.targetHeight||e.offsetHeight,A=u.targetWidth||e.offsetWidth,ot=u.event||null,kt=O.top-L,zt=O.left;zt+=P?O.width:0;var Gt=(zt=P?zt-A:zt)<m.left?m.left:zt,_e=kt<m.top?m.top:kt,Ee={top:_e=_e>O.top+O.height?O.top+O.height:_e,left:Gt,elementTop:O.top,elementLeft:O.left,elementWidth:O.width,elementHeight:O.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:m.top,canvasLeft:m.left,canvasWidth:m.width,canvasHeight:m.height};return ot&&this.em&&this.em.trigger(ot,Ee),Ee}},s.prototype.canvasRectOffset=function(e,n,i){var u=this;i===void 0&&(i={});var m=function(O,P,L){P===void 0&&(P=1);var A=u.em.getZoomDecimal(),ot=P?"top":"left",kt=O.ownerDocument,zt=i.offset?function(yo){var Po=yo.defaultView;return Po==null?void 0:Po.frameElement}(kt):{},Gt=zt.offsetTop,_e=Gt===void 0?0:Gt,Ee=zt.offsetLeft,Se=Ee===void 0?0:Ee,or=kt.body||{},yr=or.scrollTop,Qr=yr===void 0?0:yr,en=or.scrollLeft,En=P?Qr:en===void 0?0:en,An=P?_e:Se;return L[ot]-(En-An)*A};return{top:m(e,1,n),left:m(e,0,n)}},s.prototype.getTargetToElementFixed=function(e,n,i){i===void 0&&(i={});var u=i.pos||this.getElementPos(e,{noScroll:!0}),m=i.canvasOff||this.canvasRectOffset(e,u),O=n.offsetHeight||0,P=n.offsetWidth||0,L=u.left+u.width,A=this.getCanvasView(),ot=A.getPosition(),kt=A.getFrameOffset(e),zt=i.event,Gt=-O,_e=(0,k.isUndefined)(i.left)?u.width-P:i.left;if(_e=u.left<-_e?-u.left:_e,_e=L>ot.width?_e-(L-ot.width):_e,m.top<O){var Ee=u.height+O;Ee<kt.height?Gt+=Ee:Gt=-m.top<u.height?-m.top:u.height}var Se={top:Gt,left:_e,canvasOffsetTop:m.top,canvasOffsetLeft:m.left,elRect:u,canvasOffset:m,canvasRect:ot,targetWidth:P,targetHeight:O};return zt&&this.em.trigger(zt,Se),Se},s.prototype.getMouseRelativePos=function(e,n){n===void 0&&(n={});var i=0,u=0,m=n.subWinOffset,O=e.target.ownerDocument,P=O.defaultView||O.parentWindow,L=P.frameElement,A=m?P.pageYOffset:0,ot=m?P.pageXOffset:0;if(L){var kt=L.getBoundingClientRect();i=kt.top||0,u=kt.left||0}return{y:e.clientY+i-A,x:e.clientX+u-ot}},s.prototype.getMouseRelativeCanvas=function(e,n){var i,u=this.getZoomDecimal(),m=(i=this.getCanvasView().getPosition(n))!==null&&i!==void 0?i:{},O=m.top,P=O===void 0?0:O,L=m.left,A=L===void 0?0:L;return{y:e.clientY*u+P,x:e.clientX*u+A}},s.prototype.hasFocus=function(){return this.getDocument().hasFocus()},s.prototype.isInputFocused=function(){var e=this.getDocument(),n=this.getFrameEl(),i=we(["body"],this.config.notTextable,!0),u=n&&document.activeElement===n?e&&e.activeElement:document.activeElement;return u&&!i.some(function(m){return u.matches(m)})},s.prototype.scrollTo=function(e,n){n===void 0&&(n={});var i=(0,H.getElement)(e),u=i&&(0,H.getViewEl)(i);u&&u.scrollIntoView(n)},s.prototype.startAutoscroll=function(e){var n=e&&e.view||this.em.getCurrentFrame();n&&n.startAutoscroll()},s.prototype.stopAutoscroll=function(e){var n=e&&e.view||this.em.getCurrentFrame();n&&n.stopAutoscroll()},s.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},s.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},s.prototype.setCoords=function(e,n){return this.canvas.set({x:parseFloat(e),y:parseFloat(n)}),this},s.prototype.getCoords=function(){var e=this.canvas.attributes;return{x:e.x,y:e.y}},s.prototype.getZoomDecimal=function(){return this.getZoom()/100},s.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},s.prototype.toggleFramesEvents=function(e){this.getFramesEl().style.pointerEvents=e?"":"none"},s.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},s.prototype.addFrame=function(e,n){return e===void 0&&(e={}),n===void 0&&(n={}),this.canvas.frames.add(new It(this,At({},e)),n)},s.prototype.destroy=function(){var e,n=this;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(i){return n[i]={}})},s}(Tt);const Xr=cr,nn={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var xn="text/html",Lr=xn,Ln=function(){return Ln=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ln.apply(this,arguments)},xo="data-gjs-",Uo="parse:html";const Di=function(h,s){return s===void 0&&(s={}),{compTypes:"",modelAttrStart:xo,getPropAttribute:function(e,n){var i=e.replace(this.modelAttrStart,""),u=(n==null?void 0:n.length)||0,m=n==null?void 0:n.substring(0,1),O=n==null?void 0:n.substring(u-1),P=n==="true"||n!=="false"&&n;try{P=m=="{"&&O=="}"||m=="["&&O=="]"?JSON.parse(P):P}catch{}return{name:i,value:P}},splitPropsFromAttr:function(e){var n=this;e===void 0&&(e={});var i={},u={};return(0,k.each)(e,function(m,O){if(O.indexOf(n.modelAttrStart)===0){var P=n.getPropAttribute(O,m);i[P.name]=P.value}else u[O]=m}),{props:i,attrs:u}},parseStyle:function(e){for(var n={},i=e.split(";"),u=0,m=i.length;u<m;u++){var O=i[u].trim();if(O){var P=O.split(":");n[P[0].trim()]=P.slice(1).join(":").trim()}}return n},parseClass:function(e){for(var n=[],i=e.split(" "),u=0,m=i.length;u<m;u++){var O=i[u].trim();O&&n.push(O)}return n},parseNode:function(e,n){n===void 0&&(n={});for(var i=[],u=e.childNodes,m=0,O=u.length;m<O;m++){var P=u[m],L=P.attributes||[],A=L.length,ot=i[i.length-1],kt=P.childNodes.length,zt=this.compTypes,Gt={};if(zt){var _e="",Ee=P.getAttribute&&P.getAttribute("".concat(this.modelAttrStart,"type"));if(Ee)Gt={type:Ee};else{for(var Se=0;Se<zt.length;Se++){var or=zt[Se];if(_e=or.model.isComponent(P,n)){typeof _e!="object"&&(_e={type:or.id});break}}Gt=_e}}if(!Gt.tagName){var yr=P.tagName||"",Qr=P.namespaceURI||"";Gt.tagName=yr&&Qr==="http://www.w3.org/1999/xhtml"?yr.toLowerCase():yr}A&&(Gt.attributes={});for(var en=0;en<A;en++){var En=L[en].nodeName,An=L[en].nodeValue;if(En=="style")Gt.style=this.parseStyle(An);else if(En=="class")Gt.classes=this.parseClass(An);else{if(En=="contenteditable")continue;if(En.indexOf(this.modelAttrStart)===0){var yo=this.getPropAttribute(En,An);Gt[yo.name]=yo.value}else An===""&&P[En]===!0&&(An=!0),Gt.attributes[En]=An}}if(kt&&!Gt.components){var Po=P.childNodes[0];kt===1&&Po.nodeType===3?(!Gt.type&&(Gt.type="text"),Gt.components={type:"textnode",content:Po.nodeValue}):Gt.components=this.parseNode(P,Ln(Ln({},n),{inSvg:n.inSvg||Gt.type==="svg"}))}if(Gt.type=="textnode"){if(ot&&ot.type=="textnode"){ot.content+=Gt.content;continue}if(!n.keepEmptyTextNodes){var Ns=P.nodeValue;if(Ns!=" "&&!Ns.trim())continue}}kt||"".concat(P.outerHTML).slice(-2)!=="/>"||(Gt.void=!0);var es=Gt.components;if(!Gt.type&&es){for(var fl=1,_s=0,pl=0;pl<es.length;pl++){var yu=es[pl],Yu=yu.type;if(["text","textnode"].indexOf(Yu)<0&&s.textTags.indexOf(yu.tagName)<0){fl=0;break}Yu=="textnode"&&(_s=1)}fl&&_s&&(Gt.type="text")}(Gt.tagName||Gt.type=="textnode")&&i.push(Gt)}return i},parse:function(e,n,i){var u;i===void 0&&(i={});var m=(h==null?void 0:h.get("Config"))||{},O={},P=Ln(Ln({},s),i),L=Ln(Ln(Ln({},s.optionsHtml),{htmlType:((u=s.optionsHtml)===null||u===void 0?void 0:u.htmlType)||s.htmlType}),i),A=(0,k.isFunction)(P.parserHtml)?P.parserHtml(e,L):function(or,yr){yr===void 0&&(yr={});var Qr,en=new DOMParser,En=yr.htmlType||Lr,An=En===xn,yo=An?or:"<div>".concat(or,"</div>"),Po=en.parseFromString(yo,En);if(An){var Ns=Po.head,es=Po.body,fl=Ns.querySelectorAll("script");(0,k.each)(fl,function(pl){return es.appendChild(pl)});var _s=[];(0,k.each)(Ns.children,function(pl){return _s.push(pl)}),(0,k.each)(_s,function(pl,yu){return es.insertBefore(pl,es.children[yu])}),Qr=es}else Qr=Po.firstChild;return Qr}(e,L),ot=A.querySelectorAll("script"),kt=ot.length;if(!((0,k.isUndefined)(m.allowScripts)?L.allowScripts:m.allowScripts))for(;kt--;)ot[kt].parentNode.removeChild(ot[kt]);if(L.allowUnsafeAttr||this.__clearUnsafeAttr(A),n){for(var zt=A.querySelectorAll("style"),Gt=zt.length,_e="";Gt--;)_e=zt[Gt].innerHTML+_e,zt[Gt].parentNode.removeChild(zt[Gt]);_e&&(O.css=n.parse(_e))}h&&h.trigger("".concat(Uo,":root"),{input:e,root:A});var Ee=this.parseNode(A,P),Se=Ee.length!==1||P.returnArray?Ee:Ee[0];return O.html=Se,h&&h.trigger(Uo,{input:e,output:O}),O},__clearUnsafeAttr:function(e){var n=this,i=e.attributes||[],u=e.childNodes||[],m=[];(0,k.each)(i,function(O){var P=O.nodeName||"";P.indexOf("on")===0&&m.push(P)}),m.map(function(O){return e.removeAttribute(O)}),(0,k.each)(u,function(O){return n.__clearUnsafeAttr(O)})}}};var Vs=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jo=function(){return jo=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},jo.apply(this,arguments)},ma=Di();const Ll=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Vs(s,h),s.prototype.parseStyle=function(e){return ma.parseStyle(e)},s.prototype.extendStyle=function(e){return jo(jo({},this.getStyle()),e)},s.prototype.getStyle=function(e){var n=this.get("style")||{},i=jo({},n);return e&&(0,k.isString)(e)?i[e]:i},s.prototype.setStyle=function(e,n){var i=this;e===void 0&&(e={}),n===void 0&&(n={}),(0,k.isString)(e)&&(e=this.parseStyle(e));var u=this.getStyle(n),m=jo({},e),O=jo({},m);(0,k.keys)(O).forEach(function(L){O[L]===""&&delete O[L]}),this.set("style",O,n);var P=(0,H.shallowDiff)(u,m);return delete P.__p,(0,k.keys)(P).forEach(function(L){var A=i.em;n.noEvent||(i.trigger("change:style:".concat(L)),A&&(A.trigger("styleable:change",i,L,n),A.trigger("styleable:change:".concat(L),i,L,n)))}),m},s.prototype.addStyle=function(e,n,i){var u;n===void 0&&(n=""),i===void 0&&(i={}),typeof e=="string"?((u={})[e]=n,e=u):i=n||{},e=this.extendStyle(e),this.setStyle(e,i)},s.prototype.removeStyle=function(e){var n=this.getStyle();delete n[e],this.setStyle(n)},s.prototype.styleToString=function(e){e===void 0&&(e={});var n=[],i=this.getStyle(e);for(var u in i){var m=e.important,O=(0,k.isArray)(m)?m.indexOf(u)>=0:m,P="".concat(i[u]).concat(O?" !important":""),L=u.substr(0,2)=="__";P&&!L&&n.push("".concat(u,":").concat(P,";"))}return n.join("")},s.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},s.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},s}(N.Hn);var is=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zo=function(){return zo=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},zo.apply(this,arguments)},Rs=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Go=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},ia=function(h,s){return s===void 0&&(s=[]),h?(((0,k.isArray)(h)||(0,k.isFunction)(h.map)?h:[h]).map(function(e){s.push(e.getId()),ia(e.components().models,s)}),s):[]},ti=function(h,s,e){s===void 0&&(s={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var n=e.visitedCmps;return((0,k.isArray)(h)?h:[h]).map(function(i){var u=i.attributes,m=u===void 0?{}:u,O=i.components,P=i.tagName,L=m.id,A=(m.draggable,Rs(m,["id","draggable"])),ot=i;if(L&&(n[L]?(n[L].push(ot),L=ii.getNewId(s),ot.attributes.id=L):(n[L]=[],s[L]&&(ot=s[L],P&&ot.set({tagName:P},zo(zo({},e),{silent:!0})),(0,k.keys)(A).length&&ot.addAttributes(A,zo({},e))))),O){var kt=ti(O,s);if((0,k.isFunction)(ot.components)){var zt=ot.components();zt.length>0&&zt.reset(kt,e)}else ot.components=kt}return ot})},ui=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return is(s,h),s.prototype.initialize=function(e,n){n===void 0&&(n={}),this.opt=n,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var i=n.em,u=n.config;this.config=u,this.em=i,this.domc=n.domc||(i==null?void 0:i.Components)},s.prototype.resetChildren=function(e,n){var i=this;n===void 0&&(n={});var u=this,m=n.previousModels||[],O=m.filter(function(A){return!e.get(A.cid)}),P=ia(e),L=ia(m).filter(function(A){return P.indexOf(A)>=0});n.keepIds=(n.keepIds||[]).concat(L),O.forEach(function(A){return i.removeChildren(A,u,n)}),e.each(function(A){return i.onAdd(A)})},s.prototype.resetFromString=function(e,n){var i,u;e===void 0&&(e=""),n===void 0&&(n={}),n.keepIds=ia(this);var m=this,O=m.domc,P=m.em,L=m.parent,A=P==null?void 0:P.Css,ot=(O==null?void 0:O.allById())||{},kt=this.parseString(e,n),zt=ti(kt,ot,n),Gt=n.visitedCmps,_e=Gt===void 0?{}:Gt;Object.keys(_e).forEach(function(Ee){var Se=_e[Ee];if(Se.length){var or=(A==null?void 0:A.getRules("#".concat(Ee)))||[];or.length&&Se.forEach(function(yr){or.forEach(function(Qr){var en=Qr.clone();en.set("selectors",["#".concat(yr.attributes.id)]),A.getAll().add(en)})})}}),this.reset(zt,n),P==null||P.trigger("component:content",L,n,e),(u=(i=L).__checkInnerChilds)===null||u===void 0||u.call(i)},s.prototype.removeChildren=function(e,n,i){var u=this;if(i===void 0&&(i={}),e){var m=this.domc,O=this.em,P=i.temporary||i.fromUndo;if(e.prevColl=this,!P){var L=e.getId(),A=O.Selectors.getAll(),ot=O.Css.getAll(),kt=(i.keepIds||[]).indexOf(L)<0;delete(m?m.allById():{})[L];var zt=kt?ot.remove(ot.filter(function(_e){return _e.getSelectors().getFullString()==="#".concat(L)}),i):[];A.remove(zt.map(function(_e){return _e.getSelectors().at(0)})),e.opt.temporary||(O.Commands.run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),O.trigger("component:remove",e)),e.components().forEach(function(_e){return u.removeChildren(_e,n,i)})}var Gt=e.components();O.stopListening(Gt),O.stopListening(e),O.stopListening(e.get("classes")),e.__postRemove()}},s.prototype.model=function(e,n){var i,u=n.collection.opt,m=u.em,O=m.Components.componentTypes;n.em=m,n.config=u.config,n.componentTypes=O,n.domc=u.domc;for(var P=0;P<O.length;P++)if(O[P].id==e.type){i=O[P].model;break}return i||(i=O[O.length-1].model,m&&e.type&&m.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:n})),new i(e,n)},s.prototype.parseString=function(e,n){n===void 0&&(n={});var i=this.em,u=this.domc,m=i.Css,O=i.Parser.parseHtml(e);if(ii.checkId(O.html,O.css,u.componentsById,n),O.css&&m&&!n.temporary){n.at;var P=Rs(n,["at"]);m.addCollection(O.css,zo(zo({},P),{extend:1}))}return O.html},s.prototype.add=function(e,n){var i=this;n===void 0&&(n={}),n.keepIds=Go(Go([],n.keepIds||[],!0),ia(n.previousModels),!0),(0,k.isString)(e)?e=this.parseString(e,n):(0,k.isArray)(e)&&(e=Go([],e,!0)).forEach(function(O,P){if((0,k.isString)(O)){var L=i.parseString(O,n);e[P]=(0,k.isArray)(L)&&!L.length?null:L}});var u=(0,k.isArray)(e);e=(u?e:[e]).filter(Boolean).map(function(O){return i.processDef(O)}),e=u?(0,k.flatten)(e,1):e[0];var m=N.FE.prototype.add.apply(this,[e,n]);return this.__firstAdd=m,m},s.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var n=this.em,i=this.config,u=(i===void 0?{}:i).processor,m=e;if(u){var O=u(m=zo({},m));O&&((0,k.each)(m,function(zt,Gt){return delete m[Gt]}),(0,k.extend)(m,O))}if(m.$$typeof&&typeof m.props=="object"){(m=zo({},m)).props=zo({},m.props);var P=n.Components,L=n.Parser.parserHtml;(0,k.each)(m,function(zt,Gt){(0,k.includes)(["props","type"],Gt)||delete m[Gt]});var A=m.props,ot=A.children;delete A.children,delete m.props;var kt=L.splitPropsFromAttr(A);m.attributes=kt.attrs,ot&&(m.components=ot),m.type?P.getType(m.type)||(m.tagName=m.type,delete m.type):m.type="textnode",(0,k.extend)(m,kt.props)}return m},s.prototype.onAdd=function(e,n,i){i===void 0&&(i={});var u=this.domc,m=this.em,O=e.getStyle(),P=m&&m.getConfig().avoidInlineStyle;if(u&&u.Component.ensureInList(e),!(0,k.isEmpty)(O)&&!P&&m&&m.get&&m.getConfig().forceClass&&!i.temporary){var L=e.cid;m.Css.setClassRule(L,O),e.setStyle({}),e.addClass(L)}e.__postAdd({recursive:!0})},s}(N.FE);const Ii=ui;var Hs=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),as=1,ss=2,ka=function(h){function s(e,n){n===void 0&&(n={});var i=h.call(this,e,n)||this,u=n.config,m=u===void 0?{}:u,O=i.get("name"),P=i.get("label");O?P||i.set("label",O):i.set("name",P);var L=i.get("name"),A=m.escapeName,ot=A?A(L):s.escapeName(L);return i.set("name",ot),i.em=n.em,i}return Hs(s,h),s.prototype.defaults=function(){return{name:"",label:"",type:as,active:!0,private:!1,protected:!1,_undo:!0}},s.prototype.isId=function(){return this.get("type")===ss},s.prototype.isClass=function(){return this.get("type")===as},s.prototype.getFullName=function(e){e===void 0&&(e={});var n=e.escape,i=this.get("name"),u="";switch(this.get("type")){case as:u=".";break;case ss:u="#"}return u+(n?n(i):i)},s.prototype.toString=function(){return this.getFullName()},s.prototype.getLabel=function(){return this.get("label")},s.prototype.setLabel=function(e){return this.set("label",e)},s.prototype.getActive=function(){return this.get("active")},s.prototype.setActive=function(e){return this.set("active",e)},s.prototype.toJSON=function(e){e===void 0&&(e={});var n=this.em,i=N.Hn.prototype.toJSON.call(this,[e]),u=(0,k.result)(this,"defaults");if(n&&n.getConfig().avoidDefaults){(0,k.forEach)(u,function(O,P){i[P]===O&&delete i[P]}),i.label===i.name&&delete i.label;var m=(0,k.keys)(i).length;m===1&&i.name&&(i=i.name),m===2&&i.name&&i.type&&(i=this.getFullName())}return i},s.escapeName=function(e){return"".concat(e).trim().replace(/([^a-z0-9\w-\:@]+)/gi,"-")},s.TYPE_CLASS=as,s.TYPE_ID=ss,s}(N.Hn);const vi=ka;ka.prototype.idAttribute="name";var Bs=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ya=function(h,s){return h.reduce(function(e,n,i){return e.concat(ya(h.slice(i+1),"".concat(s).concat(n)))},[s])},ba=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Bs(s,h),s.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||vi.TYPE_CLASS)},s.prototype.getStyleable=function(){return(0,k.filter)(this.models,function(e){return e.get("active")&&!e.get("private")})},s.prototype.getValid=function(e){var n=(e===void 0?{}:e).noDisabled;return(0,k.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return n?i.get("active"):1})},s.prototype.getFullString=function(e,n){n===void 0&&(n={});var i=[];return(e||this).forEach(function(u){return i.push(u.getFullName(n))}),n.sort&&i.sort(),i.join("").trim()},s.prototype.getFullName=function(e){e===void 0&&(e={});var n=e.combination,i=e.array,u=[],m=this.map(function(O){return O.getFullName(e)}).sort();return n?m.forEach(function(O,P){u=u.concat(ya(m.slice(P+1),O))}):u=m,i?u:n?u.join(","):u.join("")},s}(N.FE);const Gi=ba;ba.prototype.model=vi;var ls=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ua=function(){return Ua=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ua.apply(this,arguments)};const Si=function(h){function s(e,n){var i=h.call(this,e)||this,u=i.attributes,m=u.target,O=u.name;return!i.get("id")&&i.set("id",O),m&&i.setTarget(m),i.em=n,i}return ls(s,h),s.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",changeProp:!1,options:[]}},s.prototype.setTarget=function(e){if(e){var n=this.attributes,i=n.name,u=n.changeProp,m=n.value;this.target=e,this.unset("target");var O=u?"change:".concat(i):"change:attributes:".concat(i);this.listenTo(e,O,this.targetUpdated);var P=m||this.getValue();!(0,k.isUndefined)(P)&&this.set({value:P},{silent:!0})}},s.prototype.getId=function(){return this.get("id")},s.prototype.getType=function(){return this.get("type")},s.prototype.getName=function(){return this.get("name")},s.prototype.getLabel=function(e){var n;e===void 0&&(e={});var i=e.locale,u=i===void 0||i,m=this.getId(),O=this.get("label")||this.getName();return u&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.labels.".concat(m)))||O},s.prototype.getValue=function(){return this.getTargetValue()},s.prototype.setValue=function(e,n){var i;n===void 0&&(n={});var u={},m=this.get("setValue");m?m({value:e,editor:(i=this.em)===null||i===void 0?void 0:i.getEditor(),trait:this,component:this.target,partial:!!n.partial}):(n.partial&&(u.avoidStore=!0),this.setTargetValue(e,u),n.partial===!1&&(this.setTargetValue(""),this.setTargetValue(e)))},s.prototype.getDefault=function(){return this.get("default")},s.prototype.getOptions=function(){return this.get("options")||[]},s.prototype.getOption=function(e){var n=this,i=(0,H.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(u){return n.getOptionId(u)===i})[0]},s.prototype.getOptionId=function(e){return e.id||e.value},s.prototype.getOptionLabel=function(e,n){var i;n===void 0&&(n={});var u=n.locale,m=u===void 0||u,O=(0,k.isString)(e)?this.getOption(e):e,P=this.getOptionId(O),L=O.label||O.name||P,A=this.getName();return m&&((i=this.em)===null||i===void 0?void 0:i.t("traitManager.traits.options.".concat(A,".").concat(P)))||L},s.prototype.props=function(){return this.attributes},s.prototype.targetUpdated=function(){var e,n=this.getTargetValue();this.set({value:n},{fromTarget:1}),(e=this.em)===null||e===void 0||e.trigger("trait:update",{trait:this,component:this.target})},s.prototype.getTargetValue=function(){var e,n,i=this.getName(),u=this.target,m=this.get("getValue");return n=m?m({editor:(e=this.em)===null||e===void 0?void 0:e.getEditor(),trait:this,component:u}):this.get("changeProp")?u.get(i):u.getAttributes()[i],(0,k.isUndefined)(n)?"":n},s.prototype.setTargetValue=function(e,n){var i;n===void 0&&(n={});var u=this.target,m=this.attributes,O=this.getName();if(!(0,k.isUndefined)(e)){var P=e;if(e==="false"?P=!1:e==="true"&&(P=!0),this.getType()==="checkbox"){var L=m.valueTrue,A=m.valueFalse;P&&!(0,k.isUndefined)(L)&&(P=L),P||(0,k.isUndefined)(A)||(P=A)}this.get("changeProp")?u.set(O,P,n):u.addAttributes(((i={})[O]=P,i),n)}},s.prototype.setValueFromInput=function(e,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var u={value:e};this.set(u,Ua(Ua({},i),{avoidStore:1})),n&&(this.set("value","",i),this.set(u,i))},s.prototype.getInitValue=function(){var e,n=this.target,i=this.getName();if(n){var u=n.get("attributes");e=this.get("changeProp")?n.get(i):u[i]}return e||this.get("value")||this.get("default")},s}(N.Hn);var Us=function(){function h(s){s===void 0&&(s={}),this.config=s}return h.prototype.build=function(s,e){return(0,k.isString)(s)?this.buildFromString(s,e):new Si(s,e)},h.prototype.buildFromString=function(s,e){var n={name:s,type:"text"};return s==="target"&&(n.type="select",n.default=!1,n.options=this.config.optionsTarget),new Si(n,e)},h}();const qi=Us;var Do=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Oi=function(h){function s(e,n){var i,u=this;(u=h.call(this,e)||this).em=n.em,u.listenTo(u,"add",u.handleAdd),u.listenTo(u,"reset",u.handleReset);var m=(i=u.em)===null||i===void 0?void 0:i.Traits,O=m==null?void 0:m.getConfig();return u.tf=new qi(O),u}return Do(s,h),s.prototype.handleReset=function(e,n){var i=(n===void 0?{}:n).previousModels;(i===void 0?[]:i).forEach(function(u){return u.trigger("remove")})},s.prototype.handleAdd=function(e){e.em=this.em;var n=this.target;n&&(e.target=n)},s.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(n){return n.setTarget(e)})},s.prototype.add=function(e,n){if(e!=null){var i=this.target,u=this.em;if((0,k.isArray)(e)){for(var m=[],O=0,P=e.length;O<P;O++){var L=e[O];m[O]=L instanceof Si?L:this.tf.build(L,u),m[O].setTarget(i)}return h.prototype.add.call(this,m,n)}var A=e instanceof Si?e:this.tf.build(e,u);return A.setTarget(i),h.prototype.add.call(this,A,n)}},s}(N.FE);var Aa=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cn=function(){return Cn=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Cn.apply(this,arguments)},Io=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Ni=function(h){return h.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},mi=function(h){return!!(h!=null&&h.getConfig().avoidInlineStyle)},Mo="component:drag",Pn="__symbols",vn="__symbol",aa="__symbol_ovrd",No="component:update",ta="".concat(No,"-inside"),Cs=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Aa(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){var e;return(e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null})[vn]=0,e[Pn]=0,e[aa]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),s.prototype.init=function(){},s.prototype.updated=function(e,n,i){},s.prototype.removed=function(){},s.prototype.initialize=function(e,n){var i=this;e===void 0&&(e={}),n===void 0&&(n={}),(0,k.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var u=n.em,m=this.parent(),O=m==null?void 0:m.attributes,P=this.get("propagate");if(P&&this.set("propagate",(0,k.isArray)(P)?P:[P]),O&&O.propagate&&!P){var L={},A=O.propagate;A.forEach(function(_e){return L[_e]=m.get(_e)}),L.propagate=A,this.set(Cn(Cn({},L),e))}if(n&&n.config&&n.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),n.em=u,this.opt=n,this.em=u,this.frame=n.frame,this.config=n.config||{},this.set("attributes",Cn(Cn({},(0,k.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=s.createId(this,n),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(ta,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(_e){var Ee="add remove ".concat(_e!=="components"?"change":"");i.listenTo(i.get(_e),Ee.trim(),function(){for(var Se=[],or=0;or<arguments.length;or++)Se[or]=arguments[or];return i.emitUpdate.apply(i,Io([_e],Se,!1))})}),!n.temporary){var ot=u&&u.Css,kt=this.attributes,zt=kt.styles,Gt=kt.type;zt&&ot&&ot.addCollection(zt,{avoidUpdateStyle:!0},{group:"cmp:".concat(Gt)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),u&&u.trigger("component:create",this)}},s.prototype.__postAdd=function(e){e===void 0&&(e={});var n=this.em,i=n==null?void 0:n.UndoManager,u=this.components();i&&!this.__hasUm&&(i.add(u),i.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&u.map(function(m){return m.__postAdd(e)})},s.prototype.__postRemove=function(){var e=this.em,n=e==null?void 0:e.get("UndoManager");n&&(n.remove(this.components()),n.remove(this.getSelectors()),delete this.__hasUm)},s.prototype.__onChange=function(e,n){var i=this,u=this.changedAttributes()||{};(0,k.keys)(u).forEach(function(m){return i.emitUpdate(m)}),["status","open","toolbar","traits"].forEach(function(m){return delete u[m]}),(0,H.isEmptyObj)(u)||(this.__changesUp(n),this.__propSelfToParent({component:this,changed:u,options:n}))},s.prototype.__changesUp=function(e){var n=this.em;[this.frame,n].forEach(function(i){return i&&i.changesUp(e)})},s.prototype.__propSelfToParent=function(e){this.trigger(No,e),this.__propToParent(e)},s.prototype.__propToParent=function(e){var n=this.parent();n&&n.trigger(ta,e)},s.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},s.prototype.is=function(e){return this.get("type")==e},s.prototype.props=function(){return this.attributes},s.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},s.prototype.setDragMode=function(e){return this.set("dmode",e)},s.prototype.getDragMode=function(){return this.get("dmode")||""},s.prototype.find=function(e){var n,i=[],u=(n=this.view)===null||n===void 0?void 0:n.$el.find(e);return u==null||u.each(function(m){var O=u.eq(m).data("model");O&&i.push(O)}),i},s.prototype.findType=function(e){var n=[],i=function(u){return u.forEach(function(m){m.is(e)&&n.push(m),i(m.components())})};return i(this.components()),n},s.prototype.closest=function(e){var n,i=(n=this.view)===null||n===void 0?void 0:n.$el.closest(e);return i!=null&&i.length?i.data("model"):void 0},s.prototype.closestType=function(e){for(var n=this.parent();n&&!n.is(e);)n=n.parent();return n},s.prototype.contains=function(e){var n=!1;if(!e)return n;var i=function(u){!n&&u.forEach(function(m){m===e&&(n=!0),!n&&i(m.components())})};return i(this.components()),n},s.prototype.tagUpdated=function(){this.trigger("rerender")},s.prototype.replaceWith=function(e){var n=this.collection,i=n.indexOf(this);return n.remove(this),n.add(e,{at:i})},s.prototype.attrUpdated=function(e,n,i){var u=this;i===void 0&&(i={});var m=this.get("attributes"),O=m.class;O&&this.setClass(O),delete m.class;var P=m.style;P&&this.setStyle(P),delete m.style;var L=Cn({},this.previous("attributes")),A=(0,H.shallowDiff)(L,this.get("attributes"));(0,k.keys)(A).forEach(function(ot){return u.trigger("change:attributes:".concat(ot),u,A[ot],i)})},s.prototype.setAttributes=function(e,n){return n===void 0&&(n={}),this.set("attributes",Cn({},e),n),this},s.prototype.addAttributes=function(e,n){return n===void 0&&(n={}),this.setAttributes(Cn(Cn({},this.getAttributes({noClass:!0})),e),n)},s.prototype.removeAttributes=function(e,n){e===void 0&&(e=[]),n===void 0&&(n={});var i=Array.isArray(e)?e:[e],u=this.getAttributes();return i.map(function(m){return delete u[m]}),this.setAttributes(u,n)},s.prototype.getStyle=function(e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=this.em,u=(0,k.isString)(e)?e:"",m=u?n:e;if(mi(i)&&!m.inline){var O=i.get("state"),P=i.Css.getIdRule(this.getId(),Cn({state:O},m));if(this.rule=P,P)return P.getStyle(u)}return h.prototype.getStyle.call(this,u)},s.prototype.setStyle=function(e,n){var i=this;e===void 0&&(e={}),n===void 0&&(n={});var u=this.opt,m=this.em;if(!mi(m)||u.temporary||n.inline)e=h.prototype.setStyle.apply(this,arguments);else{var O=this.get("style")||{};e=(0,k.isString)(e)?this.parseStyle(e):e,e=Cn(Cn({},e),O);var P=m.get("state"),L=m.Css,A=this.getStyle(n);this.rule=L.setIdRule(this.getId(),e,Cn(Cn({},n),{state:P}));var ot=(0,H.shallowDiff)(A,e);this.set("style","",{silent:!0}),(0,k.keys)(ot).forEach(function(kt){return i.trigger("change:style:".concat(kt))})}return e},s.prototype.getAttributes=function(e){e===void 0&&(e={});var n=this.em,i=[],u=Cn({},this.get("attributes")),m=n==null?void 0:n.Selectors,O=this.getId();if(e.noClass?delete u.class:(this.classes.forEach(function(A){return i.push((0,k.isString)(A)?A:A.get("name"))}),i.length&&(u.class=i.join(" "))),!e.noStyle){var P=this.get("style");(0,H.isObject)(P)&&!(0,H.isEmptyObj)(P)&&(u.style=this.styleToString({inline:1}))}if(!(0,k.has)(u,"id")){var L=!1;!mi(n)&&(0,k.isEmpty)(this.getStyle())||(L=!!(m!=null&&m.get(O,m.Selector.TYPE_ID))),(this.__getSymbol()||this.__getSymbols())&&(L=!0),L&&(u.id=O)}return u},s.prototype.addClass=function(e){var n=this.em.Selectors.addClass(e);return this.classes.add(n)},s.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},s.prototype.removeClass=function(e){var n=[];e=(0,k.isArray)(e)?e:[e];var i=this.classes,u=vi.TYPE_CLASS;return e.forEach(function(m){m.split(" ").forEach(function(O){var P=i.where({name:O,type:u})[0];P&&n.push(i.remove(P))})}),n},s.prototype.getClasses=function(){var e=this.getAttributes().class;return e?e.split(" "):[]},s.prototype.__logSymbol=function(e,n,i){i===void 0&&(i={});var u=this.__getSymbol(),m=this.__getSymbols();(u||m)&&this.em.log(e,{model:this,toUp:n,context:"symbols",opts:i})},s.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},s.prototype.__isSymbol=function(){return(0,k.isArray)(this.get(Pn))},s.prototype.__isSymbolOrInst=function(){return!(!this.__isSymbol()&&!this.get(vn))},s.prototype.__isSymbolTop=function(){var e=this.parent();return this.__isSymbolOrInst()&&(!e||e&&!e.__isSymbol()&&!e.__getSymbol())},s.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var e=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),n=this.__getSymbTop();return(n.__isSymbol()?n:n.__getSymbol())!==e},s.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},s.prototype.__getSymbol=function(){var e=this.get(vn);if(e&&(0,k.isString)(e)){var n=this.__getAllById()[e];n?(e=n,this.set(vn,n)):e=0}return e},s.prototype.__getSymbols=function(){var e=this,n=this.get(Pn);return n&&(0,k.isArray)(n)&&(n.forEach(function(i,u){i&&(0,k.isString)(i)&&(n[u]=e.__getAllById()[i])}),n=n.filter(function(i){return i&&!(0,k.isString)(i)})),n},s.prototype.__isSymbOvrd=function(e){e===void 0&&(e="");var n=this.get(aa),i=e.split(":")[0],u=e!==i?[e,i]:[e];return n===!0||(0,k.isArray)(n)&&u.some(function(m){return n.indexOf(m)>=0})},s.prototype.__getSymbToUp=function(e){var n=this;e===void 0&&(e={});var i=[],u=e.changed;if(e.fromInstance||e.noPropagate||e.fromUndo||u&&this.__isSymbOvrd(u))return i;var m=this.__getSymbols()||[],O=this.__getSymbol();return(O?Io([O],O.__getSymbols()||[],!0):m).filter(function(P){return P!==n}).filter(function(P){return!(u&&P.__isSymbOvrd(u))})},s.prototype.__getSymbTop=function(e){for(var n=this,i=this.parent(e);i&&(i.__isSymbol()||i.__getSymbol());)n=i,i=i.parent(e);return n},s.prototype.__upSymbProps=function(e,n){var i=this;n===void 0&&(n={});var u=this.changedAttributes()||{},m=u.attributes||{};if(delete u.status,delete u.open,delete u[Pn],delete u[vn],delete u[aa],delete u.attributes,delete m.id,(0,H.isEmptyObj)(m)||(u.attributes=m),!(0,H.isEmptyObj)(u)){var O=this.__getSymbToUp(n);(0,k.keys)(u).map(function(P){i.__isSymbOvrd(P)&&delete u[P]}),this.__logSymbol("props",O,{opts:n,changed:u}),O.forEach(function(P){var L=Cn({},u);(0,k.keys)(L).map(function(A){P.__isSymbOvrd(A)&&delete L[A]}),P.set(L,Cn({fromInstance:i},n))})}},s.prototype.__upSymbCls=function(e,n,i){var u=this;i===void 0&&(i={});var m=this.__getSymbToUp(i);this.__logSymbol("classes",m,{opts:i}),m.forEach(function(O){O.set("classes",u.get("classes"),{fromInstance:u})}),this.__changesUp(i)},s.prototype.__upSymbComps=function(e,n,i){var u=this,m=i||n||{},O={fromInstance:m.fromInstance,fromUndo:m.fromUndo},P=e.opt.temporary;if(i)if(i.add){var L=[],A=!!this.__getSymbols();if((yr=this.__getSymbToUp(Cn(Cn({},O),{changed:"components:add"}))).length){var ot=e.__getSymbol();L=(ot?ot.__getSymbols():e.__getSymbols())||[],(L=Io([],L,!0)).push(ot||e)}!P&&this.__logSymbol("add",yr,{opts:i,addedInstances:L.map(function(en){return en.cid}),added:e.cid}),yr.forEach(function(en){var En=en.__getSymbTop(),An=L.filter(function(yo){var Po=yo.__getSymbTop({prev:1});return En&&Po&&Po===En})[0]||e.clone({symbol:!0,symbolInv:A});en.append(An,Cn({fromInstance:u},i))})}else{var kt=e.__getSymbol();if(kt&&!i.temporary&&kt.set(Pn,kt.__getSymbols().filter(function(en){return en!==e})),!e.__isSymbolTop()){var zt="components:remove",Gt=i.index,_e=e.parent(),Ee=Cn({fromInstance:e},i),Se=e.__isSymbolNested(),or=function(en){var En=en.parent();En&&!En.__isSymbOvrd(zt)&&en.remove(Ee)};yr=_e!=null&&_e.__isSymbOvrd(zt)?[]:e.__getSymbToUp(O),Se&&(yr=_e==null?void 0:_e.__getSymbToUp(Cn(Cn({},O),{changed:zt})),or=function(en){var En=en.components().at(Gt);En&&En.remove(Cn({fromInstance:_e},Ee))}),!P&&this.__logSymbol("remove",yr,{opts:i,removed:e.cid,isSymbNested:Se}),yr.forEach(or)}}else{var yr=this.__getSymbToUp(Cn(Cn({},O),{changed:"components:reset"})),Qr=e.models;this.__logSymbol("reset",yr,{components:Qr}),yr.forEach(function(en){var En=Qr.map(function(An){return An.clone({symbol:!0})});en.components().reset(En,Cn({fromInstance:u},n))})}this.__changesUp(m)},s.prototype.initClasses=function(e,n,i){i===void 0&&(i={});var u=this.get("attributes").class||[],m=[this,"change:classes",this.initClasses],O=this.get("classes")||u,P=(0,k.isString)(O)?O.split(" "):O;this.stopListening.apply(this,m);var L=this.normalizeClasses(P),A=new Gi([]);return this.set("classes",A,i),A.add(L),A.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,m),this},s.prototype.initComponents=function(){var e=[this,"change:components",this.initComponents];this.stopListening.apply(this,e);var n=new Ii([],this.opt);n.parent=this;var i=this.get("components"),u=!this.opt.avoidChildren;return this.set("components",n),u&&i&&n.add((0,k.isFunction)(i)?i(this):i,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},s.prototype.initTraits=function(e){var n=this.em,i="change:traits";this.off(i,this.initTraits),this.__loadTraits();var u=Cn({},this.get("attributes")),m=this.traits;return m.each(function(O){if(!O.get("changeProp")){var P=O.get("name"),L=O.getInitValue();P&&L&&(u[P]=L)}}),m.length&&this.set("attributes",u),this.on(i,this.initTraits),e&&n&&n.trigger("component:toggled"),this},s.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",n=["change:".concat(e),this.initScriptProps];this.off.apply(this,n);var i=this.previous(e)||[],u=this.get(e)||[],m=i.map(function(P){return"change:".concat(P)}).join(" "),O=u.map(function(P){return"change:".concat(P)}).join(" ");m&&this.off(m,this.__scriptPropsChange),O&&this.on(O,this.__scriptPropsChange),this.on.apply(this,n)}},s.prototype.__scriptPropsChange=function(e,n,i){i===void 0&&(i={}),i.avoidStore||this.trigger("rerender")},s.prototype.append=function(e,n){n===void 0&&(n={});var i=((0,k.isArray)(e)?Io([],e,!0):[e]).map(function(m){return(0,k.isString)(m)||m.collection&&m.collection.remove(m,{temporary:!0}),m}),u=this.components().add(i,n);return(0,k.isArray)(u)?u:[u]},s.prototype.components=function(e,n){n===void 0&&(n={});var i=this.get("components");return(0,k.isUndefined)(e)?i:(i.reset(void 0,n),e?this.append(e,n):[])},s.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},s.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},s.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},s.prototype.parent=function(e){e===void 0&&(e={});var n=this.collection||e.prev&&this.prevColl;return n?n.parent:void 0},s.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},s.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},s.prototype.initToolbar=function(){var e=this.em,n=this,i=e&&e.getConfig().stylePrefix||"";if(!n.get("toolbar")&&e){var u=[];n.collection&&u.push({label:e.getIcon("arrowUp"),command:function(m){return m.runCommand("core:component-exit",{force:1})}}),n.get("draggable")&&u.push({attributes:{class:"".concat(i,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),n.get("copyable")&&u.push({label:e.getIcon("copy"),command:"tlb-clone"}),n.get("removable")&&u.push({label:e.getIcon("delete"),command:"tlb-delete"}),n.set("toolbar",u)}},s.prototype.__loadTraits=function(e,n){n===void 0&&(n={});var i=e||this.traits;if(!(i instanceof Oi)){i=(0,k.isFunction)(i)?i(this):i;var u=new Oi([],this.opt);u.setTarget(this),i.length&&(i.forEach(function(m){return m.attributes&&delete m.attributes.value}),u.add(i)),this.set({traits:u},n)}return this},s.prototype.getTraits=function(){return this.__loadTraits(),Io([],this.traits.models,!0)},s.prototype.setTraits=function(e){var n=(0,k.isArray)(e)?e:[e];return this.set({traits:n}),this.getTraits()},s.prototype.getTrait=function(e){return this.getTraits().filter(function(n){return n.get("id")===e||n.get("name")===e})[0]||null},s.prototype.updateTrait=function(e,n){var i,u=this.getTrait(e);return u&&u.set(n),(i=this.em)===null||i===void 0||i.trigger("component:toggled"),this},s.prototype.getTraitIndex=function(e){var n=this.getTrait(e);return n?this.traits.indexOf(n):-1},s.prototype.removeTrait=function(e){var n,i=this,u=((0,k.isArray)(e)?e:[e]).map(function(P){return i.getTrait(P)}),m=this.traits,O=u.length?m.remove(u):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,k.isArray)(O)?O:[O]},s.prototype.addTrait=function(e,n){var i;n===void 0&&(n={}),this.__loadTraits();var u=this.traits.add(e,n);return(i=this.em)===null||i===void 0||i.trigger("component:toggled"),(0,k.isArray)(u)?u:[u]},s.prototype.normalizeClasses=function(e){var n=[],i=this.em,u=i==null?void 0:i.Selectors;return u?e.models?Io([],e.models,!0):(e.forEach(function(m){return n.push(u.add(m))}),n):[]},s.prototype.clone=function(e){e===void 0&&(e={});var n=this.em,i=Cn({},this.attributes),u=Cn({},this.opt),m=this.getId(),O=n==null?void 0:n.Css;i.attributes=Cn({},i.attributes),delete i.attributes.id,i.components=[],i.classes=[],i.traits=[],this.__isSymbolTop()&&(e.symbol=!0),this.get("components").each(function(zt,Gt){i.components[Gt]=zt.clone(Cn(Cn({},e),{_inner:1}))}),this.get("traits").each(function(zt,Gt){i.traits[Gt]=zt.clone()}),this.get("classes").each(function(zt,Gt){i.classes[Gt]=zt.get("name")}),i.status="",u.collection=null;var P=new this.constructor(i,u),L="#".concat(P.getId());(O?O.getRules("#".concat(m)):[]).forEach(function(zt){var Gt=zt.clone();Gt.set("selectors",[L]),O.getAll().add(Gt)}),P.set(Pn,0);var A=this.__getSymbol(),ot=this.__getSymbols();e.symbol||!A&&!ot?A?(A.set(Pn,Io(Io([],A.__getSymbols(),!0),[P],!1)),P.__initSymb()):e.symbol&&(this.__isSymbol()?(this.set(Pn,Io(Io([],ot,!0),[P],!1)),P.set(vn,this),P.__initSymb()):e.symbolInv?(this.set(Pn,[P]),P.set(vn,this),[this,P].map(function(zt){return zt.__initSymb()})):(P.set(Pn,[this]),[this,P].map(function(zt){return zt.__initSymb()}),this.set(vn,P))):(P.set(vn,0),P.set(Pn,0));var kt="component:clone";return n&&n.trigger(kt,P),this.trigger(kt,P),P},s.prototype.getName=function(e){e===void 0&&(e={});var n=this.em,i=this.attributes,u=i.type,m=i.tagName,O=i.name,P=u||m,L=u?"":m,A="domComponents.names.",ot=O&&(n==null?void 0:n.t("".concat(A).concat(O))),kt=L&&(n==null?void 0:n.t("".concat(A).concat(L))),zt=n&&(n.t("".concat(A).concat(u))||n.t("".concat(A).concat(m))),Gt=this.get("custom-name");return(e.noCustom?"":Gt)||ot||O||kt||(0,H.capitalize)(L)||zt||(0,H.capitalize)(P)},s.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},s.prototype.toHTML=function(e){e===void 0&&(e={});var n=this,i=[],u=e.tag||n.get("tagName"),m=n.get("void"),O=e.attributes,P=this.getAttrToHTML();if(delete e.tag,O&&((0,k.isFunction)(O)?P=O(n,P)||{}:(0,H.isObject)(O)&&(P=O)),e.withProps){var L=this.toJSON();(0,k.forEach)(L,function(Se,or){or[0]!=="_"&&["classes","attributes","components"].indexOf(or)<0&&(P["data-gjs-".concat(or)]=(0,k.isArray)(Se)||(0,H.isObject)(Se)?JSON.stringify(Se):Se)})}for(var A in P){var ot=P[A];if(!(0,k.isUndefined)(ot)&&ot!==null)if((0,k.isBoolean)(ot))ot&&i.push(A);else{var kt="";if(e.altQuoteAttr&&(0,k.isString)(ot)&&ot.indexOf('"')>=0)kt="'".concat(ot.replace(/'/g,"&apos;"),"'");else{var zt=(0,k.isString)(ot)?ot.replace(/"/g,"&quot;"):ot;kt='"'.concat(zt,'"')}i.push("".concat(A,"=").concat(kt))}}var Gt=i.length?" ".concat(i.join(" ")):"",_e=n.getInnerHTML(e),Ee="<".concat(u).concat(Gt).concat(m?"/":"",">").concat(_e);return!m&&(Ee+="</".concat(u,">")),Ee},s.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},s.prototype.__innerHTML=function(e){e===void 0&&(e={});var n=this.components();return n.length?n.map(function(i){return i.toHTML(e)}).join(""):this.get("content")},s.prototype.getAttrToHTML=function(){var e=this.getAttributes();return mi(this.em)&&delete e.style,e},s.prototype.toJSON=function(e){e===void 0&&(e={});var n=B.Model.prototype.toJSON.call(this,e);if(n.attributes=this.getAttributes(),delete n.attributes.class,delete n.toolbar,delete n.traits,delete n.status,delete n.open,delete n._undoexc,!e.fromUndo){var i=n[vn],u=n[Pn];u&&(0,k.isArray)(u)&&(n[Pn]=u.filter(function(m){return m}).map(function(m){return m.getId?m.getId():m})),i&&!(0,k.isString)(i)&&(n[vn]=i.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(n),n},s.prototype.getChangedProps=function(e){var n=e||B.Model.prototype.toJSON.apply(this),i=(0,k.result)(this,"defaults");return(0,k.forEach)(i,function(u,m){["type"].indexOf(m)===-1&&n[m]===u&&delete n[m]}),(0,k.isEmpty)(n.type)&&delete n.type,(0,k.forEach)(["attributes","style"],function(u){(0,k.isEmpty)(i[u])&&(0,k.isEmpty)(n[u])&&delete n[u]}),(0,k.forEach)(["classes","components"],function(u){(!n[u]||(0,k.isEmpty)(i[u])&&!n[u].length)&&delete n[u]}),n},s.prototype.getId=function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},s.prototype.setId=function(e,n){var i=Cn({},this.get("attributes"));return i.id=e,this.set("attributes",i,n),this},s.prototype.getEl=function(e){e===void 0&&(e=void 0);var n=this.getView(e);return n&&n.el},s.prototype.getView=function(e){var n=this.view,i=this.views;return e&&(n=i.filter(function(u){return u._getFrame()===e.view})[0]),n},s.prototype.getCurrentView=function(){var e=(this.em.get("currentFrame")||{}).model;return this.getView(e)},s.prototype.__getScriptProps=function(){var e=this.props();return(this.get("script-props")||[]).reduce(function(n,i){return n[i]=e[i],n},{})},s.prototype.getScriptString=function(e){var n=this,i=e||this.get("script")||"";if(!i)return i;if(this.get("script-props"))i=i.toString().trim();else{if(typeof i=="function"){var u=i.toString().trim();i=(u=u.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var m=this.em.getConfig(),O=Ni(m.tagVarStart||"{[ "),P=Ni(m.tagVarEnd||" ]}"),L=new RegExp("".concat(O,"([\\w\\d-]*)").concat(P),"g");i=i.replace(L,function(A,ot){n.scriptUpdated();var kt=n.attributes[ot]||"";return(0,k.isArray)(kt)||typeof kt=="object"?JSON.stringify(kt):kt})}return i},s.prototype.emitUpdate=function(e){for(var n,i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];var m=this.em,O=No+(e?":".concat(e):""),P=e&&this.get(e);e&&this.updated.apply(this,Io([e,P,e&&this.previous(e)],i,!1)),this.trigger.apply(this,Io([O],i,!1)),m&&m.trigger.apply(m,Io([O,this],i,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(n={},n[e]=P,n),options:i[2]||i[1]||{}})},s.prototype.onAll=function(e){return(0,k.isFunction)(e)&&(e(this),this.components().forEach(function(n){return n.onAll(e)})),this},s.prototype.forEachChild=function(e){(0,k.isFunction)(e)&&this.components().forEach(function(n){e(n),n.forEachChild(e)})},s.prototype.remove=function(e){var n=this;e===void 0&&(e={});var i=this.em,u=this.collection,m=function(){u&&u.remove(n,Cn(Cn({},e),{action:"remove-component"})),u||(n.components("",e),n.components().removeChildren(n,void 0,e))},O=Cn({},e);return[this,i].map(function(P){return P.trigger("component:remove:before",n,m,O)}),!O.abort&&m(),this},s.prototype.move=function(e,n){if(n===void 0&&(n={}),e){var i=n.at,u=this.index(),m=e===this.parent();m&&(u===i||u===i-1)||(m&&i&&i>u&&(n.at=i-1),this.remove({temporary:1}),e.append(this,n),this.emitUpdate())}return this},s.prototype.isInstanceOf=function(e){var n,i,u=(i=(n=this.em)===null||n===void 0?void 0:n.Components.getType(e))===null||i===void 0?void 0:i.model;return!!u&&this instanceof u},s.prototype.isChildOf=function(e){for(var n=(0,k.isString)(e),i=this.parent();i;){if(n){if(i.isInstanceOf(e))return!0}else if(i===e)return!0;i=i.parent()}return!1},s.prototype.resetId=function(e){var n=this.em,i=this.getId();if(!i)return this;var u=s.createId(this);this.setId(u);var m=n==null?void 0:n.Css.getIdRule(i),O=m==null?void 0:m.get("selectors").at(0);return O==null||O.set("name",u),this},s.prototype._getStyleRule=function(e){var n=(e===void 0?{}:e).id,i=this.em,u=n||this.getId();return i==null?void 0:i.Css.getIdRule(u)},s.prototype._getStyleSelector=function(e){var n=this._getStyleRule(e);return n==null?void 0:n.get("selectors").at(0)},s.prototype._idUpdated=function(e,n,i){if(i===void 0&&(i={}),!i.idUpdate){var u=this.ccid,m=(this.get("attributes")||{}).id,O=(this.previous("attributes")||{}).id||u,P=s.getList(this);if(P[m]||!m&&O)return this.setId(O,{idUpdate:!0});delete P[O],P[m]=this,this.ccid=m;var L=this._getStyleSelector({id:O});L&&L.set({name:m,label:m})}},s.getDefaults=function(){return(0,k.result)(this.prototype,"defaults")},s.isComponent=function(e){return{tagName:(0,H.toLowerCase)(e.tagName)}},s.ensureInList=function(e){var n=s.getList(e),i=e.getId(),u=n[i];if(u){if(u!==e){var m=s.getIncrementId(i,n);e.setId(m),n[m]=e}}else n[i]=e;e.components().forEach(function(O){return s.ensureInList(O)})},s.createId=function(e,n){n===void 0&&(n={});var i,u=s.getList(e),m=n.idMap,O=m===void 0?{}:m,P=e.get("attributes").id;return P?(i=s.getIncrementId(P,u,n),e.setId(i),P!==i&&(O[P]=i)):i=s.getNewId(u),u[i]=e,i},s.getNewId=function(e){for(var n=Object.keys(e).length.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-n),u="i".concat(i);e[u];)u=s.getNewId(e);return u},s.getIncrementId=function(e,n,i){i===void 0&&(i={});var u=i.keepIds,m=1,O=e;if((u===void 0?[]:u).indexOf(e)<0)for(;n[O];)m++,O="".concat(e,"-").concat(m);return O},s.getList=function(e){var n=e.opt,i=n===void 0?{}:n,u=i.domc,m=i.em,O=u||(m==null?void 0:m.Components);return O?O.componentsById:{}},s.checkId=function(e,n,i,u){n===void 0&&(n=[]),i===void 0&&(i={}),u===void 0&&(u={});var m=(0,k.isArray)(e)?e:[e],O=u.keepIds,P=O===void 0?[]:O;m.forEach(function(L){L.attributes;var A=L.attributes,ot=A===void 0?{}:A,kt=L.components,zt=ot.id;if(zt&&i[zt]&&P.indexOf(zt)<0){var Gt=s.getIncrementId(zt,i);ot.id=Gt,(0,k.isArray)(n)&&n.forEach(function(_e){var Ee=_e.selectors;Ee.forEach(function(Se,or){Se==="#".concat(zt)&&(Ee[or]="#".concat(Gt))})})}kt&&s.checkId(kt,n,i,u)})},s}(Ll);const ii=Cs;var yi=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fo=function(h){function s(){var e=h!==null&&h.apply(this,arguments)||this;return e.compView=Gn,e}return yi(s,h),s.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.resetChildren),this.listenTo(n,"remove",this.removeChildren)},s.prototype.removeChildren=function(e,n,i){var u=this;i===void 0&&(i={}),e.views.forEach(function(m){if(m){var O=m.childrenView,P=m.scriptContainer;O&&O.stopListening(),(0,yn.L_)(P),m.remove.apply(m)}}),e.components().forEach(function(m){return u.removeChildren(m,n,i)})},s.prototype.addTo=function(e,n,i){i===void 0&&(i={});var u=this.em,m=this.collection.indexOf(e);if(this.addToCollection(e,null,m),u&&!i.temporary){var O=function(P){u.trigger("component:add",P),P.components().forEach(function(L){return O(L)})};O(e)}},s.prototype.addToCollection=function(e,n,i){for(var u=this,m=u.config,O=u.opts,P=u.em,L=n||null,A=m.frameView,ot=(A==null?void 0:A.model)&&e.getView(A.model),kt=O.componentTypes||(P==null?void 0:P.Components.getTypes()),zt=e.get("type")||"default",Gt=this.compView,_e=0;_e<kt.length;_e++)if(kt[_e].id==zt){Gt=kt[_e].view;break}var Ee,Se=ot||new Gt({model:e,config:m,componentTypes:kt});try{Ee=Se.render().el}catch(en){Ee=document.createTextNode(""),P.logError(en)}if(L)L.appendChild(Ee);else{var or=this.parentEl,yr=or.childNodes;if((0,k.isUndefined)(i))or.appendChild(Ee);else{var Qr=yr.length==i;Qr&&i--,Qr||!yr.length?or.appendChild(Ee):or.insertBefore(Ee,yr[i])}}return e.opt.temporary||P==null||P.trigger("component:mount",e),Ee},s.prototype.resetChildren=function(e,n){var i=this,u=(n===void 0?{}:n).previousModels,m=u===void 0?[]:u;this.parentEl.innerHTML="",m.forEach(function(O){return i.removeChildren(O,i.collection)}),e.each(function(O){return i.addToCollection(O)})},s.prototype.render=function(e){var n=this,i=this.el,u=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(m){return n.addToCollection(m,u)}),i.innerHTML="",i.appendChild(u),this},s}(N.G7);const Ss=Fo;var Os=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fi=function(){return Fi=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Fi.apply(this,arguments)},zs=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Os(s,h),s.prototype.className=function(){return this.getClasses()},s.prototype.tagName=function(){return this.model.get("tagName")},s.prototype.initialize=function(e){e===void 0&&(e={});var n=this.model,i=e.config||{},u=i.em,m=n.opt||{},O=this.$el,P=this.el;this.opts=e,this.modelOpt=m,this.config=i,this.em=u,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.attr=n.get("attributes"),this.classe=this.attr.class||[],this.listenTo(n,"change:style",this.updateStyle),this.listenTo(n,"change:attributes",this.renderAttributes),this.listenTo(n,"change:highlightable",this.updateHighlight),this.listenTo(n,"change:status change:locked",this.updateStatus),this.listenTo(n,"change:script rerender",this.reset),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change",this.handleChange),this.listenTo(n,"active",this.onActive),this.listenTo(n,"disable",this.onDisable),O.data("model",n),(0,H.setViewEl)(P,this),n.view=this,this._getFrame()&&n.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Fi(Fi({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!m.temporary&&this.init(this._clbObj())},s.prototype.__isDraggable=function(){var e=this.model,n=this.config,i=e.attributes.draggable;return n.draggableComponents&&i},s.prototype._clbObj=function(){var e=this,n=e.em,i=e.model,u=e.el;return{editor:n==null?void 0:n.getEditor(),model:i,el:u}},s.prototype.init=function(e){},s.prototype.removed=function(e){},s.prototype.onRender=function(e){},s.prototype.onActive=function(e){},s.prototype.onDisable=function(){},s.prototype.remove=function(){var e;h.prototype.remove.call(this);var n=this.model,i=this.$el,u=n.views,m=this._getFrame()||{};return n.components().forEach(function(O){var P=O.getView(m.model);P==null||P.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),u.splice(u.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},s.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:e})},s.prototype.initClasses=function(){var e=this.model,n="change:classes",i=e.get("classes");i instanceof Gi&&(this.stopListening(e,n,this.initClasses),this.listenTo(e,n,this.initClasses),this.listenTo(i,"add remove change",this.updateClasses),i.length&&this.importClasses())},s.prototype.initComponents=function(e){e===void 0&&(e={});var n=this,i=n.model,u=n.$el,m=n.childrenView,O=i.get("components"),P=[i,"change:components",this.initComponents];O instanceof Ii&&(u.data("collection",O),m&&m.remove(),this.stopListening.apply(this,P),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,P))},s.prototype.handleChange=function(){var e=this.model,n=(0,k.keys)(e.changed);if(n.length!==1||n[0]!=="status")for(var i in e.emitUpdate(),e.changed)e.emitUpdate(i)},s.prototype.importClasses=function(){var e=this.em.Selectors;e&&this.model.classes.each(function(n){e.add(n.get("name"))})},s.prototype.updateStatus=function(e){e===void 0&&(e={});var n=this,i=n.em,u=n.el,m=n.ppfx,O=n.model,P=i==null?void 0:i.Canvas.getConfig().extHl,L=O.get("status"),A="".concat(m,"selected"),ot="".concat(A,"-parent"),kt="".concat(m,"freezed"),zt="".concat(m,"hovered"),Gt="".concat(m,"no-pointer"),_e=[A,ot,kt,zt,Gt],Ee=P&&!e.noExtHl?"":A;this.$el.removeClass(_e.join(" "));var Se=[u.getAttribute("class")||""];switch(L){case"selected":Se.push(Ee);break;case"selected-parent":Se.push(ot);break;case"freezed":Se.push(kt);break;case"freezed-selected":Se.push(kt,Ee);break;case"hovered":!e.avoidHover&&Se.push(zt)}O.get("locked")&&Se.push(Gt);var or=Se.filter(Boolean).join(" ");or&&u.setAttribute("class",or)},s.prototype.updateHighlight=function(){var e=this.model,n=e.get("textable"),i=e.get("highlightable")&&(n||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!i||"")},s.prototype.updateStyle=function(e,n,i){i===void 0&&(i={});var u=this.model,m=this.em;if(m&&m.getConfig().avoidInlineStyle&&!i.inline){var O=u.getStyle();!(0,k.isEmpty)(O)&&u.setStyle(O)}else this.setAttribute("style",u.styleToString(i))},s.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},s.prototype.setAttribute=function(e,n){var i=this.$el;n?i.attr(e,n):i.removeAttr(e)},s.prototype.getClasses=function(){return this.model.getClasses().join(" ")},s.prototype.updateAttributes=function(){var e=[],n=this,i=n.model,u=n.$el,m=n.el,O=i.attributes,P=O.textable,L=O.type,A=Fi(Fi({id:i.getId(),"data-gjs-type":L||"default"},this.__isDraggable()&&{draggable:!0}),P&&{contenteditable:"false"});(0,k.each)(m.attributes,function(kt){return e.push(kt.nodeName)}),e.forEach(function(kt){return u.removeAttr(kt)}),this.updateStyle(),this.updateHighlight();var ot=Fi(Fi({},A),i.getAttributes());(0,k.keys)(ot).forEach(function(kt){return ot[kt]===!1&&delete ot[kt]}),u.attr(ot)},s.prototype.updateContent=function(){var e=this.model.get("content"),n=this.model.components().length;this.getChildrenContainer().innerHTML=n?"":e},s.prototype.prevDef=function(e){e.preventDefault()},s.prototype.updateScript=function(){var e=this.model,n=this.em;e.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},s.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},s.prototype.getOffsetRect=function(){var e={},n=this.el,i=0,u=0,m=function(O){var P=O.offsetParent;P?(i+=P.offsetTop,u+=P.offsetLeft,m(P)):(e.top=n.offsetTop+i,e.left=n.offsetLeft+u,e.bottom=e.top+n.offsetHeight,e.right=e.left+n.offsetWidth)};return m(n),e},s.prototype.isInViewport=function(e){var n,i=(e===void 0?{}:e).rect,u=this.el.ownerDocument,m=u.body,O=(n=u.defaultView)===null||n===void 0?void 0:n.frameElement,P=i||this.getOffsetRect(),L=P.top,A=P.left,ot=this._getFrame().getOffsetRect();return L>=ot.scrollTop&&A>=ot.scrollLeft&&L<=ot.scrollBottom&&A<=(O==null?void 0:O.offsetWidth)+m.scrollLeft},s.prototype.scrollIntoView=function(e){var n;e===void 0&&(e={});var i=this.getOffsetRect();if(!this.isInViewport({rect:i})||e.force){var u=this.el;e.behavior!=="smooth"?(n=u.ownerDocument.defaultView)===null||n===void 0||n.scrollTo(0,i.top):u.scrollIntoView(Fi({behavior:"smooth",block:"nearest"},e))}},s.prototype.reset=function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,yn.dL)(e,this.el),this.render()},s.prototype._setData=function(){var e=this.model,n=e.components();this.$el.data({model:e,collection:n,view:this})},s.prototype._getFrame=function(){var e;return(e=this.em)===null||e===void 0?void 0:e.get("Canvas").config.frameView},s.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),n=this.childrenView||new Ss({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});n.render(e),this.childrenView=n;for(var i=Array.prototype.slice.call(n.el.childNodes),u=0,m=i.length;u<m;u++)e.appendChild(i.shift())},s.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},s.prototype.onAttrUpdate=function(){},s.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,H.setViewEl)(this.el,this),this.postRender()),this},s.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},s.getEvents=function(){return(0,k.result)(this.prototype,"events")},s}(N.G7);const Gn=zs;var Ws=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Vo=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Ws(s,h),s.prototype.tagName=function(){return"div"},s}(Gn);var jl=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),za=function(){return za=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},za.apply(this,arguments)};const sa=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return jl(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return za(za({},h.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return["td","th"].indexOf((0,H.toLowerCase)(e.tagName))>=0},s}(ii);var Ts=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const sc=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Ts(s,h),s}(Gn);var cs=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vi=function(){return Vi=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Vi.apply(this,arguments)},Ro="tr";const Dl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return cs(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Vi(Vi({},h.prototype.defaults),{tagName:Ro,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Ro},s}(ii);var lc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Wa=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return lc(s,h),s}(Gn);var Sc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bi=function(){return bi=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},bi.apply(this,arguments)},wi="table";const la=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Sc(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return bi(bi({},h.prototype.defaults),{type:wi,tagName:wi,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){h.prototype.initialize.call(this,e,n);var i=this.get("components");!i.length&&i.add({type:"tbody"})},s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===wi},s}(ii),Ma=Gn.extend({events:{}});var cc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_i=function(){return _i=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},_i.apply(this,arguments)},ca="tbody";const $a=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return cc(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return _i(_i({},h.prototype.defaults),{type:ca,tagName:ca,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){h.prototype.initialize.call(this,e,n);var i=this.get("components"),u=this.get("columns"),m=this.get("rows");if(!i.length){for(var O=[];m--;){for(var P=[],L=u;L--;)P.push({type:"cell",classes:["cell"]});O.push({type:"row",classes:["row"],components:P})}i.add(O)}},s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===ca},s}(ii);var Es=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ki=function(){return Ki=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ki.apply(this,arguments)},Ri="thead";const Yi=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Es(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Ki(Ki({},h.prototype.defaults),{type:Ri,tagName:Ri})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Ri},s}($a);var ua=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const gt=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ua(s,h),s}(Gn);var Dt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const de=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Dt(s,h),s}(Gn);var Te=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Be=function(){return Be=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Be.apply(this,arguments)},Ve="tfoot";const fr=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Te(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Be(Be({},h.prototype.defaults),{type:Ve,tagName:Ve})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Ve},s}($a);var Fr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const it=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Fr(s,h),s}(Gn);var Mt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ie=function(){return ie=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},ie.apply(this,arguments)},be='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',qe=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Mt(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return ie(ie({},h.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(be,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(be,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){h.prototype.initialize.call(this,e,n);var i=this.get("attributes").src;i&&(0,H.buildBase64UrlFromSvg)((0,k.result)(this,"defaults").src)!==i&&this.set("src",i,{silent:!0})},s.prototype.initToolbar=function(){h.prototype.initToolbar.call(this);var e=this.em;if(e){var n="image-editor";if(e.Commands.has(n)){for(var i=!1,u=this.get("toolbar"),m=0;m<u.length;m++)if(u[m].command==="image-editor"){i=!0;break}i||(u.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",u))}}},s.prototype.getAttrToHTML=function(){var e=h.prototype.getAttrToHTML.call(this),n=this.getSrcResult();return n&&(e.src=n),e},s.prototype.getSrcResult=function(e){e===void 0&&(e={});var n=this.get(e.fallback?"fallback":"src")||"",i=n;return n&&n.substr(0,4)==="<svg"&&(i=(0,H.buildBase64UrlFromSvg)(n)),i},s.prototype.isDefaultSrc=function(){var e=this.get("src"),n=(0,k.result)(this,"defaults").src;return e===n||e===(0,H.buildBase64UrlFromSvg)(n)},s.prototype.toJSON=function(e){var n=h.prototype.toJSON.call(this,e),i=n.attributes;return i&&n.src===i.src&&delete n.src,n},s.prototype.parseUri=function(e){var n={};if((0,H.hasWin)())(n=document.createElement("a")).href=e;else if(typeof URL<"u")try{n=new URL(e)}catch{}return{hostname:n.hostname||"",pathname:n.pathname||"",protocol:n.protocol||"",search:n.search||"",hash:n.hash||"",port:n.port||"",query:function(i){i===void 0&&(i="");for(var u={},m=i.substring(1).split("&"),O=0;O<m.length;O++){var P=m[O].split("="),L=decodeURIComponent(P[0]);L&&(u[L]=decodeURIComponent(P[1]||""))}return u}(n.search)}},s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)==="img"},s}(ii);const Fe=qe;var ur=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kr=function(){return kr=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},kr.apply(this,arguments)},hn=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ur(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){var e=h.prototype.defaults;return kr(kr({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){this.get("src")?this.parseFromSrc():this.updateSrc(),h.prototype.initialize.call(this,e,n),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},s.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},s.prototype.getMapUrl=function(){var e=this.get("address"),n=this.get("zoom"),i=this.get("mapType");return e=e?"&q="+e:"",n=n?"&z="+n:"",i=i?"&t="+i:"",this.get("mapUrl")+"?"+e+n+i+"&output=embed"},s.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")).query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},s.isComponent=function(e){if((0,H.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},s}(Fe);const Nn=hn;var Eo=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ga=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Eo(s,h),s.prototype.tagName=function(){return"img"},s.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},s.prototype.initialize=function(e){h.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},s.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this.model,n=this.em,i=e.get("file");if(i&&n){var u=n.Assets.FileUploader();u==null||u.uploadFile({dataTransfer:{files:[i]}},function(m){var O=m&&m.data&&m.data[0],P=O&&((0,k.isString)(O)?O:O.src);P&&e.set({src:P})}),e.set("file","")}}},s.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},s.prototype.updateClasses=function(){h.prototype.updateClasses.call(this);var e=this,n=e.el,i=e.classEmpty,u=e.model,m=u.getSrcResult()&&!u.isDefaultSrc()?"remove":"add";n.classList[m](i)},s.prototype.onActive=function(e){e==null||e.stopPropagation();var n=this.em,i=this.model,u=n==null?void 0:n.Assets;u&&i.get("editable")&&u.open({select:function(m,O){i.set({src:m.getSrc()}),O&&u.close()},target:i,types:["image"],accept:"image/*"})},s.prototype.onError=function(){var e=this.model.getSrcResult({fallback:!0});e&&(this.el.src=e)},s.prototype.onLoad=function(){this.em.trigger("change:canvasOffset")},s.prototype.noDrag=function(e){return e.preventDefault(),!1},s.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this.$el,n=this.model,i=e.attr("class")||"";return!n.get("src")&&e.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},s}(Gn);const us=Ga;var Yc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const ef=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Yc(s,h),s.prototype.tagName=function(){return"div"},s.prototype.events=function(){return{}},s.prototype.initialize=function(e){h.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},s.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},s.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},s.prototype.render=function(){return h.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},s}(us);var pp=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),La=function(){return La=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},La.apply(this,arguments)};const Hi=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return pp(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return La(La({},h.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){h.prototype.initialize.call(this,e,n),this.__checkInnerChilds()},s.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var n=function(i){i.isInstanceOf("textnode")||i.set({locked:!0,layerable:!1})};(0,k.isFunction)(e)?this.forEachChild(function(i){e(i)&&n(i)}):this.forEachChild(n)}},s}(ii);var rf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uc=function(){return uc=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},uc.apply(this,arguments)},xu="link",Oc=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return rf(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return uc(uc({},h.prototype.defaults),{type:xu,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),s.isComponent=function(e,n){var i;if(n===void 0&&(n={}),(0,H.toLowerCase)(e.tagName)==="a"){var u=n.textTags||[];i={type:xu,editable:!1};var m=e.childNodes;m.length||delete i.editable,(0,k.forEach)(m,function(O){var P=O.tagName;(O.nodeType==3&&O.textContent.trim()!==""||P&&u.indexOf((0,H.toLowerCase)(P))>=0)&&delete i.editable})}return i},s}(Hi);const gl=Oc;var Il=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ti=function(){return Ti=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ti.apply(this,arguments)},$s=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},qa=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}},vl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Il(s,h),s.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},s.prototype.initialize=function(e){h.prototype.initialize.call(this,e),(0,k.bindAll)(this,"disableEditing","onDisable");var n=this.model,i=this.em;this.listenTo(n,"focus",this.onActive),this.listenTo(n,"change:content",this.updateContentText),this.listenTo(n,"sync:content",this.syncContent),this.rte=i==null?void 0:i.RichTextEditor},s.prototype.updateContentText=function(e,n,i){i===void 0&&(i={}),!i.fromDisable&&this.disableEditing()},s.prototype.canActivate=function(){var e,n=this,i=n.model,u=n.rteEnabled,m=n.em,O=(m==null?void 0:m.getEditing())===i,P=!0,L=!1;if((u||!i.get("editable")||O||(L=i.isChildOf("text")))&&(P=!1,L&&!i.get("textable"))){for(var A=i.parent();A&&!A.isInstanceOf("text");)A=A.parent();A&&A.get("editable")?e=A:P=!0}return{result:P,delegate:e}},s.prototype.onActive=function(e){var n,i;return $s(this,void 0,void 0,function(){var u,m,O,P,L,A,ot,kt,zt;return qa(this,function(Gt){switch(Gt.label){case 0:return m=(u=this).rte,O=u.em,P=this.canActivate(),L=P.result,A=P.delegate,L?((i=e==null?void 0:e.stopPropagation)===null||i===void 0||i.call(e),ot=this,[4,this.getContent()]):(A&&((n=e==null?void 0:e.stopPropagation)===null||n===void 0||n.call(e),O.setSelected(A),A.trigger("active",e)),[2]);case 1:if(ot.lastContent=Gt.sent(),!m)return[3,5];Gt.label=2;case 2:return Gt.trys.push([2,4,,5]),kt=this,[4,m.enable(this,this.activeRte,{event:e})];case 3:return kt.activeRte=Gt.sent(),[3,5];case 4:return zt=Gt.sent(),O.logError(zt),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},s.prototype.onDisable=function(){this.disableEditing()},s.prototype.disableEditing=function(e){return e===void 0&&(e={}),$s(this,void 0,void 0,function(){var n,i,u,m,O,P,L,A;return qa(this,function(ot){switch(ot.label){case 0:if(i=(n=this).model,u=n.rte,m=n.activeRte,O=n.em,P=i&&i.get("editable"),!u)return[3,8];ot.label=1;case 1:return ot.trys.push([1,3,,4]),[4,u.disable(this,m)];case 2:return ot.sent(),[3,4];case 3:return L=ot.sent(),O.logError(L),[3,4];case 4:return(A=P)?[4,this.getContent()]:[3,6];case 5:A=ot.sent()!==this.lastContent,ot.label=6;case 6:return A?[4,this.syncContent(e)]:[3,8];case 7:ot.sent(),this.lastContent="",ot.label=8;case 8:return this.toggleEvents(),[2]}})})},s.prototype.getContent=function(){return $s(this,void 0,void 0,function(){var e,n,i,u;return qa(this,function(m){switch(m.label){case 0:return n=(e=this).rte,i=e.activeRte,u="",n?[4,n.getContent(this,i)]:[3,2];case 1:u=m.sent(),m.label=2;case 2:return[2,u]}})})},s.prototype.syncContent=function(e){return e===void 0&&(e={}),$s(this,void 0,void 0,function(){var n,i,u,m,O,P;return qa(this,function(L){switch(L.label){case 0:return i=(n=this).model,u=n.rte,n.rteEnabled||e.force?[4,this.getContent()]:[2];case 1:return m=L.sent(),O=i.components(),P=Ti({fromDisable:1},e),i.set("content","",P),u!=null&&u.customRte&&!u.customRte.parseContent?(O.length&&O.reset(void 0,Ti(Ti({},e),{keepIds:ia(O)})),i.set("content",m,P)):O.resetFromString(m,e),[2]}})})},s.prototype.insertComponent=function(e,n){var i;n===void 0&&(n={});var u=this.model,m=this.el.ownerDocument.getSelection();if(m!=null&&m.rangeCount){var O=m.getRangeAt(0),P=O.startContainer,L=O.startOffset,A=(0,H.getModel)(P),ot=[];if(A&&(!((i=A.is)===null||i===void 0)&&i.call(A,"textnode"))){var kt=A.collection;kt.forEach(function(_e){if(_e===A){var Ee="textnode",Se=_e.get("content")||"";ot.push({type:Ee,content:Se.slice(0,L)}),ot.push(e),ot.push({type:Ee,content:Se.slice(L)})}else ot.push(_e)});var zt=ot.filter(Boolean),Gt=zt.indexOf(e);return kt.reset(zt,n),kt.at(Gt)}}return u.append(e,n)},s.prototype.onInput=function(){var e=this.em,n="component",i=["".concat(n,":update"),"".concat(n,":input")].join(" ");e&&e.trigger(i,this.model)},s.prototype.disablePropagation=function(e){e.stopPropagation()},s.prototype.toggleEvents=function(e){var n=this,i=n.em,u=n.model,m=n.$el,O={on:H.on,off:H.off},P=e?"on":"off";i.setEditing(!!e&&this),this.rteEnabled=!!e;var L=[this.el.ownerDocument,document];if(O.off(L,"mousedown",this.onDisable),O[P](L,"mousedown",this.onDisable),i[P]("toolbar:run:before",this.onDisable),u&&(u[P]("removed",this.onDisable),u.trigger("rte:".concat(e?"enable":"disable"))),m==null||m.off("mousedown",this.disablePropagation),m&&m[P]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var A=this.el;A;)A.draggable=!e,(A=A.parentNode)&&A.tagName=="BODY"&&(A=0)},s}(Gn);const fc=vl;var ml=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const pc=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ml(s,h),s.prototype.render=function(){return h.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},s}(fc);var Tc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dc=function(){return dc=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},dc.apply(this,arguments)},Cu="label";const Nl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Tc(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return dc(dc({},h.prototype.defaults),{type:Cu,tagName:Cu,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Cu},s}(Hi);var Gs=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Zi=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Gs(s,h),s}(pc);var yl=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wa=function(){return wa=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},wa.apply(this,arguments)},Fl="video",bl="yt",qs="vi",Ps="ytnc",Zc=function(h){return h&&h!=="0"},hc=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return yl(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return wa(wa({},h.prototype.defaults),{type:Fl,tagName:Fl,videoId:"",void:!1,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),s.prototype.initialize=function(e,n){this.em=n.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),h.prototype.initialize.call(this,e,n)},s.prototype.updateTraits=function(){var e,n=this.em,i="iframe";switch(this.get("provider")){case bl:case Ps:e=this.getYoutubeTraits();break;case qs:e=this.getVimeoTraits();break;default:i="video",e=this.getSourceTraits()}this.set({tagName:i},{silent:!0}),this.set({traits:e}),n.get("ready")&&n.trigger("component:toggled")},s.prototype.parseFromSrc=function(){var e=this.get("provider"),n=this.parseUri(this.get("src")),i=n.query;switch(e){case bl:case Ps:case qs:this.set("videoId",n.pathname.split("/").pop()),i.list&&this.set("list",i.list),Zc(i.autoplay)&&this.set("autoplay",1),Zc(i.loop)&&this.set("loop",1),parseInt(i.controls)===0&&this.set("controls",0),Zc(i.color)&&this.set("color",i.color),i.rel==="0"&&this.set("rel",0),i.modestbranding==="1"&&this.set("modestbranding",1)}},s.prototype.updateSrc=function(){var e="";switch(this.get("provider")){case bl:e=this.getYoutubeSrc();break;case Ps:e=this.getYoutubeNoCookieSrc();break;case qs:e=this.getVimeoSrc()}this.set({src:e})},s.prototype.getAttrToHTML=function(){var e=h.prototype.getAttrToHTML.call(this);switch(this.get("provider")){case bl:case Ps:case qs:break;default:this.get("loop")&&(e.loop="loop"),this.get("autoplay")&&(e.autoplay="autoplay"),this.get("controls")&&(e.controls="controls")}return e},s.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:bl,name:"Youtube"},{value:Ps,name:"Youtube (no cookie)"},{value:qs,name:"Vimeo"}]}},s.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},s.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},s.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},s.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},s.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},s.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},s.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),n=this.get("ytUrl"),i=this.get("list");return n+=e+(e.indexOf("?")<0?"?":""),n+=i?"&list=".concat(i):"",n+=this.get("autoplay")?"&autoplay=1":"",n+=this.get("controls")?"":"&controls=0&showinfo=0",n+=this.get("loop")?"&loop=1&playlist=".concat(e):"",(n+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},s.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e.replace(this.get("ytUrl"),this.get("ytncUrl"))},s.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("loop")?"&loop=1":"",(e+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")},s.isComponent=function(e){var n=e.tagName,i=e.src,u=/youtube\.com\/embed/.test(i),m=/youtube-nocookie\.com\/embed/.test(i),O=/player\.vimeo\.com\/video/.test(i),P=u||m||O;if((0,H.toLowerCase)(n)==Fl||(0,H.toLowerCase)(n)=="iframe"&&P){var L={type:"video"};return i&&(L.src=i),P&&(u?L.provider=bl:m?L.provider=Ps:O&&(L.provider=qs)),L}},s}(Fe);const Ks=hc;var Xc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Xc(s,h),s.prototype.tagName=function(){return"div"},s.prototype.events=function(){return{}},s.prototype.initialize=function(){Gn.prototype.initialize.apply(this,arguments);var e=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},s.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},s.prototype.updateSrc=function(){var e=this.model,n=this.videoEl;if(n){var i=e.get("provider"),u=e.get("src");switch(i){case"yt":u=e.getYoutubeSrc();break;case"ytnc":u=e.getYoutubeNoCookieSrc();break;case"vi":u=e.getVimeoSrc()}n.src=u}},s.prototype.updateVideo=function(){var e=this.model,n=this.videoEl;switch(e.get("provider")){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(n){var i=n;i.loop=e.get("loop"),i.autoplay=e.get("autoplay"),i.controls=e.get("controls"),i.poster=e.get("poster")}}},s.prototype.renderByProvider=function(e){var n;switch(e){case"yt":n=this.renderYoutube();break;case"ytnc":n=this.renderYoutubeNoCookie();break;case"vi":n=this.renderVimeo();break;default:n=this.renderSource()}return this.videoEl=n,n},s.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},s.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},s.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},s.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},s.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},s.prototype.render=function(){Gn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},s}(us);const Ys=Vl;var Rl=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fs=function(){return fs=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},fs.apply(this,arguments)},ja="script";const wl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Rl(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return fs(fs({},h.prototype.defaults),{type:ja,tagName:ja,droppable:!1,draggable:!1,layerable:!1})},enumerable:!1,configurable:!0}),s.isComponent=function(e){if((0,H.toLowerCase)(e.tagName)==ja){var n={type:ja};return e.src&&(n.src=e.src,n.onload=e.onload),n}},s}(ii);var Jc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Jc(s,h),s.prototype.tagName=function(){return"script"},s.prototype.events=function(){return{}},s.prototype.render=function(){var e=this.model,n=this.em,i=e.get("src"),u=n&&n.get("scriptCount")||0,m="";if(i){var O=e.get("onload"),P="script".concat(u),L="script".concat(u+1),A="".concat(P,"Start"),ot="".concat(L,"Start");m=`
        var `.concat(P,` = document.createElement('script');
        `).concat(P,`.onload = function() {
          `).concat(O?"".concat(O,`();
`):"",`
          typeof `).concat(ot," == 'function' && ").concat(ot,`();
        };
        `).concat(P,".src = '").concat(i,`';
        function `).concat(A,"() { document.body.appendChild(").concat(P,`); };
        `).concat(u?"":"".concat(A,"();"),`
      `),n&&n.set("scriptCount",u+1)}else m=e.__innerHTML();return this.el.innerHTML=m,this.postRender(),this},s}(us);const Su=Hl;var dp=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ou=function(){return Ou=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ou.apply(this,arguments)},Tu="svg";const _l=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return dp(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Ou(Ou({},h.prototype.defaults),{type:Tu,tagName:Tu,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),s.prototype.getName=function(){var e=this.get("tagName"),n=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),n||e},s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Tu},s}(ii);var ps=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gc=function(){return gc=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},gc.apply(this,arguments)};const Bl=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ps(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return gc(gc({},h.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),s.isComponent=function(e,n){return n===void 0&&(n={}),!!n.inSvg},s}(_l);var nf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bi=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return nf(s,h),s.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},s}(Gn);const Qc=Bi;var Da=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ho=function(){return Ho=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ho.apply(this,arguments)};const Ei=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Da(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Ho(Ho({},h.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),s.prototype.toHTML=function(){var e=this.parent(),n=this.get("content");return e!=null&&e.is("script")?n:this.__escapeContent(n)},s.prototype.__escapeContent=function(e){return(0,H.escapeNodeContent)(e)},s.isComponent=function(e){if(e.nodeType===3)return{type:"textnode",content:e.textContent}},s}(ii);var ei=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zs=function(){return Zs=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Zs.apply(this,arguments)};const tu=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ei(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return Zs({},h.prototype.defaults)},enumerable:!1,configurable:!0}),s.prototype.toHTML=function(){return"<!--".concat(this.get("content"),"-->")},s.isComponent=function(e){if(e.nodeType==8)return{tagName:"NULL",type:"comment",content:e.textContent}},s}(Ei);var Eu=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Pu=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Eu(s,h),s.prototype._setAttributes=function(){},s.prototype.renderAttributes=function(){},s.prototype.updateStatus=function(){},s.prototype.updateClasses=function(){},s.prototype.setAttribute=function(){},s.prototype.updateAttributes=function(){},s.prototype.initClasses=function(){},s.prototype.initComponents=function(){},s.prototype.delegateEvents=function(){return this},s.prototype._createElement=function(){return document.createTextNode("")},s.prototype.render=function(){var e=this.model,n=this.el;return e.opt.temporary||(n.textContent=e.get("content")),this},s}(Gn);var Df=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const If=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Df(s,h),s.prototype._createElement=function(){return document.createComment(this.model.get("content"))},s}(Pu);var Ul=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ks=function(){return ks=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},ks.apply(this,arguments)};const Ec=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Ul(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return ks(ks({},h.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),s.prototype.__postAdd=function(){var e,n=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(n==null||n.add(this)),h.prototype.__postAdd.call(this)},s.prototype.__postRemove=function(){var e,n=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return n==null||n.remove(this),h.prototype.__postRemove.call(this)},s.isComponent=function(){return!1},s}(ii);var ku=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vc=function(){return vc=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},vc.apply(this,arguments)},Au="iframe";const Nf=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ku(s,h),Object.defineProperty(s.prototype,"defaults",{get:function(){return vc(vc({},h.prototype.defaults),{type:Au,tagName:Au,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),s.isComponent=function(e){return(0,H.toLowerCase)(e.tagName)===Au},s}(ii);var Mu=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Ka=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Mu(s,h),s.prototype.tagName=function(){return"div"},s.prototype.initialize=function(e){h.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},s.prototype.updateSrc=function(){var e=(0,yn.sE)(this.el,"iframe")[0];e&&(0,yn.FW)(e,{src:this.__getSrc()})},s.prototype.render=function(){h.prototype.render.call(this);var e=(0,yn.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},s.prototype.__getSrc=function(){return this.model.getAttributes().src||""},s}(Gn);var fi=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),co=function(){return co=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},co.apply(this,arguments)},Ui=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Lu=function(h){function s(e){var n=h.call(this,e,"DomComponents",new Ii(void 0,{em:e}))||this;for(var i in n.componentTypes=[{id:"cell",model:sa,view:sc},{id:"row",model:Dl,view:Wa},{id:"table",model:la,view:Ma},{id:"thead",model:Yi,view:gt},{id:"tbody",model:$a,view:de},{id:"tfoot",model:fr,view:it},{id:"map",model:Nn,view:ef},{id:"link",model:gl,view:pc},{id:"label",model:Nl,view:Zi},{id:"video",model:Ks,view:Ys},{id:"image",model:Fe,view:us},{id:"script",model:wl,view:Su},{id:"svg-in",model:Bl,view:Qc},{id:"svg",model:_l,view:Qc},{id:"iframe",model:Nf,view:Ka},{id:"comment",model:tu,view:If},{id:"textnode",model:Ei,view:Pu},{id:"text",model:Hi,view:fc},{id:"wrapper",model:Ec,view:Vo},{id:"default",model:ii,view:Gn}],n.componentsById={},n.Component=ii,n.Components=Ii,n.ComponentsView=Ss,n.storageKey="components",e&&(n.config.components=e.config.components||n.config.components),nn)i in n.config||(n.config[i]=nn[i]);var u=n.config.pStylePrefix;if(u&&(n.config.stylePrefix=u+n.config.stylePrefix),e){e.get("Parser").compTypes=n.componentTypes,e.on("change:componentHovered",n.componentHovered,n);var m=e.get("selected");e.listenTo(m,"add",function(O,P,L){return n.selectAdd(m.getComponent(O),L)}),e.listenTo(m,"remove",function(O,P,L){return n.selectRemove(m.getComponent(O),L)})}return n}return fi(s,h),s.prototype.load=function(e){var n=this;return this.loadProjectData(e,{onResult:function(i){var u=n.getWrapper();if(u||(n.em.Pages.add({},{select:!0}),u=n.getWrapper()),(0,k.isArray)(i))i.length&&u.components(i);else{var m=i.components,O=m===void 0?[]:m,P=Ui(i,["components"]);u.set(P),u.components(O)}}})},s.prototype.store=function(){return{}},s.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),n=e==null?void 0:e.getMainFrame();return n==null?void 0:n.getComponent()},s.prototype.getWrapper=function(){return this.getComponent()},s.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},s.prototype.addComponent=function(e,n){return n===void 0&&(n={}),this.getComponents().add(e,n)},s.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},s.prototype.clear=function(e){e===void 0&&(e={});var n=this.getComponents();return n==null||n.filter(Boolean).forEach(function(i){return i.remove(e)}),this},s.prototype.setComponents=function(e,n){n===void 0&&(n={}),this.clear(n).addComponent(e,n)},s.prototype.addType=function(e,n){var i=this.em,u=n.model,m=u===void 0?{}:u,O=n.view,P=O===void 0?{}:O,L=n.isComponent,A=n.extend,ot=n.extendView,kt=n.extendFn,zt=kt===void 0?[]:kt,Gt=n.extendFnView,_e=Gt===void 0?[]:Gt,Ee=this.getType(e),Se=this.getType(A),or=this.getType(ot),yr=Se||Ee||this.getType("default"),Qr=yr.model,en=or?or.view:yr.view,En=function(Po,Ns,es){return Po.reduce(function(fl,_s){var pl=Ns[_s],yu=es.prototype[_s];return pl&&yu&&(fl[_s]=function(){for(var Yu=[],bu=0;bu<arguments.length;bu++)Yu[bu]=arguments[bu];yu.bind(this).apply(void 0,Yu),pl.bind(this).apply(void 0,Yu)}),fl},{})};if(typeof m=="object"){var An={defaults:m.defaults};delete m.defaults,n.model=Qr.extend(co(co({},m),En(zt,m,Qr)),{isComponent:!Ee||Se||L?L||function(){return 0}:Qr.isComponent}),Object.defineProperty(n.model.prototype,"defaults",{get:function(){return co(co({},(0,k.result)(Qr.prototype,"defaults")||{}),(0,k.result)(An,"defaults")||{})}})}typeof P=="object"&&(n.view=en.extend(co(co({},P),En(_e,P,en)))),Ee?(Ee.model=n.model,Ee.view=n.view):(n.id=e,this.componentTypes.unshift(n));var yo="component:type:".concat(Ee?"update":"add");return i==null||i.trigger(yo,Ee||n),this},s.prototype.getType=function(e){for(var n=this.componentTypes,i=0;i<n.length;i++)if(n[i].id==e)return n[i]},s.prototype.removeType=function(e){var n=this.componentTypes,i=this.getType(e);if(i){var u=n.indexOf(i);return n.splice(u,1),i}},s.prototype.getTypes=function(){return this.componentTypes},s.prototype.selectAdd=function(e,n){var i=this;n===void 0&&(n={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(u){return i.em.trigger(u,e,n)}))},s.prototype.selectRemove=function(e,n){var i=this;n===void 0&&(n={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(u){return i.em.trigger(u,e,n)}))},s.prototype.componentHovered=function(){var e=this.em,n=e.get("componentHovered"),i=e.previous("componentHovered"),u="hovered";i&&i.get("status")==u&&i.set({status:"",state:""}),n&&(0,k.isEmpty)(n.get("status"))&&n.set("status",u)},s.prototype.getShallowWrapper=function(){var e=this.shallow,n=this.em;if(!e&&n){var i=n.shallow;if(!i)return;var u=i.Components;if(u.componentTypes=this.componentTypes,e=u.getWrapper()){var m=[No,ta].join(" ");e.on(m,(0,k.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},s.prototype.canMove=function(e,n,i){var u=i||i===0?i:null,m={result:!1,reason:0,target:e,source:null};if(!n||!e)return m;var O=n.toHTML?n:null;if(!O){var P=this.getShallowWrapper();O=(P==null?void 0:P.append(n)[0])||null}if(m.source=O,!O)return m;var L=O.get("draggable");if((0,k.isFunction)(L))L=!!L(O,e,u);else{var A=e.getEl();L=(0,k.isArray)(L)?L.join(","):L,L=(0,k.isString)(L)?A==null?void 0:A.matches(L):L}if(!L)return co(co({},m),{reason:1});var ot=e.get("droppable");(0,k.isFunction)(ot)?ot=!!ot(O,e,u):ot===!1&&e.isInstanceOf("text")&&O.get("textable")?ot=!0:(A=O.getEl(),ot=(0,k.isArray)(ot)?ot.join(","):ot,ot=(0,k.isString)(ot)?A==null?void 0:A.matches(ot):ot);var kt=[e].concat(e.parents()).indexOf(O)>-1;return co(co({},m),!ot||kt?{reason:2}:{result:!0})},s.prototype.allById=function(){return this.componentsById},s.prototype.getById=function(e){return this.componentsById[e]||null},s.prototype.destroy=function(){var e,n=this.allById();Object.keys(n).forEach(function(i){return n[i]&&n[i].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(i){return{}})},s}(et);const hp=Lu,_a={stylePrefix:"css-",rules:[]};var Co=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xs=Number.MAX_VALUE,mc=function(h){function s(){var e=h.call(this)||this;return(0,k.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return Co(s,h),s.prototype.buildFromModel=function(e,n){var i=this;n===void 0&&(n={});var u="",m=this.em,O=m&&m.getConfig().avoidInlineStyle,P=e.styleToString(),L=e.classes;return this.ids.push("#".concat(e.getId())),L.forEach(function(A){return i.compCls.push(A.getFullName())}),!O&&P&&(u="#".concat(e.getId(),"{").concat(P,"}")),e.components().forEach(function(A){return u+=i.buildFromModel(A,n)}),u},s.prototype.build=function(e,n){var i=this;n===void 0&&(n={});var u=n.json,m=n.em,O=n.cssc||(m==null?void 0:m.Css);this.em=m,this.compCls=[],this.ids=[],this.model=e;var P=[],L=e?this.buildFromModel(e,n):"",A=(0,k.isUndefined)(n.clearStyles)&&m?m.getConfig().clearStyles:n.clearStyles;if(O){var ot=n.rules||O.getAll(),kt={},zt=[];n.onlyMatched&&e&&(0,H.hasWin)()&&(ot=this.matchedRules(e,ot)),ot.forEach(function(Gt){var _e=Gt.getAtRule();if(_e){var Ee=kt[_e];Ee?Ee.push(Gt):kt[_e]=[Gt]}else{var Se=i.buildFromRule(Gt,zt,n);u?P.push(Se):L+=Se}}),this.sortMediaObject(kt).forEach(function(Gt){var _e="",Ee=Gt.key;Gt.value.forEach(function(Se){var or=i.buildFromRule(Se,zt,n);Se.get("singleAtRule")?L+="".concat(Ee,"{").concat(or,"}"):_e+=or,u&&P.push(or)}),_e&&(L+="".concat(Ee,"{").concat(_e,"}"))}),m&&A&&ot.remove&&ot.remove(zt)}return u?P.filter(function(Gt){return Gt}):L},s.prototype.buildFromRule=function(e,n,i){var u,m=this;i===void 0&&(i={});var O,P="",L=this.model,A=e.selectorsToString({skipAdd:1}),ot=e.get("selectorsAdd"),kt=e.get("singleAtRule");if((u=e.get("selectors"))===null||u===void 0||u.forEach(function(Gt){var _e=Gt.getFullName();(m.compCls.indexOf(_e)>=0||m.ids.indexOf(_e)>=0||i.keepUnusedStyles)&&(O=1)}),A&&O||ot||kt||!L){var zt=e.getDeclaration({body:1});zt&&(i.json?P=e:P+=zt)}else n.push(e);return P},s.prototype.matchedRules=function(e,n){var i=this,u=e.getEl(),m=[];return n.forEach(function(O){try{O.selectorsToString().split(",").some(function(P){return u==null?void 0:u.matches(i.__cleanSelector(P))})&&m.push(O)}catch{}}),e.components().forEach(function(O){m=m.concat(i.matchedRules(O,n))}),m=m.filter(function(O,P){return m.indexOf(O)===P})},s.prototype.getQueryLength=function(e){var n=/(-?\d*\.?\d+)\w{0,}/.exec(e);return n?parseFloat(n[1]):Xs},s.prototype.sortMediaObject=function(e){var n=this;e===void 0&&(e={});var i=[];return(0,k.each)(e,function(u,m){return i.push({key:m,value:u})}),i.sort(function(u,m){var O=[u.key,m.key].every(function(A){return A.indexOf("min-width")!==-1}),P=O?u.key:m.key,L=O?m.key:u.key;return n.getQueryLength(P)-n.getQueryLength(L)})},s.prototype.sortRules=function(e,n){var i=function(P){return P.get("mediaText")||""},u=[i(e),i(n)].every(function(P){return P.indexOf("min-width")!==-1}),m=i(u?e:n),O=i(u?n:e);return this.getQueryLength(m)-this.getQueryLength(O)},s.prototype.__cleanSelector=function(e){return e.split(" ").map(function(n){return n.split(":")[0]}).join(" ")},s}(N.Hn);const xl=mc;var Ff=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zl=function(){return zl=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},zl.apply(this,arguments)},Vf=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Pc=((0,H.hasWin)()?window:{}).CSS,kc=function(h){function s(e,n){n===void 0&&(n={});var i=h.call(this,e)||this;return i.config=e||{},i.opt=n,i.em=n.em,i.ensureSelectors(null,null,{}),i.on("change",i.__onChange),i}return Ff(s,h),s.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},s.prototype.__onChange=function(e,n){var i=this.em,u=this.changedAttributes();u&&!(0,H.isEmptyObj)(u)&&(i==null||i.changesUp(n))},s.prototype.clone=function(){var e=zl({},this.opt),n=zl({},this.attributes);return n.selectors=this.get("selectors").map(function(i){return i.clone()}),new this.constructor(n,e)},s.prototype.ensureSelectors=function(e,n,i){var u=this.em,m=u==null?void 0:u.get("SelectorManager"),O=[this,"change:selectors",this.ensureSelectors],P=this.getSelectors();if(this.stopListening.apply(this,O),P.models&&(P=Vf([],P.models,!0)),P=(0,k.isString)(P)?[P]:P,Array.isArray(P)){var L=P.filter(function(A){return A}).map(function(A){return m?m.add(A):A});P=new Gi(L)}this.set("selectors",P,i),this.listenTo.apply(this,O)},s.prototype.getAtRule=function(){var e=this.get("atRuleType"),n=this.get("mediaText"),i=e?"@".concat(e):n?"@media":"";return i+(n&&i?" ".concat(n):"")},s.prototype.selectorsToString=function(e){e===void 0&&(e={});var n=[],i=this.get("state"),u=this.get("selectorsAdd"),m={escape:function(L){return Pc&&Pc.escape?Pc.escape(L):L}},O=this.get("selectors").getFullString(0,m),P=i&&!e.skipState?":".concat(i):"";return O&&n.push("".concat(O).concat(P)),u&&!e.skipAdd&&n.push(u),n.join(", ")},s.prototype.getDeclaration=function(e){e===void 0&&(e={});var n="",i=this.attributes.important,u=this.selectorsToString(e),m=this.styleToString(zl({important:i},e)),O=this.get("singleAtRule");return(u||O)&&(m||e.allowEmpty)&&(n=O?m:"".concat(u,"{").concat(m,"}")),n},s.prototype.getDevice=function(){var e=this.em,n=this.attributes,i=n.atRuleType,u=n.mediaText,m=(e==null?void 0:e.get("DeviceManager").getDevices())||[],O=m.filter(function(P){return P.getWidthMedia()===""})[0];return i==="media"&&u?m.filter(function(P){return P.getWidthMedia()===((L=/(-?\d*\.?\d+)\w{0,}/.exec(u))?L[0]:"");var L})[0]||null:O||null},s.prototype.getState=function(){var e=this.em,n=this.get("state");return((e==null?void 0:e.get("SelectorManager").getStates())||[]).filter(function(i){return i.getName()===n})[0]||null},s.prototype.getComponent=function(){var e,n=this.getSelectors(),i=n.length==1&&n.at(0),u=i&&i.isId()&&i.get("name");return u&&((e=this.em)===null||e===void 0?void 0:e.get("DomComponents").getById(u))||null},s.prototype.toCSS=function(e){e===void 0&&(e={});var n="",i=this.getAtRule(),u=this.getDeclaration(e);return(u||e.allowEmpty)&&(n=u),i&&n&&(n="".concat(i,"{").concat(n,"}")),n},s.prototype.toJSON=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var u=N.Hn.prototype.toJSON.apply(this,n);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var m=this.defaults();(0,k.forEach)(m,function(O,P){u[P]===O&&delete u[P]}),delete u.style.__p,(0,k.isEmpty)(u.selectors)&&delete u.selectors,(0,k.isEmpty)(u.style)&&delete u.style}return u},s.prototype.compare=function(e,n,i,u){var m;u===void 0&&(u={});var O=n||"",P=i||"",L=u.selectorsAdd||"",A=u.atRuleType||"";P&&!A&&(A="media");var ot=((0,k.isArray)(e)||e.models?e.models||e:[e]).map(function(_e){return _e.getFullName()}),kt=(m=this.get("selectors"))===null||m===void 0?void 0:m.map(function(_e){return _e.getFullName()}),zt=ot.slice().sort(),Gt=kt.slice().sort();return!(ot.length!==kt.length||!zt.every(function(_e,Ee){return _e===Gt[Ee]}))&&this.get("state")===O&&this.get("mediaText")===P&&this.get("selectorsAdd")===L&&this.get("atRuleType")===A},s}(Ll);const of=kc;var af=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Js=function(h){function s(e,n){var i=h.call(this,e)||this;return i.editor=n==null?void 0:n.em,setTimeout(function(){i.on("remove",i.onRemove),i.on("add",i.onAdd)}),i}return af(s,h),s.prototype.toJSON=function(e){return N.FE.prototype.toJSON.call(this,e).filter(function(n){return n.style&&!n.shallow})},s.prototype.onAdd=function(e,n,i){e.ensureSelectors(e,n,i)},s.prototype.onRemove=function(e){var n=this.editor;n.stopListening(e),n.UndoManager.remove(e)},s.prototype.add=function(e,n){return n===void 0&&(n={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),n.em=this.editor,N.FE.prototype.add.apply(this,[e,n])},s}(N.FE);const Rf=Js;Js.prototype.model=of;var eu=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cl=function(){return Cl=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Cl.apply(this,arguments)},ru=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Sl=function(h){function s(e){var n=h.call(this,e,"CssComposer",null,{},_a)||this;n.Selectors=Gi,n.storageKey="styles";var i=n.config,u=i.pStylePrefix;return u&&(i.stylePrefix=u+i.stylePrefix),i.rules=n.em.config.style||i.rules||"",n.rules=new Rf([],i),n}return eu(s,h),s.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},s.prototype.postLoad=function(){var e,n=(e=this.em)===null||e===void 0?void 0:e.get("UndoManager");n&&n.add(this.getAll())},s.prototype.store=function(){return this.getProjectData()},s.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},s.prototype.add=function(e,n,i,u,m){u===void 0&&(u={}),m===void 0&&(m={});var O=n||"",P=i||"",L=Cl({},u),A=this.get(e,O,P,L);return A&&A.config&&!A.config.singleAtRule||(L.state=O,L.mediaText=P,L.selectors=[],P&&!L.atRuleType&&(L.atRuleType="media"),(A=new of(L,this.config)).get("selectors").add(e,m),this.rules.add(A,m)),A},s.prototype.get=function(e,n,i,u){var m=e;if((0,k.isString)(e)){var O=this.em.Selectors,P=e.split(",")[0].trim(),L=this.em.Parser.parserCss.checkNode({selectors:P})[0];m=O.get(L.selectors)}return this.rules.find(function(A){return A.compare(m,n,i,u)})||null},s.prototype.getAll=function(){return this.rules},s.prototype.addCollection=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i={});var u=this.em,m=[];(0,k.isString)(e)&&(e=u.Parser.parseCss(e));for(var O=e instanceof Array?e:[e],P=0,L=O.length;P<L;P++){var A=O[P]||{};if(A.selectors){var ot=u==null?void 0:u.Selectors;ot||console.warn("Selector Manager not found");for(var kt=A.selectors,zt=kt instanceof Array?kt:[kt],Gt=[],_e=0,Ee=zt.length;_e<Ee;_e++){var Se=ot.add(zt[_e]);Gt.push(Se)}var or=this.get(Gt,A.state,A.mediaText,A),yr=this.add(Gt,A.state,A.mediaText,A,n),Qr=!or||!n.avoidUpdateStyle,en=A.style||{};if((0,H.isObject)(i)&&yr.set(i,n),Qr){var En=n.extend?Cl(Cl({},yr.get("style")),en):en;yr.set("style",En,n)}m.push(yr)}}return m},s.prototype.addRules=function(e){return this.addCollection(e)},s.prototype.setRule=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i={});var u=i.atRuleType,m=i.atRuleParams,O=this.em.Parser.parserCss.checkNode({selectors:e,style:n})[0],P=O.state,L=O.selectorsAdd,A=this.em.Selectors.add(O.selectors),ot=this.add(A,P,m,{selectorsAdd:L,atRule:u});return i.addStyles?ot.addStyle(n,i):ot.setStyle(n,i),ot},s.prototype.getRule=function(e,n){n===void 0&&(n={});var i=this.em,u=i.Selectors,m=i.Parser.parserCss.checkNode({selectors:e})[0],O=u.get(m.selectors),P=m.state,L=m.selectorsAdd,A=n.atRuleType,ot=n.atRuleParams;return O?this.get(O,P,ot,{selectorsAdd:L,atRuleType:A}):void 0},s.prototype.getRules=function(e){var n=this.getAll();if(!e)return ru([],n.models,!0);var i={sort:!0},u=(0,k.isString)(e)?e.split(",").map(function(m){return m.trim()}):e;return n.filter(function(m){return u.indexOf(m.getSelectors().getFullString(null,i))>=0})},s.prototype.setIdRule=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i={});var u=i.addOpts,m=u===void 0?{}:u,O=i.mediaText,P=i.state||"",L=(0,k.isUndefined)(O)?this.em.getCurrentMedia():O,A=this.em.Selectors.add({name:e,type:vi.TYPE_ID},m),ot=this.add(A,P,L,{},m);return ot.setStyle(n,Cl(Cl({},i),m)),ot},s.prototype.getIdRule=function(e,n){n===void 0&&(n={});var i=n.mediaText,u=n.state||"",m=(0,k.isUndefined)(i)?this.em.getCurrentMedia():i,O=this.em.Selectors.get(e,vi.TYPE_ID);return O&&this.get(O,u,m)},s.prototype.setClassRule=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i={});var u=i.state||"",m=i.mediaText||this.em.getCurrentMedia(),O=this.em.Selectors.add({name:e,type:vi.TYPE_CLASS}),P=this.add(O,u,m);return P.setStyle(n,i),P},s.prototype.getClassRule=function(e,n){n===void 0&&(n={});var i=n.state||"",u=n.mediaText||this.em.getCurrentMedia(),m=this.em.Selectors.get(e,vi.TYPE_CLASS);return m&&this.get(m,i,u)},s.prototype.remove=function(e,n){var i=(0,k.isString)(e)?this.getRules(e):e,u=this.getAll().remove(i,n);return(0,k.isArray)(u)?u:[u]},s.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},s.prototype.getComponentRules=function(e,n){n===void 0&&(n={});var i=n.state,u=n.mediaText;n.current&&(i=this.em.get("state")||"",u=this.em.getCurrentMedia());var m=e.getId();return this.getAll().filter(function(O){return!(!(0,k.isUndefined)(i)&&O.get("state")!==i||!(0,k.isUndefined)(u)&&O.get("mediaText")!==u||O.getSelectorsString()!=="#".concat(m))})},s.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new $o({collection:this.rules,config:this.config}),this.rulesView.render().el},s.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},s}(et);const Hf=Sl,$p={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};var ju=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Ia=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ju(s,h),s.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},s.prototype.getId=function(){return this.id},s.prototype.getLabel=function(){return this.get("label")},s.prototype.getMedia=function(){return this.get("media")},s.prototype.getContent=function(){return this.get("content")},s.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,k.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},s}(N.Hn);var So=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ds=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return So(s,h),s}(N.FE);const xa=ds;ds.prototype.model=Ia;var Ol=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const nu=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Ol(s,h),s.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},s}(N.Hn);var sf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Du=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return sf(s,h),s}(N.FE);const Bf=Du;Du.prototype.model=nu;var lf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pi=function(h){function s(e,n){n===void 0&&(n={});var i=h.call(this,e)||this,u=i.model;return i.em=n.em,i.config=n,i.endDrag=i.endDrag.bind(i),i.ppfx=n.pStylePrefix||"",i.listenTo(u,"destroy remove",i.remove),i.listenTo(u,"change",i.render),i}return lf(s,h),s.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},s.prototype.__getModule=function(){return this.em.Blocks},s.prototype.handleClick=function(e){var n=this,i=n.config,u=n.model,m=n.em,O=u.get("onClick")||i.appendOnClick;if(m.trigger("block:click",u,e),O){if((0,k.isFunction)(O))return O(u,m==null?void 0:m.getEditor(),{event:e});var P,L,A=i.getSorter(),ot=u.get("content"),kt=m.getSelected();if(A.setDropContent(ot),kt)if(A.validTarget(kt.getEl(),ot).valid)P=kt;else{var zt=kt.parent();zt&&A.validTarget(zt.getEl(),ot).valid&&(P=zt,L=zt.components().indexOf(kt)+1)}if(!P){var Gt=m.getWrapper();A.validTarget(Gt.getEl(),ot).valid&&(P=Gt)}var _e=P&&P.append(ot,{at:L})[0];_e&&m.setSelected(_e,{scroll:1})}},s.prototype.startDrag=function(e){var n=this,i=n.config,u=n.em,m=n.model,O=m.get("disable");if(e.button===0&&i.getSorter&&!this.el.draggable&&!O){u.refreshCanvas();var P=i.getSorter();P.__currentBlock=m,P.setDragHelper(this.el,e),P.setDropContent(this.model.get("content")),P.startSort(this.el),(0,H.on)(document,"mouseup",this.endDrag)}},s.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},s.prototype.handleDrag=function(e){this.__getModule().__drag(e)},s.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},s.prototype.endDrag=function(){(0,H.off)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},s.prototype.render=function(){var e,n=this,i=n.em,u=n.el,m=n.$el,O=n.ppfx,P=n.model,L=P.get("disable"),A=P.get("attributes")||{},ot=A.class||"",kt="".concat(O,"block"),zt=i&&i.t("blockManager.labels.".concat(P.id))||P.get("label"),Gt=P.get("render"),_e=P.get("media"),Ee=L?"".concat(kt,"--disable"):"".concat(O,"four-color-h");m.attr(A),u.className="".concat(ot," ").concat(kt," ").concat(O,"one-bg ").concat(Ee).trim(),u.innerHTML=`
      `.concat(_e?'<div class="'.concat(kt,'__media">').concat(_e,"</div>"):"",`
      <div class="`).concat(kt,'-label">').concat(zt,`</div>
    `),u.title=A.title||((e=u.textContent)===null||e===void 0?void 0:e.trim()),u.setAttribute("draggable","".concat(!(!(0,H.hasDnd)(i)||L)));var Se=Gt&&Gt({el:u,model:P,className:kt,prefix:O});return Se&&(u.innerHTML=Se),this},s}(N.G7);const Iu=Pi;var fa=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wl=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},Ac=function(h){function s(e,n){var i=h.call(this,e)||this;i.config=n;var u=n.pStylePrefix||"";return i.em=n.em,i.pfx=u,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(u,"caret-icon"),i.activeClass="".concat(u,"open"),i.className="".concat(u,"block-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return fa(s,h),s.prototype.events=function(){return{"click [data-title]":"toggle"}},s.prototype.template=function(e){var n=e.pfx,i=e.label;return ft(Nu||(Nu=Wl([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),n,n,i,n)},s.prototype.attributes=function(){return this.model.get("attributes")||{}},s.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},s.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},s.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},s.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},s.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},s.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.pfx,"blocks-c"))),this.blocksEl},s.prototype.append=function(e){this.getBlocksEl().appendChild(e)},s.prototype.render=function(){var e=this,n=e.em,i=e.el,u=e.$el,m=e.model,O=e.pfx,P=n.t("blockManager.categories.".concat(m.id))||m.get("label");return i.innerHTML=this.template({pfx:O,label:P}),u.addClass(this.className),u.css({order:m.get("order")}),this.updateVisibility(),this},s}(N.G7);const Mc=Ac;var Nu,Fu=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lc=function(){return Lc=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Lc.apply(this,arguments)},Uf=function(h){function s(e,n){var i=h.call(this,e)||this;(0,k.bindAll)(i,"getSorter","onDrag","onDrop","onMove"),i.config=n||{},i.categories=e.categories||"",i.renderedCategories={};var u=i.config.pStylePrefix||"";i.ppfx=u,i.noCatClass="".concat(u,"blocks-no-cat"),i.blockContClass="".concat(u,"blocks-c"),i.catsClass="".concat(u,"block-categories");var m=i.collection;return i.listenTo(m,"add",i.addTo),i.listenTo(m,"reset",i.render),i.em=i.config.em,i.em&&(i.config.getSorter=i.getSorter),i}return Fu(s,h),s.prototype.__getModule=function(){return this.em.Blocks},s.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Lc(Lc({},this.config),e)},s.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var n=e.Utils,i=e.Canvas;this.sorter=new n.Sorter({container:i.getBody(),placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:i.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:e,canvasRelative:1})}return this.sorter}},s.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},s.prototype.onMove=function(e){this.__getModule().__drag(e),this.em.trigger("block:drag:move",e)},s.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},s.prototype.addTo=function(e){this.add(e)},s.prototype.add=function(e,n){var i=this.config,u=new Iu({model:e,attributes:e.get("attributes")},i).render().el,m=e.get("category");if(m&&this.categories&&!i.ignoreCategories){(0,k.isString)(m)?m={id:m,label:m}:(0,k.isObject)(m)&&!m.id&&(m.id=m.label);var O=this.categories.add(m),P=O.get("id"),L=this.getCategoriesEl(),A=this.renderedCategories[P];return e.set("category",O,{silent:!0}),!A&&L&&(A=new Mc({model:O},i).render(),this.renderedCategories[P]=A,L.appendChild(A.el)),void(A&&A.append(u))}n?n.appendChild(u):this.append(u)},s.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},s.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},s.prototype.append=function(e){var n=this.getBlocksEl();n&&n.appendChild(e)},s.prototype.render=function(){var e=this,n=this.ppfx,i=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories={},this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(m){return e.add(m,i)}),this.append(i);var u="".concat(this.blockContClass,"s ").concat(n,"one-bg ").concat(n,"two-color");return this.$el.addClass(u),this.rendered=!0,this},s}(N.G7);const jc=Uf;var zf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qs=function(){return Qs=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Qs.apply(this,arguments)},Wf="block",As="".concat(Wf,":"),tl="".concat(As,"add"),gp="".concat(As,"update"),Vu="".concat(As,"remove"),$f="".concat(Vu,":before"),hs="".concat(As,"drag"),Dc={all:Wf,update:gp,add:tl,remove:Vu,removeBefore:$f,drag:hs,dragStart:"".concat(hs,":start"),dragEnd:"".concat(hs,":stop"),custom:"".concat(As,"custom")},$l=function(h){function s(e){var n,i=this;return(i=h.call(this,e,"BlockManager",new xa(((n=e.config.blockManager)===null||n===void 0?void 0:n.blocks)||[]),Dc,$p)||this).Block=Ia,i.Blocks=xa,i.Category=nu,i.Categories=Bf,i.storageKey="",i.blocks=i.all,i.blocksVisible=new xa(i.blocks.models),i.categories=new Bf,i.blocks.on("add",function(u){return i.blocksVisible.add(u)}),i.blocks.on("remove",function(u){return i.blocksVisible.remove(u)}),i.blocks.on("reset",function(u){return i.blocksVisible.reset(u.models)}),i.__onAllEvent=(0,k.debounce)(function(){return i.__trgCustom()},0),i}return zf(s,h),s.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},s.prototype.__customData=function(){var e=this,n=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:n.container,dragStart:function(i,u){return e.startDrag(i,u)},drag:function(i){return e.__drag(i)},dragStop:function(i){return e.endDrag(i)}}},s.prototype.__startDrag=function(e,n){var i=this,u=i.em,m=i.events,O=i.blocks,P=e.getContent?e.getContent():e;this._dragBlock=e,u.set({dragResult:null,dragContent:P}),[u,O].map(function(L){return L.trigger(m.dragStart,e,n)})},s.prototype.__drag=function(e){var n=this,i=n.em,u=n.events,m=n.blocks,O=this._dragBlock;[i,m].map(function(P){return P.trigger(u.drag,O,e)})},s.prototype.__endDrag=function(e){e===void 0&&(e={});var n=this,i=n.em,u=n.events,m=n.blocks,O=this._dragBlock,P=e.component||i.get("dragResult");if(delete this._dragBlock,P&&O){var L="activeOnRender",A=P.get&&P.get(L),ot=O.get("activate")||A,kt=O.get("select"),zt=(0,k.isArray)(P)?P[0]:P;(kt||ot&&kt!==!1)&&i.setSelected(zt),ot&&(zt.trigger("active"),A&&zt.unset(L)),O.get("resetId")&&zt.onAll(function(Gt){return Gt.resetId()})}i.set({dragResult:null,dragContent:null}),O&&[i,m].map(function(Gt){return Gt.trigger(u.dragEnd,P,O)})},s.prototype.__getFrameViews=function(){return this.em.get("Canvas").getFrames().map(function(e){return e.view})},s.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Qs(Qs({},this._bhv||{}),e)},s.prototype.__getBehaviour=function(){return this._bhv||{}},s.prototype.startDrag=function(e,n){this.__startDrag(e,n),this.__getFrameViews().forEach(function(i){return i.droppable.startCustom()})},s.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(n){return n.droppable.endCustom(e)}),this.__endDrag()},s.prototype.postRender=function(){var e=this,n=e.categories,i=e.config,u=e.em,m=this.blocksVisible;this.blocksView=new jc({collection:m,categories:n},Qs(Qs({},i),{em:u})),this.__appendTo(m.models),this.__trgCustom()},s.prototype.add=function(e,n,i){i===void 0&&(i={});var u=n||{};return u.id=e,this.blocks.add(u,i)},s.prototype.get=function(e){return this.blocks.get(e)},s.prototype.getAll=function(){return this.blocks},s.prototype.getAllVisible=function(){return this.blocksVisible},s.prototype.remove=function(e,n){return n===void 0&&(n={}),this.__remove(e,n)},s.prototype.getCategories=function(){return this.categories},s.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},s.prototype.render=function(e,n){n===void 0&&(n={});var i=this,u=i.categories,m=i.config,O=i.em,P=e||this.getAll().models;if(n.external){var L=new xa(P);return new jc({collection:L,categories:u},Qs(Qs({em:O},m),n)).render().el}return this.blocksView&&(this.blocksView.updateConfig(n),this.blocksView.collection.reset(P),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},s.prototype.destroy=function(){var e,n=[this.blocks,this.blocksVisible,this.categories];n.map(function(i){return i.stopListening()}),n.map(function(i){return i.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},s}(et);const ou=$l,cf={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};var Gl=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ql=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Gl(s,h),s.prototype.defaults=function(){return{name:"",label:""}},s.prototype.getName=function(){return this.get("name")},s.prototype.getLabel=function(){return this.get("label")||this.getName()},s}(N.Hn);const Kl=ql;ql.prototype.idAttribute="name";var ki=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ru=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},Gf="contentEditable",vp=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this,i=e.config||{};return n.config=i,n.module=e.module,n.coll=e.coll||null,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.listenTo(n.model,"change:active",n.updateStatus),n}return ki(s,h),s.prototype.template=function(){var e=this,n=e.pfx,i=e.model,u=e.config,m=i.get("label")||"";return ft(Yl||(Yl=Ru([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),n,n,n,m,n,n,u.iconTagRemove)},s.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},s.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},s.prototype.startEditTag=function(){var e=this.em,n=this.getInputEl();n[Gf]="true",n.focus(),e==null||e.setEditing(!0)},s.prototype.endEditTag=function(){var e=this.model,n=this.em,i=this.getInputEl(),u=i.textContent||"",m=n==null?void 0:n.Selectors;i[Gf]="false",n==null||n.setEditing(!1),m&&m.rename(e,u)!==e&&(i.innerText=e.get("label"))},s.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.get("active"))},s.prototype.removeTag=function(){this.module.removeSelected(this.model)},s.prototype.updateStatus=function(){var e=this,n=e.model,i=e.$el,u=e.config,m=u.iconTagOn,O=u.iconTagOff,P=i.find("[data-tag-status]");n.get("active")?(P.html(m),i.removeClass("opac50")):(P.html(O),i.addClass("opac50"))},s.prototype.render=function(){var e=this.pfx,n=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(e,"tag ").concat(n,"three-bg")),this.updateStatus(),this},s}(N.G7);const Ca=vp;var Yl,uf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yc=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},iu=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.config=e.config||{},n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.className=n.pfx+"tags",n.stateInputId=n.pfx+"states",n.stateInputC=n.pfx+"input-c",n.states=n.config.states||[];var i=n.config.em,u=n.collection;n.target=i;var m=i.Selectors;return n.module=m,n.em=i,n.componentChanged=(0,k.debounce)(n.componentChanged.bind(n),0),n.checkSync=(0,k.debounce)(n.checkSync.bind(n),0),n.listenTo(i,"component:toggled component:update:classes",n.componentChanged),n.listenTo(i,"styleManager:update",n.componentChanged),n.listenTo(i,"component:update:classes change:state",n.__handleStateChange),n.listenTo(i,"styleable:change change:device",n.checkSync),n.listenTo(u,"add",n.addNew),n.listenTo(u,"reset",n.renderClasses),n.listenTo(u,"remove",n.tagRemoved),n.listenTo(m.getAll(),m.events.state,(0,k.debounce)(function(){return n.renderStates()},0)),n.delegateEvents(),n}return uf(s,h),s.prototype.template=function(e){var n=e.labelInfo,i=e.labelHead,u=e.iconSync,m=e.iconAdd,O=e.pfx,P=e.ppfx;return ft(Ic||(Ic=yc([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),O,O,O,O,i,O,O,O,P,P,P,O,P,P,O,P,O,O,O,O,O,m,O,O,u,O,O,n,O)},s.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},s.prototype.syncStyle=function(){var e,n=this.em,i=this.getTarget(),u=n.Css,m=this.getCommonSelectors({opts:{noDisabled:1}}),O=n.get("state"),P=n.getCurrentMedia(),L=[],A=u.get(m,O,P)||u.add(m,O,P);this.getTargets().forEach(function(ot){var kt=u.getIdRule(ot.getId(),{state:O,mediaText:P});e=kt.getStyle(),kt.setStyle({}),L.push(kt)}),e&&A.addStyle(e),n.trigger("component:toggled"),n.trigger("component:sync-style",{component:i,selectors:m,mediaText:P,rule:A,ruleComponents:L,state:O})},s.prototype.tagRemoved=function(e){this.updateStateVis()},s.prototype.addNew=function(e){this.addToClasses(e)},s.prototype.startNewTag=function(){var e,n;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(n=this.$input)===null||n===void 0||n.show().focus()},s.prototype.endNewTag=function(){var e,n;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(n=this.$input)===null||n===void 0||n.hide().val("")},s.prototype.onInputKeyUp=function(e){var n;e.keyCode===13?(e.preventDefault(),this.addNewTag((n=this.$input)===null||n===void 0?void 0:n.val())):e.keyCode===27&&this.endNewTag()},s.prototype.checkStates=function(){var e=this.em.getState(),n=this.getStates();n&&n.val(e)},s.prototype.componentChanged=function(e){var n=(e===void 0?{}:e).targets;this.updateSelection(n)},s.prototype.updateSelection=function(e){var n=e||this.getTargets(),i=[];return(n=(0,k.isArray)(n)?n:[n])&&n.length&&(i=this.getCommonSelectors({targets:n}),this.checkSync({validSelectors:i})),this.collection.reset(i),this.updateStateVis(n),this.module.__trgCustom(),i},s.prototype.getCommonSelectors=function(e){var n=e===void 0?{}:e,i=n.targets,u=n.opts,m=u===void 0?{}:u,O=i||this.getTargets();return this.module.__getCommonSelectors(O,m)},s.prototype._commonSelectors=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(e=this.module).__common.apply(e,n)},s.prototype.checkSync=function(){var e,n=this,i=n.$btnSyncEl,u=n.config,m=n.collection,O=this.getTarget();if(O&&u.componentFirst&&m.length){var P=O.getStyle();e=!(0,k.isEmpty)(P)}i&&i[e?"show":"hide"]()},s.prototype.getTarget=function(){return this.target.getSelected()},s.prototype.getTargets=function(){return this.target.getSelectedAll()},s.prototype.updateStateVis=function(e){var n=this.em,i=n&&n.getConfig().avoidInlineStyle,u=this.collection.length||i?"":"none";this.getStatesC().css("display",u),this.updateSelector(e)},s.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},s.prototype.updateSelector=function(e){var n=this,i=this.el.querySelector("[data-selected]"),u=[],m=e||this.getTargets();(m=(0,k.isArray)(m)?m:[m]).forEach(function(O){return u.push(n.__getName(O))}),i&&(i.innerHTML=u.join(", ")),this.checkStates()},s.prototype.__getName=function(e){var n,i=this,u=i.pfx,m=i.config,O=i.em,P=m.selectedName,L=m.componentFirst;if((0,k.isString)(e))n=ft(qf||(qf=yc(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),u,e);else{var A=e==null?void 0:e.getSelectors();if(!A)return"";var ot=A.getStyleable(),kt=O.get("state"),zt=e.getId?ft(Ms||(Ms=yc(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),u,e.getName(),u,e.getId()):"";n=(n=this.collection.getFullString(ot))?ft(Nc||(Nc=yc(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),u,n):e.get("selectorsAdd")||zt,n=L&&zt?zt:n,n+=kt?ft(Zl||(Zl=yc(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),u,kt):"",n=P?P({result:n,state:kt,target:e}):n}return n&&'<span class="'.concat(u,'sel">').concat(n,"</span>")},s.prototype.stateChanged=function(e){var n=this.em,i=e.target.value;n.set("state",i)},s.prototype.addNewTag=function(e){var n=e.trim();n&&(this.module.addSelected({label:n}),this.endNewTag())},s.prototype.addToClasses=function(e,n){var i=n,u=this.getClasses(),m=new Ca({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return i?i.appendChild(m):u.append(m),m},s.prototype.renderClasses=function(){var e=this,n=document.createDocumentFragment(),i=this.getClasses();i.empty(),this.collection.each(function(u){return e.addToClasses(u,n)}),i.append(n)},s.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},s.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},s.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},s.prototype.renderStates=function(){var e=this.module,n=this.em,i=n.t("selectorManager.emptyState"),u=e.getStates().map(function(O){var P=n.t("selectorManager.states.".concat(O.id))||O.getLabel()||O.id;return'<option value="'.concat(O.id,'">').concat(P,"</option>")}).join(""),m=this.getStates();m&&m.html('<option value="">'.concat(i,"</option>").concat(u)),this.checkStates()},s.prototype.render=function(){var e=this,n=e.em,i=e.pfx,u=e.ppfx,m=e.config,O=e.$el,P=e.el,L=m.render,A={iconSync:m.iconSync,iconAdd:m.iconAdd,labelHead:n.t("selectorManager.label"),labelInfo:n.t("selectorManager.selected"),ppfx:u,pfx:i,el:P};O.html(this.template(A));var ot=L&&L(A);return ot&&ot!==P&&O.empty().append(ot),this.$input=O.find("[data-input]"),this.$addBtn=O.find("[data-add]"),this.$classes=O.find("#"+i+"tags-c"),this.$btnSyncEl=O.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),O.attr("class","".concat(this.className," ").concat(u,"one-bg ").concat(u,"two-color")),this},s}(N.G7);const au=iu;var Ic,qf,Ms,Nc,Zl,Hu=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xi=function(){return Xi=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Xi.apply(this,arguments)},Bu=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Kf=function(h){return(0,k.isString)(h)&&h[0]=="#"},el=function(h){return(0,k.isString)(h)&&h[0]=="."},Fc="selector",rl="".concat(Fc,":"),su="".concat(rl,"add"),Na="".concat(rl,"update"),bc="".concat(rl,"remove"),Yf="".concat(bc,":before"),ff="".concat(rl,"custom"),nl="".concat(rl,"state"),Tl={all:Fc,update:Na,add:su,remove:bc,removeBefore:Yf,state:nl,custom:ff},Vc=function(h){function s(e){var n=h.call(this,e,"SelectorManager",new Gi([]),Tl,cf,{skipListen:!0})||this;n.Selector=vi,n.Selectors=Gi,n.storageKey="",(0,k.bindAll)(n,"__updateSelectedByComponents");var i=n.config,u=i.pStylePrefix;return u&&(i.stylePrefix=u+i.stylePrefix),n.all=new Gi(i.selectors),n.selected=new Gi([],{em:e,config:i}),n.states=new N.FE(i.states.map(function(m){return new Kl(m)}),{model:Kl}),n.model=new N.Hn({cFirst:i.componentFirst,_undo:!0}),n.__update=(0,k.debounce)(function(){return n.__trgCustom()},0),n.__initListen({collections:[n.states,n.selected],propagate:[{entity:n.states,event:n.events.state}]}),e.on("change:state",function(m,O){return e.trigger(nl,O)}),n.model.on("change:cFirst",function(m,O){return e.trigger("selector:type",O)}),e.on("component:toggled component:update:classes",n.__updateSelectedByComponents),n.model.listenTo(e,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target",function(){return n.__update()}),n}return Hu(s,h),s.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},s.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?Bu([],this.all.models,!0):this.all:[]},s.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},s.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},s.prototype.select=function(e,n){n===void 0&&(n={});var i=Array.isArray(e)?e:[e],u=this.em.Styles.select(i,n);this.selected.reset(this.__getCommonSelectors(u));var m=this.selectorTags,O=u.filter(function(P){return P}).map(function(P){return(0,H.isComponent)(P)||(0,H.isRule)(P)&&!P.get("selectorsAdd")?P:P.getSelectorsString()});return m&&m.componentChanged({targets:O}),this},s.prototype.addSelector=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i={});var u=Xi({},n);(0,k.isObject)(e)?u=e:u.name=e,Kf(u.name)?(u.name=u.name.substr(1),u.type=vi.TYPE_ID):el(u.name)&&(u.name=u.name.substr(1)),u.label&&!u.name&&(u.name=this.escapeName(u.label));var m=u.name,O=this.getConfig(),P=this.all,L=this.em,A=m?this.get(m,u.type):P.where(u)[0];if(!A){var ot=u instanceof vi?u:new vi(u,Xi(Xi({},i),{config:O,em:L}));return P.add(ot,i)}return A},s.prototype.getSelector=function(e,n){return n===void 0&&(n=vi.TYPE_CLASS),Kf(e)?(e=e.substr(1),n=vi.TYPE_ID):el(e)&&(e=e.substr(1)),this.all.where({name:e,type:n})[0]},s.prototype.add=function(e,n){var i=this;n===void 0&&(n={});var u=(0,k.isString)(e)?{}:n;return(0,k.isArray)(e)?e.map(function(m){return i.addSelector(m,n,u)}):this.addSelector(e,n,u)},s.prototype.addClass=function(e){var n=this,i=[];return(0,k.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(u){return i.push(n.addSelector(u))}),i},s.prototype.get=function(e,n){var i=this;if((0,k.isArray)(e)){var u=[];return e.map(function(m){return i.getSelector(m)}).filter(Boolean).forEach(function(m){return u.indexOf(m)<0&&u.push(m)}),u}return this.getSelector(e,n)},s.prototype.remove=function(e,n){return this.__remove(e,n)},s.prototype.rename=function(e,n,i){var u=this.escapeName(n);return this.get(u)||e.set({name:u,label:n},i)},s.prototype.setState=function(e){return this.em.setState(e),this},s.prototype.getState=function(){return this.em.getState()},s.prototype.getStates=function(){return Bu([],this.states.models,!0)},s.prototype.setStates=function(e,n){return this.states.reset(e.map(function(i){return new Kl(i)}),n)},s.prototype.getSelected=function(){return this.__getCommon()},s.prototype.getSelectedAll=function(){return Bu([],this.selected.models,!0)},s.prototype.addSelected=function(e){var n=this.add(e);this.em.getSelectedAll().forEach(function(i){i.getSelectors().add(n)})},s.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(n){!e.get("protected")&&n&&n.getSelectors().remove(e)})},s.prototype.duplicateSelected=function(e,n){var i=this;n===void 0&&(n={});var u=this.em,m=this.getSelected();if(!(m.indexOf(e)<0)){var O=this.getState(),P=u.getCurrentMedia(),L=u.Css.get(m,O,P),A=L==null?void 0:L.getStyle();u.getSelectedAll().forEach(function(ot){var kt=ot.getSelectors();if(kt.includes(e)){var zt=n.suffix||" copy",Gt=e.getLabel(),_e=i.addSelector("".concat(Gt).concat(zt)),Ee=kt.indexOf(e);kt.remove(e),kt.add(_e,{at:Ee})}}),A&&u.Css.add(this.getSelected(),O,P).setStyle(A)}},s.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},s.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},s.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},s.prototype.escapeName=function(e){var n=this.getConfig().escapeName;return n?n(e):vi.escapeName(e)},s.prototype.render=function(e){var n=this.selectorTags,i=this.getConfig(),u=n==null?void 0:n.el;return this.selected.reset(e),this.selectorTags=new au({el:u,collection:this.selected,module:this,config:i}),this.selectorTags.render().el},s.prototype.destroy=function(){var e=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},s.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},s.prototype.__getCommonSelectors=function(e,n){n===void 0&&(n={});var i=e.map(function(u){return u.getSelectors&&u.getSelectors().getValid(n)}).filter(Boolean);return this.__common.apply(this,i)},s.prototype.__common=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length?n.length===1?n[0]:n.length===2?n[0].filter(function(u){return n[1].indexOf(u)>=0}):n.slice(1).reduce(function(u,m){return e.__common(u,m)},n[0]):[]},s.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},s}(et);const pf=Vc,Uu={textTags:["br","b","i","u","a","ul","ol"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,keepEmptyTextNodes:!1}};var df={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},lu=(0,k.keys)(df),mp=["5","6","11","15"],Sa=["font-face","page","counter-style","viewport"],cu=function(h){h===void 0&&(h="");for(var s=[],e=[],n=h.split(","),i=0,u=n.length;i<u;i++){var m=n[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(m)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(m)){var O=m.split(".").filter(Boolean);e.push(O)}else s.push(m)}return{result:e,add:s}},yp=function(h){for(var s=h.style,e={},n=0,i=s.length;n<i;n++){var u=s[n],m=s.getPropertyValue(u),O=s.getPropertyPriority(u);e[u]="".concat(m).concat(O?" !".concat(O):"")}return e},Rc=function(h){return(h.conditionText||h.media&&h.media.mediaText||h.name||h.selectorText||"").trim()},hf=function(h,s,e){s===void 0&&(s={}),e===void 0&&(e={});var n={},i=h.length,u=h[i-1],m=u?u.split(/:(.+)/):[],O=m[1],P=e.atRule,L=e.selectorsAdd,A=e.mediaText;return Sa.indexOf(P)>=0&&(n.singleAtRule=!0),P&&(n.atRuleType=P),L&&(n.selectorsAdd=L),A&&(n.mediaText=A),O&&(h[i-1]=m[0],n.state=O,m.splice(m.length-1,1)),n.selectors=h,n.style=s,n},Hc=function(h){for(var s=[],e=h.cssRules||[],n=0,i=e.length;n<i;n++){var u=e[n],m=u.type.toString(),O=!1,P="",L="",A=u.selectorText||u.keyText,ot=mp.indexOf(m)>=0;if(ot)O=!0,P=df[m],L=Rc(u);else if(lu.indexOf(m)>=0){var kt=Hc(u);L=Rc(u);for(var zt=0,Gt=kt.length;zt<Gt;zt++){var _e=kt[zt];L&&(_e.mediaText=L),_e.atRuleType=df[m]}s=s.concat(kt)}if(A||ot){for(var Ee=yp(u),Se=cu(A),or=Se.add,yr=Se.result,Qr=void 0,en=0,En=yr.length;en<En;en++){var An=hf(yr[en],Ee,{atRule:df[m]});s.push(An),Qr=An}if(or.length){var yo=or.join(", ");Qr?Qr.selectorsAdd=yo:(An={selectors:[],selectorsAdd:yo,style:Ee},O&&(An.singleAtRule=O),P&&(An.atRuleType=P),L&&(An.mediaText=L),s.push(An))}}}return s};const Bc=function(h,s){return s===void 0&&(s={}),{parse:function(e){var n=this,i=[],u=s.parserCss,m=h==null?void 0:h.Editor,O=u?u(e,m):function(P){var L=document.createElement("style");L.innerHTML=P,document.head.appendChild(L);var A=L.sheet;return document.head.removeChild(L),Hc(A)}(e);return O.forEach(function(P){return i=i.concat(n.checkNode(P))}),h==null||h.trigger("parse:css",{input:e,output:i}),i},checkNode:function(e){var n=e.selectors,i=e.style,u=[e];if((0,k.isString)(n)){var m=[],O=e,P=cu(n),L=P.result,A=P.add.join(", "),ot={atRule:O.atRule,mediaText:O.params};L.length?L.forEach(function(kt){m.push(hf(kt,i,ot))}):m.push(hf([],i,ot)),A&&(m[m.length-1].selectorsAdd=A),u=m}return u}}};var Zf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gf=function(h){function s(e){var n=h.call(this,e,"Parser",Uu)||this,i=n.config;return n.parserCss=Bc(e,i),n.parserHtml=Di(e,i),n}return Zf(s,h),s.prototype.parseHtml=function(e,n){n===void 0&&(n={});var i=this.em,u=this.parserHtml;return u.compTypes=i.Components.getTypes()||{},u.parse(e,this.parserCss,n)},s.prototype.parseCss=function(e){return this.parserCss.parse(e)},s.prototype.destroy=function(){},s}(Tt);const Xf=gf,bp={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(h){return h},onLoad:function(h){return h},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(h){return h},onLoad:function(h){return h}}}};var El=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},ol=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}};const wc=function(){function h(){}return h.prototype.store=function(s,e){return e===void 0&&(e={}),El(this,void 0,void 0,function(){return ol(this,function(n){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(s)),[2,s]})})},h.prototype.load=function(s){return s===void 0&&(s={}),El(this,void 0,void 0,function(){var e;return ol(this,function(n){return e={},this.hasLocal(s,!0)&&(e=JSON.parse(localStorage.getItem(s.key)||"{}")),[2,e]})})},h.prototype.hasLocal=function(s,e){if(s===void 0&&(s={}),s.checkLocal&&(!(0,H.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},h}();function gs(h){return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},gs(h)}function Ls(h,s){this.name="AggregateError",this.errors=h,this.message=s||""}Ls.prototype=Error.prototype;var Uc=setTimeout;function zc(h){return!!(h&&h.length!==void 0)}function Xl(){}function ai(h){if(!(this instanceof ai))throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Wc(h,this)}function vf(h,s){for(;h._state===3;)h=h._value;h._state!==0?(h._handled=!0,ai._immediateFn(function(){var e=h._state===1?s.onFulfilled:s.onRejected;if(e!==null){var n;try{n=e(h._value)}catch(i){return void Pl(s.promise,i)}Wo(s.promise,n)}else(h._state===1?Wo:Pl)(s.promise,h._value)})):h._deferreds.push(s)}function Wo(h,s){try{if(s===h)throw new TypeError("A promise cannot be resolved with itself.");if(s&&(gs(s)==="object"||typeof s=="function")){var e=s.then;if(s instanceof ai)return h._state=3,h._value=s,void vs(h);if(typeof e=="function")return void Wc((n=e,i=s,function(){n.apply(i,arguments)}),h)}h._state=1,h._value=s,vs(h)}catch(u){Pl(h,u)}var n,i}function Pl(h,s){h._state=2,h._value=s,vs(h)}function vs(h){h._state===2&&h._deferreds.length===0&&ai._immediateFn(function(){h._handled||ai._unhandledRejectionFn(h._value)});for(var s=0,e=h._deferreds.length;s<e;s++)vf(h,h._deferreds[s]);h._deferreds=null}function ms(h,s,e){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof s=="function"?s:null,this.promise=e}function Wc(h,s){var e=!1;try{h(function(n){e||(e=!0,Wo(s,n))},function(n){e||(e=!0,Pl(s,n))})}catch(n){if(e)return;e=!0,Pl(s,n)}}ai.prototype.catch=function(h){return this.then(null,h)},ai.prototype.then=function(h,s){var e=new this.constructor(Xl);return vf(this,new ms(h,s,e)),e},ai.prototype.finally=function(h){var s=this.constructor;return this.then(function(e){return s.resolve(h()).then(function(){return e})},function(e){return s.resolve(h()).then(function(){return s.reject(e)})})},ai.all=function(h){return new ai(function(s,e){if(!zc(h))return e(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(h);if(n.length===0)return s([]);var i=n.length;function u(O,P){try{if(P&&(gs(P)==="object"||typeof P=="function")){var L=P.then;if(typeof L=="function")return void L.call(P,function(A){u(O,A)},e)}n[O]=P,--i==0&&s(n)}catch(A){e(A)}}for(var m=0;m<n.length;m++)u(m,n[m])})},ai.any=function(h){var s=this;return new s(function(e,n){if(!h||h.length===void 0)return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(h);if(i.length===0)return n();for(var u=[],m=0;m<i.length;m++)try{s.resolve(i[m]).then(e).catch(function(O){u.push(O),u.length===i.length&&n(new Ls(u,"All promises were rejected"))})}catch(O){n(O)}})},ai.allSettled=function(h){return new this(function(s,e){if(!h||h.length===void 0)return e(new TypeError(gs(h)+" "+h+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(h);if(n.length===0)return s([]);var i=n.length;function u(O,P){if(P&&(gs(P)==="object"||typeof P=="function")){var L=P.then;if(typeof L=="function")return void L.call(P,function(A){u(O,A)},function(A){n[O]={status:"rejected",reason:A},--i==0&&s(n)})}n[O]={status:"fulfilled",value:P},--i==0&&s(n)}for(var m=0;m<n.length;m++)u(m,n[m])})},ai.resolve=function(h){return h&&gs(h)==="object"&&h.constructor===ai?h:new ai(function(s){s(h)})},ai.reject=function(h){return new ai(function(s,e){e(h)})},ai.race=function(h){return new ai(function(s,e){if(!zc(h))return e(new TypeError("Promise.race accepts an array"));for(var n=0,i=h.length;n<i;n++)ai.resolve(h[n]).then(s,e)})},ai._immediateFn=typeof setImmediate=="function"&&function(h){setImmediate(h)}||function(h){Uc(h,0)},ai._unhandledRejectionFn=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)};const $c=ai;(0,H.hasWin)()&&(window.Promise=window.Promise||$c);const Jf=typeof fetch=="function"?fetch.bind():function(h,s){return new $c(function(e,n){var i=new XMLHttpRequest;for(var u in i.open(s.method||"get",h),i.withCredentials=s.credentials=="include",s.headers||{})i.setRequestHeader(u,s.headers[u]);i.onload=function(m){return e({status:i.status,statusText:i.statusText,text:function(){return $c.resolve(i.responseText)}})},i.onerror=n,i.upload&&s.onProgress&&(i.upload.onprogress=s.onProgress),s.body?i.send(s.body):i.send()})};var Jl=function(){return Jl=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Jl.apply(this,arguments)},Ya=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},Fa=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}};const _c=function(){function h(){}return h.prototype.store=function(s,e){return e===void 0&&(e={}),Ya(this,void 0,void 0,function(){return Fa(this,function(n){switch(n.label){case 0:return[4,this.request(e.urlStore,this.__props(e,s),e)];case 1:return[2,n.sent()]}})})},h.prototype.load=function(s){return s===void 0&&(s={}),Ya(this,void 0,void 0,function(){return Fa(this,function(e){switch(e.label){case 0:return[4,this.request(s.urlLoad,this.__props(s),s)];case 1:return[2,e.sent()]}})})},h.prototype.request=function(s,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),Jf(s,e).then(function(i){var u=i.text();return(i.status/200|0)==1?u:u.then(Promise.reject)}).then(function(i){var u=i&&(0,k.isString)(i);return n.contentTypeJson&&u?JSON.parse(i):i})},h.prototype.__props=function(s,e){s===void 0&&(s={});var n,i=s.contentTypeJson,u=s.headers||{},m=s.fetchOptions||{},O="X-Requested-With",P="Content-Type";if((0,k.isUndefined)(u[O])&&(u[O]="XMLHttpRequest"),(0,k.isUndefined)(u[P])&&i&&(u[P]="application/json; charset=utf-8"),e)if(i)n=JSON.stringify(e);else for(var L in n=new FormData,e)n.append(L,e[L]);var A={method:n?"POST":"GET",credentials:s.credentials,headers:u,body:n};return Jl(Jl({},A),(0,k.isFunction)(m)?m(A):m)},h}();var Gc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ql=function(){return Ql=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ql.apply(this,arguments)},Oo=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},xc=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}},tc="storage:start",uu="storage:after",Qf="storage:end",qo="storage:error",fu="local",pu="remote",f=function(h){function s(e){var n=h.call(this,e,"StorageManager",bp)||this;n.storages={};var i=n.config;return i._disable&&(i.type=void 0),n.storages={},n.add(fu,new wc),n.add(pu,new _c),n.setCurrent(i.type),n}return Gc(s,h),s.prototype.isAutosave=function(){return!!this.config.autosave},s.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},s.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},s.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},s.prototype.add=function(e,n){return this.storages[e]=n,this},s.prototype.get=function(e){return this.storages[e]},s.prototype.getStorages=function(){return this.storages},s.prototype.getCurrent=function(){return this.config.currentStorage},s.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},s.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},s.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},s.prototype.store=function(e,n){return n===void 0&&(n={}),Oo(this,void 0,void 0,function(){var i,u,m,O,P;return xc(this,function(L){switch(L.label){case 0:i=this.getCurrentStorage(),u=Ql(Ql({},this.getCurrentOptions()),n),m=this.getRecoveryStorage(),O=this.getCurrentOptions(fu),L.label=1;case 1:return L.trys.push([1,5,,9]),[4,this.__exec(i,u,e)];case 2:return L.sent(),m?[4,this.__exec(m,O,{})]:[3,4];case 3:L.sent(),L.label=4;case 4:return[3,9];case 5:return P=L.sent(),m?[4,this.__exec(m,O,e)]:[3,7];case 6:return L.sent(),[3,8];case 7:throw P;case 8:return[3,9];case 9:return[2,e]}})})},s.prototype.load=function(e){return e===void 0&&(e={}),Oo(this,void 0,void 0,function(){var n,i,u,m,O;return xc(this,function(P){switch(P.label){case 0:return n=this.getCurrentStorage(),i=Ql(Ql({},this.getCurrentOptions()),e),(u=this.getRecoveryStorage())?[4,this.__exec(u,this.getCurrentOptions(fu))]:[3,5];case 1:if(O=P.sent(),(0,k.isEmpty)(O))return[3,5];P.label=2;case 2:return P.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return P.sent(),m=O,[3,5];case 4:return P.sent(),[3,5];case 5:return m?[3,7]:[4,this.__exec(n,i)];case 6:m=P.sent(),P.label=7;case 7:return[2,m||{}]}})})},s.prototype.__askRecovery=function(){var e=this.em,n=this.getRecovery();return new Promise(function(i,u){(0,k.isFunction)(n)?n(i,u,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?i(null):u()})},s.prototype.getRecovery=function(){return this.config.recovery},s.prototype.getRecoveryStorage=function(){return this.getRecovery()&&this.getCurrent()===pu&&this.get(fu)},s.prototype.__exec=function(e,n,i){var u;return Oo(this,void 0,void 0,function(){var m,O,P,L,A,ot,kt,zt,Gt,_e,Ee,Se,or;return xc(this,function(yr){switch(yr.label){case 0:if(m=i?"store":"load",O=this.getConfig(),P=O.onStore,L=O.onLoad,this.onStart(m,i),!e)return[2,i||{}];yr.label=1;case 1:return yr.trys.push([1,14,,15]),ot=(u=this.em)===null||u===void 0?void 0:u.getEditor(),kt=void 0,i?(Gt=P)?[4,P(i,ot)]:[3,3]:[3,7];case 2:Gt=yr.sent(),yr.label=3;case 3:return zt=Gt||i,(_e=n.onStore)?[4,n.onStore(zt,ot)]:[3,5];case 4:_e=yr.sent(),yr.label=5;case 5:return zt=_e||zt,[4,e.store(zt,n)];case 6:return kt=yr.sent(),A=i,[3,13];case 7:return[4,e.load(n)];case 8:return kt=yr.sent(),A=this.__clearKeys(kt),(Ee=n.onLoad)?[4,n.onLoad(A,ot)]:[3,10];case 9:Ee=yr.sent(),yr.label=10;case 10:return A=Ee||A,(Se=L)?[4,L(A,ot)]:[3,12];case 11:Se=yr.sent(),yr.label=12;case 12:A=Se||A,yr.label=13;case 13:return this.onAfter(m,A,kt),this.onEnd(m,A),[3,15];case 14:throw or=yr.sent(),this.onError(m,or),or;case 15:return[2,A]}})})},s.prototype.__clearKeys=function(e){e===void 0&&(e={});var n=this.getConfig(),i=new RegExp("^".concat(n.id)),u={};for(var m in e)u[m.replace(i,"")]=e[m];return u},s.prototype.getCurrentOptions=function(e){var n=this.getConfig(),i=e||this.getCurrent();return n.options[i]||{}},s.prototype.onStart=function(e,n){var i=this.em;i&&(i.trigger(tc),e&&i.trigger("".concat(tc,":").concat(e),n))},s.prototype.onAfter=function(e,n,i){var u=this.em;u&&(u.trigger(uu),u.trigger("".concat(uu,":").concat(e),n,i),u.trigger("storage:".concat(e),n,i))},s.prototype.onEnd=function(e,n){var i=this.em;i&&(i.trigger(Qf),e&&i.trigger("".concat(Qf,":").concat(e),n))},s.prototype.onError=function(e,n){var i=this.em;i&&(i.trigger(qo,n),e&&i.trigger("".concat(qo,":").concat(e),n),this.onEnd(e,n))},s.prototype.canAutoload=function(){return!!this.getCurrentStorage()&&!!this.config.autoload},s.prototype.destroy=function(){this.storages={}},s}(Tt);const g=f,S={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};var _=Y(330),T=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),D=function(){return D=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},D.apply(this,arguments)},K=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.events={},n.appendInput=!0;var i=e.config,u=i===void 0?{}:i,m=n,O=m.model,P=m.eventCapture,L=O.target,A=O.attributes.type;n.config=u,n.em=u.em,n.ppfx=u.pStylePrefix||"",n.pfx=n.ppfx+u.stylePrefix||"",n.target=L;var ot=n.ppfx;return n.clsField="".concat(ot,"field ").concat(ot,"field-").concat(A),[["change:value",n.onValueChange],["remove",n.removeView]].forEach(function(kt){var zt=kt[0],Gt=kt[1];O.off(zt,Gt),n.listenTo(O,zt,Gt)}),O.view=n,n.listenTo(O,"change:label",n.render),n.listenTo(O,"change:placeholder",n.rerender),n.events={},P.forEach(function(kt){return n.events[kt]="onChange"}),n.delegateEvents(),n.init(),n}return T(s,h),s.prototype.attributes=function(){return this.model.get("attributes")||{}},s.prototype.templateLabel=function(e){var n=this.ppfx,i=this.getLabel();return'<div class="'.concat(n,'label" title="').concat(i,'">').concat(i,"</div>")},s.prototype.templateInput=function(e){var n=this.clsField;return'<div class="'.concat(n,'" data-input></div>')},s.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},s.prototype.removeView=function(){this.remove(),this.removed()},s.prototype.init=function(){},s.prototype.removed=function(){},s.prototype.onRender=function(e){},s.prototype.onUpdate=function(e){},s.prototype.onEvent=function(e){},s.prototype.onChange=function(e){var n=this.getInputElem();n&&!(0,k.isUndefined)(n.value)&&this.model.set("value",n.value),this.onEvent(D(D({},this.getClbOpts()),{event:e}))},s.prototype.getValueForTarget=function(){return this.model.get("value")},s.prototype.setInputValue=function(e){var n=this.getInputElem();n&&(n.value=e)},s.prototype.onValueChange=function(e,n,i){if(i===void 0&&(i={}),i.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var u=this.getValueForTarget();e.setTargetValue(u,i)}},s.prototype.renderLabel=function(){var e=this.$el,n=this.target,i=this.getLabel(),u=this.templateLabel(n);this.createLabel&&(u=this.createLabel({label:i,component:n,trait:this})||""),e.find("[data-label]").append(u)},s.prototype.getLabel=function(){var e=this.em,n=this.model.attributes,i=n.label,u=n.name;return e.t("traitManager.traits.labels.".concat(u))||(0,H.capitalize)(i||u).replace(/-/g," ")},s.prototype.getComponent=function(){return this.target},s.prototype.getInputEl=function(){if(!this.$input){var e=this.em,n=this.model,i=n,u=n.attributes.name,m=i.get("placeholder")||i.get("default")||"",O=i.get("type")||"text",P=i.get("min"),L=i.get("max"),A=this.getModelValue(),ot=(0,I.default)('<input type="'.concat(O,'">')),kt=e.t("traitManager.traits.attributes.".concat(u))||{};ot.attr(D({placeholder:m},kt)),(0,k.isUndefined)(A)||(i.set({value:A},{silent:!0}),ot.prop("value",A)),P&&ot.prop("min",P),L&&ot.prop("max",L),this.$input=ot}return this.$input.get(0)},s.prototype.getInputElem=function(){var e=this.input,n=this.$input;return e||n&&n.get&&n.get(0)||this.getElInput()},s.prototype.getModelValue=function(){var e,n=this.model,i=this.target,u=n.getName();if(n.get("changeProp"))e=i.get(u);else{var m=i.get("attributes");e=n.get("value")||m[u]}return(0,k.isUndefined)(e)?"":e},s.prototype.getElInput=function(){return this.elInput},s.prototype.renderField=function(){var e=this,n=e.$el,i=e.appendInput,u=e.model,m=n.find("[data-input]"),O=m[m.length-1],P=u.el;P||(P=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,k.isString)(P)?(O.innerHTML=P,this.elInput=O.firstChild):(i?O.appendChild(P):O.insertBefore(P,O.firstChild),this.elInput=P),u.el=this.elInput},s.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},s.prototype.rerender=function(){delete this.model.el,this.render()},s.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},s.prototype.render=function(){var e=this,n=e.$el,i=e.pfx,u=e.ppfx,m=e.model.attributes,O=m.type,P=m.id,L=this.hasLabel&&this.hasLabel(),A="".concat(i,"trait");delete this.$input;var ot='<div class="'.concat(A," ").concat(A,"--").concat(O,`">
      `).concat(L?'<div class="'.concat(u,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(u,"field-wrp ").concat(u,"field-wrp--").concat(O,`" data-input>
        `).concat(this.templateInput?(0,k.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return n.empty().append(ot),L&&this.renderLabel(),this.renderField(),this.el.className="".concat(A,"__wrp ").concat(A,"__wrp-").concat(P),this.postUpdate(),this.onRender(this.getClbOpts()),this},s}(N.G7);const X=K;K.prototype.eventCapture=["change"];var mt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pt=function(h){function s(e,n){e===void 0&&(e={});var i=h.call(this,e)||this;i.reuseView=!0,i.itemsView=n;var u=e.config||{},m=e.editor;return i.config=u,i.em=m,i.ppfx=u.pStylePrefix||"",i.pfx=i.ppfx+u.stylePrefix||"",i.className="".concat(i.pfx,"traits"),i.listenTo(m,"component:toggled",i.updatedCollection),i.updatedCollection(),i}return mt(s,h),s.prototype.updatedCollection=function(){var e=this,n=e.ppfx,i=e.className,u=e.em.getSelected();this.el.className="".concat(i," ").concat(n,"one-bg ").concat(n,"two-color"),this.collection=u?u.traits:[],this.render()},s}(_.Z);const Jt=pt;pt.prototype.itemView=X;var ee=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const xe=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;return n.listenTo(n.model,"change:options",n.rerender),n}return ee(s,h),s.prototype.templateInput=function(){var e=this.ppfx,n=this.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},s.prototype.getInputEl=function(){if(!this.$input){var e=this.model,n=this.em,i=e.get("name"),u=e.get("options")||[],m=[],O="<select>";u.forEach(function(A){var ot,kt,zt,Gt="";(0,k.isString)(A)?(ot=A,kt=A):(ot=A.name||A.label||A.value,kt="".concat((0,k.isUndefined)(A.value)?A.id:A.value).replace(/"/g,"&quot;"),Gt+=(zt=A.style?A.style.replace(/"/g,"&quot;"):"")?' style="'.concat(zt,'"'):"");var _e=n.t("traitManager.traits.options.".concat(i,".").concat(kt))||ot;O+='<option value="'.concat(kt,'"').concat(Gt,">").concat(_e,"</option>"),m.push(kt)}),O+="</select>",this.$input=(0,I.default)(O);var P=e.getTargetValue(),L=m.indexOf(P)>=0?P:e.get("default");!(0,k.isUndefined)(L)&&this.$input.val(L)}return this.$input.get(0)},s}(X);var ge=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Ge=function(h){function s(){var e=h!==null&&h.apply(this,arguments)||this;return e.appendInput=!1,e}return ge(s,h),s.prototype.templateInput=function(){var e=this.ppfx,n=this.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},s.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},s.prototype.setInputValue=function(e){var n=this.getInputElem();n&&(n.checked=!!e)},s.prototype.getInputEl=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=!this.$input,u=X.prototype.getInputEl.apply(this,e);if(i){var m=void 0,O=void 0,P=this.model,L=this.target,A=P.attributes.valueFalse,ot=P.getName();P.get("changeProp")?O=m=L.get(ot):m=!(!(O=L.get("attributes")[ot])&&O!==""),(0,k.isUndefined)(A)||O!==A||(m=!1),u.checked=m}return u},s}(X);var Ke=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ze=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this,i=e.ppfx||"";return n.opts=e,n.ppfx=i,n.em=e.target||{},!e.onChange&&n.listenTo(n.model,"change:value",n.handleModelChange),n}return Ke(s,h),s.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},s.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},s.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},s.prototype.elementUpdated=function(){this.model.trigger("el:change")},s.prototype.setValue=function(e,n){var i=this.model,u=e||i.get("defaults"),m=this.getInputEl();m&&(m.value=u)},s.prototype.handleModelChange=function(e,n,i){this.setValue(n,i)},s.prototype.handleChange=function(e){e.stopPropagation();var n=this.getInputEl().value;this.__onInputChange(n),this.elementUpdated()},s.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},s.prototype.getInputEl=function(){if(!this.inputEl){var e=this.model,n=this.opts.type||"text",i=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,I.default)('<input type="'.concat(n,'" placeholder="').concat(i,'">'))}return this.inputEl.get(0)},s.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},s}(N.G7);const er=ze;ze.prototype.events={change:"handleChange"};var mr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),br=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;return(0,k.bindAll)(n,"moveIncrement","upIncrement"),n.doc=document,n.listenTo(n.model,"change:unit",n.handleModelChange),n}return mr(s,h),s.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},s.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},s.prototype.setValue=function(e,n){var i=n||{},u=this.validateInputValue(e,{deepCheck:1}),m={value:u.value,unit:""};(u.unit||u.force)&&(m.unit=u.unit),this.model.set(m,i),i.silent&&this.handleModelChange()},s.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},s.prototype.handleUnitChange=function(e){e.stopPropagation();var n=this.getUnitEl().value;this.model.set("unit",n),this.elementUpdated()},s.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},s.prototype.elementUpdated=function(){this.model.trigger("el:change")},s.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var n=this.getUnitEl();n&&(n.value=e.get("unit")||"")},s.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,n=e.get("units")||[];if(n.length){var i=['<option value="" disabled hidden>-</option>'];n.forEach(function(m){var O=m==e.get("unit")?"selected":"";i.push("<option ".concat(O,">").concat(m,"</option>"))});var u=document.createElement("div");u.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(i.join(""),"</select>"),this.unitEl=u.firstChild}}return this.unitEl},s.prototype.upArrowClick=function(){var e=this.model,n=e.get("step"),i=parseFloat(e.get("value"));this.setValue(this.normalizeValue(i+n)),this.elementUpdated()},s.prototype.downArrowClick=function(){var e=this.model,n=e.get("step"),i=parseFloat(e.get("value"));this.setValue(this.normalizeValue(i-n)),this.elementUpdated()},s.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var n=this.model.get("value")||0;n=this.normalizeValue(n),this.current={y:e.pageY,val:n},(0,H.on)(this.doc,"mousemove",this.moveIncrement),(0,H.on)(this.doc,"mouseup",this.upIncrement)},s.prototype.moveIncrement=function(e){this.moved=!0;var n=this.model,i=n.get("step"),u=this.current,m=this.normalizeValue(u.val+(u.y-e.pageY)*i),O=this.validateInputValue(m),P=O.value,L=O.unit;return this.prValue=P,n.set({value:P,unit:L},{avoidStore:1}),!1},s.prototype.upIncrement=function(){var e=this.model,n=e.get("step");if((0,H.off)(this.doc,"mouseup",this.upIncrement),(0,H.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var i=this.prValue-n;e.set("value",i,{avoidStore:1}).set("value",i+n),this.elementUpdated()}},s.prototype.normalizeValue=function(e,n){n===void 0&&(n=0);var i=this.model.get("step"),u=0;if(isNaN(e))return n;if(e=parseFloat(e),Math.floor(e)!==e){var m=i.toString().split(".")[1];u=m?m.length:0}return u?parseFloat(e.toFixed(u)):e},s.prototype.validateInputValue=function(e,n){n===void 0&&(n={});var i=0,u=n||{},m=this.model,O="",P=(0,k.isUndefined)(e)?O:e,L=n.units||m.get("units")||[],A=m.get("unit")||L.length&&L[0]||"",ot=(0,k.isUndefined)(n.max)?m.get("max"):n.max,kt=(0,k.isUndefined)(n.min)?m.get("min"):n.min,zt=!!m.get("limitlessMax"),Gt=!!m.get("limitlessMin");if(u.deepCheck){var _e=m.get("fixedValues")||[];if(P===""&&(A=""),P){var Ee=new RegExp("^"+_e.join("|"),"g");if(_e.length&&Ee.test(P))P=P.match(Ee)[0],A="",i=1;else{var Se=P+"";P+="",P=parseFloat(P.replace(",",".")),P=isNaN(P)?O:P;var or=Se.replace(P,"");(0,k.indexOf)(L,or)>=0&&(A=or)}}}return zt||(0,k.isUndefined)(ot)||ot===""||(P=P>ot?ot:P),Gt||(0,k.isUndefined)(kt)||kt===""||(P=P<kt?kt:P),{force:i,value:P,unit:A}},s.prototype.render=function(){er.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},s}(er);const Ar=br;br.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var Tr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Er=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Tr(s,h),s.prototype.getValueForTarget=function(){var e=this.model,n=e.attributes,i=n.value,u=n.unit;return(0,k.isUndefined)(i)||i===""?e.get("default"):i+u},s.prototype.getInputEl=function(){if(!this.input){var e=this.ppfx,n=this.model,i=this.getModelValue(),u=new Ar({contClass:"".concat(e,"field-int"),type:"number",model:n,ppfx:e});u.render(),this.$input=u.inputEl,this.$unit=u.unitEl,n.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=u.el}return this.input},s}(X);var gn=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ur=function(){return Ur=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ur.apply(this,arguments)};I.default&&function(h,s){if((0,H.hasWin)()){var e={beforeShow:Ns,move:Ns,change:Ns,show:Ns,hide:Ns,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},n=[],i=!!/msie/i.exec(window.navigator.userAgent),u=function(){function Ne(sr,Cr){return!!~(""+sr).indexOf(Cr)}var tr=document.createElement("div").style;return tr.cssText="background-color:rgba(0,0,0,.5)",Ne(tr.backgroundColor,"rgba")||Ne(tr.backgroundColor,"hsla")}(),m=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),O=function(){var Ne="";if(i)for(var tr=1;tr<=6;tr++)Ne+="<div class='sp-"+tr+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Ne,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),P="spectrum.id";h.fn.spectrum=function(Ne,tr){if(typeof Ne=="string"){var sr=this,Cr=Array.prototype.slice.call(arguments,1);return this.each(function(){var sn=n[h(this).data(P)];if(sn){var _r=sn[Ne];if(!_r)throw new Error("Spectrum: no such method: '"+Ne+"'");Ne=="get"?sr=sn.get():Ne=="container"?sr=sn.container:Ne=="option"?sr=sn.option.apply(sn,Cr):Ne=="destroy"?(sn.destroy(),h(this).removeData(P)):_r.apply(sn,Cr)}}),sr}return this.spectrum("destroy").each(function(){var sn=Po(this,h.extend({},Ne,h(this).data()));h(this).data(P,sn.id)})},h.fn.spectrum.load=!0,h.fn.spectrum.loadOpts={},h.fn.spectrum.draggable=_s,h.fn.spectrum.defaults=e,h.fn.spectrum.inputTypeColorSupport=function Ne(){if(Ne._cachedResult===void 0){var tr=h("<input type='color'/>")[0];Ne._cachedResult=tr.type==="color"&&tr.value!==""}return Ne._cachedResult},h.spectrum={},h.spectrum.localization={},h.spectrum.palettes={},h.fn.spectrum.processNativeColorInputs=function(){var Ne=h("input[type=color]");Ne.length&&!pl()&&Ne.spectrum({preferredFormat:"hex6"})};var L=/^[\s,#]+/,A=/\s+$/,ot=0,kt=Math,zt=kt.round,Gt=kt.min,_e=kt.max,Ee=kt.random,Se=function(Ne,tr){if(tr=tr||{},(Ne=Ne||"")instanceof Se)return Ne;if(!(this instanceof Se))return new Se(Ne,tr);var sr=function(Cr){var sn,_r,no,To={r:0,g:0,b:0},ho=1,ea=!1,ra=!1;return typeof Cr=="string"&&(Cr=function(ko){ko=ko.replace(L,"").replace(A,"").toLowerCase();var ln,Lo=!1;if(en[ko])ko=en[ko],Lo=!0;else if(ko=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(ln=An.rgb.exec(ko))?{r:ln[1],g:ln[2],b:ln[3]}:(ln=An.rgba.exec(ko))?{r:ln[1],g:ln[2],b:ln[3],a:ln[4]}:(ln=An.hsl.exec(ko))?{h:ln[1],s:ln[2],l:ln[3]}:(ln=An.hsla.exec(ko))?{h:ln[1],s:ln[2],l:ln[3],a:ln[4]}:(ln=An.hsv.exec(ko))?{h:ln[1],s:ln[2],v:ln[3]}:(ln=An.hsva.exec(ko))?{h:ln[1],s:ln[2],v:ln[3],a:ln[4]}:(ln=An.hex8.exec(ko))?{a:qy(ln[1]),r:Fs(ln[2]),g:Fs(ln[3]),b:Fs(ln[4]),format:Lo?"name":"hex8"}:(ln=An.hex6.exec(ko))?{r:Fs(ln[1]),g:Fs(ln[2]),b:Fs(ln[3]),format:Lo?"name":"hex"}:!!(ln=An.hex3.exec(ko))&&{r:Fs(ln[1]+""+ln[1]),g:Fs(ln[2]+""+ln[2]),b:Fs(ln[3]+""+ln[3]),format:Lo?"name":"hex"}}(Cr)),typeof Cr=="object"&&(Cr.hasOwnProperty("r")&&Cr.hasOwnProperty("g")&&Cr.hasOwnProperty("b")?(sn=Cr.r,_r=Cr.g,no=Cr.b,To={r:255*Yo(sn,255),g:255*Yo(_r,255),b:255*Yo(no,255)},ea=!0,ra=String(Cr.r).substr(-1)==="%"?"prgb":"rgb"):Cr.hasOwnProperty("h")&&Cr.hasOwnProperty("s")&&Cr.hasOwnProperty("v")?(Cr.s=pd(Cr.s),Cr.v=pd(Cr.v),To=function(ko,ln,Lo){ko=6*Yo(ko,360),ln=Yo(ln,100),Lo=Yo(Lo,100);var Xo=kt.floor(ko),rs=ko-Xo,na=Lo*(1-ln),Ra=Lo*(1-rs*ln),dl=Lo*(1-(1-rs)*ln),oc=Xo%6;return{r:255*[Lo,Ra,na,na,dl,Lo][oc],g:255*[dl,Lo,Lo,Ra,na,na][oc],b:255*[na,na,dl,Lo,Lo,Ra][oc]}}(Cr.h,Cr.s,Cr.v),ea=!0,ra="hsv"):Cr.hasOwnProperty("h")&&Cr.hasOwnProperty("s")&&Cr.hasOwnProperty("l")&&(Cr.s=pd(Cr.s),Cr.l=pd(Cr.l),To=function(ko,ln,Lo){var Xo,rs,na;function Ra(Of,lp,xs){return xs<0&&(xs+=1),xs>1&&(xs-=1),xs<1/6?Of+6*(lp-Of)*xs:xs<1/2?lp:xs<2/3?Of+(lp-Of)*(2/3-xs)*6:Of}if(ko=Yo(ko,360),ln=Yo(ln,100),Lo=Yo(Lo,100),ln===0)Xo=rs=na=Lo;else{var dl=Lo<.5?Lo*(1+ln):Lo+ln-Lo*ln,oc=2*Lo-dl;Xo=Ra(oc,dl,ko+1/3),rs=Ra(oc,dl,ko),na=Ra(oc,dl,ko-1/3)}return{r:255*Xo,g:255*rs,b:255*na}}(Cr.h,Cr.s,Cr.l),ea=!0,ra="hsl"),Cr.hasOwnProperty("a")&&(ho=Cr.a)),ho=lv(ho),{ok:ea,format:Cr.format||ra,r:Gt(255,_e(To.r,0)),g:Gt(255,_e(To.g,0)),b:Gt(255,_e(To.b,0)),a:ho}}(Ne);this._originalInput=Ne,this._r=sr.r,this._g=sr.g,this._b=sr.b,this._a=sr.a,this._roundA=zt(100*this._a)/100,this._format=tr.format||sr.format,this._gradientType=tr.gradientType,this._r<1&&(this._r=zt(this._r)),this._g<1&&(this._g=zt(this._g)),this._b<1&&(this._b=zt(this._b)),this._ok=sr.ok,this._tc_id=ot++};Se.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ne=this.toRgb();return(299*Ne.r+587*Ne.g+114*Ne.b)/1e3},setAlpha:function(Ne){return this._a=lv(Ne),this._roundA=zt(100*this._a)/100,this},toHsv:function(){var Ne=Yu(this._r,this._g,this._b);return{h:360*Ne.h,s:Ne.s,v:Ne.v,a:this._a}},toHsvString:function(){var Ne=Yu(this._r,this._g,this._b),tr=zt(360*Ne.h),sr=zt(100*Ne.s),Cr=zt(100*Ne.v);return this._a==1?"hsv("+tr+", "+sr+"%, "+Cr+"%)":"hsva("+tr+", "+sr+"%, "+Cr+"%, "+this._roundA+")"},toHsl:function(){var Ne=yu(this._r,this._g,this._b);return{h:360*Ne.h,s:Ne.s,l:Ne.l,a:this._a}},toHslString:function(){var Ne=yu(this._r,this._g,this._b),tr=zt(360*Ne.h),sr=zt(100*Ne.s),Cr=zt(100*Ne.l);return this._a==1?"hsl("+tr+", "+sr+"%, "+Cr+"%)":"hsla("+tr+", "+sr+"%, "+Cr+"%, "+this._roundA+")"},toHex:function(Ne){return bu(this._r,this._g,this._b,Ne)},toHexString:function(Ne){return"#"+this.toHex(Ne)},toHex8:function(){return av(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:zt(this._r),g:zt(this._g),b:zt(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+zt(this._r)+", "+zt(this._g)+", "+zt(this._b)+")":"rgba("+zt(this._r)+", "+zt(this._g)+", "+zt(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:zt(100*Yo(this._r,255))+"%",g:zt(100*Yo(this._g,255))+"%",b:zt(100*Yo(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+zt(100*Yo(this._r,255))+"%, "+zt(100*Yo(this._g,255))+"%, "+zt(100*Yo(this._b,255))+"%)":"rgba("+zt(100*Yo(this._r,255))+"%, "+zt(100*Yo(this._g,255))+"%, "+zt(100*Yo(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(En[bu(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Ne){var tr="#"+av(this._r,this._g,this._b,this._a),sr=tr,Cr=this._gradientType?"GradientType = 1, ":"";return Ne&&(sr=Se(Ne).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Cr+"startColorstr="+tr+",endColorstr="+sr+")"},toString:function(Ne){var tr=!!Ne;Ne=Ne||this._format;var sr=!1,Cr=this._a<1&&this._a>=0;return tr||!Cr||Ne!=="hex"&&Ne!=="hex6"&&Ne!=="hex3"&&Ne!=="name"?(Ne==="rgb"&&(sr=this.toRgbString()),Ne==="prgb"&&(sr=this.toPercentageRgbString()),Ne!=="hex"&&Ne!=="hex6"||(sr=this.toHexString()),Ne==="hex3"&&(sr=this.toHexString(!0)),Ne==="hex8"&&(sr=this.toHex8String()),Ne==="name"&&(sr=this.toName()),Ne==="hsl"&&(sr=this.toHslString()),Ne==="hsv"&&(sr=this.toHsvString()),sr||this.toHexString()):Ne==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Ne,tr){var sr=Ne.apply(null,[this].concat([].slice.call(tr)));return this._r=sr._r,this._g=sr._g,this._b=sr._b,this.setAlpha(sr._a),this},lighten:function(){return this._applyModification(Kh,arguments)},brighten:function(){return this._applyModification(By,arguments)},darken:function(){return this._applyModification(Qd,arguments)},desaturate:function(){return this._applyModification(Vy,arguments)},saturate:function(){return this._applyModification(Ry,arguments)},greyscale:function(){return this._applyModification(Hy,arguments)},spin:function(){return this._applyModification(Uy,arguments)},_applyCombination:function(Ne,tr){return Ne.apply(null,[this].concat([].slice.call(tr)))},analogous:function(){return this._applyCombination(th,arguments)},complement:function(){return this._applyCombination(zy,arguments)},monochromatic:function(){return this._applyCombination(Gy,arguments)},splitcomplement:function(){return this._applyCombination($y,arguments)},triad:function(){return this._applyCombination(Wy,arguments)},tetrad:function(){return this._applyCombination(sv,arguments)}},Se.fromRatio=function(Ne,tr){if(typeof Ne=="object"){var sr={};for(var Cr in Ne)Ne.hasOwnProperty(Cr)&&(sr[Cr]=Cr==="a"?Ne[Cr]:pd(Ne[Cr]));Ne=sr}return Se(Ne,tr)},Se.equals=function(Ne,tr){return!(!Ne||!tr)&&Se(Ne).toRgbString()==Se(tr).toRgbString()},Se.random=function(){return Se.fromRatio({r:Ee(),g:Ee(),b:Ee()})},Se.mix=function(Ne,tr,sr){sr=sr===0?0:sr||50;var Cr,sn=Se(Ne).toRgb(),_r=Se(tr).toRgb(),no=sr/100,To=2*no-1,ho=_r.a-sn.a,ea=1-(Cr=((Cr=To*ho==-1?To:(To+ho)/(1+To*ho))+1)/2),ra={r:_r.r*Cr+sn.r*ea,g:_r.g*Cr+sn.g*ea,b:_r.b*Cr+sn.b*ea,a:_r.a*no+sn.a*(1-no)};return Se(ra)},Se.readability=function(Ne,tr){var sr=Se(Ne),Cr=Se(tr),sn=sr.toRgb(),_r=Cr.toRgb(),no=sr.getBrightness(),To=Cr.getBrightness(),ho=Math.max(sn.r,_r.r)-Math.min(sn.r,_r.r)+Math.max(sn.g,_r.g)-Math.min(sn.g,_r.g)+Math.max(sn.b,_r.b)-Math.min(sn.b,_r.b);return{brightness:Math.abs(no-To),color:ho}},Se.isReadable=function(Ne,tr){var sr=Se.readability(Ne,tr);return sr.brightness>125&&sr.color>500},Se.mostReadable=function(Ne,tr){for(var sr=null,Cr=0,sn=!1,_r=0;_r<tr.length;_r++){var no=Se.readability(Ne,tr[_r]),To=no.brightness>125&&no.color>500,ho=3*(no.brightness/125)+no.color/500;(To&&!sn||To&&sn&&ho>Cr||!To&&!sn&&ho>Cr)&&(sn=To,Cr=ho,sr=Se(tr[_r]))}return sr};var or,yr,Qr,en=Se.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},En=Se.hexNames=function(Ne){var tr={};for(var sr in Ne)Ne.hasOwnProperty(sr)&&(tr[Ne[sr]]=sr);return tr}(en),An=(yr="[\\s|\\(]+("+(or="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+or+")[,|\\s]+("+or+")\\s*\\)?",Qr="[\\s|\\(]+("+or+")[,|\\s]+("+or+")[,|\\s]+("+or+")[,|\\s]+("+or+")\\s*\\)?",{rgb:new RegExp("rgb"+yr),rgba:new RegExp("rgba"+Qr),hsl:new RegExp("hsl"+yr),hsla:new RegExp("hsla"+Qr),hsv:new RegExp("hsv"+yr),hsva:new RegExp("hsva"+Qr),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Se,h(function(){h.fn.spectrum.load&&h.fn.spectrum.processNativeColorInputs()})}function yo(Ne,tr,sr,Cr){for(var sn=[],_r=0;_r<Ne.length;_r++){var no=Ne[_r];if(no){var To=Se(no),ho=To.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";ho+=Se.equals(tr,no)?" sp-thumb-active":"";var ea=To.toString(Cr.preferredFormat||"rgb"),ra=u?"background-color:"+To.toRgbString():"filter:"+To.toFilter();sn.push('<span title="'+ea+'" data-color="'+To.toRgbString()+'" class="'+ho+'"><span class="sp-thumb-inner" style="'+ra+';"></span></span>')}else sn.push(h("<div />").append(h('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Cr.noColorSelectedText)).html())}return"<div class='sp-cf "+sr+"'>"+sn.join("")+"</div>"}function Po(Ne,tr){var sr,Cr,sn,_r=function(Gr,rr){var fn=h.extend({},e,Gr);return fn.callbacks={move:fl(fn.move,rr),change:fl(fn.change,rr),show:fl(fn.show,rr),hide:fl(fn.hide,rr),beforeShow:fl(fn.beforeShow,rr)},fn}(tr,Ne),no=_r.flat,To=_r.showSelectionPalette,ho=_r.localStorageKey,ea=_r.theme,ra=_r.callbacks,ko=(sr=Rr,Cr=10,function(){var Gr=this,rr=arguments;sn||(sn=setTimeout(function(){sn=null,sr.apply(Gr,rr)},Cr))}),ln=!1,Lo=!1,Xo=!0,rs=0,na=0,Ra=0,dl=0,oc=0,Of=0,lp=0,xs=0,dd=0,Fp=0,wu=1,rh=[],hd=[],nh={},Li=_r.selectionPalette.slice(0),Yh=_r.maxSelectionSize,oh="sp-dragging",Tf=null,gd=Ne.ownerDocument,Pa=(gd.body,h(Ne)),Zh=!1,ao=h(O,gd).addClass(ea),Ky=ao.find(".sp-picker-container"),ih=ao.find(".sp-color"),ah=ao.find(".sp-dragger"),Xh=ao.find(".sp-hue"),sh=ao.find(".sp-slider"),Zu=ao.find(".sp-alpha-inner"),Jh=ao.find(".sp-alpha"),vd=ao.find(".sp-alpha-handle"),_u=ao.find(".sp-input"),cv=ao.find(".sp-palette"),uv=ao.find(".sp-initial"),fv=ao.find(".sp-cancel"),lh=ao.find(".sp-clear"),Qh=ao.find(".sp-choose"),tg=ao.find(".sp-palette-toggle"),ch=Pa.is("input"),Yy=ch&&Pa.attr("type")==="color"&&pl(),Vp=ch&&!no,Ef=Vp?h(m).addClass(ea).addClass(_r.className).addClass(_r.replacerClassName):h([]),Rp=Vp?Ef:Pa,cp=Ef.find(".sp-preview-inner"),Hp=_r.color||ch&&Pa.val(),Bp=!1,p=_r.preferredFormat,a=!_r.showButtons||_r.clickoutFiresChange,t=!Hp,r=_r.allowEmpty&&!Yy;function o(){if(_r.showPaletteOnly&&(_r.showPalette=!0),tg.text(_r.showPaletteOnly?_r.togglePaletteMoreText:_r.togglePaletteLessText),_r.palette){rh=_r.palette.slice(0),hd=h.isArray(rh[0])?rh:[rh],nh={};for(var Gr=0;Gr<hd.length;Gr++)for(var rr=0;rr<hd[Gr].length;rr++){var fn=Se(hd[Gr][rr]).toRgbString();nh[fn]=!0}}ao.toggleClass("sp-flat",no),ao.toggleClass("sp-input-disabled",!_r.showInput),ao.toggleClass("sp-alpha-enabled",_r.showAlpha),ao.toggleClass("sp-clear-enabled",r),ao.toggleClass("sp-buttons-disabled",!_r.showButtons),ao.toggleClass("sp-palette-buttons-disabled",!_r.togglePaletteOnly),ao.toggleClass("sp-palette-disabled",!_r.showPalette),ao.toggleClass("sp-palette-only",_r.showPaletteOnly),ao.toggleClass("sp-initial-disabled",!_r.showInitial),ao.addClass(_r.className).addClass(_r.containerClassName),Rr()}function l(){if(ho&&window.localStorage){try{var Gr=window.localStorage[ho].split(",#");Gr.length>1&&(delete window.localStorage[ho],h.each(Gr,function(rr,fn){v(fn)}))}catch{}try{Li=window.localStorage[ho].split(";")}catch{}}}function v(Gr){if(To){var rr=Se(Gr).toRgbString();if(!nh[rr]&&h.inArray(rr,Li)===-1)for(Li.push(rr);Li.length>Yh;)Li.shift();if(ho&&window.localStorage)try{window.localStorage[ho]=Li.join(";")}catch{}}}function w(){var Gr=We(),rr=h.map(hd,function(fn,mn){return yo(fn,Gr,"sp-palette-row sp-palette-row-"+mn,_r)});l(),Li&&rr.push(yo(function(){var fn=[];if(_r.showPalette)for(var mn=0;mn<Li.length;mn++){var ji=Se(Li[mn]).toRgbString();nh[ji]||fn.push(Li[mn])}return fn.reverse().slice(0,_r.maxSelectionSize)}(),Gr,"sp-palette-row sp-palette-row-selection",_r)),cv.html(rr.join(""))}function C(){if(_r.showInitial){var Gr=Bp,rr=We();uv.html(yo([Gr,rr],rr,"sp-palette-row-initial",_r))}}function E(){(na<=0||rs<=0||dl<=0)&&Rr(),Lo=!0,ao.addClass(oh),Tf=null,Pa.trigger("dragstart.spectrum",[We()])}function j(){Lo=!1,ao.removeClass(oh),Pa.trigger("dragstop.spectrum",[We()])}function Z(){var Gr=_u.val();if(Gr!==null&&Gr!==""||!r){var rr=Se(Gr);rr.isValid()?(Ye(rr),wn(!0)):_u.addClass("sp-validation-error")}else Ye(null),wn(!0)}function at(){ln?oe():Pt()}function Pt(){var Gr=h.Event("beforeShow.spectrum");if(ln)Rr();else if(Pa.trigger("beforeShow.spectrum",[We()]),ra.beforeShow(We())!==!1&&!Gr.isDefaultPrevented()){(function(){for(var fn=0;fn<n.length;fn++)n[fn]&&n[fn].hide()})(),ln=!0;var rr=h(gd);rr.bind("keydown.spectrum",Nt),rr.bind("click.spectrum",re),h(window).bind("resize.spectrum",ko),Ef.addClass("sp-active"),ao.removeClass("sp-hidden"),Rr(),Br(),Bp=We(),C(),ra.show(Bp),Pa.trigger("show.spectrum",[Bp])}}function Nt(Gr){Gr.keyCode===27&&oe()}function re(Gr){Gr.button!=2&&(Lo||(a?wn(!0):De(),oe()))}function oe(){ln&&!no&&(ln=!1,h(gd).unbind("keydown.spectrum",Nt),h(gd).unbind("click.spectrum",re),h(window).unbind("resize.spectrum",ko),Ef.removeClass("sp-active"),ao.addClass("sp-hidden"),ra.hide(We()),Pa.trigger("hide.spectrum",[We()]))}function De(){Ye(Bp,!0)}function Ye(Gr,rr){var fn,mn;Se.equals(Gr,We())?Br():(!Gr&&r?t=!0:(t=!1,Xo=!Gr,mn=(fn=Se(Gr)).toHsv(),xs=mn.h%360/360,dd=mn.s,Fp=mn.v,wu=mn.a),Br(),fn&&fn.isValid()&&!rr&&(p=_r.preferredFormat||fn.getFormat()))}function We(Gr){return Gr=Gr||{},r&&t?null:Se.fromRatio({h:xs,s:dd,v:Fp,a:Math.round(100*wu)/100},{format:Gr.format||p})}function Sr(){Br(),ra.move(We()),Pa.trigger("move.spectrum",[We()])}function Br(){_u.removeClass("sp-validation-error"),cn();var Gr=Se.fromRatio({h:xs,s:1,v:1});ih.css("background-color",Gr.toHexString());var rr=p;wu<1&&(wu!==0||rr!=="name")&&(rr!=="hex"&&rr!=="hex3"&&rr!=="hex6"&&rr!=="name"||(rr="rgb"));var fn=We({format:rr}),mn="";if(cp.removeClass("sp-clear-display"),cp.css("background-color","transparent"),!fn&&r)cp.addClass("sp-clear-display");else{var ji=fn.toHexString(),Ha=fn.toRgbString();if(u||fn.alpha===1?cp.css("background-color",Ha):(cp.css("background-color","transparent"),cp.css("filter",fn.toFilter())),_r.showAlpha){var ha=fn.toRgb();ha.a=0;var hl=Se(ha).toRgbString(),ic="linear-gradient(left, "+hl+", "+ji+")";i?Zu.css("filter",Se(hl).toFilter({gradientType:1},ji)):(Zu.css("background","-webkit-"+ic),Zu.css("background","-moz-"+ic),Zu.css("background","-ms-"+ic),Zu.css("background","linear-gradient(to right, "+hl+", "+ji+")"))}mn=fn.toString(rr)}_r.showInput&&_u.val(mn),_r.showPalette&&w(),C()}function cn(){var Gr=dd,rr=Fp;if(r&&t)vd.hide(),sh.hide(),ah.hide();else{vd.show(),sh.show(),ah.show();var fn=Gr*rs,mn=na-rr*na;fn=Math.max(-Ra,Math.min(rs-Ra,fn-Ra)),mn=Math.max(-Ra,Math.min(na-Ra,mn-Ra)),ah.css({top:mn+"px",left:fn+"px"});var ji=wu*oc;vd.css({left:ji-Of/2+"px"});var Ha=xs*dl;sh.css({top:Ha-lp+"px"})}}function wn(Gr){var rr=We(),fn="",mn=!!Xo||!Se.equals(rr,Bp);rr&&(fn=rr.toString(p),!ln&&v(rr)),ch&&Pa.val(fn),Gr&&mn&&(ra.change(rr),Pa.trigger("change",[rr]))}function Rr(){ln&&(rs=ih.width(),na=ih.height(),Ra=ah.height(),Xh.width(),dl=Xh.height(),lp=sh.height(),oc=Jh.width(),Of=vd.width(),no||(ao.css("position","absolute"),_r.offset?ao.offset(_r.offset):ao.offset(function(Gr,rr){var fn=0,mn=Gr.outerWidth(),ji=Gr.outerHeight(),Ha=rr.outerHeight(),ha=Gr[0].ownerDocument,hl=ha.documentElement,ic=hl.clientWidth,Xu=hl.clientHeight,md=ic+h(ha).scrollLeft(),pv=Xu+h(ha).scrollTop(),Ju=rr.offset();return Ju.top+=Ha,Ju.left-=Math.min(Ju.left,Ju.left+mn>md&&md>mn?Math.abs(Ju.left+mn-md):0),Ju.top-=Math.min(Ju.top,Ju.top+ji>pv&&pv>ji?Math.abs(ji+Ha-fn):fn),Ju}(ao,Rp))),cn(),_r.showPalette&&w(),Pa.trigger("reflow.spectrum"))}function jn(){oe(),Zh=!0,Pa.attr("disabled",!0),Rp.addClass("sp-disabled")}(function(){if(i&&ao.find("*:not(input)").attr("unselectable","on"),o(),Vp&&Pa.after(Ef).hide(),r||lh.hide(),no)Pa.after(ao).hide();else{var Gr=_r.appendTo==="parent"?Pa.parent():h(_r.appendTo);Gr.length!==1&&(Gr=h("body")),Gr.append(ao)}function rr(mn){return mn.data&&mn.data.ignore?(Ye(h(mn.target).closest(".sp-thumb-el").data("color")),Sr()):(Ye(h(mn.target).closest(".sp-thumb-el").data("color")),Sr(),_r.hideAfterPaletteSelect&&(wn(!0),oe())),!1}l(),Rp.bind("click.spectrum touchstart.spectrum",function(mn){Zh||at(),mn.stopPropagation(),h(mn.target).is("input")||mn.preventDefault()}),(Pa.is(":disabled")||_r.disabled===!0)&&jn(),ao.click(es),_u.change(Z),_u.bind("paste",function(){setTimeout(Z,1)}),_u.keydown(function(mn){mn.keyCode==13&&Z()}),fv.text(_r.cancelText),fv.bind("click.spectrum",function(mn){mn.stopPropagation(),mn.preventDefault(),De(),oe()}),lh.attr("title",_r.clearText),lh.bind("click.spectrum",function(mn){mn.stopPropagation(),mn.preventDefault(),t=!0,Sr(),no&&wn(!0)}),Qh.text(_r.chooseText),Qh.bind("click.spectrum",function(mn){mn.stopPropagation(),mn.preventDefault(),i&&_u.is(":focus")&&_u.trigger("change"),_u.hasClass("sp-validation-error")||(wn(!0),oe())}),tg.text(_r.showPaletteOnly?_r.togglePaletteMoreText:_r.togglePaletteLessText),tg.bind("click.spectrum",function(mn){mn.stopPropagation(),mn.preventDefault(),_r.showPaletteOnly=!_r.showPaletteOnly,_r.showPaletteOnly||no||ao.css("left","-="+(Ky.outerWidth(!0)+5)),o()}),_s(Jh,function(mn,ji,Ha){wu=mn/oc,t=!1,Ha.shiftKey&&(wu=Math.round(10*wu)/10),Sr()},E,j),_s(Xh,function(mn,ji){xs=parseFloat(ji/dl),t=!1,_r.showAlpha||(wu=1),Sr()},E,j),_s(ih,function(mn,ji,Ha){if(Ha.shiftKey){if(!Tf){var ha=dd*rs,hl=na-Fp*na,ic=Math.abs(mn-ha)>Math.abs(ji-hl);Tf=ic?"x":"y"}}else Tf=null;var Xu=!Tf||Tf==="y";(!Tf||Tf==="x")&&(dd=parseFloat(mn/rs)),Xu&&(Fp=parseFloat((na-ji)/na)),t=!1,_r.showAlpha||(wu=1),Sr()},E,j),Hp?(Ye(Hp),Br(),p=_r.preferredFormat||Se(Hp).getFormat(),v(Hp)):Br(),no&&Pt();var fn=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";cv.delegate(".sp-thumb-el",fn,rr),uv.delegate(".sp-thumb-el:nth-child(1)",fn,{ignore:!0},rr)})();var Wn={show:Pt,hide:oe,toggle:at,reflow:Rr,option:function(Gr,rr){return Gr===s?h.extend({},_r):rr===s?_r[Gr]:(_r[Gr]=rr,Gr==="preferredFormat"&&(p=_r.preferredFormat),void o())},enable:function(){Zh=!1,Pa.attr("disabled",!1),Rp.removeClass("sp-disabled")},disable:jn,offset:function(Gr){_r.offset=Gr,Rr()},set:function(Gr){Ye(Gr),wn()},get:We,destroy:function(){Pa.show(),Rp.unbind("click.spectrum touchstart.spectrum"),ao.remove(),Ef.remove(),n[Wn.id]=null},container:ao};return Wn.id=n.push(Wn)-1,Wn}function Ns(){}function es(Ne){Ne.stopPropagation()}function fl(Ne,tr){var sr=Array.prototype.slice,Cr=sr.call(arguments,2);return function(){return Ne.apply(tr,Cr.concat(sr.call(arguments)))}}function _s(Ne,tr,sr,Cr){tr=tr||function(){},sr=sr||function(){},Cr=Cr||function(){};var sn=document,_r=!1,no={},To=0,ho=0,ea="ontouchstart"in window,ra={};function ko(Xo){Xo.stopPropagation&&Xo.stopPropagation(),Xo.preventDefault&&Xo.preventDefault(),Xo.returnValue=!1}function ln(Xo){if(_r){if(i&&sn.documentMode<9&&!Xo.button)return Lo();var rs=Xo&&Xo.touches&&Xo.touches[0],na=rs&&rs.pageX||Xo.pageX,Ra=rs&&rs.pageY||Xo.pageY,dl=Math.max(0,Math.min(na-no.left,ho)),oc=Math.max(0,Math.min(Ra-no.top,To));ea&&ko(Xo),tr.apply(Ne,[dl,oc,Xo])}}function Lo(){_r&&(h(sn).unbind(ra),h(sn.body).removeClass("sp-dragging"),setTimeout(function(){Cr.apply(Ne,arguments)},0)),_r=!1}ra.selectstart=ko,ra.dragstart=ko,ra["touchmove mousemove"]=ln,ra["touchend mouseup"]=Lo,h(Ne).bind("touchstart mousedown",function(Xo){(Xo.which?Xo.which==3:Xo.button==2)||_r||sr.apply(Ne,arguments)!==!1&&(_r=!0,To=h(Ne).height(),ho=h(Ne).width(),no=h(Ne).offset(),h(sn).bind(ra),h(sn.body).addClass("sp-dragging"),ln(Xo),ko(Xo))})}function pl(){return h.fn.spectrum.inputTypeColorSupport()}function yu(Ne,tr,sr){Ne=Yo(Ne,255),tr=Yo(tr,255),sr=Yo(sr,255);var Cr,sn,_r=_e(Ne,tr,sr),no=Gt(Ne,tr,sr),To=(_r+no)/2;if(_r==no)Cr=sn=0;else{var ho=_r-no;switch(sn=To>.5?ho/(2-_r-no):ho/(_r+no),_r){case Ne:Cr=(tr-sr)/ho+(tr<sr?6:0);break;case tr:Cr=(sr-Ne)/ho+2;break;case sr:Cr=(Ne-tr)/ho+4}Cr/=6}return{h:Cr,s:sn,l:To}}function Yu(Ne,tr,sr){Ne=Yo(Ne,255),tr=Yo(tr,255),sr=Yo(sr,255);var Cr,sn,_r=_e(Ne,tr,sr),no=Gt(Ne,tr,sr),To=_r,ho=_r-no;if(sn=_r===0?0:ho/_r,_r==no)Cr=0;else{switch(_r){case Ne:Cr=(tr-sr)/ho+(tr<sr?6:0);break;case tr:Cr=(sr-Ne)/ho+2;break;case sr:Cr=(Ne-tr)/ho+4}Cr/=6}return{h:Cr,s:sn,v:To}}function bu(Ne,tr,sr,Cr){var sn=[Mi(zt(Ne).toString(16)),Mi(zt(tr).toString(16)),Mi(zt(sr).toString(16))];return Cr&&sn[0].charAt(0)==sn[0].charAt(1)&&sn[1].charAt(0)==sn[1].charAt(1)&&sn[2].charAt(0)==sn[2].charAt(1)?sn[0].charAt(0)+sn[1].charAt(0)+sn[2].charAt(0):sn.join("")}function av(Ne,tr,sr,Cr){var sn;return[Mi((sn=Cr,Math.round(255*parseFloat(sn)).toString(16))),Mi(zt(Ne).toString(16)),Mi(zt(tr).toString(16)),Mi(zt(sr).toString(16))].join("")}function Vy(Ne,tr){tr=tr===0?0:tr||10;var sr=Se(Ne).toHsl();return sr.s-=tr/100,sr.s=eh(sr.s),Se(sr)}function Ry(Ne,tr){tr=tr===0?0:tr||10;var sr=Se(Ne).toHsl();return sr.s+=tr/100,sr.s=eh(sr.s),Se(sr)}function Hy(Ne){return Se(Ne).desaturate(100)}function Kh(Ne,tr){tr=tr===0?0:tr||10;var sr=Se(Ne).toHsl();return sr.l+=tr/100,sr.l=eh(sr.l),Se(sr)}function By(Ne,tr){tr=tr===0?0:tr||10;var sr=Se(Ne).toRgb();return sr.r=_e(0,Gt(255,sr.r-zt(255*(-tr/100)))),sr.g=_e(0,Gt(255,sr.g-zt(255*(-tr/100)))),sr.b=_e(0,Gt(255,sr.b-zt(255*(-tr/100)))),Se(sr)}function Qd(Ne,tr){tr=tr===0?0:tr||10;var sr=Se(Ne).toHsl();return sr.l-=tr/100,sr.l=eh(sr.l),Se(sr)}function Uy(Ne,tr){var sr=Se(Ne).toHsl(),Cr=(zt(sr.h)+tr)%360;return sr.h=Cr<0?360+Cr:Cr,Se(sr)}function zy(Ne){var tr=Se(Ne).toHsl();return tr.h=(tr.h+180)%360,Se(tr)}function Wy(Ne){var tr=Se(Ne).toHsl(),sr=tr.h;return[Se(Ne),Se({h:(sr+120)%360,s:tr.s,l:tr.l}),Se({h:(sr+240)%360,s:tr.s,l:tr.l})]}function sv(Ne){var tr=Se(Ne).toHsl(),sr=tr.h;return[Se(Ne),Se({h:(sr+90)%360,s:tr.s,l:tr.l}),Se({h:(sr+180)%360,s:tr.s,l:tr.l}),Se({h:(sr+270)%360,s:tr.s,l:tr.l})]}function $y(Ne){var tr=Se(Ne).toHsl(),sr=tr.h;return[Se(Ne),Se({h:(sr+72)%360,s:tr.s,l:tr.l}),Se({h:(sr+216)%360,s:tr.s,l:tr.l})]}function th(Ne,tr,sr){tr=tr||6,sr=sr||30;var Cr=Se(Ne).toHsl(),sn=360/sr,_r=[Se(Ne)];for(Cr.h=(Cr.h-(sn*tr>>1)+720)%360;--tr;)Cr.h=(Cr.h+sn)%360,_r.push(Se(Cr));return _r}function Gy(Ne,tr){tr=tr||6;for(var sr=Se(Ne).toHsv(),Cr=sr.h,sn=sr.s,_r=sr.v,no=[],To=1/tr;tr--;)no.push(Se({h:Cr,s:sn,v:_r})),_r=(_r+To)%1;return no}function lv(Ne){return Ne=parseFloat(Ne),(isNaN(Ne)||Ne<0||Ne>1)&&(Ne=1),Ne}function Yo(Ne,tr){(function(Cr){return typeof Cr=="string"&&Cr.indexOf(".")!=-1&&parseFloat(Cr)===1})(Ne)&&(Ne="100%");var sr=function(Cr){return typeof Cr=="string"&&Cr.indexOf("%")!=-1}(Ne);return Ne=Gt(tr,_e(0,parseFloat(Ne))),sr&&(Ne=parseInt(Ne*tr,10)/100),kt.abs(Ne-tr)<1e-6?1:Ne%tr/parseFloat(tr)}function eh(Ne){return Gt(1,_e(0,Ne))}function Fs(Ne){return parseInt(Ne,16)}function Mi(Ne){return Ne.length==1?"0"+Ne:""+Ne}function pd(Ne){return Ne<=1&&(Ne=100*Ne+"%"),Ne}function qy(Ne){return Fs(Ne)/255}}(I.default);var zn=function(h){var s=h.getFormat()==="name"&&h.toName(),e=h.getAlpha()==1?h.toHexString():h.toRgbString();return s||e.replace(/ /g,"")};const zr=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return gn(s,h),s.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},s.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},s.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},s.prototype.remove=function(){return h.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},s.prototype.handleChange=function(e){e.stopPropagation();var n=e.target.value;(0,k.isUndefined)(n)||this.__onInputChange(n)},s.prototype.__onInputChange=function(e){var n=this.model,i=this.opts.onChange,u=e,m=this.getColorEl();if(m){m.spectrum("set",u);var O=m.spectrum("get"),P=u&&zn(O);P&&(u=P)}i?i(u):n.set({value:u},{fromInput:1})},s.prototype.setValue=function(e,n){n===void 0&&(n={});var i=this.model,u=(0,k.isUndefined)(n.def)?i.get("defaults"):n.def,m=(0,k.isUndefined)(e)?(0,k.isUndefined)(u)?"":u:e,O=this.getInputEl(),P=this.getColorEl(),L=m!="none"?m:"";O.value=m,P.get(0).style.backgroundColor=L,(n.fromTarget||n.fromInput&&!n.avoidStore)&&(P.spectrum("set",L),this.noneColor=m=="none",this.movedColor=L)},s.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var n=this,i=n.em,u=n.model,m=n.opts,O=this.ppfx,P=m.onChange,L=(0,I.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),A=L.get(0).style,ot=i&&i.config?i.config.el:"",kt=i&&i.getConfig&&i.getConfig().colorPicker||{};this.movedColor="";var zt,Gt=!1;this.$el.find("[data-colorp-c]").append(L);var _e=function(Ee,Se){Se===void 0&&(Se=!0),P?P(Ee,!Se):(Se&&u.setValueFromInput(0,!1),u.setValueFromInput(Ee,Se))};L.spectrum(Ur(Ur(Ur({color:u.getValue()||!1,containerClassName:"".concat(O,"one-bg ").concat(O,"two-color"),appendTo:ot||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},kt),u.get("colorPicker")||{}),{move:function(Ee){var Se=zn(Ee);e.movedColor=Se,A.backgroundColor=Se,_e(Se,!1)},change:function(Ee){Gt=!0;var Se=zn(Ee);A.backgroundColor=Se,_e(Se),e.noneColor=!1},show:function(Ee){Gt=!1,e.movedColor="",zt=P?u.getValue({noDefault:!0}):zn(Ee)},hide:function(){Gt||!zt&&!P||(e.noneColor&&(zt=""),A.backgroundColor=zt,L.spectrum("set",zt),_e(zt,!1))}})),i&&i.on&&this.listenTo(i,"component:selected",function(){e.movedColor&&_e(e.movedColor),Gt=!0,e.movedColor="",L.spectrum("hide")}),this.colorEl=L}return this.colorEl},s.prototype.render=function(){return er.prototype.render.call(this),this.getColorEl(),this},s}(er);var qn=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const mo=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return qn(s,h),s.prototype.templateInput=function(){return""},s.prototype.getInputEl=function(){if(!this.input){var e=this.model,n=this.getModelValue(),i=new zr({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();i.setValue(n,{fromTarget:1}),this.input=i.el}return this.input},s}(X);var Yn=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zn=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Yn(s,h),s.prototype.templateInput=function(){return""},s.prototype.onChange=function(){this.handleClick()},s.prototype.handleClick=function(){var e=this.model,n=this.em,i=e.get("command");i&&((0,k.isString)(i)?n.Commands.run(i):i(n.Editor,e))},s.prototype.renderLabel=function(){this.model.get("label")&&X.prototype.renderLabel.apply(this)},s.prototype.getInputEl=function(){var e=this.model,n=this.ppfx,i=e.props(),u=i.labelButton,m=i.text,O=i.full,P=u||m,L="".concat(n,"btn");return'<button type="button" class="'.concat(L,"-prim").concat(O?" ".concat(L,"--full"):"",'">').concat(P,"</button>")},s}(X);const ro=Zn;Zn.prototype.eventCapture=["click button"];var Tn=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rn="trait",Kn="".concat(Rn,":"),kn="".concat(Kn,"custom"),si={text:X,number:Er,select:xe,checkbox:Ge,color:mo,button:ro},pi=function(h){function s(e){var n=h.call(this,e,"TraitManager",S)||this;n.TraitsView=Jt,n.events={all:Rn,custom:kn};var i=new N.Hn;n.model=i,n.types=si;var u=(0,k.debounce)(function(){return n.__upSel()},0);i.listenTo(e,"component:toggled",u);var m=(0,k.debounce)(function(){return n.__onUp()},0);return i.listenTo(e,"trait:update",m),n}return Tn(s,h),s.prototype.__upSel=function(){this.select(this.em.getSelected())},s.prototype.__onUp=function(){this.select(this.getSelected())},s.prototype.select=function(e){var n=e?e.getTraits():[];this.model.set({component:e,traits:n}),this.__trgCustom()},s.prototype.getSelected=function(){return this.model.get("component")},s.prototype.getCurrent=function(){return this.model.get("traits")||[]},s.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},s.prototype.postRender=function(){this.__appendTo()},s.prototype.getTraitsViewer=function(){return this.view},s.prototype.addType=function(e,n){var i=this.getType("text");this.types[e]=i.extend(n)},s.prototype.getType=function(e){return this.getTypes()[e]},s.prototype.getTypes=function(){return this.types},s.prototype.render=function(){var e=this.view,n=this.em,i=this.getConfig(),u=e&&e.el;return e=new Jt({el:u,collection:[],editor:n,config:i},this.getTypes()),this.view=e,e.el},s.prototype.destroy=function(){this.model.stopListening(),this.model.clear()},s}(Tt);const so=pi,On={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var Za=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sn=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.items=[],n.opt=e;var i=e.config||{};n.config=i,n.parentView=e.parentView;var u=i.stylePrefix||"",m=i.pStylePrefix||"",O=n.collection;n.listenTo(O,"add",n.addTo),n.listenTo(O,"reset resetNavigator",n.render),n.listenTo(O,"remove",n.removeChildren),n.className="".concat(u,"layers");var P=i.em;if(i.sortable&&!n.opt.sorter){var L=P.Utils;n.opt.sorter=new L.Sorter({container:i.sortContainer||n.el,containerSel:".".concat(n.className),itemSel:".".concat(u,"layer"),ignoreViewChildren:1,onEndMove:function(A,ot,kt){var zt=ot.getSourceModel();P.setSelected(zt,{forceChange:1}),P.trigger("".concat(Mo,":end"),kt)},avoidSelectOnEnd:1,nested:1,ppfx:m,pfx:u})}return n.$el.data("collection",O),e.parent&&n.$el.data("model",e.parent),n}return Za(s,h),s.prototype.removeChildren=function(e){var n=e.viewLayer;n&&(n.remove(),delete e.viewLayer)},s.prototype.addTo=function(e){var n=this.collection.indexOf(e);this.addToCollection(e,null,n)},s.prototype.addToCollection=function(e,n,i){var u=this,m=u.parentView,O=u.opt,P=u.config,L=O.ItemView,A=O.opened,ot=O.module,kt=n||null,zt=new L({ItemView:L,level:O.level,model:e,parentView:m,config:P,sorter:O.sorter,opened:A,module:ot}),Gt=zt.render().el;if(kt)kt.appendChild(Gt);else if(i!==void 0){var _e="before";this.$el.children().length==i&&(i--,_e="after"),i<0?this.$el.append(Gt):this.$el.children().eq(i)[_e](Gt)}else this.$el.append(Gt);return this.items.push(zt),Gt},s.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return N.G7.prototype.remove.apply(this,e),this.items.map(function(i){return i.remove()}),this},s.prototype.render=function(){var e=this,n=document.createDocumentFragment(),i=this.el;return i.innerHTML="",this.collection.each(function(u){return e.addToCollection(u,n)}),i.appendChild(n),i.className=this.className,this},s}(N.G7);const di=Sn;var zi=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),io="contentEditable",Oa=function(h){function s(e){var n=h.call(this,e)||this;(0,k.bindAll)(n,"__render"),n.opt=e,n.module=e.module,n.config=e.config||{},n.sorter=e.sorter||"",n.parentView=e.parentView;var i=n,u=i.model,m=i.pfx,O=i.ppfx,P=u.get("type")||"default";return n.className="".concat(m,"layer ").concat(m,"layer__t-").concat(P," no-select ").concat(O,"two-color"),n.inputNameCls="".concat(O,"layer-name"),n.clsTitleC="".concat(m,"layer-title-c"),n.clsTitle="".concat(m,"layer-title"),n.clsCaret="".concat(m,"layer-caret"),n.clsCount="".concat(m,"layer-count"),n.clsMove="".concat(m,"layer-move"),n.clsChildren="".concat(m,"layer-children"),n.clsNoChild="".concat(m,"layer-no-chld"),n.clsEdit="".concat(n.inputNameCls,"--edit"),n.clsNoEdit="".concat(n.inputNameCls,"--no-edit"),n.initComponent(),n}return zi(s,h),s.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},s.prototype.template=function(e){var n=this,i=n.pfx,u=n.ppfx,m=n.config,O=n.clsNoEdit,P=n.module,L=n.opt,A=n.em,ot=m.hidable,kt=P.getComponents(e).length,zt=kt?"":this.clsNoChild,Gt="".concat(this.clsTitle," ").concat(zt),_e="".concat(this.clsTitleC," ").concat(u,"one-bg"),Ee="".concat(this.inputNameCls," ").concat(O," ").concat(u,"no-app"),Se=L.level+1,or="".concat(30+10*Se,"px"),yr=e.getName(),Qr=e.getIcon(),en="".concat(i,"layer"),En=(A==null?void 0:A.getConfig()).icons,An=En.move,yo=En.eye,Po=En.eyeOff,Ns=En.chevron;return`
      `.concat(ot?'<i class="'.concat(i,`layer-vis" data-toggle-visible>
            <i class="`).concat(i,'layer-vis-on">').concat(yo,`</i>
            <i class="`).concat(i,'layer-vis-off">').concat(Po,`</i>
          </i>`):"",`
      <div class="`).concat(_e,`">
        <div class="`).concat(Gt,'" style="padding-left: ').concat(or,`" data-toggle-select>
          <div class="`).concat(i,'layer-title-inn" title="').concat(yr,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(Ns,`</i>
            `).concat(Qr?'<span class="'.concat(en,'__icon">').concat(Qr,"</span>"):"",`
            <span class="`).concat(Ee,'" data-name>').concat(yr,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(kt||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(An||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(s.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),s.prototype.initComponent=function(){var e=this,n=this.model,i=this.config.onInit,u=n.components();this.listenTo(u,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(m){return e.listenTo(n,m[0],m[1])}),this.$el.data("model",n),this.$el.data("collection",u),n.viewLayer=this,i.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},s.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},s.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},s.prototype.updateVisibility=function(){var e=this,n=e.pfx,i=e.model,u=e.module,m="".concat(n,"layer-hidden"),O=u.isVisible(i)?"removeClass":"addClass";this.$el[O](m),this.getVisibilityEl()[O]("".concat(n,"layer-off"))},s.prototype.toggleVisibility=function(e){e==null||e.stopPropagation();var n=this.module,i=this.model;n.setVisible(i,!n.isVisible(i))},s.prototype.handleEdit=function(e){e==null||e.stopPropagation();var n=this,i=n.em,u=n.$el,m=n.clsNoEdit,O=n.clsEdit,P=this.getInputName();P[io]="true",P.focus(),document.execCommand("selectAll",!1),i.setEditing(!0),u.find(".".concat(this.inputNameCls)).removeClass(m).addClass(O)},s.prototype.handleEditKey=function(e){e.stopPropagation(),((0,H.isEscKey)(e)||(0,H.isEnterKey)(e))&&this.handleEditEnd(e)},s.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var n=this,i=n.em,u=n.$el,m=n.clsNoEdit,O=n.clsEdit,P=this.getInputName(),L=P.textContent;P.scrollLeft=0,P[io]="false",this.setName(L,{component:this.model,propName:"custom-name"}),i.setEditing(!1),u.find(".".concat(this.inputNameCls)).addClass(m).removeClass(O),this.updateName()},s.prototype.setName=function(e,n){var i=n.propName;this.model.set(i,e)},s.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},s.prototype.updateOpening=function(){var e=this,n=e.$el,i=e.model,u=e.pfx,m="open",O="".concat(u,"layer-open"),P=this.getCaret();this.module.isOpen(i)?(n.addClass(m),P.addClass(O)):(n.removeClass(m),P.removeClass(O))},s.prototype.toggleOpening=function(e){var n=this.model,i=this.module;e==null||e.stopImmediatePropagation(),n.get("components").length&&i.setOpen(n,!i.isOpen(n))},s.prototype.handleSelect=function(e){e==null||e.stopPropagation();var n=this.module,i=this.model;n.setLayerData(i,{selected:!0},{event:e})},s.prototype.handleHover=function(e){e==null||e.stopPropagation();var n=this.module,i=this.model;n.setLayerData(i,{hovered:!0})},s.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var n=this.module,i=this.model;n.setLayerData(i,{hovered:!1})},s.prototype.startSort=function(e){e.stopPropagation();var n=this.em,i=this.sorter;e.button&&e.button!==0||i&&(i.onStart=function(u){return n.trigger("".concat(Mo,":start"),u)},i.onMoveClb=function(u){return n.trigger(Mo,u)},i.startSort(e.target))},s.prototype.updateStatus=function(){Gn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},s.prototype.checkChildren=function(){var e=this,n=e.model,i=e.clsNoChild,u=e.$el,m=e.module,O=m.getComponents(n).length,P=u.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),L=this.cnt;L||(L=u.children("[data-count]").get(0),this.cnt=L),P[O?"removeClass":"addClass"](i),L&&(L.innerHTML=O||""),!O&&m.setOpen(n,!1)},s.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},s.prototype.setRoot=function(e){var n;e=(0,k.isString)(e)?(n=this.em.getWrapper())===null||n===void 0?void 0:n.find(e)[0]:e;var i=(0,H.getModel)(e,0);i&&(this.stopListening(),this.model=i,this.initComponent(),this._rendered&&this.render())},s.prototype.updateLayerable=function(){(this.parentView||this).render()},s.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},s.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return N.G7.prototype.remove.apply(this,e),this.__clearItems(),this},s.prototype.render=function(){var e=this,n=e.model,i=e.config,u=e.pfx,m=e.ppfx,O=e.opt,P=e.sorter;this.__clearItems();var L=O.opened,A=O.module,ot=O.ItemView,kt=!A.__isLayerable(n),zt=this.$el.empty(),Gt=O.level+1;delete this.inputName,this.items=new di({ItemView:ot,collection:n.get("components"),config:i,sorter:P,opened:L,parentView:this,parent:n,level:Gt,module:A});var _e=this.items.render().$el;return i.showWrapper||Gt!==1?(zt.html(this.template(n)),zt.find(".".concat(this.clsChildren)).append(_e)):zt.append(_e),n.get("draggable")&&i.sortable||zt.children(".".concat(this.clsMove)).remove(),!A.isVisible(n)&&(this.className+=" ".concat(u,"hide")),kt&&(this.className+=" ".concat(m,"hidden")),zt.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},s.prototype.__render=function(){var e=this,n=e.model,i=e.config,u={component:n,el:e.el};i.onRender.bind(this)(u),this.em.trigger("layer:render",u)},s}(N.G7);const ys=Oa;var wp=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ri=function(){return ri=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},ri.apply(this,arguments)},Cc="layer",Ta="".concat(Cc,":"),bs="".concat(Ta,"root"),du="".concat(Ta,"component"),c="".concat(Ta,"custom"),d={all:Cc,root:bs,component:du,custom:c},b={mediaText:""},y=["open","status","locked","custom-name","components","classes"].map(function(h){return"component:update:".concat(h)}).join(" "),x=function(h){function s(e){var n=h.call(this,e,"LayerManager",On)||this;return n.events=d,(0,k.bindAll)(n,"componentChanged","__onRootChange","__onComponent"),n.model=new Ft(n,{opened:{}}),n.config.stylePrefix=n.config.pStylePrefix,n}return wp(s,h),s.prototype.onLoad=function(){var e=this,n=this,i=n.em,u=n.config,m=n.model;m.listenTo(i,"component:selected",this.componentChanged),m.on("change:root",this.__onRootChange),m.listenTo(i,y,this.__onComponent),this.componentChanged(),m.listenToOnce(i,"load",function(){e.setRoot(u.root),e.__appendTo()})},s.prototype.setRoot=function(e){var n=this.em.getWrapper(),i=(0,H.isComponent)(e)?e:n;return e&&(0,k.isString)(e)&&(0,H.hasWin)()&&(i=n.find(e)[0]||n),this.model.set("root",i),i},s.prototype.getRoot=function(){return this.model.get("root")},s.prototype.getComponents=function(e){var n=this;return e.components().filter(function(i){return n.__isLayerable(i)})},s.prototype.setOpen=function(e,n){e.set("open",n)},s.prototype.isOpen=function(e){return!!e.get("open")},s.prototype.setVisible=function(e,n){var i="__prev-display",u=e.getStyle(b),m=u.display;if(n){var O=e.get(i);delete u.display,O&&(u.display=O,e.unset(i))}else m&&e.set(i,m),u.display="none";e.setStyle(u,b),this.updateLayer(e),this.em.trigger("component:toggled")},s.prototype.isVisible=function(e){return(n=e.getStyle(b))===void 0&&(n={}),(n.display||"").trim().indexOf("none")!==0;var n},s.prototype.setLocked=function(e,n){e.set("locked",n)},s.prototype.isLocked=function(e){return!!e.get("locked")},s.prototype.setName=function(e,n){e.set("custom-name",n)},s.prototype.getName=function(e){return e.getName()},s.prototype.getLayerData=function(e){var n=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:n==="selected",hovered:n==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},s.prototype.setLayerData=function(e,n,i){var u;i===void 0&&(i={});var m=this.em,O=this.config,P=n.open,L=n.selected,A=n.hovered,ot=n.visible,kt=n.locked,zt=n.name,Gt=ri({fromLayers:!0},i);if((0,H.isDef)(P)&&this.setOpen(e,P),(0,H.isDef)(L))if(L){m.setSelected(e,Gt);var _e=O.scrollCanvas;_e&&((u=e.views)===null||u===void 0||u.forEach(function(Ee){return Ee.scrollIntoView(_e)}))}else m.removeSelected(e,Gt);(0,H.isDef)(A)&&O.showHover&&(A?m.setHovered(e,Gt):m.setHovered(null,Gt)),(0,H.isDef)(ot)&&ot!==this.isVisible(e)&&this.setVisible(e,ot),(0,H.isDef)(kt)&&this.setLocked(e,kt),(0,H.isDef)(zt)&&this.setName(e,zt)},s.prototype.componentChanged=function(e,n){var i;if(n===void 0&&(n={}),!n.fromLayers){var u=this.em,m=this.config.scrollLayers,O=this.model.get("opened"),P=u.getSelected(),L=P==null?void 0:P.parent();for(var A in O)O[A].set("open",!1),delete O[A];for(;L;)L.set("open",!0),O[L.cid]=L,L=L.parent();if(P&&m){var ot=(i=P.viewLayer)===null||i===void 0?void 0:i.el;ot==null||ot.scrollIntoView(m)}}},s.prototype.getAll=function(){return this.view},s.prototype.render=function(){var e,n,i=this.config,u=this.model,m=ys.extend(i.extend);return this.view=new m({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:m,level:0,config:i,opened:u.get("opened"),model:this.getRoot(),module:this}),(n=this.view)===null||n===void 0?void 0:n.render().el},s.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},s.prototype.__onRootChange=function(){var e,n=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(n),this.em.trigger(bs,n)},s.prototype.__onComponent=function(e){this.updateLayer(e)},s.prototype.__isLayerable=function(e){var n=e.get("tagName");return(!this.config.hideTextnode||!e.is("textnode")&&n!=="br")&&e.get("layerable")},s.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,{container:e.container,root:this.getRoot()})},s.prototype.updateLayer=function(e,n){this.em.trigger(du,e,n)},s}(Tt);const M=x,z={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};var tt=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ct=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return tt(s,h),s.getDefaults=function(){return(0,k.result)(this.prototype,"defaults")},s.prototype.defaults=function(){return{type:"",src:""}},s.prototype.getType=function(){return this.get("type")},s.prototype.getSrc=function(){return this.get("src")},s.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},s.prototype.getExtension=function(){return this.getFilename().split(".").pop()},s}(N.Hn);const Ot=ct;ct.prototype.idAttribute="src";var ne=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ye=function(){return ye=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},ye.apply(this,arguments)};const Ue=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ne(s,h),s.prototype.defaults=function(){return ye(ye({},Ot.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},s}(Ot);var Ie=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lr=function(h){function s(e){var n=h.call(this,e)||this;n.options=e,n.collection=e.collection;var i=e.config||{};n.config=i,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.em=i.em,n.className=n.pfx+"asset",n.listenTo(n.model,"destroy remove",n.remove),n.model.view=n;var u=n.init&&n.init.bind(n);return u&&u(e),n}return Ie(s,h),s.prototype.__getBhv=function(){var e=this.em,n=e==null?void 0:e.Assets;return(n==null?void 0:n.__getBehaviour())||{}},s.prototype.template=function(e,n){var i=this.pfx;return`
      <div class="`.concat(i,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(i,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(i,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},s.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,k.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},s.prototype.getPreview=function(){return""},s.prototype.getInfo=function(){return""},s.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},s}(N.G7);const wr=lr;var jr=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$r=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},Zr=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return jr(s,h),s.prototype.getPreview=function(){var e=this,n=e.pfx,i=e.ppfx,u=e.model.get("src");return ft(tn||(tn=$r([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),n,u,n,i)},s.prototype.getInfo=function(){var e=this.pfx,n=this.model,i=n.get("name"),u=n.get("width"),m=n.get("height"),O=n.get("unitDim"),P=u&&m?"".concat(u,"x").concat(m).concat(O):"";return i=i||n.getFilename(),ft(bn||(bn=$r([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,i,e,P)},s.prototype.init=function(e){var n=this.pfx;this.className+=" ".concat(n,"asset-image")},s.prototype.onClick=function(){var e=this.model,n=this.pfx,i=this.__getBhv().select,u=this.config.onClick,m=this.collection;m.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,k.isFunction)(i)?i(e,!1):(0,k.isFunction)(u)?u(e):this.updateTarget(m.target)},s.prototype.onDblClick=function(){var e=this.em,n=this.model,i=this.__getBhv().select,u=this.config.onDblClick,m=this.collection,O=m.target,P=m.onSelect;(0,k.isFunction)(i)?i(n,!0):(0,k.isFunction)(u)?u(n):(this.updateTarget(O),e==null||e.Modal.close()),(0,k.isFunction)(P)&&P(n)},s.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},s}(wr);const qr=Zr;var tn,bn;Zr.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var dn=function(){return dn=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},dn.apply(this,arguments)},Xn={types:[],initialize:function(h,s){var e=this;s===void 0&&(s={});var n=s.em;this.em=n,this.opts=s,this.model=function(u,m){var O,P,L;if(u===void 0&&(u={}),m===void 0&&(m={}),u&&u.type){var A=e.getBaseType();O=(L=e.getType(u.type))?L.model:A.model,P=L?L.view:A.view}else{var ot=e.recognizeType(u);O=(L=ot.type).model,P=L.view,u=ot.attributes}var kt=new O(u,dn(dn({},m),{em:n}));return kt.typeView=P,kt};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(h){for(var s=this.getTypes(),e=0;e<s.length;e++){var n=s[e],i=n.isType(h);if(i=typeof i=="boolean"&&i?{type:n.id}:i)return{type:n,attributes:i}}return{type:this.getBaseType(),attributes:h}},getBaseType:function(){var h=this.getTypes();return h[h.length-1]},getTypes:function(){return this.types},getType:function(h){for(var s=this.getTypes(),e=0;e<s.length;e++){var n=s[e];if(n.id===h)return n}},addType:function(h,s){var e=this.getType(h),n=this.getBaseType(),i=e?e.model:n.model,u=e?e.view:n.view,m=s.model,O=s.view,P=s.isType;m=m instanceof N.Hn||(0,k.isFunction)(m)?m:i.extend(m||{}),O=O instanceof N.G7||(0,k.isFunction)(O)?O:u.extend(O||{}),!this.extendViewApi||s.model||s.view||(O=O.extend(s)),e?(e.model=m,e.view=O,e.isType=P||e.isType):(s.id=h,s.model=m,s.view=O,s.isType=P||function(L){if(L&&L.type==h)return!0},this.getTypes().unshift(s))}};const Ko=Xn;var pa=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hi=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return pa(s,h),s}(N.FE.extend(Ko));const Xa=hi;hi.prototype.types=[{id:"image",model:Ue,view:qr,isType:function(h){return typeof h=="string"?{type:"image",src:h}:h}}];var ws=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wi=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.options=e,n.config=e.config,n.pfx=n.config.stylePrefix||"",n.ppfx=n.config.pStylePrefix||"",n.em=n.config.em;var i=n.collection;return n.listenTo(i,"reset",n.renderAssets),n.listenTo(i,"add",n.addToAsset),n.listenTo(i,"remove",n.removedAsset),n.listenTo(i,"deselectAll",n.deselectAll),n}return ws(s,h),s.prototype.template=function(e){var n=e.pfx,i=e.ppfx,u=e.em,m="";return this.config.showUrlInput&&(m=`
          <form class="`.concat(n,`add-asset">
            <div class="`).concat(i,"field ").concat(n,`add-field">
              <input placeholder="`).concat(u==null?void 0:u.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(i,'btn-prim">').concat(u==null?void 0:u.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(n,`assets-cont">
      <div class="`).concat(n,`assets-header">
        `).concat(m,`
      </div>
      <div class="`).concat(n,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},s.prototype.handleSubmit=function(e){e.preventDefault();var n=this.getAddInput(),i=n&&n.value.trim(),u=this.config.handleAdd;if(i){n.value="";var m=this.getAssetsEl();m&&(m.scrollTop=0),u?u.bind(this)(i):this.options.globalCollection.add(i,{at:0})}},s.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},s.prototype.getAddInput=function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},s.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},s.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},s.prototype.addAsset=function(e,n){n===void 0&&(n=null);var i=n,u=this.collection,m=this.config,O=new e.typeView({model:e,collection:u,config:m}).render().el;if(i)i.appendChild(O);else{var P=this.getAssetsEl();P&&P.insertBefore(O,P.firstChild)}return O},s.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var n=this.$el.find(".".concat(this.pfx,"assets"));if(e)n.empty();else{var i=this.config.noAssets;i&&n.append(i)}},s.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},s.prototype.renderAssets=function(){var e=this,n=document.createDocumentFragment(),i=this.$el.find(".".concat(this.pfx,"assets"));i.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(u){return e.addAsset(u,n)}),i.append(n)},s.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},s}(N.G7);const Ja=Wi;Wi.prototype.events={submit:"handleSubmit"};var da=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ji=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},$i=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;n.options=e;var i=e.config||{};n.module=e.module,n.config=i,n.em=n.config.em,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.target=n.options.globalCollection||{},n.uploadId=n.pfx+"uploadFile",n.disabled=i.disableUpload!==void 0?i.disableUpload:!i.upload&&!i.embedAsBase64,n.multiUpload=i.multiUpload===void 0||i.multiUpload;var u=i.uploadFile;return u?n.uploadFile=u.bind(n):!i.upload&&i.embedAsBase64&&(n.uploadFile=s.embedAsBase64),n.delegateEvents(),n}return da(s,h),s.prototype.template=function(e){var n=e.pfx,i=e.title,u=e.uploadId,m=e.disabled,O=e.multiUpload;return ft(Qa||(Qa=Ji([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),n,i,u,m?"disabled":"",O?"multiple":"")},s.prototype.events=function(){return{"change [data-input]":"uploadFile"}},s.prototype.onUploadStart=function(){var e=this.module;e&&e.__propEv("asset:upload:start")},s.prototype.onUploadEnd=function(e){var n=this.$el,i=this.module;i&&i.__propEv("asset:upload:end",e);var u=n.find("input");u&&u.val("")},s.prototype.onUploadError=function(e){var n=this.module;console.error(e),this.onUploadEnd(e),n&&n.__propEv("asset:upload:error",e)},s.prototype.onUploadResponse=function(e,n){var i,u=this,m=u.module,O=u.config,P=u.target;try{i=typeof e=="string"?JSON.parse(e):e}catch{i=e}m&&m.__propEv("asset:upload:response",i),O.autoAdd&&P&&P.add(i.data,{at:0}),this.onUploadEnd(e),n==null||n(i)},s.prototype.uploadFile=function(e,n){var i=this,u=e.dataTransfer?e.dataTransfer.files:e.target.files,m=this.config,O=m.beforeUpload;if((O&&O(u))!==!1){var P=new FormData,L=m.params,A=m.customFetch,ot=m.fetchOptions;for(var kt in L)P.append(kt,L[kt]);if(this.multiUpload)for(var zt=0;zt<u.length;zt++)P.append("".concat(m.uploadName,"[]"),u[zt]);else u.length&&P.append(m.uploadName,u[0]);var Gt=m.upload,_e=m.headers,Ee="X-Requested-With";if(_e[Ee]===void 0&&(_e[Ee]="XMLHttpRequest"),Gt){this.onUploadStart();var Se={method:"post",credentials:m.credentials||"include",headers:_e,body:P},or=(ot==null?void 0:ot(Se))||Se;return(A?A(Gt,or):Jf(Gt,or).then(function(yr){return(yr.status/200|0)==1?yr.text():yr.text().then(function(Qr){return Promise.reject(Qr)})})).then(function(yr){return i.onUploadResponse(yr,n)}).catch(function(yr){return i.onUploadError(yr)})}}},s.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var n=this.uploadForm;"draggable"in n&&(this.uploadForm.ondragover=function(){return n.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return n.className="",!1},this.uploadForm.ondrop=function(i){n.className="",i.preventDefault(),e.uploadFile(i)})}},s.prototype.initDropzone=function(e){var n=this,i=0,u=this.config,m=e.model,O=e.el,P=m.Editor,L=m.Canvas.getBody(),A=this.ppfx,ot="".concat(A,"dropzone-active"),kt="".concat(A,"dropzone"),zt=function(){O.className=O.className.replace(ot,"").trim(),i=0},Gt=function(){return i||(O.className+=" ".concat(ot),i=1),!1},_e=function(){return zt(),!1},Ee=function(Se){if(zt(),Se.preventDefault(),Se.stopPropagation(),n.uploadFile(Se),u.openAssetsOnDrop&&P){var or=P.getSelected();P.runCommand("open-assets",{target:or,onSelect:function(){P.Modal.close(),P.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(kt,'">').concat(u.dropzoneContent,"</div>")),zt(),"draggable"in O&&[O,L].forEach(function(Se){Se.ondragover=Gt,Se.ondragleave=_e,Se.ondrop=Ee})},s.prototype.render=function(){var e=this,n=e.$el,i=e.pfx,u=e.em;return n.html(this.template({title:u&&u.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:i})),this.initDrop(),n.attr("class",i+"file-uploader"),this},s.embedAsBase64=function(e,n){var i=this,u=e.dataTransfer?e.dataTransfer.files:e.target.files,m={data:[]};if(FileReader){for(var O=[],P=/^(.+)\/(.+)$/,L=function(kt){var zt=new Promise(function(Gt,_e){var Ee=new FileReader;Ee.addEventListener("load",function(Se){var or,yr=kt.name,Qr=P.exec(kt.type);if((or=Qr?Qr[1]:kt.type)==="image"){var en={src:Ee.result,name:yr,type:or,height:0,width:0},En=new Image;En.addEventListener("error",function(An){_e(An)}),En.addEventListener("load",function(){en.height=En.height,en.width=En.width,Gt(en)}),En.src=en.src}else Gt(or?{src:Ee.result,name:yr,type:or}:Ee.result)}),Ee.addEventListener("error",function(Se){_e(Se)}),Ee.addEventListener("abort",function(Se){_e("Aborted")}),Ee.readAsDataURL(kt)});O.push(zt)},A=0,ot=u;A<ot.length;A++)L(ot[A]);return Promise.all(O).then(function(kt){m.data=kt,i.onUploadResponse(m,n)},function(kt){i.onUploadError(kt)})}this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))},s}(N.G7);const Ai=$i;var Qa,mf=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),il=function(){return il=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},il.apply(this,arguments)},Ea=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},ec="asset",li="".concat(ec,":"),Gp="".concat(li,"select"),qc="".concat(li,"update"),Kc="".concat(li,"add"),hu="".concat(li,"remove"),ts="".concat(hu,":before"),yf="".concat(li,"custom"),qp="".concat(li,"open"),Td="".concat(li,"close"),Kp="".concat(li,"upload"),ug="".concat(Kp,":start"),fg="".concat(Kp,":end"),pg="".concat(Kp,":error"),dg="".concat(Kp,":response"),_p="open-assets",Ev={all:ec,select:Gp,update:qc,add:Kc,remove:hu,removeBefore:ts,custom:yf,open:qp,close:Td,uploadStart:ug,uploadEnd:fg,uploadError:pg,uploadResponse:dg},Pv=function(h){function s(e){var n=h.call(this,e,"AssetManager",new Xa([],e),Ev,z)||this;n.storageKey="assets",n.Asset=Ot,n.Assets=Xa;var i=n,u=i.all,m=i.config;n.assetsVis=new Xa([]);var O=m.pStylePrefix;return O&&(m.stylePrefix="".concat(O).concat(m.stylePrefix)),u.on("add",function(P){return n.getAllVisible().add(P)}),u.on("remove",function(P){return n.getAllVisible().remove(P)}),n.__onAllEvent=(0,k.debounce)(function(){return n.__trgCustom()},0),n}return mf(s,h),s.prototype.__propEv=function(e){for(var n,i,u=[],m=1;m<arguments.length;m++)u[m-1]=arguments[m];(n=this.em).trigger.apply(n,Ea([e],u,!1)),(i=this.getAll()).trigger.apply(i,Ea([e],u,!1))},s.prototype.__trgCustom=function(){var e=this.__getBehaviour(),n=this.getConfig().custom;(e.container||n.open)&&this.em.trigger(this.events.custom,this.__customData())},s.prototype.__customData=function(){var e=this,n=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:n.types||[],container:n.container,close:function(){return e.close()},remove:function(i,u){return e.remove(i,u)},select:function(i,u){var m=e.add(i);(0,k.isFunction)(n.select)&&n.select(m,u)},options:n.options||{}}},s.prototype.open=function(e){e===void 0&&(e={}),this.em.Commands.run(_p,il({types:["image"],select:function(){}},e))},s.prototype.close=function(){this.em.Commands.stop(_p)},s.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(_p))},s.prototype.add=function(e,n){return n===void 0&&(n={}),n.at===void 0&&(n.at=0),this.all.add(e,n)},s.prototype.get=function(e){return this.all.where({src:e})[0]||null},s.prototype.getAll=function(){return this.all},s.prototype.getAllVisible=function(){return this.assetsVis},s.prototype.remove=function(e,n){return this.__remove(e,n)},s.prototype.store=function(){return this.getProjectData()},s.prototype.load=function(e){return this.loadProjectData(e)},s.prototype.getContainer=function(){var e;return this.__getBehaviour().container||((e=this.am)===null||e===void 0?void 0:e.el)},s.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},s.prototype.render=function(e){if(!this.getConfig().custom){var n=e||this.getAll().models;if(!this.am){var i=this.__viewParams();i.fu=this.FileUploader(),this.am=new Ja(il({},i)),this.am.render()}return this.assetsVis.reset(n),this.getContainer()}},s.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},s.prototype.addType=function(e,n){this.getAll().addType(e,n)},s.prototype.getType=function(e){return this.getAll().getType(e)},s.prototype.getTypes=function(){return this.getAll().getTypes()},s.prototype.AssetsView=function(){return this.am},s.prototype.FileUploader=function(){return this.fu||(this.fu=new Ai(this.__viewParams())),this.fu},s.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var n=this.em,i=this.events;n.on("run:".concat(_p),function(){return e.__propEv(i.open)}),n.on("stop:".concat(_p),function(){return e.__propEv(i.close)})},s.prototype.postRender=function(e){var n;this.config.dropzone&&((n=this.fu)===null||n===void 0||n.initDropzone(e))},s.prototype.setTarget=function(e){this.assetsVis.target=e},s.prototype.onSelect=function(e){this.assetsVis.onSelect=e},s.prototype.onClick=function(e){this.config.onClick=e},s.prototype.onDblClick=function(e){this.config.onDblClick=e},s.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=il(il({},this._bhv||{}),e)},s.prototype.__getBehaviour=function(e){return this._bhv||{}},s.prototype.destroy=function(){var e,n;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(n=this.am)===null||n===void 0||n.remove(),this._bhv={}},s}(et);const kv=Pv;var Ed={placeholder:"eg. Text here"};const Av={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:Ed,alt:Ed,title:Ed,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};var Mv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lv=function(h){function s(e){var n=h.call(this,e,"I18n",Av)||this,i=n.config.messagesAdd;return i&&n.addMessages(i),n.config.detectLocale&&(n.config.locale=n._localLang()),n}return Mv(s,h),s.prototype.setLocale=function(e){var n=this.em,i=this.config,u={value:e,valuePrev:i.locale};return n&&n.trigger("i18n:locale",u),i.locale=e,this},s.prototype.getLocale=function(){return this.config.locale},s.prototype.getMessages=function(e,n){n===void 0&&(n={});var i=this.config.messages;return e&&!i[e]&&this._debug("'".concat(e,"' i18n lang not found"),n),e?i[e]:i},s.prototype.setMessages=function(e){var n=this.em;return this.config.messages=e,n&&n.trigger("i18n:update",e),this},s.prototype.addMessages=function(e){var n=this.em,i=this.config.messages;return n&&n.trigger("i18n:add",e),this.setMessages((0,H.deepMerge)(i,e)),this},s.prototype.t=function(e,n){n===void 0&&(n={});var i=this.config,u=n.params||{},m=n.l||this.getLocale(),O=n.lFlb||i.localeFallback,P=this._getMsg(e,m,n);return P||(P=this._getMsg(e,O,n)),!P&&this._debug("'".concat(e,"' i18n key not found in '").concat(m,"' lang"),n),P&&(0,k.isString)(P)?this._addParams(P,u):P},s.prototype._localLang=function(){var e=(0,H.hasWin)()&&window.navigator||{},n=e.language||e.userLanguage;return n?n.split("-")[0]:"en"},s.prototype._addParams=function(e,n){var i=new RegExp("{([\\w\\d-]*)}","g");return e.replace(i,function(u,m){return n[m]||""}).trim()},s.prototype._getMsg=function(e,n,i){i===void 0&&(i={});var u=this.getMessages(n,i);if(u){var m=u[e];return!m&&e.indexOf(".")>0&&(m=e.split(".").reduce(function(O,P){if(!(0,k.isUndefined)(O))return O[P]},u)),m}},s.prototype._debug=function(e,n){n===void 0&&(n={});var i=this.em,u=this.config;(n.debug||u.debug)&&i&&i.logWarning(e)},s.prototype.destroy=function(){},s}(Tt);const vh=Lv;var hg=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gu=function(){return gu=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},gu.apply(this,arguments)},gg=function(){},vg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return hg(s,h),s.prototype.initialize=function(e){e===void 0&&(e={}),this.opt=e||{},(0,k.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var n=e||{};this.elT=0,this.elL=0,this.borderOffset=n.borderOffset||10;var i=n.container;this.el=typeof i=="string"?document.querySelector(i):i,this.$el=(0,I.default)(this.el),this.containerSel=n.containerSel||"div",this.itemSel=n.itemSel||"div",this.draggable=n.draggable||!0,this.nested=!!n.nested,this.pfx=n.pfx||"",this.ppfx=n.ppfx||"",this.freezeClass=n.freezeClass||this.pfx+"freezed",this.onStart=n.onStart||gg,this.onEndMove=n.onEndMove,this.customTarget=n.customTarget,this.onEnd=n.onEnd,this.direction=n.direction||"v",this.onMoveClb=n.onMove,this.relative=n.relative||!1,this.ignoreViewChildren=!!n.ignoreViewChildren,this.plh=n.placer,this.wmargin=n.wmargin||0,this.offTop=n.offsetTop||0,this.offLeft=n.offsetLeft||0,this.document=n.document||document,this.em=n.em,this.canvasRelative=!!n.canvasRelative,this.selectOnEnd=!n.avoidSelectOnEnd,this.scale=n.scale,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},s.prototype.getScale=function(){return(0,k.result)(this,"scale")||1},s.prototype.getContainerEl=function(e){if(e&&(this.el=e),!this.el){var n=this.opt.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,I.default)(this.el)}return this.el},s.prototype.getDocuments=function(e){var n=this.em,i=e?e.ownerDocument:n==null?void 0:n.Canvas.getBody().ownerDocument,u=[document];return i&&u.push(i),u},s.prototype.updateOffset=function(){var e,n=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.offTop=n.top,this.offLeft=n.left},s.prototype.setDropContent=function(e){delete this.dropModel,this.dropContent=e},s.prototype.updateTextViewCursorPosition=function(e){var n=this.em;if(n){var i=n.get("Canvas"),u=i.getDocument(),m=null;if(u.caretRangeFromPoint){var O=(0,H.getPointerEvent)(e);m=u.caretRangeFromPoint(O.clientX,O.clientY)}else e.rangeParent&&(m=u.createRange()).setStart(e.rangeParent,e.rangeOffset);var P=i.getWindow().getSelection();i.getFrameEl().focus(),P.removeAllRanges(),m&&P.addRange(m),this.setContentEditable(this.activeTextModel,!0)}},s.prototype.setContentEditable=function(e,n){if(e){var i=e.getEl();i.contentEditable!=n&&(i.contentEditable=n)}},s.prototype.toggleSortCursor=function(e){var n=this.em,i=n&&n.get("Canvas");i&&(e?i.startAutoscroll():i.stopAutoscroll())},s.prototype.setDragHelper=function(e,n){for(var i=n||"",u=e.cloneNode(!0),m=e.getBoundingClientRect(),O=getComputedStyle(e),P="",L=0;L<O.length;L++){var A=O[L];P+="".concat(A,":").concat(O.getPropertyValue(A),";")}document.body.appendChild(u),u.className+=" ".concat(this.pfx,"bdrag"),u.setAttribute("style",P),this.dragHelper=u,u.style.width="".concat(m.width,"px"),u.style.height="".concat(m.height,"px"),i&&this.moveDragHelper(i),this.em&&(0,I.default)(this.em.Canvas.getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),(0,I.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},s.prototype.moveDragHelper=function(e){var n=e.target.ownerDocument;if(this.dragHelper&&n){var i=e.pageY,u=e.pageX,m=0,O=0,P=(n.defaultView||n.parentWindow).frameElement,L=this.dragHelper.style;if(P){var A=P.getBoundingClientRect();m=A.top+document.documentElement.scrollTop,O=A.left+document.documentElement.scrollLeft,i=e.clientY,u=e.clientX}L.top=i+m+"px",L.left=u+O+"px"}},s.prototype.matches=function(e,n){return H.matches.call(e,n)},s.prototype.closest=function(e,n){if(e)for(var i=e.parentNode;i&&i.nodeType===1;){if(this.matches(i,n))return i;i=i.parentNode}},s.prototype.offset=function(e){var n=e.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft}},s.prototype.createPlaceholder=function(){var e=this.pfx,n=document.createElement("div"),i=document.createElement("div");return n.className=e+"placeholder",n.style.display="none",n.style.pointerEvents="none",i.className=e+"placeholder-int",n.appendChild(i),n},s.prototype.startSort=function(e,n){var i,u;n===void 0&&(n={});var m,O=this,P=O.em,L=O.itemSel,A=O.containerSel,ot=O.plh,kt=this.getContainerEl(n.container),zt=this.getDocuments(e);delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,e&&!this.matches(e,"".concat(L,", ").concat(A))&&(e=this.closest(e,L)),this.sourceEl=e,ot||(this.plh=this.createPlaceholder(),kt.appendChild(this.plh)),e&&((m=this.getSourceModel(e))&&m.set&&m.set("status","freezed"),this.srcModel=m),(0,H.on)(kt,"mousemove dragover",this.onMove),(0,H.on)(zt,"mouseup dragend touchend",this.endMove),(0,H.on)(zt,"keydown",this.rollback),this.onStart({sorter:this,target:m,parent:m&&((i=m.parent)===null||i===void 0?void 0:i.call(m)),index:m&&((u=m.index)===null||u===void 0?void 0:u.call(m))}),P==null||P.clearSelection(),this.toggleSortCursor(!0),P==null||P.trigger("sorter:drag:start",e,m)},s.prototype.getTargetModel=function(e){var n=e||this.target;return(0,I.default)(n).data("model")},s.prototype.getSourceModel=function(e,n){var i=this,u=n===void 0?{}:n,m=u.target,O=u.avoidChildren,P=O===void 0?1:O,L=this.em,A=this.sourceEl,ot=e||A,kt=this.dropModel,zt=this.dropContent,Gt=function(or){return or&&m&&or.opt&&or.opt.avoidChildren&&i.isTextableActive(or,m)};if(zt&&L){if(Gt(kt)&&(kt=void 0),!kt){var _e=L.Components.getComponents(),Ee={avoidChildren:P,avoidStore:1,avoidUpdateStyle:1},Se=_e.add(zt,gu(gu({},Ee),{temporary:!0}));if(kt=(kt=_e.remove(Se,Ee))instanceof Array?kt[0]:kt,this.dropModel=kt,Gt(kt))return this.getSourceModel(ot,{target:m,avoidChildren:0})}return kt}return ot&&(0,I.default)(ot).data("model")},s.prototype.selectTargetModel=function(e,n){if(!(e instanceof N.FE||n&&n===e)){var i=this.targetModel;i&&i!==this.srcModel&&i.set("status",""),e&&e.set&&(e.set("status","selected-parent"),this.targetModel=e)}},s.prototype.onMove=function(e){var n=e,i=this,u=i.em,m=i.onMoveClb,O=i.plh,P=i.customTarget;this.moved=!0;var L=O.style.display;L&&L!=="none"||(O.style.display="block");var A=this.offset(this.el);this.elT=this.wmargin?Math.abs(A.top):A.top,this.elL=this.wmargin?Math.abs(A.left):A.left;var ot=e.pageY-this.elT+this.el.scrollTop,kt=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&u){var zt=u.get("Canvas").getMouseRelativeCanvas(e,{noScroll:1});kt=zt.x,ot=zt.y}this.rX=kt,this.rY=ot,this.eventMove=e;var Gt=this.getSourceModel(),_e=P?P({sorter:this,event:e}):e.target,Ee=this.dimsFromTarget(_e,kt,ot),Se=this.target,or=Se&&this.getTargetModel(Se);if(this.selectTargetModel(or,Gt),or||(O.style.display="none"),Se){this.lastDims=Ee;var yr=this.findPosition(Ee,kt,ot);this.isTextableActive(Gt,or)?(this.activeTextModel=or,O.style.display="none",this.lastPos=yr,this.updateTextViewCursorPosition(n)):(this.disableTextable(),delete this.activeTextModel,this.lastPos&&this.lastPos.index==yr.index&&this.lastPos.method==yr.method||(this.movePlaceholder(this.plh,Ee,yr,this.prevTargetDim),this.$plh||(this.$plh=(0,I.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=yr)),(0,k.isFunction)(m)&&m({event:e,target:Gt,parent:or,index:yr.index+(yr.method=="after"?1:0)}),u&&u.trigger("sorter:drag",{target:Se,targetModel:or,sourceModel:Gt,dims:Ee,pos:yr,x:kt,y:ot})}},s.prototype.isTextableActive=function(e,n){var i;return((i=e==null?void 0:e.get)===null||i===void 0?void 0:i.call(e,"textable"))&&(n==null?void 0:n.isInstanceOf("text"))},s.prototype.disableTextable=function(){var e=this.activeTextModel;e==null||e.getView().disableEditing(),this.setContentEditable(e,!1)},s.prototype.isInFlow=function(e,n){if(!e)return!1;n=n||document.body;var i=e;return i.offsetHeight,!!this.styleInFlow(i,n)},s.prototype.styleInFlow=function(e,n){if(!(0,H.isTextNode)(e)){var i=e.style||{},u=(0,I.default)(e),m=n&&(0,I.default)(n);if(!i.overflow||i.overflow==="visible"){var O=u.css("float");if(!(O&&O!=="none"||m&&m.css("display")=="flex"&&m.css("flex-direction")!=="column")){switch(i.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(u.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},s.prototype.validTarget=function(e,n){var i=this.getTargetModel(e),u=this.getSourceModel(n,{target:i}),m={valid:!0,src:n=u&&u.view&&u.view.el,srcModel:u,trg:e=i&&i.view&&i.view.el,trgModel:i,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!n||!e)return m.valid=!1,m;var O=u.get("draggable");if((0,k.isFunction)(O)){var P=O(u,i);m.dragInfo=P,m.draggable=P,O=P}else O=O instanceof Array?O.join(", "):O,m.dragInfo=O,O=(0,k.isString)(O)?this.matches(e,O):O,m.draggable=O;var L=i.get("droppable");return(0,k.isFunction)(L)?(P=L(u,i),m.droppable=P,m.dropInfo=P,L=P):(L=(L=L instanceof N.FE?1:L)instanceof Array?L.join(", "):L,m.dropInfo=L,L=(0,k.isString)(L)?this.matches(n,L):L,L=O&&this.isTextableActive(u,i)?1:L,m.droppable=L),L&&O||(m.valid=!1),m},s.prototype.dimsFromTarget=function(e,n,i){var u=this.em,m=[];if(!e||(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e))return m;if(this.prevTarget&&this.prevTarget!=e&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var O=this.validTarget(e);if(u&&u.trigger("sorter:drag:validation",O),!O.valid&&this.targetP)return this.dimsFromTarget(this.targetP,n,i);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(m=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,n,i)||!this.nested&&!this.cacheDims.length){var P=this.targetP;P&&this.validTarget(P).valid&&(m=this.cacheDimsP,this.target=P)}return delete this.lastPos,m},s.prototype.getTargetFromEl=function(e){var n,i=e,u=this.targetPrev,m=this.em,O=this.containerSel,P=this.itemSel;if(this.matches(i,"".concat(P,", ").concat(O))||(i=this.closest(i,P)),this.draggable instanceof Array&&(i=this.closest(i,this.draggable.join(","))),u&&u!=i&&delete this.targetPrev,!this.targetPrev){n=this.closest(i,O);var L=this.validTarget(i);if(m&&m.trigger("sorter:drag:validation",L),!L.valid&&n)return this.getTargetFromEl(n);this.targetPrev=i}return this.nearElBorders(i)&&(n=this.closest(i,O))&&this.validTarget(n).valid&&(i=n),i},s.prototype.nearElBorders=function(e){var n=10,i=e.getBoundingClientRect(),u=e.ownerDocument.body,m=this.getCurrentPos(),O=m.x,P=m.y,L=i.top+u.scrollTop,A=i.left+u.scrollLeft,ot=i.width,kt=i.height;if(P<L+n||P>L+kt-n||O<A+n||O>A+ot-n)return 1},s.prototype.getCurrentPos=function(){var e=this.eventMove;return{x:(e==null?void 0:e.pageX)||0,y:(e==null?void 0:e.pageY)||0}},s.prototype.getDim=function(e){var n,i,u,m,O=this.em,P=this.canvasRelative,L=O==null?void 0:O.Canvas,A=L?L.getElementOffsets(e):{};if(P&&O){var ot=L.getElementPos(e,{noScroll:1});n=ot.top,i=ot.left,u=ot.height,m=ot.width}else{var kt=this.offset(e);n=this.relative?e.offsetTop:kt.top-(this.wmargin?-1:1)*this.elT,i=this.relative?e.offsetLeft:kt.left-(this.wmargin?-1:1)*this.elL,u=e.offsetHeight,m=e.offsetWidth}return{top:n,left:i,height:u,width:m,offsets:A}},s.prototype.getChildrenDim=function(e){var n=this,i=[];if(!e)return i;var u=this.getTargetModel(e);if(u&&u.view&&!this.ignoreViewChildren){var m=u.getCurrentView?u.getCurrentView():u.view;e=m.getChildrenContainer()}return(0,k.each)(e.children,function(O,P){var L=O,A=(0,H.getModel)(L,I.default),ot=A&&A.index?A.index():P;if((0,H.isTextNode)(L)||n.matches(L,n.itemSel)){var kt,zt=n.getDim(L),Gt=n.direction;kt=Gt=="v"||Gt!="h"&&n.isInFlow(L,e),zt.dir=kt,zt.el=L,zt.indexEl=ot,i.push(zt)}}),i},s.prototype.nearBorders=function(e,n,i){var u=!1,m=this.borderOffset,O=n||0,P=i||0,L=e.top,A=e.left,ot=e.height,kt=e.width;return(L+m>P||P>L+ot-m||A+m>O||O>A+kt-m)&&(u=!0),u},s.prototype.findPosition=function(e,n,i){for(var u,m={index:0,indexEl:0,method:"before"},O=0,P=0,L=0,A=0,ot=0,kt=0,zt=0,Gt=e.length;zt<Gt;zt++){var _e=(u=e[zt]).top,Ee=u.left,Se=u.height,or=u.width;if(kt=_e+Se,A=Ee+or/2,ot=_e+Se/2,!(P&&Ee>P||L&&ot>=L||O&&Ee+or<O))if(m.index=zt,m.indexEl=u.indexEl,u.dir){if(i<ot){m.method="before";break}m.method="after"}else i<kt&&(L=kt),n<A?(P=A,m.method="before"):(O=A,m.method="after")}return m},s.prototype.movePlaceholder=function(e,n,i,u){var m=0,O=0,P=0,L="",A="",ot="px",kt=5,zt=i.method,Gt=n[i.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),Gt){var _e=Gt.top,Ee=Gt.left,Se=Gt.height,or=Gt.width;Gt.dir?(L=or+ot,A="auto",O=zt=="before"?_e-m:_e+Se-m,P=Ee):(L="auto",A=Se-2*m+ot,O=_e+m,P=zt=="before"?Ee-m:Ee+or-m,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested)return void(e.style.display="none");if(u){var yr=u.offsets||{},Qr=yr.paddingTop||kt,en=yr.paddingLeft||kt;O=u.top+Qr,P=u.left+en,L=parseInt("".concat(u.width))-2*en+ot,A="auto"}}e.style.top=O+ot,e.style.left=P+ot,L&&(e.style.width=L),A&&(e.style.height=A)},s.prototype.parents=function(e){return e?[e].concat(this.parents(e.parent())):[]},s.prototype.sort=function(e,n){var i=e.parents.filter(function(m){return n.parents.includes(m)})[0];if(!i)return n.model.index()-e.model.index();var u=e.parents[e.parents.indexOf(i)-1];return n.parents[n.parents.indexOf(i)-1].index()-u.index()},s.prototype.endMove=function(){var e,n=this,i=this.sourceEl,u=[],m=this.getDocuments(),O=this.getContainerEl(),P=this.onEndMove,L=this.onEnd,A=this.target,ot=this.lastPos;if((0,H.off)(O,"mousemove dragover",this.onMove),(0,H.off)(m,"mouseup dragend touchend",this.endMove),(0,H.off)(m,"keydown",this.rollback),this.plh.style.display="none",i&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved&&A){var kt=this.toMove,zt=(0,k.isArray)(kt)?kt:kt?[kt]:[i],Gt=0;zt.length===1?u.push(this.move(A,zt[0],ot)):zt.map(function(Se){return{model:Se,parents:n.parents(Se)}}).sort(this.sort).forEach(function(Se){var or=Se.model,yr=or.index(),Qr=or.parent().getEl();u.push(n.move(A,or,gu(gu({},ot),{indexEl:ot.indexEl-Gt,index:ot.index-Gt}))),Qr===A&&yr<=ot.index&&Gt++})}this.plh&&(this.plh.style.display="none");var _e=this.dragHelper;if(_e&&(_e.parentNode.removeChild(_e),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,k.isFunction)(P)){var Ee={target:e,parent:e&&e.parent(),index:e&&e.index()};u.length?u.forEach(function(Se){return P(Se,n,Ee)}):P(null,this,gu(gu({},Ee),{cancelled:1}))}(0,k.isFunction)(L)&&L({sorter:this})},s.prototype.move=function(e,n,i){var u,m,O=this.em,P=this.dropContent,L=(0,H.getElement)(n),A=[],ot=i.method==="after"?i.indexEl+1:i.indexEl,kt=this.validTarget(e,L),zt=(0,I.default)(e).data("collection"),Gt=kt.trgModel,_e=kt.srcModel,Ee=kt.draggable,Se=Gt instanceof N.FE?1:kt.droppable;if(zt&&Se&&Ee){var or={at:ot,action:"move-component"},yr=this.isTextableActive(_e,Gt);if(P)u=(0,k.isFunction)(P)?P():P,or.avoidUpdateStyle=!0,or.action="add-component";else{var Qr=_e.collection.indexOf(_e),en=zt===_e.collection;(!en||Qr!==ot&&Qr!==ot-1||yr)&&(u=_e.collection.remove(_e,{temporary:!0}),en&&ot>Qr&&(or.at=ot-1))}u&&(yr?(delete or.at,m=Gt.getView().insertComponent(u,or)):m=zt.add(u,or)),delete this.dropContent,delete this.prevTarget}else if(O){var En=kt.dropInfo||(Gt==null?void 0:Gt.get("droppable")),An=kt.dragInfo||(_e==null?void 0:_e.get("draggable"));!zt&&A.push("Target collection not found"),!Se&&En&&A.push("Target is not droppable, accepts [".concat(En,"]")),!Ee&&An&&A.push("Component not draggable, acceptable by [".concat(An,"]")),O.logWarning("Invalid target position",{errors:A,model:_e,context:"sorter",target:Gt})}return O==null||O.trigger("sorter:drag:end",{targetCollection:zt,modelToDrop:u,warns:A,validResult:kt,dst:e,srcEl:L}),m},s.prototype.rollback=function(e){(0,H.off)(this.getDocuments(),"keydown",this.rollback),(e.which||e.keyCode)==27&&(this.moved=!1,this.endMove())},s}(N.G7);const jv=vg;var tp=function(){return tp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},tp.apply(this,arguments)},mh=function(){function h(s){s===void 0&&(s={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=tp({},this.defOpts),this.setOptions(s),(0,k.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return h.prototype.getConfig=function(){return this.opts},h.prototype.setOptions=function(s,e){s===void 0&&(s={}),this.opts=tp(tp({},e?this.defOpts:this.opts),s),this.setup()},h.prototype.setup=function(){var s=this.opts,e=s.prefix||"",n=s.appendTo||document.body,i=this.container;for(i||((i=document.createElement("div")).className="".concat(e,"resizer-c"),n.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var u={};for(var m in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(P){return u[P]=s[P]?function(L,A){A===void 0&&(A={});var ot=A.prefix||"",kt=document.createElement("i");return kt.className=ot+"resizer-h "+ot+"resizer-h-"+L,kt.setAttribute("data-"+ot+"handler",L),kt}(P,s):null}),u){var O=u[m];O&&i.appendChild(O)}this.handlers=u,this.mousePosFetcher=s.mousePosFetcher,this.updateTarget=s.updateTarget,this.posFetcher=s.posFetcher,this.onStart=s.onStart,this.onMove=s.onMove,this.onEnd=s.onEnd,this.onUpdateContainer=s.onUpdateContainer},h.prototype.toggleFrames=function(s){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,k.each)(e,function(n){return n.style.pointerEvents=s?"none":""})}},h.prototype.isHandler=function(s){var e=this.handlers;for(var n in e)if(e[n]===s)return!0;return!1},h.prototype.getFocusedEl=function(){return this.el},h.prototype.getParentEl=function(){var s;return(s=this.el)===null||s===void 0?void 0:s.parentElement},h.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},h.prototype.getElementPos=function(s,e){e===void 0&&(e={});var n=this.posFetcher;return n?n(s,e):function(i,u){var m=window,O=i.getBoundingClientRect();return{left:O.left+m.pageXOffset,top:O.top+m.pageYOffset,width:O.width,height:O.height}}(s)},h.prototype.focus=function(s){s&&s===this.el||(this.el=s,this.updateContainer({forceShow:!0}),(0,H.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},h.prototype.blur=function(){this.container.style.display="none",this.el&&((0,H.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},h.prototype.start=function(s){var e=s;if(e.button===0){e.preventDefault(),e.stopPropagation();var n=this.el,i=this.getParentEl(),u=this.opts||{},m=this.mousePosFetcher,O="data-"+u.prefix+"handler",P=this.getElementPos(n,{avoidFrameZoom:!0,avoidFrameOffset:!0}),L=this.getElementPos(i),A=e.target;this.handlerAttr=A.getAttribute(O),this.clickedHandler=A,this.startDim={t:P.top,l:P.left,w:P.width,h:P.height},this.rectDim={t:P.top,l:P.left,w:P.width,h:P.height},this.startPos=m?m(e):{x:e.clientX,y:e.clientY},this.parentDim={t:L.top,l:L.left,w:L.width,h:L.height};var ot=this.getDocumentEl();this.docs=ot,(0,H.on)(ot,"pointermove",this.move),(0,H.on)(ot,"keydown",this.handleKeyDown),(0,H.on)(ot,"pointerup",this.stop),(0,k.isFunction)(this.onStart)&&this.onStart(e,{docs:ot,config:u,el:n,resizer:this}),this.toggleFrames(!0),this.move(e)}},h.prototype.move=function(s){var e=s,n=this.onMove,i=this.mousePosFetcher,u=i?i(e):{x:e.clientX,y:e.clientY};this.currentPos=u,this.delta={x:u.x-this.startPos.x,y:u.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),n&&n(e)},h.prototype.stop=function(s){var e=this.el,n=this.opts,i=this.docs||this.getDocumentEl();(0,H.off)(i,"pointermove",this.move),(0,H.off)(i,"keydown",this.handleKeyDown),(0,H.off)(i,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,k.isFunction)(this.onEnd)&&this.onEnd(s,{docs:i,config:n,el:e,resizer:this}),delete this.docs},h.prototype.updateRect=function(s){var e=this.el,n=this.opts,i=this.rectDim,u=this.updateTarget,m=this.getSelectedHandler(),O=n.unitHeight,P=n.unitWidth,L=n.keyWidth,A=n.keyHeight;if((0,k.isFunction)(u))u(e,i,{store:s,selectedHandler:m,resizer:this,config:n});else{var ot=e.style;ot[L]=i.w+P,ot[A]=i.h+O,ot.top=i.t+O,ot.left=i.l+P}this.updateContainer()},h.prototype.updateContainer=function(s){var e;s===void 0&&(s={});var n=this,i=n.opts,u=n.container,m=n.el,O=u.style;!i.avoidContainerUpdate&&m&&s.forceShow&&(O.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:u,resizer:this,opts:tp(tp({},i),s)})},h.prototype.getSelectedHandler=function(){var s=this.handlers;if(this.selectedHandler){for(var e in s)if(s[e]===this.selectedHandler)return e}},h.prototype.handleKeyDown=function(s){s.keyCode===27&&(this.rectDim=this.startDim,this.stop(s))},h.prototype.handleMouseDown=function(s){var e=s.target;this.isHandler(e)?(this.selectedHandler=e,this.start(s)):e!==this.el&&(delete this.selectedHandler,this.blur())},h.prototype.calc=function(s){var e,n=this.opts||{},i=n.step,u=this.startDim,m=n.minDim,O=n.maxDim,P=s.delta.x,L=s.delta.y,A=this.parentDim.w,ot=this.parentDim.h,kt=this.opts.unitWidth,zt=this.opts.unitHeight,Gt=kt==="%"?u.w/100*A:u.w,_e=zt==="%"?u.h/100*ot:u.h,Ee={t:u.t,l:u.l,w:Gt,h:_e};if(s){var Se=s.handlerAttr;~Se.indexOf("r")&&(e=kt==="%"?(0,H.normalizeFloat)((Gt+P*i)/A*100,.01):(0,H.normalizeFloat)(Gt+P*i,i),e=Math.max(m,e),O&&(e=Math.min(O,e)),Ee.w=e),~Se.indexOf("b")&&(e=zt==="%"?(0,H.normalizeFloat)((_e+L*i)/ot*100,.01):(0,H.normalizeFloat)(_e+L*i,i),e=Math.max(m,e),O&&(e=Math.min(O,e)),Ee.h=e),~Se.indexOf("l")&&(e=kt==="%"?(0,H.normalizeFloat)((Gt-P*i)/A*100,.01):(0,H.normalizeFloat)(Gt-P*i,i),e=Math.max(m,e),O&&(e=Math.min(O,e)),Ee.w=e),~Se.indexOf("t")&&(e=zt==="%"?(0,H.normalizeFloat)((_e-L*i)/ot*100,.01):(0,H.normalizeFloat)(_e-L*i,i),e=Math.max(m,e),O&&(e=Math.min(O,e)),Ee.h=e);var or=n.ratioDefault?!s.keys.shift:s.keys.shift;if(Se.indexOf("c")<0&&or){var yr=u.w/u.h;Ee.w/Ee.h>yr?Ee.h=Math.round(Ee.w/yr):Ee.w=Math.round(Ee.h*yr)}for(var Qr in~Se.indexOf("l")&&(Ee.l+=u.w-Ee.w),~Se.indexOf("t")&&(Ee.t+=u.h-Ee.h),Ee){var en=Qr;Ee[en]=parseInt("".concat(Ee[en]),10)}return Ee}},h}();const Dv=mh;var Iv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yh=function(){return yh=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},yh.apply(this,arguments)};const Nv=function(h){function s(e){var n=h.call(this,e,"Utils")||this;return n.Sorter=jv,n.Resizer=Dv,n.Dragger=Zo.Z,n.helpers=yh({},H),n}return Iv(s,h),s.prototype.destroy=function(){},s}(Tt);var kl,rc={},al={16:!1,18:!1,17:!1,91:!1},bh="all",zu={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},mg={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},xp=function(h){return mg[h]||h.toUpperCase().charCodeAt(0)},Cp=[];for(kl=1;kl<20;kl++)mg["f"+kl]=111+kl;function Yp(h,s){for(var e=h.length;e--;)if(h[e]===s)return e;return-1}function Fv(h,s){if(h.length!=s.length)return!1;for(var e=0;e<h.length;e++)if(h[e]!==s[e])return!1;return!0}var Vv={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Rv(h){var s,e=h.keyCode,n=Yp(Cp,e);if(n>=0&&Cp.splice(n,1),e!=93&&e!=224||(e=91),e in al)for(s in al[e]=!1,zu)zu[s]==e&&(js[s]=!1)}function Hv(){for(kl in al)al[kl]=!1;for(kl in zu)js[kl]=!1}function js(h,s,e){var n,i;n=yg(h),e===void 0&&(e=s,s="all");for(var u=0;u<n.length;u++)i=[],(h=n[u].split("+")).length>1&&(i=wh(h),h=[h[h.length-1]]),h=h[0],(h=xp(h))in rc||(rc[h]=[]),rc[h].push({shortcut:n[u],scope:s,method:e,key:n[u],mods:i})}for(kl in zu)js[kl]=!1;function Pd(){return bh||"all"}function yg(h){var s;return(s=(h=h.replace(/\s/g,"")).split(","))[s.length-1]==""&&(s[s.length-2]+=","),s}function wh(h){for(var s=h.slice(0,h.length-1),e=0;e<s.length;e++)s[e]=zu[s[e]];return s}function kd(h,s,e){h.addEventListener?h.addEventListener(s,e,!1):h.attachEvent&&h.attachEvent("on"+s,function(){e(window.event)})}js.setScope=function(h){bh=h||"all"},js.getScope=Pd,js.deleteScope=function(h){var s,e,n;for(s in rc)for(e=rc[s],n=0;n<e.length;)e[n].scope===h?e.splice(n,1):n++},js.filter=function(h){var s=(h.target||h.srcElement).tagName;return!(s=="INPUT"||s=="SELECT"||s=="TEXTAREA")},js.isPressed=function(h){return typeof h=="string"&&(h=xp(h)),Yp(Cp,h)!=-1},js.getPressedKeyCodes=function(){return Cp.slice(0)},js.unbind=function(h,s){var e,n,i,u,m,O=[];for(e=yg(h),u=0;u<e.length;u++){if((n=e[u].split("+")).length>1&&(O=wh(n)),h=n[n.length-1],h=xp(h),s===void 0&&(s=Pd()),!rc[h])return;for(i=0;i<rc[h].length;i++)(m=rc[h][i]).scope===s&&Fv(m.mods,O)&&(rc[h][i]={})}},js.handlers=rc,js.init=function(h){kd(h.document,"keydown",function(s){(function(e){var n,i,u,m,O,P;if(n=e.keyCode,Yp(Cp,n)==-1&&Cp.push(n),n!=93&&n!=224||(n=91),n in al)for(u in al[n]=!0,zu)zu[u]==n&&(js[u]=!0);else if(function(L){for(kl in al)al[kl]=L[Vv[kl]]}(e),js.filter.call(this,e)&&n in rc){for(P=Pd(),m=0;m<rc[n].length;m++)if((i=rc[n][m]).scope==P||i.scope=="all"){for(u in O=i.mods.length>0,al)(!al[u]&&Yp(i.mods,+u)>-1||al[u]&&Yp(i.mods,+u)==-1)&&(O=!1);(i.mods.length!=0||al[16]||al[18]||al[17]||al[91])&&!O||i.method(e,i)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}})(s)}),kd(h.document,"keyup",Rv),kd(h,"focus",Hv)};const bf=js,Bv={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};var bg=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wg=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))};(0,H.hasWin)()&&bf.init(window);var Uv=function(h){function s(e){var n=h.call(this,e,"Keymaps",Bv)||this;return n.keymaster=bf,n.keymaps={},n}return bg(s,h),s.prototype.onLoad=function(){var e=this.config.defaults;for(var n in e){var i=e[n];this.add(n,i.keys,i.handler,i.opts||{})}},s.prototype.add=function(e,n,i,u){u===void 0&&(u={});var m=this.em,O=m.Commands,P=m.getEditor(),L=m.Canvas,A={id:e,keys:n,handler:i};return this.keymaps[e]&&this.remove(e),this.keymaps[e]=A,bf(n,function(ot,kt){var zt={event:ot,h:kt},Gt=(0,k.isString)(i)?O.get(i):i;if(!m.isEditing()&&!P.Canvas.isInputFocused()||u.force){u.prevent&&L.getCanvasView().preventDefault(ot),(0,k.isFunction)(Gt)?Gt(P,0,zt):O.runCommand(Gt,zt);var _e=[e,kt.shortcut,ot];m.trigger.apply(m,wg(["keymap:emit"],_e,!1)),m.trigger.apply(m,wg(["keymap:emit:".concat(e)],_e,!1))}},void 0),m.trigger("keymap:add",A),A},s.prototype.get=function(e){return this.keymaps[e]},s.prototype.getAll=function(){return this.keymaps},s.prototype.remove=function(e){var n=this.em,i=this.get(e);if(i)return delete this.keymaps[e],i.keys.split(", ").forEach(function(u){bf.unbind(u.trim())}),n==null||n.trigger("keymap:remove",i),i},s.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(n){return e.remove(n)}),bf.handlers={},this},s.prototype.destroy=function(){this.removeAll(),this.keymaps={}},s}(Tt);const _g=Uv,_h={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var xh=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const xg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return xh(s,h),s.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},s.prototype.open=function(){this.set("open",!0)},s.prototype.close=function(){this.set("open",!1)},s}(Ft);var zv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zp=function(){return Zp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Zp.apply(this,arguments)};const Wv=function(h){function s(e){var n=h.call(this,e)||this,i=n.model;return n.listenTo(i,"change:open",n.updateOpen),n.listenTo(i,"change:title",n.updateTitle),n.listenTo(i,"change:content",n.updateContent),n}return zv(s,h),s.prototype.template=function(e){var n=e.pfx,i=e.ppfx,u=e.content,m=e.title;return'<div class="'.concat(n,"dialog ").concat(i,"one-bg ").concat(i,`two-color">
      <div class="`).concat(n,`header">
        <div class="`).concat(n,'title">').concat(m,`</div>
        <div class="`).concat(n,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(n,`content">
        <div id="`).concat(n,'c">').concat(u,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(n,'collector" style="display: none"></div>')},s.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},s.prototype.onClick=function(e){this.config.backdrop&&e.target===this.el&&this.hide()},s.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},s.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},s.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},s.prototype.updateContent=function(){var e=this.getContent(),n=e.children(),i=this.getCollector(),u=this.model.get("content");n.length&&i.append(n),e.empty().append(u)},s.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},s.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},s.prototype.hide=function(){this.model.close()},s.prototype.show=function(){this.model.open()},s.prototype.updateAttr=function(e){var n=this,i=n.pfx,u=n.$el,m=n.el,O=[].slice.call(m.attributes).map(function(P){return P.name});u.removeAttr(O.join(" ")),u.attr(Zp(Zp({},e||{}),{class:"".concat(i,"container ").concat(e&&e.class||"").trim()}))},s.prototype.render=function(){var e=this.$el,n=this.model.toJSON();return n.pfx=this.pfx,n.ppfx=this.ppfx,e.html(this.template(n)),this.updateAttr(),this.updateOpen(),this},s}(uo);var $v=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Gv=function(h){function s(e){var n=h.call(this,e,"Modal",_h)||this;return n.model=new xg(n),n.model.on("change:open",function(i,u){e.trigger("modal:".concat(u?"open":"close"))}),n.model.on("change",(0,k.debounce)(function(){var i=n._evData(),u=n.config.custom;(0,k.isFunction)(u)&&u(i),e.trigger("modal",i)},0)),n}return $v(s,h),s.prototype._evData=function(){var e=this,n=this.getTitle(),i=this.getContent(),u=this.model.attributes;return{open:u.open,attributes:u.attributes,title:(0,k.isString)(n)?(0,yn.rw)(n):n,content:(0,k.isString)(i)?(0,yn.rw)(i):i.get?i.get(0):i,close:function(){e.close()}}},s.prototype.postRender=function(e){var n=e.model.config.el||e.el,i=this.render();i&&(n==null||n.appendChild(i))},s.prototype.open=function(e){e===void 0&&(e={});var n=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",n),this.model.open(),this.modal&&this.modal.updateAttr(n),this},s.prototype.close=function(){return this.model.close(),this},s.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},s.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},s.prototype.isOpen=function(){return!!this.model.get("open")},s.prototype.setTitle=function(e){return this.model.set("title",e),this},s.prototype.getTitle=function(){return this.model.get("title")},s.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},s.prototype.getContent=function(){return this.model.get("content")},s.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},s.prototype.getModel=function(){return this.model},s.prototype.render=function(){var e;if(!this.config.custom){var n=Wv.extend(this.config.extend),i=this.modal&&this.modal.el;return this.modal=new n({el:i,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},s.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},s}(Tt);var Cg="sw-visibility",Sg="export-template",Ch="open-sm",Og="open-tm",ep="open-layers",Sh="open-blocks",rp="fullscreen",Oh="preview";const Th={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Cg,className:"fa fa-square-o",command:"core:component-outline",context:Cg,attributes:{title:"View components"}},{id:Oh,className:"fa fa-eye",command:Oh,context:Oh,attributes:{title:"Preview"}},{id:rp,className:"fa fa-arrows-alt",command:rp,context:rp,attributes:{title:"Fullscreen"}},{id:Sg,className:"fa fa-code",command:Sg,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Ch,className:"fa fa-paint-brush",command:Ch,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Og,className:"fa fa-cog",command:Og,togglable:!1,attributes:{title:"Settings"}},{id:ep,className:"fa fa-bars",command:ep,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Sh,className:"fa fa-th-large",command:Sh,togglable:!1,attributes:{title:"Open Blocks"}}]}]};var qv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Tg=function(h){function s(e,n){var i=h.call(this,e,n)||this;return i.get("buttons").length&&i.set("buttons",new Xp(i.module,i.get("buttons"))),i}return qv(s,h),s.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(s.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),s}(Ft);var Eh=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eg=function(h){function s(e,n){return h.call(this,e,n,Tg)||this}return Eh(s,h),s.prototype.deactivateAllExceptOne=function(e,n){this.forEach(function(i,u){i!==e&&(i.set("active",!1),n&&i.get("buttons").length&&i.get("buttons").deactivateAllExceptOne(e,n))})},s.prototype.deactivateAll=function(e,n){var i=e||"";this.forEach(function(u){u.get("context")==i&&u!==n&&u.set("active",!1,{fromCollection:!0})})},s.prototype.disableAllButtons=function(e){var n=e||"";this.forEach(function(i,u){i.get("context")==n&&i.set("disable",!0)})},s.prototype.disableAllButtonsExceptOne=function(e,n){this.forEach(function(i,u){i!==e&&(i.set("disable",!0),n&&i.get("buttons").length&&i.get("buttons").disableAllButtonsExceptOne(e,n))})},s}(Lt);const Xp=Eg;Eg.prototype.model=Tg;var Kv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Pg=function(h){function s(e,n){var i=h.call(this,e,n)||this,u=i.get("buttons")||[];return i.buttons=new Xp(e,u),i}return Kv(s,h),s.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(s.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),s}(Ft);var Yv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kg=function(h){function s(e,n){return h.call(this,e,n,Pg)||this}return Yv(s,h),s}(Lt);const Ag=kg;kg.prototype.model=Pg;var Mg=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sp=function(){return Sp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Sp.apply(this,arguments)},Zv=function(h){function s(e){var n=h.call(this,e)||this,i=n,u=i.model,m=i.em,O=i.pfx,P=i.ppfx,L=u.className,A=u.attributes,ot=A.command,kt=A.listen;if(n.id=O+u.get("id"),n.activeCls="".concat(O,"active ").concat(P,"four-color"),n.disableCls="".concat(P,"disabled"),n.btnsVisCls="".concat(O,"visible"),n.className=O+"btn"+(L?" "+L:""),n.listenTo(u,"change",n.render),n.listenTo(u,"change:active updateActive",n.updateActive),n.listenTo(u,"checkActive",n.checkActive),n.listenTo(u,"change:bntsVis",n.updateBtnsVis),n.listenTo(u,"change:attributes",n.updateAttributes),n.listenTo(u,"change:className",n.updateClassName),n.listenTo(u,"change:disable",n.updateDisable),m&&(0,k.isString)(ot)&&kt){var zt={fromListen:!0};n.listenTo(m,"run:".concat(ot),function(){return u.set("active",!0,zt)}),n.listenTo(m,"stop:".concat(ot),function(){return u.set("active",!1,zt)})}return m&&m.get&&(n.commands=m.get("Commands")),n}return Mg(s,h),s.prototype.tagName=function(){return this.model.get("tagName")},s.prototype.events=function(){return{click:"clicked"}},s.prototype.updateClassName=function(){var e=this.model,n=this.pfx,i=e.className,u=e.get("attributes").class,m="".concat(u||""," ").concat(n,"btn ").concat(i||"");this.$el.attr("class",m.trim())},s.prototype.updateAttributes=function(){var e=this,n=e.em,i=e.model,u=e.$el,m=i.get("attributes")||{},O=n&&n.t&&n.t("panels.buttons.titles.".concat(i.id));u.attr(m),O&&u.attr({title:O}),this.updateClassName()},s.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},s.prototype.updateActive=function(e,n,i){var u;i===void 0&&(i={});var m=this,O=m.model,P=m.commands,L=m.$el,A=m.activeCls,ot=i.fromCollection,kt=i.fromListen,zt=O.get("context"),Gt=O.get("options"),_e=O.command,Ee={};_e&&(P&&(0,k.isString)(_e)?Ee=P.get(_e)||{}:(0,k.isFunction)(_e)?Ee=P.create({run:_e}):_e!==null&&(0,k.isObject)(_e)&&(Ee=P.create(_e)),O.active?(!ot&&((u=O.collection)===null||u===void 0||u.deactivateAll(zt,O)),O.set("active",!0,{silent:!0}).trigger("checkActive"),!kt&&P.runCommand(Ee,Sp(Sp({},Gt),{sender:O})),Ee.noStop&&O.set("active",!1)):(L.removeClass(A),!kt&&P.stopCommand(Ee,Sp(Sp({},Gt),{sender:O,force:1}))))},s.prototype.updateDisable=function(){var e=this.disableCls,n=this.model.disable;this.$el[n?"addClass":"removeClass"](e)},s.prototype.checkActive=function(){var e=this,n=e.model,i=e.$el,u=e.activeCls;n.active?i.addClass(u):i.removeClass(u)},s.prototype.clicked=function(e){var n=this.model;n.get("bntsVis")||n.disable||!n.command||this.toggleActive()},s.prototype.toggleActive=function(){var e=this.model,n=this.em,i=e.active,u=e.togglable;i&&!u||(e.active=!i,i?e.runDefaultCommand&&n.runDefault():e.stopDefaultCommand&&n.stopDefault())},s.prototype.render=function(){var e=this.model,n=e.get("label"),i=this.$el;return!e.get("el")&&i.empty(),this.updateAttributes(),n&&i.append(n),this.checkActive(),this.updateDisable(),this},s}(uo);const Ph=Zv;var f0=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Xv=function(h){function s(e){var n=h.call(this,{collection:e})||this;return n.listenTo(n.collection,"add",n.addTo),n.listenTo(n.collection,"reset remove",n.render),n.className=n.pfx+"buttons",n}return f0(s,h),s.prototype.addTo=function(e){this.addToCollection(e)},s.prototype.addToCollection=function(e,n){var i=n||null,u=e.get("el"),m=new Ph({el:u,model:e}).render().el;return i?i.appendChild(m):this.$el.append(m),m},s.prototype.render=function(){var e=this,n=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(i){return e.addToCollection(i,n)}),this.$el.append(n),this.$el.attr("class",(0,k.result)(this,"className")),this},s}(uo);var Jv=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jp=function(){return Jp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Jp.apply(this,arguments)},Qv=function(h){function s(e){var n=h.call(this,{model:e,el:e.get("el")})||this;return n.className=n.pfx+"panel",n.id=n.pfx+e.get("id"),n.listenTo(e,"change:appendContent",n.appendContent),n.listenTo(e,"change:content",n.updateContent),n.listenTo(e,"change:visible",n.toggleVisible),e.view=n,n}return Jv(s,h),s.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},s.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},s.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},s.prototype.attributes=function(){return this.model.get("attributes")},s.prototype.initResize=function(){var e=this.em,n=e==null?void 0:e.Editor,i=this.model.get("resizable");if(n&&i){var u=i===!0?[!0,!0,!0,!0]:i,m=u.length,O=void 0,P=void 0,L=void 0,A=!1;if(m==2)O=(ot=u)[0],L=ot[0],P=ot[1],A=ot[1];else if(m==4){var ot;O=(ot=u)[0],P=ot[1],L=ot[2],A=ot[3]}var kt=new n.Utils.Resizer(Jp({tc:O,cr:P,bc:L,cl:A,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:n.getConfig().stylePrefix,onEnd:function(){e&&e.trigger("change:canvasOffset")},posFetcher:function(zt,Gt){var _e=Gt.target,Ee=zt.style,Se=kt.getConfig(),or=Se.keyWidth,yr=Se.keyHeight,Qr=zt.getBoundingClientRect(),en=_e=="container",En=Ee[or],An=Ee[yr];return{left:0,top:0,width:En&&!en?parseFloat(En):Qr.width,height:An&&!en?parseFloat(An):Qr.height}}},i&&typeof i!="boolean"?i:{}));kt.blur=function(){},kt.focus(this.el)}},s.prototype.render=function(){var e=this.model.buttons,n=this.$el,i=this.ppfx,u="".concat(this.className," ").concat(this.id," ").concat(i,"one-bg ").concat(i,"two-color");if(n.addClass(u),this.toggleVisible(),e.length){var m=new Xv(e);n.append(m.render().el)}return n.append(this.model.get("content")),this},s}(uo);const tm=Qv;var em=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const rm=function(h){function s(e){var n=h.call(this,{collection:e})||this;return n.listenTo(e,"add",n.addTo),n.listenTo(e,"reset",n.render),n.listenTo(e,"remove",n.onRemove),n.className=n.pfx+"panels",n}return em(s,h),s.prototype.onRemove=function(e){var n=e.view;n&&n.remove()},s.prototype.addTo=function(e){this.addToCollection(e)},s.prototype.addToCollection=function(e,n){var i=n||null,u=e.get("el"),m=new tm(e),O=m.render().el,P=e.get("appendTo");if(!u)if(P){var L=document.querySelector(P);L==null||L.appendChild(O)}else i?i.appendChild(O):this.$el.append(O);return m.initResize(),O},s.prototype.render=function(){var e=this,n=this.$el,i=document.createDocumentFragment();return n.empty(),this.collection.each(function(u){return e.addToCollection(u,i)}),n.append(i),n.attr("class",this.className),this},s}(uo);var nm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const vu=function(h){function s(e){var n=h.call(this,e,"Panels",Th)||this;for(var i in n.panels=new Ag(n,n.config.defaults),Th)i in n.config||(n.config[i]=Th[i]);return n}return nm(s,h),s.prototype.getPanels=function(){return this.panels},s.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},s.prototype.addPanel=function(e){return this.panels.add(e)},s.prototype.removePanel=function(e){return this.panels.remove(e)},s.prototype.getPanel=function(e){var n=this.panels.where({id:e});return n.length?n[0]:null},s.prototype.addButton=function(e,n){var i=this.getPanel(e);return i?i.buttons.add(n):null},s.prototype.removeButton=function(e,n){var i=this.getPanel(e);return i&&i.buttons.remove(n)},s.prototype.getButton=function(e,n){var i=this.getPanel(e);if(i){var u=i.buttons.where({id:n});return u.length?u[0]:null}return null},s.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new rm(this.panels),this.PanelsViewObj.render().el},s.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(n){n.get("active")&&n.trigger("updateActive")})})},s.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(n){n.get("disable")&&n.trigger("change:disable")})})},s.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},s}(Tt),om={stylePrefix:"cm-",optsCodeViewer:{}};var im=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lg=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e};const am=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return im(s,h),s.prototype.build=function(e,n){n===void 0&&(n={});var i=n.em,u=Lg(n,["em"]);if(n.cleanId&&i){var m=i.Css.getAll().toJSON().map(function(O){var P=O.selectors,L=P&&P.length===1&&P.models[0];return L&&L.isId()&&L.get("name")}).filter(Boolean);u.attributes||(u.attributes=function(O,P){var L=P.id;return L&&L[0]==="i"&&!O.get("script")&&!O.get("attributes").id&&m.indexOf(L)<0&&delete P.id,P})}return e.toHTML(u)},s}(N.Hn);var sm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),np=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return sm(s,h),s.prototype.build=function(e){var n=this,i=e.toJSON();return this.beforeEach(i),(0,k.each)(i,function(u,m){var O=i[m];if(O instanceof N.Hn)i[m]=n.build(O);else if(O instanceof N.FE){var P=O;i[m]=[],P.length&&P.forEach(function(L,A){i[m][A]=n.build(L)})}}),i},s.prototype.beforeEach=function(e){delete e.status},s}(N.Hn);const lm=np;var cm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),um=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return cm(s,h),s.prototype.mapModel=function(e){var n,i=this,u="",m=e.get("script-export")||e.get("script"),O=e.get("type"),P=e.get("components"),L=e.getId();if(m){var A=e.get("attributes");A=(0,k.extend)({},A,{id:L}),e.set("attributes",A,{silent:!0});var ot=e.getScriptString(m),kt=e.get("script-props");if(e.get("scriptUpdated")&&!kt)this.mapJs[O+"-"+L]={ids:[L],code:ot};else{var zt=void 0,Gt=this.mapJs[O];if(kt&&(zt=e.__getScriptProps()),Gt)Gt.ids.push(L),zt&&(Gt.props[L]=zt);else{var _e={ids:[L],code:ot};zt&&(_e.props=((n={})[L]=zt,n)),this.mapJs[O]=_e}}}return P.forEach(function(Ee){u+=i.mapModel(Ee)}),u},s.prototype.build=function(e){this.mapJs={},this.mapModel(e);var n,i="";for(var u in this.mapJs){var m=this.mapJs[u];if(m.code)if(m.props){if((((n=m.code.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"").replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;i+=`
          var props = `.concat(JSON.stringify(m.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(m.code,`.bind(el))(props[el.id]);
          }`)}else{var O="#"+m.ids.join(", #");i+=`
          var items = document.querySelectorAll('`.concat(O,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(m.code,`
}.bind(items[i]))();
          }`)}}return i},s}(N.Hn);const fm=um;var Qp,kh=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ah=function(){return Ah=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ah.apply(this,arguments)};(0,H.hasWin)()&&(Qp=Y(631),Y(531),Y(629),Y(210));var jg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return kh(s,h),s.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},s.prototype.init=function(e){return(0,k.bindAll)(this,"onChange"),this.editor=Qp.fromTextArea(e,Ah({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},s.prototype.onChange=function(){this.trigger("update",this)},s.prototype.getEditor=function(){return this.editor},s.prototype.getElement=function(){return this.element},s.prototype.setElement=function(e){return this.element=e,this},s.prototype.refresh=function(){return this.getEditor().refresh(),this},s.prototype.focus=function(){return this.getEditor().focus(),this},s.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},s.prototype.setContent=function(e,n){var i=this;n===void 0&&(n={});var u=this.editor;if(u){u.setValue(e);var m=this.get("autoFormat");u.autoFormatRange&&(m===!0||Array.isArray(m)&&m.includes(this.get("codeName")))&&(Qp.commands.selectAll(u),u.autoFormatRange(u.getCursor(!0),u.getCursor(!1)),Qp.commands.goDocStart(u)),!n.noRefresh&&setTimeout(function(){return i.refresh()})}},s}(N.Hn);const Al=jg;jg.prototype.CodeMirror=Qp;var nc=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sl=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h};const Dg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return nc(s,h),s.prototype.template=function(e){var n=e.pfx,i=e.codeName,u=e.label;return ft(wf||(wf=sl([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),n,n,i,n,u,n)},s.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},s.prototype.render=function(){var e,n,i=this,u=i.model,m=i.pfx,O=i.$el,P=u.toJSON(),L=u.get("input")||((n=(e=u).getElement)===null||n===void 0?void 0:n.call(e));return P.pfx=m,O.html(this.template(P)),O.attr("class","".concat(m,"editor-c")),O.find("#".concat(m,"code")).append(L),this},s}(N.G7);var wf,Ig=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Op=function(){return Op=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Op.apply(this,arguments)},Tp="CodeMirror",td=function(h){function s(e){var n=h.call(this,e,"CodeManager",om)||this;n.EditorView=Dg;var i=n.config,u=i.pStylePrefix;return u&&(i.stylePrefix=u+i.stylePrefix),n.generators={},n.viewers={},n.defGenerators={html:new am,css:new xl,json:new lm,js:new fm},n.defViewers={CodeMirror:new Al},n.loadDefaultGenerators().loadDefaultViewers(),n}return Ig(s,h),s.prototype.addGenerator=function(e,n){return this.generators[e]=n,this},s.prototype.getGenerator=function(e){return this.generators[e]},s.prototype.getGenerators=function(){return this.generators},s.prototype.addViewer=function(e,n){return this.viewers[e]=n,this},s.prototype.getViewer=function(e){return this.viewers[e]},s.prototype.getViewers=function(){return this.viewers},s.prototype.createViewer=function(e){e===void 0&&(e={});var n=(0,k.isUndefined)(e.type)?Tp:e.type,i=this.getViewer(n)&&this.getViewer(n).clone(),u=document.createElement("div"),m=document.createElement("textarea");return u.appendChild(m),i.set(Op(Op({},this.config.optsCodeViewer),e)),i.init(m),i.setElement(u),i},s.prototype.updateViewer=function(e,n){e.setContent(n)},s.prototype.getCode=function(e,n,i){i===void 0&&(i={}),i.em=this.em;var u=this.getGenerator(n);return u?u.build(e,i):""},s.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},s.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},s.prototype.destroy=function(){},s}(Tt);const pm=td;var dm=Y(410),hm=Y.n(dm);const gm={maximumStackLength:500,trackSelection:!0};var vm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wu=function(){return Wu=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Wu.apply(this,arguments)},ll=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Ad=function(h){return h.avoidStore||h.noUndo},Ng=function(h){return Object.keys(h.changedAttributes())},mm=function(h){function s(e){var n=h.call(this,e,"UndoManager",gm)||this;n.config._disable&&(n.config.maximumStackLength=0);var i=!0;return n.um=new(hm())(Wu({track:!0,register:[]},n.config)),n.um.changeUndoType("change",{condition:function(u){var m=u.get("_undo");if(m){var O=u.get("_undoexc");if((0,k.isArray)(O)&&Ng(u).some(function(P){return O.indexOf(P)>=0}))return!1;if((0,k.isBoolean)(m)||(0,k.isArray)(m)&&Ng(u).some(function(P){return m.indexOf(P)>=0}))return!0}return!1},on:function(u,m,O){var P=this;!this.beforeCache&&(this.beforeCache=u.previousAttributes());var L=O||m||{};if(L.noUndo&&setTimeout(function(){P.beforeCache=null}),!Ad(L)){var A=u.toJSON({fromUndo:i}),ot={object:u,before:this.beforeCache,after:A};if(this.beforeCache=null,!(0,k.isEmpty)(A))return ot}}}),n.um.changeUndoType("add",{on:function(u,m,O){if(O===void 0&&(O={}),!Ad(O)&&n.isRegistered(m))return{object:m,before:void 0,after:u,options:Wu(Wu({},O),{fromUndo:i})}}}),n.um.changeUndoType("remove",{on:function(u,m,O){if(O===void 0&&(O={}),!Ad(O)&&n.isRegistered(m))return{object:m,before:u,after:void 0,options:Wu(Wu({},O),{fromUndo:i})}}}),n.um.changeUndoType("reset",{undo:function(u,m){u.reset(m,{fromUndo:i})},redo:function(u,m,O){u.reset(O,{fromUndo:i})},on:function(u,m){if(m===void 0&&(m={}),!Ad(m)&&n.isRegistered(u))return{object:u,before:m.previousModels,after:ll([],u.models,!0),options:Wu(Wu({},m),{fromUndo:i})}}}),n.um.on("undo redo",function(){e.trigger("change:canvasOffset"),e.getSelectedAll().map(function(u){return u.trigger("rerender:layer")})}),["undo","redo"].forEach(function(u){return n.um.on(u,function(){return e.trigger(u)})}),n}return vm(s,h),s.prototype.postLoad=function(){var e=this.config,n=this.em;e.trackSelection&&n&&this.add(n.get("selected"))},s.prototype.add=function(e){return this.um.register(e),this},s.prototype.remove=function(e){return this.um.unregister(e),this},s.prototype.removeAll=function(){return this.um.unregisterAll(),this},s.prototype.start=function(){return this.um.startTracking(),this},s.prototype.stop=function(){return this.um.stopTracking(),this},s.prototype.undo=function(e){e===void 0&&(e=!0);var n=this.em,i=this.um;return!n.isEditing()&&i.undo(e),this},s.prototype.undoAll=function(){return this.um.undoAll(),this},s.prototype.redo=function(e){e===void 0&&(e=!0);var n=this.em,i=this.um;return!n.isEditing()&&i.redo(e),this},s.prototype.redoAll=function(){return this.um.redoAll(),this},s.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},s.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},s.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},s.prototype.getStack=function(){return this.um.stack},s.prototype.getStackGroup=function(){var e=[],n=[];return this.getStack().forEach(function(i){var u=i.get("magicFusionIndex");n.indexOf(u)<0&&(n.push(u),e.push(i))}),e},s.prototype.skip=function(e){this.stop(),e(),this.start()},s.prototype.getGroupedStack=function(){var e={};return this.getStack().forEach(function(n,i){var u=n.get("magicFusionIndex"),m=function(O,P){var L=O.attributes,A=L.type,ot=L.after,kt=L.before,zt=L.object,Gt=L.options;return{index:P,type:A,after:ot,before:kt,object:zt,options:Gt===void 0?{}:Gt}}(n,i);e[u]?e[u].push(m):e[u]=[m]}),Object.keys(e).map(function(n){var i=e[n];return{index:i[i.length-1].index,actions:i,labels:(0,k.unique)(i.reduce(function(u,m){var O,P=(O=m.options)===null||O===void 0?void 0:O.action;return P&&u.push(P),u},[]))}})},s.prototype.goToGroup=function(e){var n=this;if(e){var i=this.getPointer(),u=e.index-i;(0,k.times)(Math.abs(u),function(){n[u<0?"undo":"redo"](!1)})}},s.prototype.getPointer=function(){return this.getStack().pointer},s.prototype.clear=function(){return this.um.clear(),this},s.prototype.getInstance=function(){return this.um},s.prototype.destroy=function(){this.clear().removeAll()},s}(Tt);const ym=mm,bm={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};var Ep,Pp=function(){return Pp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Pp.apply(this,arguments)};(function(h){h[h.ACTIVE=1]="ACTIVE",h[h.INACTIVE=0]="INACTIVE",h[h.DISABLED=-1]="DISABLED"})(Ep||(Ep={}));var Md="_rte",Mh=1,ed=0,kp=-1,Ld=function(h,s){s===void 0&&(s="A");var e=h.selection()||{},n=e.anchorNode,i=e.focusNode,u=n==null?void 0:n.parentNode,m=i==null?void 0:i.parentNode;return(u==null?void 0:u.nodeName)==s||(m==null?void 0:m.nodeName)==s},jd="data-selectme",rd={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(h){return h.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(h){return h.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(h){return h.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(h){return h.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(h){return h&&h.selection()&&Ld(h)?Mh:ed},result:function(h){Ld(h)?h.exec("unlink"):h.insertHTML('<a href="" '.concat(jd,">").concat(h.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(h){return h!=null&&h.selection()&&Ld(h,"SPAN")?kp:ed},result:function(h){!Ld(h,"SPAN")&&h.insertHTML("<span ".concat(jd,">").concat(h.selection(),"</span>"),{select:!0})}}},Fg=function(){function h(s,e,n){n===void 0&&(n={});var i=this;if(this.em=s,this.settings=n,e[Md])return e[Md];e[Md]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var u=(n.actions||[]).map(function(A){var ot=A;return(0,k.isString)(A)?ot=Pp({},rd[A]):rd[A.name]&&(ot=Pp(Pp({},rd[A.name]),A)),ot}),m=u.length?u:Object.keys(rd).map(function(A){return rd[A]});n.classes=Pp({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},n.classes);var O=n.classes,P=n.actionbar;if(this.actionbar=P,this.classes=O,this.actions=m,!P){if(!this.isCustom(n.module)){var L=n.actionbarContainer;(P=document.createElement("div")).className=O.actionbar,L==null||L.appendChild(P),this.actionbar=P}m.forEach(function(A){return i.addAction(A)})}return n.styleWithCSS&&this.exec("styleWithCSS"),this}return h.prototype.isCustom=function(s){var e=s||this.em.RichTextEditor;return!(!(e!=null&&e.config.custom)&&!(e!=null&&e.customRte))},h.prototype.destroy=function(){},h.prototype.setEl=function(s){this.el=s,this.doc=s.ownerDocument},h.prototype.updateActiveActions=function(){var s=this,e=this.getActions();e.forEach(function(n){var i=n.update,u=n.btn,m=s.classes,O=m.active,P=m.inactive,L=m.disabled,A=n.state,ot=n.name,kt=s.doc,zt=Ep.INACTIVE;if(u&&(u.className=u.className.replace(O,"").trim(),u.className=u.className.replace(P,"").trim(),u.className=u.className.replace(L,"").trim()),A){var Gt=A(s,kt);if(zt=Gt,u)switch(Gt){case Mh:u.className+=" ".concat(O);break;case ed:u.className+=" ".concat(P);break;case kp:u.className+=" ".concat(L)}}else kt.queryCommandSupported(ot)&&kt.queryCommandState(ot)&&(u&&(u.className+=" ".concat(O)),zt=Ep.ACTIVE);n.currentState=zt,i==null||i(s,n)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},h.prototype.enable=function(s){return this.enabled?this:this.__toggleEffects(!0,s)},h.prototype.disable=function(){return this.__toggleEffects(!1)},h.prototype.__toggleEffects=function(s,e){s===void 0&&(s=!1),e===void 0&&(e={});var n=s?H.on:H.off,i=this.el,u=this.doc,m=this.actionbarEl();if(m&&(m.style.display=s?"":"none"),i.contentEditable="".concat(!!s),n(i,"mouseup keyup",this.updateActiveActions),n(u,"keydown",this.__onKeydown),n(u,"paste",this.__onPaste),this.enabled=s,s){var O=e.event;if(this.syncActions(),this.updateActiveActions(),O){var P=null;if(u.caretRangeFromPoint){var L=(0,H.getPointerEvent)(O);P=u.caretRangeFromPoint(L.clientX,L.clientY)}else O.rangeParent&&(P=u.createRange()).setStart(O.rangeParent,O.rangeOffset);var A=u.getSelection();A==null||A.removeAllRanges(),P&&(A==null||A.addRange(P))}i.focus()}return this},h.prototype.__onKeydown=function(s){var e=s,n=this.doc;e.key!=="Enter"||["insertOrderedList","insertUnorderedList"].some(function(i){return n.queryCommandState(i)})||(n.execCommand("insertLineBreak"),e.preventDefault())},h.prototype.__onPaste=function(s){var e=s.clipboardData||window.clipboardData,n=e.getData("text"),i=e.getData("text/html");if(n&&!i){s.preventDefault();var u=n.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,u)}},h.prototype.syncActions=function(){var s=this;this.getActions().forEach(function(e){if(s.actionbar&&(!e.state||e.state&&e.state(s,s.doc)>=0)){var n=e.event||"click",i=e.btn;i&&(i["on".concat(n)]=function(){e.result(s,e),s.updateActiveActions()})}})},h.prototype.addAction=function(s,e){e===void 0&&(e={});var n=e.sync,i=this.actionbarEl();if(i){var u=s.icon,m=s.attributes,O=m===void 0?{}:m,P=document.createElement("span");for(var L in P.className=this.classes.button,s.btn=P,O)P.setAttribute(L,O[L]);typeof u=="string"?P.innerHTML=u:P.appendChild(u),i.appendChild(P)}n&&(this.actions.push(s),this.syncActions())},h.prototype.getActions=function(){return this.actions},h.prototype.selection=function(){return this.doc.getSelection()},h.prototype.exec=function(s,e){this.doc.execCommand(s,!1,e)},h.prototype.actionbarEl=function(){return this.actionbar},h.prototype.insertHTML=function(s,e){var n=(e===void 0?{}:e).select,i=this,u=i.em,m=i.doc,O=i.el,P=m.getSelection();if(P&&P.rangeCount){var L=(0,H.getModel)(O),A=m.createElement("div"),ot=P.getRangeAt(0);ot.deleteContents(),(0,k.isString)(s)?A.innerHTML=s:s&&A.appendChild(s),Array.prototype.slice.call(A.childNodes).forEach(function(kt){ot.insertNode(kt)}),P.removeAllRanges(),P.addRange(ot),O.focus(),n&&L&&(L.once("rte:disable",function(){var kt=L.find("[".concat(jd,"]"))[0];kt&&(u.setSelected(kt),kt.removeAttributes(jd))}),L.trigger("disable"))}},h}();const wm=Fg;var _m=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vg=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},Rg=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}},xm=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Lh="change:canvasOffset frame:scroll component:update",Cm={enable:"rte:enable",disable:"rte:disable",custom:"rte:custom"},Sm=function(h){function s(e){var n=h.call(this,e,"RichTextEditor",bm)||this;n.events=Cm;var i=n.config,u=i.pStylePrefix;u&&(i.stylePrefix=u+i.stylePrefix),n.pfx=i.stylePrefix,n.actions=i.actions||[];var m=new N.Hn;return n.model=m,m.on("change:currentView",n.__trgCustom,n),n.__dbdTrgCustom=(0,k.debounce)(function(){return n.__trgCustom()},0),n}return _m(s,h),s.prototype.onLoad=function(){if((0,H.hasWin)()){var e=this.config,n=e.pStylePrefix,i=e.custom,u=(0,yn.ut)("div",{class:(0,yn.cx)("".concat(n,"rte-toolbar"),!i&&"".concat(n,"one-bg ").concat(n,"rte-toolbar-ui"))});this.toolbar=u,this.initRte((0,yn.ut)("div")),(0,H.on)(u,"mousedown",function(m){return m.stopPropagation()})}},s.prototype.__trgCustom=function(){var e=this,n=e.model,i=e.em,u=e.events;i.trigger(u.custom,{enabled:!!n.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},s.prototype.destroy=function(){var e,n,i;(e=this.globalRte)===null||e===void 0||e.destroy(),(i=(n=this.customRte)===null||n===void 0?void 0:n.destroy)===null||i===void 0||i.call(n),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,yn.L_)(this.toolbar)},s.prototype.postRender=function(e){var n=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),n.getToolsEl().appendChild(this.toolbar)},s.prototype.initRte=function(e){var n=this.globalRte,i=this,u=i.em,m=i.pfx,O=i.actionbar,P=i.config,L=this.actions||xm([],P.actions,!0),A={actionbar:"".concat(m,"actionbar"),button:"".concat(m,"action"),active:"".concat(m,"active"),inactive:"".concat(m,"inactive"),disabled:"".concat(m,"disabled")};return n?(n.em=u,n.setEl(e)):(n=new wm(u,e,{classes:A,actions:L,actionbar:O,actionbarContainer:this.toolbar,module:this}),this.globalRte=n),n.actionbar&&(this.actionbar=n.actionbar),n.actions&&(this.actions=n.actions),n},s.prototype.add=function(e,n){var i;n===void 0&&(n={}),n.name=e,(i=this.globalRte)===null||i===void 0||i.addAction(n,{sync:!0})},s.prototype.get=function(e){var n,i;return(n=this.globalRte)===null||n===void 0||n.getActions().forEach(function(u){u.name==e&&(i=u)}),i},s.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},s.prototype.remove=function(e){var n,i=this.getAll(),u=this.get(e);if(u){var m=u.btn,O=i.indexOf(u);(n=m==null?void 0:m.parentNode)===null||n===void 0||n.removeChild(m),i.splice(O,1)}return u},s.prototype.run=function(e){var n=this.globalRte,i=(0,k.isString)(e)?this.get(e):e;n&&i&&(i.result(n,i),n.updateActiveActions())},s.prototype.getToolbarEl=function(){return this.toolbar},s.prototype.updatePosition=function(){var e=this.em,n=this.toolbar,i="px",u=e.Canvas,m=n.style,O=u.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(P){var L=O[P];(0,H.isDef)(L)&&(m[P]=(0,k.isString)(L)?L:(L||0)+i)})},s.prototype.enable=function(e,n,i){return i===void 0&&(i={}),Vg(this,void 0,void 0,function(){var u,m,O,P,L;return Rg(this,function(A){switch(A.label){case 0:return this.lastEl=e.el,m=(u=this).customRte,O=u.em,P=e.getChildrenContainer(),this.toolbar.style.display="",[4,m?m.enable(P,n):this.initRte(P).enable(i)];case 1:return L=A.sent(),O&&(setTimeout(this.updatePosition.bind(this),0),O.off(Lh,this.updatePosition,this),O.on(Lh,this.updatePosition,this),O.trigger("rte:enable",e,L)),this.model.set({currentView:e}),[2,L]}})})},s.prototype.getContent=function(e,n){return Vg(this,void 0,void 0,function(){var i;return Rg(this,function(u){switch(u.label){case 0:return(i=this.customRte)&&n&&(0,k.isFunction)(i.getContent)?[4,i.getContent(e.el,n)]:[3,2];case 1:return[2,u.sent()];case 2:return[2,e.getChildrenContainer().innerHTML]}})})},s.prototype.hideToolbar=function(){var e=this.toolbar.style,n="-1000px";e.top=n,e.left=n,e.display="none"},s.prototype.disable=function(e,n){var i=this.em,u=this.customRte,m=e.getChildrenContainer();u?u.disable(m,n):n&&n.disable(),this.hideToolbar(),i&&(i.off(Lh,this.updatePosition,this),i.trigger("rte:disable",e,n)),this.model.unset("currentView")},s}(Tt);const Dd=Sm;var jh=Y(790);const Om={stylePrefix:"com-",defaults:{},strict:!0};var Tm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Id=function(){return Id=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Id.apply(this,arguments)},Hg=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Dh=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],Bg=function(h){function s(e){var n=h.call(this,e,"Commands",Om)||this;n.CommandAbstract=jh.default,n.defaultCommands={},n.commands={},n.active={};var i=n.config,u=i.pStylePrefix,m=n.defaultCommands;for(var O in u&&(i.stylePrefix=u+i.stylePrefix),Object.keys(i.defaults).forEach(function(P){var L=i.defaults[P];L.id&&n.add(L.id,L)}),m["tlb-delete"]={run:function(P){return P.runCommand("core:component-delete")}},m["tlb-clone"]={run:function(P){P.runCommand("core:copy"),P.runCommand("core:paste",{action:"clone-component"})}},m["tlb-move"]={run:function(P,L,A){A===void 0&&(A={});var ot=P.getModel(),kt=A&&A.event,zt=A.target,Gt=zt||P.getSelected(),_e=zt?[zt]:Hg([],P.getSelectedAll(),!0),Ee=kt&&kt.type=="dragstart",Se={preserveSelected:1};if(!Gt||!Gt.get("draggable"))return ot.logWarning("The element is not draggable");var or=Gt.get("dmode")||ot.get("dmode"),yr=function(){return ot.stopDefault(Se)},Qr=(0,k.includes)(["absolute","translate"],or);_e.forEach(function(Po){return Po.trigger("disable")}),Ee?setTimeout(yr,0):yr();var en=function(Po){ot.trigger("".concat(Mo,":start"),Po)},En=function(Po){ot.trigger(Mo,Po)},An=function(Po,Ns,es){_e.forEach(function(fl){return fl.set("status","selected")}),P.select(_e),Gt.emitUpdate(),ot.trigger("".concat(Mo,":end"),es),setTimeout(function(){return ot.runDefault(Se)}),(Qr||es.cancelled)&&ot.set("_cmpDrag",1)};if(Qr)P.runCommand("core:component-drag",{guidesInfo:1,mode:or,target:Gt,onStart:en,onDrag:En,onEnd:An,event:kt});else{Ee&&kt.dataTransfer.setDragImage(Gt.view.el,0,0);var yo=P.Commands.get("move-comp");yo.onStart=en,yo.onDrag=En,yo.onEndMoveFromModel=An,yo.initSorterFromModels(_e)}_e.forEach(function(Po){return Po.set("status","freezed-selected")})}},m["core:undo"]=function(P){return P.UndoManager.undo()},m["core:redo"]=function(P){return P.UndoManager.redo()},Dh.forEach(function(P){var L=P[2],A=Y(828)("./".concat(P[1])).default,ot="core:".concat(P[0]);m[ot]=A,L&&(m[L]=A,["run","stop"].forEach(function(kt){e.on("".concat(kt,":").concat(L),function(){for(var zt=[],Gt=0;Gt<arguments.length;Gt++)zt[Gt]=arguments[Gt];return e.trigger.apply(e,Hg(["".concat(kt,":").concat(ot)],zt,!1))})}))}),i.model=e.Canvas,m)n.add(O,m[O]);return n}return Tm(s,h),s.prototype.add=function(e,n){var i=(0,k.isFunction)(n)?{run:n}:n;return i.stop||(i.noStop=!0),delete i.initialize,i.id=e,this.commands[e]=jh.default.extend(i),this},s.prototype.get=function(e){var n=this.commands[e];return(0,k.isFunction)(n)?(n=new n(this.config),this.commands[e]=n):n||this.em.logWarning("'".concat(e,"' command not found")),n},s.prototype.extend=function(e,n){n===void 0&&(n={});var i=this.get(e);if(i){var u=Id(Id({},i.constructor.prototype),n);this.add(e,u);var m=Dh.filter(function(O){return"core:".concat(O[0])===e&&O[2]})[0];m&&this.add(m[2],u)}return this},s.prototype.has=function(e){return!!this.commands[e]},s.prototype.getAll=function(){return this.commands},s.prototype.run=function(e,n){return n===void 0&&(n={}),this.runCommand(this.get(e),n)},s.prototype.stop=function(e,n){return n===void 0&&(n={}),this.stopCommand(this.get(e),n)},s.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},s.prototype.getActive=function(){return this.active},s.prototype.runCommand=function(e,n){var i;if(n===void 0&&(n={}),e&&e.run){var u=this.em,m=this.config,O=e.id,P=u.Editor;this.isActive(O)&&!n.force&&m.strict||(i=P&&e.callRun(P,n),O&&e.stop&&!e.noStop&&!n.abort&&(this.active[O]=i))}return i},s.prototype.stopCommand=function(e,n){var i;if(n===void 0&&(n={}),e&&e.run){var u=this.em,m=this.config,O=e.id,P=u.Editor;(this.isActive(O)||n.force||!m.strict)&&(O&&delete this.active[O],i=e.callStop(P,n))}return i},s.prototype.create=function(e){return e.stop||(e.noStop=!0),new(jh.default.extend(e))(this.config)},s.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},s}(Tt);const Ug=Bg,zg={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var Wg=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ds=function(){return Ds=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ds.apply(this,arguments)},Ih=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Nd=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Nh=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Wg(s,h),s.getDefaults=function(){return(0,k.result)(this.prototype,"defaults")},s.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},s.prototype.initialize=function(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.em=n.em;var i=this.getId()||"",u=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(u||i).replace(/ /g,"-"));var m=this.get("property");!this.get("id")&&this.set("id",m),!u&&this.set("name",(0,H.capitalize)(m).replace(/-/g," ")),this.on("change",this.__upTargets),s.callInit(this,e,n)},s.prototype.__getParentProp=function(){var e,n;return(n=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||n===void 0?void 0:n.parentProp},s.prototype.__upTargets=function(e,n){var i,u=this;n===void 0&&(n={});var m=this.em.Styles,O=this.getName(),P=n.__clear,L=P?"":this.__getFullValue(n),A=this.__getParentProp(),ot=this.changedAttributes(),kt=(0,k.keys)(ot).reduce(function(or,yr){return or[yr]=u.previous(yr),or},{}),zt=Nd(Nd([],(0,k.keys)(this.__getClearProps()),!0),["__p"],!1),Gt=(0,k.keys)(ot),_e=!n.__up&&!A&&(P||zt.some(function(or){return Gt.indexOf(or)>=0})),Ee=this.get("onChange"),Se={property:this,from:kt,to:ot,value:L,opts:n};m.__trgEv(m.events.propertyUpdate,Se),Ee&&Ee(Se),_e&&this.__upTargetsStyle(((i={})[O]=L,i),n)},s.prototype.__upTargetsStyle=function(e,n){var i,u=(i=this.em)===null||i===void 0?void 0:i.get("StyleManager");u==null||u.addStyleTargets(Ds(Ds({},e),{__p:!!n.avoidStore}),n)},s.prototype._up=function(e,n){n===void 0&&(n={}),n.noTarget&&(n.__up=!0);var i=n.partial,u=Ih(n,["partial"]);return e.__p=!(!u.avoidStore&&!i),this.set(e,Ds(Ds({},u),{avoidStore:e.__p}))},s.prototype.up=function(e,n){n===void 0&&(n={}),this.set(e,Ds(Ds({},n),{__up:!0}))},s.prototype.init=function(){},s.prototype.getId=function(){return this.get("id")},s.prototype.getType=function(){return this.get("type")},s.prototype.getName=function(){return this.get("property")},s.prototype.getLabel=function(e){var n;e===void 0&&(e={});var i=e.locale,u=i===void 0||i,m=this.getId(),O=this.get("name")||this.get("label");return u&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.properties.".concat(m)))||O},s.prototype.getValue=function(e){e===void 0&&(e={});var n=e.noDefault,i=this.get("value");return this.hasValue()||n?i:this.getDefaultValue()},s.prototype.hasValue=function(e){e===void 0&&(e={});var n=e.noParent&&this.getParentTarget(),i=this.get("value");return!(0,k.isUndefined)(i)&&i!==""&&!n},s.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},s.prototype.getStyle=function(e){var n;e===void 0&&(e={});var i=this.getName();return(n={})[e.camelCase?(0,H.camelCase)(i):i]=this.__getFullValue(e),n},s.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,k.isUndefined)(e)?this.get("defaults"):e)},s.prototype.upValue=function(e,n){n===void 0&&(n={});var i=e===null||e===""?this.__getClearProps():this.__parseValue(e,n);return this._up(i,n)},s.prototype.isVisible=function(){return!!this.get("visible")},s.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Ds(Ds({},e),{__clear:!0})),this},s.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},s.prototype.getParent=function(){return this.__getParentProp()},s.prototype.isFull=function(){return!!this.get("full")},s.prototype.__parseValue=function(e,n){return this.parseValue(e,n)},s.prototype.__getClearProps=function(){return{value:""}},s.prototype.setValue=function(e,n,i){n===void 0&&(n=!0),i===void 0&&(i={});var u=this.parseValue(e),m=!n;!m&&this.set({value:void 0},{avoidStore:m,silent:!0}),this.set(u,Ds({avoidStore:m},i))},s.prototype.setValueFromInput=function(e,n,i){i===void 0&&(i={}),this.setValue(e,n,Ds(Ds({},i),{fromInput:1}))},s.prototype.parseValue=function(e,n){n===void 0&&(n={});var i={value:e},u="!important";if((0,k.isString)(e)&&e.indexOf(u)!==-1&&(i.value=e.replace(u,"").trim(),i.important=!0),!this.get("functionName")&&!n.complete)return i;var m=[],O="".concat(i.value),P=O.indexOf("(")+1,L=O.lastIndexOf(")"),A=O.substring(0,P-1);if(A&&(i.functionName=A),m.push(P),L>=0&&m.push(L),i.value=String.prototype.substring.apply(O,m),n.numeric){var ot=parseFloat(i.value);i.unit=i.value.replace(ot,""),i.value=ot}return i},s.prototype.__getFullValue=function(e){var n=(e===void 0?{}:e).withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},s.prototype.getFullValue=function(e,n){n===void 0&&(n={});var i=this.get("functionName"),u=this.getDefaultValue(),m=(0,k.isUndefined)(e)?this.get("value"):e,O=!(0,k.isUndefined)(m)&&m!=="";if(m&&u&&m===u)return u;if(i&&O){var P=i==="url"?"'".concat(m.replace(/'|"/g,""),"'"):m;m="".concat(i,"(").concat(P,")")}return O&&this.get("important")&&!n.skipImportant&&(m="".concat(m," !important")),m||""},s.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},s.prototype.getParentTarget=function(){return this.get("parentTarget")||null},s.prototype.__parseFn=function(e){e===void 0&&(e="");var n=e.indexOf("(")+1,i=e.lastIndexOf(")");return{name:e.substring(0,n-1).trim(),value:String.prototype.substring.apply(e,[n,i>=0?i:void 0]).trim()}},s.prototype.__checkVisibility=function(e){var n=e.target,i=e.component,u=e.sectors,m=i||n;if(!m)return!1;var O=this.getId(),P=this.getName(),L=this.get("toRequire"),A=this.get("requires"),ot=this.get("requiresParent"),kt=m.get("unstylable"),zt=m.get("stylable-require"),Gt=m.get("stylable");if((0,k.isArray)(Gt)&&(Gt=Gt.indexOf(P)>=0),(0,k.isArray)(kt)&&(Gt=kt.indexOf(P)<0),L&&(Gt=!n||zt&&(zt.indexOf(O)>=0||zt.indexOf(P)>=0)),u&&A){var _e=(0,k.keys)(A);u.forEach(function(yr){yr.getProperties().forEach(function(Qr){if((0,k.includes)(_e,Qr.id)){var en=A[Qr.id];Gt=Gt&&(0,k.includes)(en,Qr.get("value"))}})})}if(ot){var Ee=i&&i.parent(),Se=Ee&&Ee.getEl();if(Se){var or=(0,H.hasWin)()?window.getComputedStyle(Se):{};(0,k.each)(ot,function(yr,Qr){Gt=Gt&&or[Qr]&&(0,k.includes)(yr,or[Qr])})}else Gt=!1}return!!Gt},s}(N.Hn);const gi=Nh;Nh.callParentInit=function(h,s,e,n){n===void 0&&(n={}),h.prototype.initialize.apply(s,[e,Ds(Ds({},n),{skipInit:1})])},Nh.callInit=function(h,s,e){e===void 0&&(e={}),!e.skipInit&&h.init(s,e)};var Em=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ap=function(){return Ap=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Ap.apply(this,arguments)},Fh=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},$g=function(h){return h==="integer"||h==="number"},Gg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Em(s,h),s.prototype.defaults=function(){return Ap(Ap({},gi.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},s.prototype.initialize=function(e,n){e===void 0&&(e={}),n===void 0&&(n={}),gi.callParentInit(gi,this,e,n);var i=this.em,u=new xf(this.get("properties")||[],{em:i,parentProp:this});this.set("properties",u,{silent:!0}),this.listenTo(u,"change",this.__upProperties),gi.callInit(this,e,n)},Object.defineProperty(s.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),s.prototype.getProperties=function(){return Fh([],this.get("properties").models,!0)},s.prototype.getProperty=function(e){return this.properties.filter(function(n){return n.getId()===e||n.getName()===e})[0]},s.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},s.prototype.isDetached=function(){return!!this.get("detached")},s.prototype.getValues=function(e){var n=(e===void 0?{}:e).byName;return this.getProperties().reduce(function(i,u){return i[n?u.getName():u.getId()]="".concat(u.__getFullValue()),i},{})},s.prototype.getSeparator=function(){return this.getSplitSeparator()},s.prototype.getJoin=function(){return this.__getJoin()},s.prototype.getStyleFromProps=function(e){var n;e===void 0&&(e={});var i=this.getName(),u=this.__getJoin(),m=this.get("toStyle"),O=this.getValues(),P={};if(m)P=m(O,{join:u,name:i,property:this});else if(O=this.getValues({byName:!0}),this.isDetached())P=O;else{var L=this.getProperties().map(function(A){return A.__getFullValue({withDefault:1})}).filter(Boolean).join(u);(n={})[i]=L,P=n}return this.isDetached()?P[i]="":(P[i]=P[i]||"",P=Ap(Ap({},P),this.getProperties().reduce(function(A,ot){return A[ot.getName()]="",A},{}))),e.camelCase?Object.keys(P).reduce(function(A,ot){return A[(0,H.camelCase)(ot)]=P[ot],A},{}):P},s.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},s.prototype.__upProperties=function(e,n){if(n===void 0&&(n={}),!n.__up&&!n.__clearIn){var i=this.__getParentProp();if(i)return i.__upProperties(this,n);this.__upTargetsStyleProps(n,e)}},s.prototype.__upTargetsStyleProps=function(e,n){var i;e===void 0&&(e={});var u=this.getStyleFromProps();if(this.isDetached()&&n){var m=n.getName();(i={})[m]=u[m],u=i}this.__upTargetsStyle(u,e)},s.prototype._up=function(e,n){return n===void 0&&(n={}),this.__setProperties(this.__getSplitValue(e.value),n),gi.prototype._up.call(this,e,n),this},s.prototype.getStyle=function(e){return this.getStyleFromProps(e)},s.prototype.__getFullValue=function(e){return e===void 0&&(e={}),this.isDetached()||e.__clear?"":this.getStyleFromProps()[this.getName()]||""},s.prototype.__getJoin=function(){var e=this.get("join");return(0,k.isString)(e)?e:this.get("separator")},s.prototype.__styleHasProps=function(e){e===void 0&&(e={});var n=this.getName(),i=this.getProperties().map(function(u){return u.getName()});return Fh([n],i,!0).some(function(u){return!(0,k.isUndefined)(e[u])&&e[u]!==""})},s.prototype.__splitValue=function(e,n){return e.split(n).map(function(i){return i.trim()}).filter(Boolean)},s.prototype.__splitStyleName=function(e,n,i){return this.__splitValue(e[n]||"",i)},s.prototype.__getSplitValue=function(e,n){e===void 0&&(e="");var i=(n===void 0?{}:n).byName,u=this.getProperties(),m=u.length===4&&u.every(function(L){return $g(L.getType())}),O=this.__splitValue(e,this.getSplitSeparator()),P={};return u.forEach(function(L,A){var ot=O[A],kt=(0,k.isUndefined)(ot)?"":ot;if(m){var zt=O.length;kt=O[A]||O[A%zt+(zt!=1&&zt%2?1:0)]||kt}var Gt=i?L.getName():L.getId();P[Gt]=kt||""}),P},s.prototype.__getPropsFromStyle=function(e,n){if(e===void 0&&(e={}),n===void 0&&(n={}),!this.__styleHasProps(e))return null;var i=n.byName,u=this.getName(),m=this.getProperties(),O=this.getSplitSeparator(),P=this.get("fromStyle"),L=P?P(e,{property:this,name:u,separator:O}):{};return P||(L=this.__getSplitValue(e[u]||"",{byName:i}),m.forEach(function(A){var ot=e[A.getName()],kt=i?A.getName():A.getId();(0,k.isUndefined)(ot)||ot===""||(L[kt]=ot)})),L},s.prototype.__setProperties=function(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.getProperties().forEach(function(u){var m=e[u.getId()];u.__getFullValue()!==m&&u.upValue(m,n)});var i=(0,k.keys)(e).map(function(u){return e[u]}).join(" ");this.set("value",i,{silent:!0})},s.prototype.clear=function(){var e=this;return this.getProperties().map(function(n){return n.clear({__clearIn:!e.isDetached()})}),gi.prototype.clear.call(this),this},s.prototype.hasValue=function(e){return this.getProperties().some(function(n){return n.hasValue(e)})},s.prototype.getFullValue=function(){return this.__getFullValue()},s.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},s}(gi);const op=Gg;var Pm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fd=function(){return Fd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Fd.apply(this,arguments)},qg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Pm(s,h),s.prototype.defaults=function(){return{values:{}}},s.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},s.prototype.getId=function(){return this.cid},s.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},s.prototype.getValues=function(e){e===void 0&&(e={});var n=this.get("values");return e.camelCase?Object.keys(n).reduce(function(i,u){return i[(0,H.camelCase)(u)]=n[u],i},{}):n},s.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},s.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},s.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},s.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},s.prototype.move=function(e){var n;return(n=this.prop)===null||n===void 0?void 0:n.moveLayer(this,e)},s.prototype.getStylePreview=function(e){var n;return e===void 0&&(e={}),(n=this.prop)===null||n===void 0?void 0:n.getStylePreview(this,e)},s.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},s.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Fd(Fd({},this.getValues()),e))},s}(N.Hn);const km=qg;var Kg=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Kg(s,h),s.prototype.initialize=function(e,n){n===void 0&&(n={}),this.prop=n.prop},s}(N.FE);const Am=Yg;Yg.prototype.model=km;var Mp=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mu=function(){return mu=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},mu.apply(this,arguments)},Mm=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Lm=/,(?![^\(]*\))/,jm=/\s(?![^(]*\))/,Dm=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Mp(s,h),s.prototype.defaults=function(){return mu(mu({},op.getDefaults()),{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},s.prototype.initialize=function(e,n){e===void 0&&(e={}),n===void 0&&(n={}),op.callParentInit(op,this,e,n);var i=this.get("layers"),u=new Am(i,{prop:this});u.property=this,u.properties=this.get("properties"),this.set("layers",u,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(u,"add remove",this.__upLayers),op.callInit(this,e,n)},s.prototype.getLayers=function(){return this.__getLayers().models},s.prototype.__getLayers=function(){return this.get("layers")},s.prototype.getLayer=function(e){return e===void 0&&(e=0),this.__getLayers().at(e)||void 0},s.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},s.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},s.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var n=this.getLayer(e);return n&&this.selectLayer(n)},s.prototype.moveLayer=function(e,n){n===void 0&&(n=0);var i=e?e.getIndex():-1;i>=0&&(0,k.isNumber)(n)&&n>=0&&n<this.getLayers().length&&i!==n&&(this.removeLayer(e),this.__getLayers().add(e,{at:n}))},s.prototype.addLayer=function(e,n){e===void 0&&(e={}),n===void 0&&(n={});var i={};return this.getProperties().forEach(function(u){var m=u.getId(),O=e[m];i[m]=(0,k.isUndefined)(O)?u.getDefaultValue():O}),this.__getLayers().push({values:i},n)},s.prototype.removeLayer=function(e){return this.__getLayers().remove(e)},s.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var n=this.getLayer(e);return n?this.removeLayer(n):null},s.prototype.getLayerLabel=function(e){var n="";if(e){var i=this.get("layerLabel"),u=e.getValues(),m=e.getIndex();if(i)n=i(e,{index:m,values:u,property:this});else{var O=[];this.getProperties().map(function(P){O.push(u[P.getId()])}),n=O.filter(Boolean).join(" ")}}return n},s.prototype.getStyleFromLayer=function(e,n){var i;n===void 0&&(n={});var u,m=this.__getJoin(),O=this.__getJoinLayers(),P=this.get("toStyle"),L=this.getName(),A=e.getValues();if(P)u=P(A,{join:m,joinLayers:O,name:L,layer:e,property:this});else{var ot=this.getProperties().map(function(kt){var zt=kt.getName(),Gt=A[kt.getId()],_e=(0,k.isUndefined)(Gt)?kt.getDefaultValue():Gt;if(n.number&&$g(kt.getType())){var Ee=kt.parseValue(Gt,n.number);_e="".concat(Ee.value).concat(Ee.unit)}return{name:zt,value:_e}});u=this.isDetached()?ot.reduce(function(kt,zt){return kt[zt.name]=zt.value,kt},{}):((i={})[this.getName()]=ot.map(function(kt){return kt.value}).join(m),i)}return n.camelCase?Object.keys(u).reduce(function(kt,zt){return kt[(0,H.camelCase)(zt)]=u[zt],kt},{}):u},s.prototype.getStylePreview=function(e,n){n===void 0&&(n={});var i={};return this.get("preview")&&(i=this.getStyleFromLayer(e,n)),i},s.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,k.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},s.prototype.__upProperties=function(e,n){var i;n===void 0&&(n={});var u=this.getSelectedLayer();u&&(u.upValues(((i={})[e.getId()]=e.__getFullValue(),i)),n.__up||this.__upTargetsStyleProps(n))},s.prototype.__upLayers=function(e,n,i){this.__upTargetsStyleProps(i||n)},s.prototype.__upTargets=function(e,n){if(n===void 0&&(n={}),!n.__select)return gi.prototype.__upTargets.call(this,e,n)},s.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(),e)},s.prototype.__upTargetsStyle=function(e,n){return gi.prototype.__upTargetsStyle.call(this,e,n)},s.prototype.__upSelected=function(e,n){var i=(e===void 0?{}:e).noEvent;n===void 0&&(n={});var u=this.em.Styles,m=this.getSelectedLayer(),O=m==null?void 0:m.getValues();O&&this.getProperties().forEach(function(P){var L,A=(L=O[P.getId()])!==null&&L!==void 0?L:"";P.__getFullValue()!==A&&P.upValue(A,mu(mu({},n),{__up:!0}))}),!i&&u.__trgEv(u.events.layerSelect,{property:this})},s.prototype._up=function(e,n){n===void 0&&(n={});var i=e.__layers,u=i===void 0?[]:i,m=Mm(e,["__layers"]);return!this.isDetached()&&this.__setLayers(u),this.__upSelected({noEvent:!0},n),gi.prototype._up.call(this,m,n),this},s.prototype.__setLayers=function(e){e===void 0&&(e=[]);var n=this.__getLayers(),i=e.map(function(u){return{values:u}});n.length===i.length?i.map(function(u,m){var O;return(O=n.at(m))===null||O===void 0?void 0:O.upValues(u.values)}):this.__getLayers().reset(i),this.__upSelected({noEvent:!0})},s.prototype.__parseValue=function(e){var n=this,i=this.parseValue(e);return i.__layers=e.split(Lm).map(function(u){return u.trim()}).map(function(u){return n.__parseLayer(u)}).filter(Boolean),i},s.prototype.__parseLayer=function(e){var n=this.get("parseLayer"),i=e.split(jm),u=this.getProperties();return n?n({value:e,values:i}):u.reduce(function(m,O,P){var L=i[P];return m[O.getId()]=(0,k.isUndefined)(L)?O.getDefaultValue():L,m},{})},s.prototype.__getLayersFromStyle=function(e){var n=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;var i=this.getName(),u=this.getProperties(),m=this.getLayerSeparator(),O=this.get("fromStyle"),P=O?O(e,{property:this,name:i,separatorLayers:m}):[];if(!O){var L=this.__splitStyleName(e,i,m).map(function(A){return A.split(n.getSplitSeparator())}).map(function(A){var ot={};return u.forEach(function(kt,zt){var Gt=A[zt];ot[kt.getId()]=(0,k.isUndefined)(Gt)?kt.getDefaultValue():Gt}),ot});u.forEach(function(A){var ot=A.getId();n.__splitStyleName(e,A.getName(),m).map(function(kt){var zt;return(zt={})[ot]=kt||A.getDefaultValue(),zt}).forEach(function(kt,zt){L[zt]=L[zt]?mu(mu({},L[zt]),kt):kt})}),P=L}return(0,k.isArray)(P)?P:[P]},s.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},s.prototype.getStyleFromLayers=function(e){var n=this;e===void 0&&(e={});var i={},u=this.getName(),m=this.getLayers(),O=this.getProperties();if(m.map(function(L){return n.getStyleFromLayer(L,e)}).forEach(function(L){(0,k.keys)(L).map(function(A){i[A]||(i[A]=[]),i[A].push(L[A])})}),(0,k.keys)(i).map(function(L){i[L]=i[L].join(n.__getJoinLayers())}),this.isDetached())i[u]="",!m.length&&O.map(function(L){i[L.getName()]=""});else{var P=O.reduce(function(L,A){return L[A.getName()]="",L},{});i[u]=i[u]||"",i=mu(mu({},i),P)}return i},s.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),n=this.get("layerSeparator");return e||((0,k.isString)(n)?n:e)},s.prototype.__getFullValue=function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]},s.prototype.hasValue=function(e){e===void 0&&(e={});var n=e.noParent&&this.getParentTarget();return this.getLayers().length>0&&!n},s.prototype.clear=function(e){return e===void 0&&(e={}),this.__getLayers().reset(),this.__upTargetsStyleProps(e),gi.prototype.clear.call(this),this},s.prototype.__canClearProp=function(){return!1},s}(op);const Im=Dm;var Vh=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vd=function(){return Vd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Vd.apply(this,arguments)},Nm=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Fm=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Rh="data-clear-style",Vm=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this;(0,k.bindAll)(n,"__change","__updateStyle");var i=e.config||{},u=i.em;n.config=i,n.em=u,n.pfx=i.stylePrefix||"",n.ppfx=i.pStylePrefix||"",n.__destroyFn=n.destroy?n.destroy.bind(n):function(){};var m=n.model;m.view=n,n.onValueChange=(0,k.debounce)(n.onValueChange.bind(n),10),n.updateStatus=(0,k.debounce)(n.updateStatus.bind(n),0),n.listenTo(m,"destroy remove",n.remove),n.listenTo(m,"change:visible",n.updateVisibility),n.listenTo(m,"change:name change:className change:full",n.render),n.listenTo(m,"change:value",n.onValueChange),n.listenTo(m,"change:parentTarget",n.updateStatus),n.listenTo(u,"change:device",n.onValueChange);var O=n.init&&n.init.bind(n);return O&&O(),n}return Vh(s,h),s.prototype.events=function(){var e;return(e={change:"inputValueChanged"})["click [".concat(Rh,"]")]="clear",e},s.prototype.template=function(e){var n=this.pfx,i=this.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},s.prototype.templateLabel=function(e){var n=this.pfx,i=this.em,u=e.parent,m=e.attributes,O=m.icon,P=O===void 0?"":O,L=m.info,A=L===void 0?"":L,ot=i==null?void 0:i.getConfig().icons,kt=(ot==null?void 0:ot.close)||"";return`
      <span class="`.concat(n,"icon ").concat(P,'" title="').concat(A,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(u?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(Rh,">").concat(kt,"</div>"),`
    `)},s.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},s.prototype.remove=function(){var e=this;return N.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(n){return e[n]=null}),this.__destroyFn(this._getClbOpts()),this},s.prototype.updateStatus=function(){var e,n=this,i=n.model,u=n.pfx,m=n.ppfx,O=n.config,P="".concat(m,"four-color"),L="".concat(m,"color-warn"),A=this.$el.children(".".concat(u,"label")),ot=this.getClearEl(),kt=ot?ot.style:{};A.removeClass("".concat(P," ").concat(L)),kt.display="none",i.hasValue({noParent:!0})&&O.highlightChanged?(A.addClass(P),O.clearProperties&&(kt.display="")):i.hasValue()&&O.highlightComputed&&A.addClass(L),(e=this.parent)===null||e===void 0||e.updateStatus()},s.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},s.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Rh,"]"))),this.clearEl},s.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),this.emit||this.model.upValue(e.target.value)},s.prototype.onValueChange=function(e,n,i){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},s.prototype.setValue=function(e){var n=this.model,i=(0,k.isUndefined)(e)||e===""?n.getDefaultValue():e;if(this.update)return this.__update(i);this.__setValueInput(i)},s.prototype.__setValueInput=function(e){var n=this.getInputEl();n&&(n.value=e)},s.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},s.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},s.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},s.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},s.prototype.__update=function(e){var n=this.update&&this.update.bind(this);n&&n(Vd(Vd({},this._getClbOpts()),{value:e}))},s.prototype.__change=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.emit&&this.emit.bind(this);i&&i.apply(void 0,Fm([this._getClbOpts()],e,!1))},s.prototype.__updateStyle=function(e,n){n===void 0&&(n={});var i=n.complete,u=n.partial,m=(Nm(n,["complete","partial"]),this.model),O=i!==!1&&u!==!0;(0,H.isObject)(e)?m.__upTargetsStyle(e,{avoidStore:!O}):m.upValue(e,{partial:!O})},s.prototype._getClbOpts=function(){var e=this,n=e.model;return{el:e.el,createdEl:e.createdEl,property:n,props:n.attributes,change:this.__change,updateStyle:this.__updateStyle}},s.prototype.render=function(){this.clearCached();var e=this,n=e.pfx,i=e.model,u=e.el,m=e.$el,O=i.getName(),P=i.getType(),L=i.get("className")||"",A="".concat(n,"property"),ot=P==="number"?"".concat(n).concat(P," ").concat(n,"integer"):"".concat(n).concat(P);this.createdEl&&this.__destroyFn(this._getClbOpts()),m.empty().append(this.template(i)),m.find("[data-sm-label]").append(this.templateLabel(i));var kt=this.create&&this.create.bind(this);this.createdEl=kt&&kt(this._getClbOpts()),m.find("[data-sm-fields]").append(this.createdEl||this.templateInput(i)),u.className="".concat(A," ").concat(ot," ").concat(A,"__").concat(O," ").concat(L).trim(),u.className+=i.isFull()?" ".concat(A,"--full"):"";var zt=this.onRender&&this.onRender.bind(this);return zt&&zt(),this.setValue(i.getValue()),this},s.prototype.onRender=function(){},s}(N.G7);const $u=Vm;var Rm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hm=function(h){function s(e){var n=h.call(this,e)||this;n.config=e.config||{},n.pfx=n.config.stylePrefix||"",n.properties=[],n.parent=e.parent;var i=n.collection;return n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.render),n}return Rm(s,h),s.prototype.addTo=function(e,n,i){this.add(e,null,i)},s.prototype.add=function(e,n,i){i===void 0&&(i={});var u=this.parent,m=this.config,O=n||this.el,P=new e.typeView({model:e,config:m});u&&(P.parent=u),P.render();var L=P.el;this.properties.push(P),(0,yn.$Q)(O,L,i.at)},s.prototype.remove=function(){return N.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},s.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},s.prototype.render=function(){var e=this,n=this.$el,i=this.pfx;this.clearItems();var u=document.createDocumentFragment();return this.collection.forEach(function(m){return e.add(m,u)}),n.empty(),n.append(u),n.attr("class","".concat(i,"properties")),this},s}(N.G7);const Hh=Hm;var Bm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rd=function(){return Rd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Rd.apply(this,arguments)};const nd=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Bm(s,h),s.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},s.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),$u.prototype.remove.apply(this,arguments),this},s.prototype.onValueChange=function(){},s.prototype.onRender=function(){var e=this.pfx,n=this.model,i=n.get("properties");if(i.length&&!this.props){var u=n.isDetached(),m=new Hh({config:Rd(Rd({},this.config),{highlightComputed:u,highlightChanged:u}),collection:i,parent:this});m.render(),this.$el.find("#".concat(e,"input-holder")).append(m.el),this.props=m}},s.prototype.clearCached=function(){$u.prototype.clearCached.apply(this,arguments),delete this.props},s}($u);var Um=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zm=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Um(s,h),s.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},s.prototype.template=function(){var e=this,n=e.pfx,i=e.ppfx,u=e.em,m=u==null?void 0:u.getConfig().icons,O=(m==null?void 0:m.close)||"",P=(m==null?void 0:m.move)||"";return`
      <div class="`.concat(n,`label-wrp">
        <div id="`).concat(n,'move" class="').concat(i,`no-touch-actions" data-move-layer>
          `).concat(P,`
        </div>
        <div id="`).concat(n,`label" data-label></div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(n,'preview" class="').concat(n,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(n,'close-layer" class="').concat(n,`btn-close" data-close-layer>
          `).concat(O,`
        </div>
      </div>
      <div id="`).concat(n,`inputs" data-properties></div>
    `)},s.prototype.initialize=function(e){e===void 0&&(e={});var n=this.model,i=e.config||{};this.em=i.em,this.config=i,this.sorter=e.sorter,this.pfx=i.stylePrefix||"",this.ppfx=i.pStylePrefix||"",this.propertyView=e.propertyView;var u=this.propertyView.model;this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change:values",this.updateLabel),this.listenTo(u,"change:selectedLayer",this.updateVisibility),n.view=this,n.set({droppable:0,draggable:1}),this.$el.data("model",n)},s.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort(this.el)},s.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},s.prototype.select=function(){this.model.select()},s.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},s.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},s.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},s.prototype.updateLabel=function(){var e=this.model,n=e.getLabel();if(this.getLabelEl().innerHTML=n,e.hasPreview()){var i=this.getPreviewEl(),u=e.getStylePreview({number:{min:-3,max:3}}),m=(0,k.keys)(u).map(function(O){return"".concat(O,":").concat(u[O])}).join(";");i.setAttribute("style",m)}},s.prototype.updateVisibility=function(){var e,n=this,i=n.pfx,u=n.model,m=n.propertyView,O=this.getPropertiesWrapper(),P=u.isSelected();O.style.display=P?"":"none",this.$el[P?"addClass":"removeClass"]("".concat(i,"active")),P&&O.appendChild((e=m.props)===null||e===void 0?void 0:e.el)},s.prototype.render=function(){var e=this,n=e.el,i=e.pfx,u=e.model;return n.innerHTML=this.template(),n.className="".concat(i,"layer"),u.hasPreview()&&(n.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},s}(N.G7);const Wm=zm;var $m=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gm=function(h){function s(e){var n=h.call(this,e)||this,i=n.collection,u=e.config||{},m=u.em,O=u.stylePrefix||"",P=u.pStylePrefix||"";n.config=u,n.pfx=O,n.ppfx=P,n.propertyView=e.propertyView,n.className="".concat(O,"layers ").concat(P,"field"),n.listenTo(i,"add",n.addTo),n.listenTo(i,"reset",n.reset),n.items=[];var L=m==null?void 0:m.Utils;return n.sorter=L?new L.Sorter({container:n.el,ignoreViewChildren:1,containerSel:".".concat(O,"layers"),itemSel:".".concat(O,"layer"),pfx:u.pStylePrefix}):"",i.view=n,n.$el.data("model",i),n.$el.data("collection",i),n}return $m(s,h),s.prototype.addTo=function(e){var n=this.collection.indexOf(e);this.addToCollection(e,null,n)},s.prototype.addToCollection=function(e,n,i){var u=n||null,m=this,O=m.propertyView,P=m.config,L=m.sorter,A=m.$el,ot=new Wm({model:e,config:P,sorter:L,propertyView:O}),kt=ot.render().el;if(this.items.push(ot),u)u.appendChild(kt);else if(i!==void 0){var zt="before";A.children().length===i&&(i--,zt="after"),i<0?A.append(kt):A.children().eq(i)[zt](kt)}else A.append(kt);return kt},s.prototype.reset=function(e,n){this.clearItems(),this.render()},s.prototype.remove=function(){return this.clearItems(),N.G7.prototype.remove.apply(this,arguments),this},s.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},s.prototype.render=function(){var e=this,n=this.$el,i=this.sorter,u=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(m){return e.addToCollection(m,u)}),n.append(u),n.attr("class",this.className),i&&(i.plh=null),this},s}(N.G7);const qm=Gm;var Km=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lp=function(){return Lp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Lp.apply(this,arguments)},Ym=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Km(s,h),s.prototype.events=function(){return Lp(Lp({},nd.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},s.prototype.templateInput=function(){var e=this.pfx,n=this.em,i=n==null?void 0:n.getConfig().icons,u=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(u,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},s.prototype.init=function(){var e=this.model;this.listenTo(e.__getLayers(),"change reset",this.updateStatus)},s.prototype.addLayer=function(){this.model.addLayer({},{at:0})},s.prototype.setValue=function(){},s.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),nd.prototype.remove.apply(this,arguments),this},s.prototype.clearCached=function(){nd.prototype.clearCached.apply(this,arguments),delete this.layersView},s.prototype.onRender=function(){var e=this,n=e.model,i=e.el,u=e.config,m=n.get("properties");if(m.length&&!this.props){var O=new Hh({config:Lp(Lp({},u),{highlightComputed:!1,highlightChanged:!1}),collection:m,parent:this});O.render();var P=new qm({collection:n.__getLayers(),config:u,propertyView:this});P.render(),i.querySelector("[data-layers-wrapper]").appendChild(P.el),this.props=O,this.layersView=P}},s}(nd);const Zm=Ym;var Bh=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_f=function(){return _f=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},_f.apply(this,arguments)};const Zg=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Bh(s,h),s.prototype.events=function(){return _f(_f({},$u.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},s.prototype.templateInput=function(){var e,n=this.pfx,i=this.em,u=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,m=u==null?void 0:u.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(m,`</div>
        </div>
      </div>
    `)},s.prototype.__setValueInput=function(e){var n=this.model,i=this.el,u=n.getDefaultValue(),m=i.querySelector("[data-preview-box]"),O=i.querySelector("[data-preview]");m.style.display=e&&e!==u?"":"none",O.style.backgroundImage=e||n.getDefaultValue()},s.prototype.openAssetManager=function(){var e,n=this,i=(e=this.em)===null||e===void 0?void 0:e.Assets;i==null||i.open({select:function(u,m){var O=(0,k.isString)(u)?u:u.get("src");n.model.upValue(O,{partial:!m}),m&&i.close()},types:["image"],accept:"image/*"})},s}($u);var Xm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Gu=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Xm(s,h),s.prototype.templateInput=function(e){return""},s.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},s.prototype.setValue=function(e){},s.prototype.onRender=function(){var e=this,n=e.ppfx,i=e.model,u=e.el;if(!this.inputInst){var m=i.input;m.ppfx=n,m.render(),u.querySelector(".".concat(n,"fields")).appendChild(m.el),this.input=m.inputEl.get(0),this.inputInst=m}},s.prototype.clearCached=function(){$u.prototype.clearCached.apply(this,arguments),this.inputInst=null},s}($u);var Jm=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Qm=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Jm(s,h),s.prototype.setValue=function(e){var n;(n=this.inputInst)===null||n===void 0||n.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},s.prototype.remove=function(){var e=this;Gu.prototype.remove.apply(this,arguments);var n=this.inputInst;return n&&n.remove&&n.remove(),["inputInst","$color"].forEach(function(i){return e[i]=null}),this},s.prototype.__handleChange=function(e,n){this.model.upValue(e,{partial:n})},s.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var n=this,i=n.ppfx,u=n.model,m=n.em,O=n.el,P=new zr({target:m,model:u,ppfx:i,onChange:this.__handleChange}).render();O.querySelector(".".concat(i,"fields")).appendChild(P.el),this.input=(e=P.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=P}},s}(Gu);var ty=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),od=function(){return od=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},od.apply(this,arguments)},Xg=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))};const jp=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ty(s,h),s.prototype.defaults=function(){return od(od({},gi.getDefaults()),{options:[],full:0})},s.prototype.getOptions=function(){var e=this.attributes,n=e.options,i=e.list;return(n&&n.length?n:i)||[]},s.prototype.getOption=function(e){var n=this,i=(0,H.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(u){return n.getOptionId(u)===i})[0]||null},s.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},s.prototype.addOption=function(e){if(e){var n=this.getOptions();this.setOptions(Xg(Xg([],n,!0),[e],!1))}return this},s.prototype.getOptionId=function(e){return(0,H.isDef)(e.id)?e.id:e.value},s.prototype.getOptionLabel=function(e,n){var i;n===void 0&&(n={});var u=n.locale,m=u===void 0||u,O=((0,k.isString)(e)?this.getOption(e):e)||{},P=this.getOptionId(O),L=O.label||O.name||P,A=n.property||this.getId();return m&&((i=this.em)===null||i===void 0?void 0:i.t("styleManager.options.".concat(A,".").concat(P)))||L},s.prototype.initialize=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];gi.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},s.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},s}(gi);var ey=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const Jg=function(h){function s(e){var n=h.call(this,e)||this;return n.listenTo(n.model,"change:options",n.updateOptions),n}return ey(s,h),s.prototype.templateInput=function(){var e=this.pfx,n=this.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},s.prototype.updateOptions=function(){delete this.input,this.onRender()},s.prototype.onRender=function(){var e=this.pfx,n=this.model,i=n.getOptions();if(!this.input){var u=[];i.forEach(function(O){var P=n.getOptionId(O),L=n.getOptionLabel(P),A=O.style?O.style.replace(/"/g,"&quot;"):"",ot=A?'style="'.concat(A,'"'):"",kt=P.replace(/"/g,"&quot;");u.push('<option value="'.concat(kt,'" ').concat(ot,">").concat(L,"</option>"))});var m=this.el.querySelector("#".concat(e,"input-holder"));m.innerHTML="<select>".concat(u.join(""),"</select>"),this.input=m.firstChild}},s.prototype.__setValueInput=function(e){var n=this.model,i=this.getInputEl(),u=n.getOptions()[0],m=u?n.getOptionId(u):"";i&&(i.value=e||m)},s}($u);var ry=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hd=function(){return Hd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Hd.apply(this,arguments)};const ny=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ry(s,h),s.prototype.defaults=function(){return Hd(Hd({},jp.getDefaults()),{full:1})},s}(jp);var oy=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();const iy=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return oy(s,h),s.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},s.prototype.onRender=function(){var e=this.pfx,n=this.ppfx,i=this.model,u="".concat(n,"radio-item-label"),m=i.getName(),O=i.getOptions(),P="".concat(e,"radio ").concat(e,"radio-").concat(m),L=i.cid;if(!this.input){var A=[];O.forEach(function(kt){var zt=kt.className?"".concat(kt.className," ").concat(e,"icon ").concat(u):"",Gt=i.getOptionId(kt),_e="".concat(m,"-").concat(Gt,"-").concat(L),Ee=zt?"":i.getOptionLabel(Gt),Se=kt.title?'title="'.concat(kt.title,'"'):"",or=i.getValue()===Gt?"checked":"";A.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(P,'" id="').concat(_e,'" name="').concat(m,"-").concat(L,'" value="').concat(Gt,'" ').concat(or,`/>
            <label class="`).concat(zt||u,'" ').concat(Se,' for="').concat(_e,'">').concat(Ee,`</label>
          </div>
        `))});var ot=this.el.querySelector(".".concat(n,"field"));ot.innerHTML='<div class="'.concat(n,'radio-items">').concat(A.join(""),"</div>"),this.input=ot.firstChild}},s.prototype.__setValueInput=function(e){var n,i=this.model,u=e||i.getDefaultValue(),m=(n=this.getInputEl())===null||n===void 0?void 0:n.querySelector('[value="'.concat(u,'"]'));m&&(m.checked=!0)},s}(Jg);var ay=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cl=function(){return cl=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},cl.apply(this,arguments)};const Bd=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ay(s,h),s.prototype.defaults=function(){return cl(cl({},gi.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},s.prototype.getUnits=function(){return this.get("units")||[]},s.prototype.getUnit=function(){return this.get("unit")},s.prototype.getMin=function(){return this.get("min")},s.prototype.getMax=function(){return this.get("max")},s.prototype.getStep=function(){return this.get("step")},s.prototype.upUnit=function(e,n){return n===void 0&&(n={}),this._up({unit:e},n)},s.prototype.initialize=function(e,n){e===void 0&&(e={}),n===void 0&&(n={}),gi.callParentInit(gi,this,e,n);var i=this.get("unit"),u=this.getUnits();this.input=(0,H.hasWin)()?new Ar({model:this}):void 0,u.length&&!i&&this.set("unit",u[0],{silent:!0}),gi.callInit(this,e,n)},s.prototype.__getClearProps=function(){return cl(cl({},gi.prototype.__getClearProps()),{unit:""})},s.prototype.parseValue=function(e,n){n===void 0&&(n={});var i=gi.prototype.parseValue.apply(this,arguments),u=this.input.validateInputValue(i.value,cl({deepCheck:1},n)),m=u.value,O=u.unit;return i.value=m,i.unit=O,i},s.prototype.getFullValue=function(){var e=this.get("value"),n=this.get("unit"),i=(0,k.isUndefined)(e)?"":"".concat(e),u=!(0,k.isUndefined)(n)&&i?n:"",m="".concat(i).concat(u);return gi.prototype.getFullValue.apply(this,[m])},s}(gi);var Ud=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),id=function(){return id=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},id.apply(this,arguments)};const sy=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return Ud(s,h),s.prototype.defaults=function(){return id(id({},Bd.getDefaults()),{showInput:1})},s}(Bd);var ly=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zd=function(){return zd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},zd.apply(this,arguments)};const cy=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return ly(s,h),s.prototype.events=function(){return zd(zd({},Gu.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},s.prototype.templateInput=function(e){var n=this.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},s.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},s.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},s.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},s.prototype.setValue=function(e){var n=this.model,i=n.parseValue(e);this.getSliderEl().value=e===""?n.getDefaultValue():parseFloat(i.value),Gu.prototype.setValue.apply(this,arguments)},s.prototype.onRender=function(){Gu.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},s.prototype.clearCached=function(){Gu.prototype.clearCached.apply(this,arguments),delete this.slider},s}(Gu),xf=N.FE.extend(Ko).extend({extendViewApi:1,init:function(){var h=this.opts,s=this.em,e=h.module||(s==null?void 0:s.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:Im,view:Zm,isType:function(h){if(h&&h.type=="stack")return h}},{id:"composite",model:op,view:nd,isType:function(h){if(h&&h.type=="composite")return h}},{id:"file",model:gi,view:Zg,isType:function(h){if(h&&h.type=="file")return h}},{id:"color",model:gi,view:Qm,isType:function(h){if(h&&h.type=="color")return h}},{id:"select",model:jp,view:Jg,isType:function(h){if(h&&h.type=="select")return h}},{id:"radio",model:ny,view:iy,isType:function(h){if(h&&h.type=="radio")return h}},{id:"slider",model:sy,view:cy,isType:function(h){if(h&&h.type=="slider")return h}},{id:"integer",model:Bd,view:Gu,isType:function(h){if(h&&h.type=="integer")return h}},{id:"number",model:Bd,view:Gu,isType:function(h){if(h&&h.type=="number")return h}},{id:"base",model:gi,view:$u,isType:function(h){return h.type="base",h}}]});var Wd=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dp=function(){return Dp=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Dp.apply(this,arguments)},ip=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},$d=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))};const ad=function(h){function s(e,n){n===void 0&&(n={});var i=h.call(this,e)||this,u=n.em;i.em=u;var m=e||{},O=i.buildProperties(m.buildProps),P=i.get("name")||"",L=[];!i.get("id")&&i.set("id",P.replace(/ /g,"_").toLowerCase()),L=(L=O?i.extendProperties(O):i.get("properties").map(function(ot){return(0,k.isString)(ot)?i.buildProperties(ot)[0]:ot}).filter(Boolean)).map(function(ot){return i.checkExtend(ot)});var A=new xf(L,{em:u});return A.sector=i,i.set("properties",A),i}return Wd(s,h),s.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(s.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),s.prototype.getId=function(){return this.get("id")},s.prototype.getName=function(){var e,n=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(n)))||this.get("name")},s.prototype.setName=function(e){return this.set("name",e)},s.prototype.isOpen=function(){return!!this.get("open")},s.prototype.setOpen=function(e){return this.set("open",e)},s.prototype.isVisible=function(){return!!this.get("visible")},s.prototype.getProperties=function(e){e===void 0&&(e={});var n=this.get("properties");return(n.models?$d([],n.models,!0):n).filter(function(i){var u=!0;return e.withValue&&(u=i.hasValue({noParent:!0})),e.withParentValue&&(u=!i.hasValue({noParent:!0})&&i.hasValue()),u})},s.prototype.getProperty=function(e){return this.getProperties().filter(function(n){return n.get("id")===e})[0]||void 0},s.prototype.addProperty=function(e,n){return this.get("properties").add(this.checkExtend(e),n)},s.prototype.extendProperties=function(e,n,i){i===void 0&&(i=!1);for(var u=e.length,m=n||this.get("properties"),O=this.get("extendBuilded"),P=[],L=0,A=m.length;L<A;L++){for(var ot=m[L],kt=0,zt=0;zt<u;zt++){var Gt=e[zt];if(!(ot.property!=Gt.property&&ot.id!=Gt.property)){var _e=ot.properties;_e&&_e.length&&(ot.properties=this.extendProperties(Gt.properties||[],_e,1)),e[zt]=O?(0,k.extend)(Gt,ot):ot,P[zt]=e[zt],kt=1}}kt||(e.push(ot),P.push(ot))}return i?P.filter(function(Ee){return Ee}):e},s.prototype.checkExtend=function(e){var n=((0,k.isString)(e)?{extend:e}:e)||{},i=n.extend,u=ip(n,["extend"]);return i?Dp(Dp({},this.buildProperties([i])[0]||{}),u):e},s.prototype.buildProperties=function(e){var n,i=e||[];if(!i.length)return[];var u=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager").builtIn;return u==null?void 0:u.build(i)},s}(N.Hn);var sd=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gd=function(){return Gd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Gd.apply(this,arguments)};const uy=function(h){function s(){return h!==null&&h.apply(this,arguments)||this}return sd(s,h),s.prototype.initialize=function(e,n){n===void 0&&(n={});var i=n.module,u=n.em;this.em=u,this.module=i,this.listenTo(this,"reset",this.onReset)},s.prototype.model=function(e,n){n===void 0&&(n={});var i=n.collection.em;return new ad(e,Gd(Gd({},n),{em:i}))},s.prototype.onReset=function(e,n){n===void 0&&(n={}),(n.previousModels||[]).forEach(function(i){return i.get("properties").reset()})},s}(N.FE);var Cf=function(){return Cf=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Cf.apply(this,arguments)},Qg=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Sf=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Va=function(h){return h.map(function(s){return{id:s}})},Uh=function(){function h(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var s=", sans-serif",e=["flex-start","flex-end","center"],n=Sf(Sf([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Va(["auto","cover","contain"]),this.optsBgAttach=Va(["scroll","fixed","local"]),this.optsBgRepeat=Va(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Va(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Va(["visible","hidden","scroll","auto"]),this.optsDir=Va(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Va(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Va(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Va(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Va(["none","left","right"]),this.optsPos=Va(["static","relative","absolute","fixed"]),this.optsTextAlign=Va(["left","center","right","justify"]),this.optsFlexAlign=Va(n),this.optsJustCont=Va(Sf(Sf([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Va(Sf(Sf([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Va(Sf(["auto"],n,!0)),this.optsTransitProp=Va(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Va(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Va(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+s,"Arial Black, Gadget"+s,"Brush Script MT"+s,"Comic Sans MS, cursive"+s,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+s,"Impact, Charcoal"+s,"Lucida Sans Unicode, Lucida Grande"+s,"Tahoma, Geneva"+s,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+s,"Verdana, Geneva"+s].map(function(i){return{id:i,label:i.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return h.prototype.__sub=function(s){var e=this;return function(){return s.map(function(n){if((0,k.isString)(n))return e.get(n);var i=n.extend,u=Qg(n,["extend"]);return Cf(Cf({},e.get(i)),u)})}},h.prototype.init=function(){var s=this,e=this,n=e.fixedValues,i=e.requireFlex,u=e.typeNumber;this.props={};var m=[["text-shadow-h",{type:u,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:n},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:i},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:u,default:"0",requiresParent:i}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:i},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:i},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(O,P){var L=P.values,A=L["box-shadow-h"],ot=L["box-shadow-v"],kt=L["box-shadow-blur"],zt=L["box-shadow-spread"];return"".concat(A," ").concat(ot," ").concat(kt," ").concat(zt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(O,P){var L=P.values,A=L["text-shadow-h"],ot=L["text-shadow-v"],kt=L["text-shadow-blur"];return"".concat(A," ").concat(ot," ").concat(kt)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(O,P){var L=P.values;return[L["background-repeat-sub"]||"",L["background-position-sub"]||"",L["background-attachment-sub"]||"",L["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(O,P){var L=P.property,A=O[P.name]||"",ot=L.getLayerSeparator();return A?A.split(ot).map(function(kt){var zt=L.__parseFn(kt);return{"transform-type":zt.name,"transform-value":zt.value}}):[]},toStyle:function(O,P){var L;return(L={})[P.name]="".concat(O["transform-type"],"(").concat(O["transform-value"],")"),L},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(O){var P=O.property;if(O.to.value){var L=P.getOption(),A=Cf({},L.propValue||{}),ot=P.getParent().getProperty("transform-value"),kt=ot.getUnit();(!kt||(A==null?void 0:A.units.indexOf(kt))<0)&&(A.unit=(A==null?void 0:A.units[0])||""),ot.up(A)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return m.forEach(function(O){var P=O[0],L=O[1],A=O[2];s.add(P,L||{},{from:A})}),this},h.prototype.add=function(s,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.from||"",u=this.props[i||s]||{},m=Cf(Cf(Cf({},u),{property:s}),e);return m.properties&&(0,k.isFunction)(m.properties)&&(m.properties=m.properties()),this.props[s]=m,m},h.prototype.get=function(s){return this.props[s]},h.prototype.build=function(s){var e=this,n=[];return((0,k.isString)(s)?[s]:s).forEach(function(i){n.push(e.get(i)||{property:i})}),n},h}();const fy=Uh;var py=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dy=function(h,s){return Object.defineProperty?Object.defineProperty(h,"raw",{value:s}):h.raw=s,h},hy=function(h){function s(e){var n=h.call(this,e)||this,i=e.config||{},u=n.model,m=i.em;return n.config=i,n.em=m,n.pfx=i.stylePrefix||"",n.listenTo(u,"destroy remove",n.remove),n.listenTo(u,"change:open",n.updateOpen),n.listenTo(u,"change:visible",n.updateVisibility),n}return py(s,h),s.prototype.template=function(e){var n,i=e.pfx,u=e.label,m=(n=this.em)===null||n===void 0?void 0:n.getConfig().icons,O=(m==null?void 0:m.caret)||"",P="".concat(i,"sector-");return ft(tv||(tv=dy([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),P,P,O,P,u)},s.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},s.prototype.updateOpen=function(){var e=this,n=e.$el,i=e.model,u=e.pfx,m=i.isOpen();n[m?"addClass":"removeClass"]("".concat(u,"open")),this.getPropertiesEl().style.display=m?"":"none"},s.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},s.prototype.getPropertiesEl=function(){var e=this.$el,n=this.pfx;return e.find(".".concat(n,"properties")).get(0)},s.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},s.prototype.renderProperties=function(){var e=this.model,n=this.config,i=e.get("properties");if(i){var u=new Hh({collection:i,config:n});this.$el.append(u.render().el)}},s.prototype.render=function(){var e=this,n=e.pfx,i=e.model,u=e.$el,m=i.getId(),O=i.getName();return u.html(this.template({pfx:n,label:O})),this.renderProperties(),u.attr("class","".concat(n,"sector ").concat(n,"sector__").concat(m," no-select")),this.updateOpen(),this},s}(N.G7);const gy=hy;var tv,vy=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),my=function(h){function s(e){e===void 0&&(e={});var n=h.call(this,e)||this,i=e.module,u=e.config,m=n.collection;return n.pfx=(u==null?void 0:u.stylePrefix)||"",n.ppfx=(u==null?void 0:u.pStylePrefix)||"",n.config=u,n.module=i,n.listenTo(m,"add",n.addTo),n.listenTo(m,"reset",n.render),n}return vy(s,h),s.prototype.remove=function(){var e=this;return N.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(n){return e[n]={}}),this},s.prototype.addTo=function(e,n,i){i===void 0&&(i={}),this.addToCollection(e,null,i)},s.prototype.addToCollection=function(e,n,i){i===void 0&&(i={});var u=this.config,m=this.el,O=n||m,P=new gy({model:e,config:u}).render().el;return(0,yn.$Q)(O,P,i.at),P},s.prototype.render=function(){var e=this,n=this,i=n.$el,u=n.pfx,m=n.ppfx;i.empty();var O=document.createDocumentFragment();return this.collection.each(function(P){return e.addToCollection(P,O)}),i.append(O),i.addClass("".concat(u,"sectors ").concat(m,"one-bg ").concat(m,"two-color")),this},s}(N.G7);const ul=my;var yy=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qu=function(){return qu=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},qu.apply(this,arguments)},qd=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},xi="style",ld="".concat(xi,":"),Ip="".concat(ld,"sector"),by="".concat(Ip,":add"),wy="".concat(Ip,":remove"),_y="".concat(Ip,":update"),Kd="".concat(ld,"property"),xy="".concat(Kd,":add"),Cy="".concat(Kd,":remove"),Np="".concat(Kd,":update"),zh="".concat(ld,"layer:select"),Yd="".concat(ld,"target"),Sy="".concat(ld,"custom"),ap=function(h){return h||h===0},Oy={all:xi,sectorAdd:by,sectorRemove:wy,sectorUpdate:_y,propertyAdd:xy,propertyRemove:Cy,propertyUpdate:Np,layerSelect:zh,target:Yd,custom:Sy},Ml=function(h){function s(e){var n=h.call(this,e,"StyleManager",new uy([],{em:e}),Oy,zg)||this;n.Sector=ad,n.storageKey="",(0,k.bindAll)(n,"__clearStateTarget");var i=n.config,u=i.pStylePrefix;u&&(i.stylePrefix=u+i.stylePrefix),n.builtIn=new fy,n.properties=new xf([],{em:e,module:n}),n.sectors=n.all;var m=new N.Hn({targets:[]});n.model=m,n.upAll=(0,k.debounce)(function(){return n.__upSel()},0),m.listenTo(e,"component:toggled component:update:classes change:state change:device frame:resized selector:type",n.upAll),m.listenTo(e,"component:toggled",n.__clearStateTarget);var O=(0,k.debounce)(function(){n.__upProps(),n.__trgCustom()},0);m.listenTo(e,"styleable:change undo redo",O);var P=(0,k.debounce)(function(){return n.__trgCustom()},0);return m.listenTo(e,"".concat(zh," ").concat(Yd),P),m.on("change:lastTarget",function(){return e.trigger(Yd,n.getSelected())}),n}return yy(s,h),s.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},s.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},s.prototype.__trgEv=function(e){for(var n,i=[],u=1;u<arguments.length;u++)i[u-1]=arguments[u];(n=this.em).trigger.apply(n,qd([e],i,!1))},s.prototype.__clearStateTarget=function(){var e=this,n=this.em,i=this.__getStateTarget();i&&(n==null||n.skip(function(){n.Css.remove(i),e.model.set({stateTarget:null})}))},s.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},s.prototype.postRender=function(){this.__appendTo()},s.prototype.addSector=function(e,n,i){i===void 0&&(i={});var u=this.getSector(e);return u||(n.id=e,u=this.sectors.add(n,i)),u},s.prototype.getSector=function(e,n){n===void 0&&(n={});var i=this.sectors.where({id:e})[0];return!i&&n.warn&&this._logNoSector(e),i||null},s.prototype.getSectors=function(e){e===void 0&&(e={});var n=this.sectors,i=n&&n.models?e.array?qd([],n.models,!0):n:[];return e.visible?i.filter(function(u){return u.isVisible()}):i},s.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},s.prototype.addProperty=function(e,n,i){i===void 0&&(i={});var u=this.getSector(e,{warn:!0}),m=null;return u&&(m=u.addProperty(n,i)),m},s.prototype.getProperty=function(e,n){var i,u=this.getSector(e,{warn:!0});return u&&(i=u.properties.filter(function(m){return m.get("property")===n||m.get("id")===n})[0]),i},s.prototype.getProperties=function(e){var n,i=this.getSector(e,{warn:!0});return i&&(n=i.properties),n},s.prototype.removeProperty=function(e,n){var i=this.getProperties(e);return i?i.remove(this.getProperty(e,n)):null},s.prototype.select=function(e,n){var i=this;n===void 0&&(n={});var u=this.em,m=(0,k.isArray)(e)?e:[e],O=n.stylable,P=u.Css,L=[];m.filter(Boolean).forEach(function(_e){var Ee=_e;if((0,k.isString)(_e)){var Se=P.getRule(_e)||P.setRule(_e);!(0,k.isUndefined)(O)&&Se.set({stylable:O}),Ee=Se}L.push(Ee)});var A=n.component||L.filter(function(_e){return(0,H.isComponent)(_e)}).reverse()[0];L=L.map(function(_e){return i.getModelToStyle(_e)});var ot=u.getState(),kt=L.slice().reverse()[0],zt=this.getParentRules(kt,{state:ot,component:A}),Gt=this.__getStateTarget();return u.skip(function(){var _e;if(ot&&(!((_e=kt==null?void 0:kt.getState)===null||_e===void 0)&&_e.call(kt))){var Ee=kt.getStyle();Gt?Gt.setStyle(Ee):Gt=P.getAll().add({selectors:"gjs-selected",style:Ee,shallow:!0,important:!0})}else Gt&&(P.remove(Gt),Gt=void 0)}),this.model.set({targets:L,lastTarget:kt,lastTargetParents:zt,stateTarget:Gt,component:A}),this.__upProps(n),L},s.prototype.getSelected=function(){return this.model.get("lastTarget")},s.prototype.getSelectedAll=function(){return this.model.get("targets")},s.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},s.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},s.prototype.addStyleTargets=function(e,n){this.getSelectedAll().map(function(m){return m.addStyle(e,n)});var i=this.getSelected();i&&this.__emitCmpStyleUpdate(e);var u=this.__getStateTarget();i&&(u==null||u.setStyle(i.getStyle(),n))},s.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},s.prototype.getBuiltInAll=function(){return this.builtIn.props},s.prototype.addBuiltIn=function(e,n){return this.builtIn.add(e,n)},s.prototype.getModelToStyle=function(e,n){n===void 0&&(n={});var i=this.em,u=n.skipAdd;if(i&&(e!=null&&e.toHTML)){var m=i.getConfig(),O=i.UndoManager,P=i.Css,L=i.Selectors,A=L?L.getConfig():{},ot=m.devicePreviewMode?"":i.get("state"),kt=e.get("classes").getStyleable(),zt=kt.length,Gt=!A.componentFirst||n.useClasses,_e={noCount:1},Ee={state:ot,addOpts:_e},Se=void 0;if(O.stop(),zt&&Gt){var or=i.getCurrentMedia();(Se=P.get(kt,ot,or))||u||(Se=P.add(kt,ot,or,{},_e))}else if(m.avoidInlineStyle){var yr=e.getId();!(Se=P.getIdRule(yr,Ee))&&!u&&(Se=P.setIdRule(yr,{},Ee)),e.is("wrapper")&&Se.set("wrapper",1,_e)}Se&&(e=Se),O.start()}return e},s.prototype.getParentRules=function(e,n){var i=n===void 0?{}:n,u=i.state,m=i.component,O=this.em,P=[];if(O&&e){var L=m,A=O.Css,ot=O.CodeManager.getGenerator("css"),kt=e.toHTML?e:e.getComponent(),zt={combination:!0,array:!0},Gt=[],_e=[],Ee=[];kt?(Gt=A.getRules("#".concat(kt.getId())),Ee=(_e=L?A.getRules(L.getSelectors().getFullName(zt)):[]).concat(Gt)):(Gt=L?A.getRules("#".concat(L.getId())):[],_e=A.getRules(e.getSelectors().getFullName(zt)),Ee=Gt.concat(_e));var Se=Ee.filter(function(or){return(0,k.isUndefined)(u)?1:or.get("state")===u}).sort(ot.sortRules).reverse();P=Se.slice(Se.indexOf(e)+1)}return P},s.prototype.addType=function(e,n){this.properties.addType(e,n)},s.prototype.getType=function(e){return this.properties.getType(e)},s.prototype.getTypes=function(){return this.properties.getTypes()},s.prototype.createType=function(e,n){var i=n===void 0?{}:n,u=i.model,m=u===void 0?{}:u,O=i.view,P=O===void 0?{}:O,L=this.config,A=this.getType(e);if(A)return new A.view(qu({model:new A.model(m),config:L},P))},s.prototype.render=function(){var e=this,n=e.config,i=e.em,u=e.SectView,m=u&&u.el;return this.SectView=new ul({el:m,em:i,config:n,module:this,collection:this.sectors}),this.SectView.render().el},s.prototype._logNoSector=function(e){var n=this.em;n&&n.logWarning("'".concat(e,"' sector not found"))},s.prototype.__emitCmpStyleUpdate=function(e,n){n===void 0&&(n={});var i=this.em,u="component:styleUpdate";if(!e.__p){var m=n.components||i.getSelectedAll(),O=Array.isArray(m)?m:[m],P=qu({},e);delete P.__p;var L=Object.keys(P),A={style:P};O.forEach(function(ot){i.trigger(u,ot,A),L.forEach(function(kt){return i.trigger("".concat(u,":").concat(kt),ot,A)})})}},s.prototype.__upProps=function(e){var n=this;e===void 0&&(e={});var i=this.getSelected();if(i){var u=this.sectors,m=this.model.get("component"),O=this.getSelectedParents(),P=i.getStyle(),L=O.map(function(A){return{target:A,style:A.getStyle()}});u.map(function(A){A.getProperties().map(function(ot){n.__upProp(ot,P,L,e)})}),u.forEach(function(A){var ot=A.getProperties();ot.forEach(function(zt){var Gt=zt.__checkVisibility({target:i,component:m,sectors:u});zt.set("visible",Gt)});var kt=ot.some(function(zt){return zt.isVisible()});A.set("visible",kt)})}},s.prototype.__upProp=function(e,n,i,u){var m=this,O=e.getName(),P=n[O],L=ap(P),A=e.getType()==="stack",ot=e.getType()==="composite",kt=qu(qu({},u),{__up:!0}),zt=!ot&&!A,Gt=A?e.__getLayersFromStyle(n):[],_e=ot?e.__getPropsFromStyle(n):{},Ee=L?P:null,Se=null;if(A&&Gt===null||ot&&_e===null){var or=A?"__getLayersFromStyle":"__getPropsFromStyle";if(Qr=i.filter(function(yo){return e[or](yo.style)!==null})[0]){Ee=Qr.style[O],Se=Qr.target;var yr=e[or](Qr.style);A?Gt=yr:_e=yr}}else if(!L){var Qr;Ee=null,(Qr=i.filter(function(yo){return ap(yo.style[O])})[0])&&(Ee=Qr.style[O],Se=Qr.target)}if(e.__setParentTarget(Se),zt&&e.__getFullValue()!==Ee&&e.upValue(Ee,kt),A&&e.__setLayers(Gt||[]),ot){var en=e.getProperties();if(e.isDetached()){var En=e.__getPropsFromStyle(n,{byName:!0})||{},An=i.map(function(yo){return qu(qu({},yo),{style:e.__getPropsFromStyle(yo.style,{byName:!0})||{}})});en.map(function(yo){return m.__upProp(yo,En,An,u)})}else e.__setProperties(_e||{},kt),e.getProperties().map(function(yo){return yo.__setParentTarget(Se)})}},s.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(n){n.reset(),n.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},s}(et);const Ty=Ml;var Ey=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Is=function(){return Is=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Is.apply(this,arguments)},Wh=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},$h=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}},Py=function(h,s){var e={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&s.indexOf(n)<0&&(e[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(h);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(h,n[i])&&(e[n[i]]=h[n[i]])}return e},Zd=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))};V().$=I.default;var ky=[Nv,vh,_g,ym,g,xr,Xf,Ty,pf,Gv,pm,vu,Dd,so,M,Xr,Ug,ou],Ay=[kv,Hf,Ir,hp];(function(h){var s=h.$;if(s&&s.prototype&&s.prototype.constructor.name!=="jQuery"){var e=s.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var u=this.get(0);return u&&u.focus(),this},e.bind=function(u,m){return this.on(u,m)},e.unbind=function(u,m){if((0,k.isObject)(u)){for(var O in u)u.hasOwnProperty(O)&&this.off(O,u[O]);return this}return this.off(u,m)},e.click=function(u){return u?this.on("click",u):this.trigger("click")},e.change=function(u){return u?this.on("change",u):this.trigger("change")},e.keydown=function(u){return u?this.on("keydown",u):this.trigger("keydown")},e.delegate=function(u,m,O,P){return P||(P=O),this.on(m,u,function(L){L.data=O,P(L)})},e.scrollLeft=function(){var u=this.get(0),m=(u=u.nodeType==9?u.defaultView:u)instanceof Window?u:null;return m?m.pageXOffset:u.scrollLeft||0},e.scrollTop=function(){var u=this.get(0),m=(u=u.nodeType==9?u.defaultView:u)instanceof Window?u:null;return m?m.pageYOffset:u.scrollTop||0};var n=s.prototype.offset;e.offset=function(u){var m,O;return u&&(m=u.top,O=u.left),m!==void 0&&this.css("top","".concat(m,"px")),O!==void 0&&this.css("left","".concat(O,"px")),n.call(this)},s.map=function(u,m){for(var O=[],P=0;P<u.length;P++)O.push(m(u[P],P));return O};var i=Array.prototype.indexOf;s.inArray=function(u,m,O){return m==null?-1:i.call(m,u,O)},s.Event=function(u,m){if(!(this instanceof s.Event))return new s.Event(u,m);this.type=u,this.isDefaultPrevented=function(){return!1}}}})({$:I.default});var Xd={debug:console.log,info:console.info,warning:console.warn,error:console.error},My=function(h){function s(e){e===void 0&&(e={});var n=h.call(this)||this;n.__skip=!1,n.defaultRunning=!1,n.destroyed=!1,n._config=e;var i=n.config;n.set("Config",e),n.set("modules",[]),n.set("toLoad",[]),n.set("storables",[]),n.set("selected",new F),n.set("dmode",i.dragMode);var u=i.el,m=i.log,O=m===!0?(0,k.keys)(Xd):(0,k.isArray)(m)?m:[];return(0,k.bindAll)(n,"initBaseColorPicker"),u&&i.fromElement&&(i.components=u.innerHTML),n.attrsOrig=u?(0,k.toArray)(u.attributes).reduce(function(P,L){return P[L.nodeName]=L.nodeValue,P},{}):"",i.components&&!i.pageManager&&(i.pageManager={pages:[{component:i.components}]}),ky.forEach(function(P){return n.loadModule(P)}),Ay.forEach(function(P){return n.loadStorableModule(P)}),n.on("change:componentHovered",n.componentHovered,n),n.on("change:changesCount",n.updateChanges,n),n.on("change:readyLoad change:readyCanvas",n._checkReady,n),O.forEach(function(P){return n.listenLog(P)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(P){var L=P.from,A=P.to;n.listenTo(n,L,function(){for(var ot=[],kt=0;kt<arguments.length;kt++)ot[kt]=arguments[kt];n.trigger.apply(n,Zd([A],ot,!1)),n.logWarning("The event '".concat(L,"' is deprecated, replace it with '").concat(A,"'"))})}),n}return Ey(s,h),s.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(s.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),s.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},s.prototype.getContainer=function(){return this.config.el},s.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),Xd[e])},Object.defineProperty(s.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),s.prototype.getConfig=function(e){var n=this.config;return(0,k.isUndefined)(e)?n:n[e]},s.prototype.loadOnStart=function(){var e=this,n=this.config,i=n.projectData,u=n.headless,m=this.get("StorageManager");this.toLoad.reverse().forEach(function(L){return L.onLoad()});var O=function(){e.modules.forEach(function(L){return L.postLoad&&L.postLoad(e)}),e.set("readyLoad",1)};u?(i&&this.loadData(i),O()):this._storageTimeout=setTimeout(function(){return Wh(e,void 0,void 0,function(){var L;return $h(this,function(A){switch(A.label){case 0:return i?(this.loadData(i),[3,5]):[3,1];case 1:if(!(m!=null&&m.canAutoload()))return[3,5];A.label=2;case 2:return A.trys.push([2,4,,5]),[4,this.load()];case 3:return A.sent(),[3,5];case 4:return L=A.sent(),this.logError(L),[3,5];case 5:return O(),[2]}})})});var P=new s({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(L){return P.get(L).onLoad()}),this.set("shallow",P)},s.prototype.updateChanges=function(){var e=this,n=this.get("StorageManager"),i=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return e.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=i?function(){return!0}:null),n.isAutosave()&&i>=n.getStepsBeforeSave()&&this.store().catch(function(u){return e.logError(u)})},s.prototype.loadModule=function(e){var n=new e(this);return this.set(n.name,n),n.onLoad&&this.toLoad.push(n),this.modules.push(n),n},s.prototype.loadStorableModule=function(e){var n=this.loadModule(e);return this.storables.push(n),n},s.prototype.init=function(e,n){n===void 0&&(n={}),this.destroyed&&(this.initialize(n),this.destroyed=!1),this.set("Editor",e)},s.prototype.getEditor=function(){return this.get("Editor")},s.prototype.handleUpdates=function(e,n,i){var u=this;i===void 0&&(i={}),this.__skip||i.temporary||i.noCount||i.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var m=u.getDirtyCount()||0,O=(i.unset,Py(i,["unset"]));u.set("changesCount",m+1,O)},0))},s.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},s.prototype.componentHovered=function(e,n,i){var u=this.previous("componentHovered");u&&this.trigger("component:unhovered",u,i),n&&this.trigger("component:hovered",n,i)},s.prototype.getSelected=function(){return this.selected.lastComponent()},s.prototype.getSelectedAll=function(){return this.selected.allComponents()},s.prototype.setSelected=function(e,n){var i=this;n===void 0&&(n={});var u=n.event,m=u&&(u.ctrlKey||u.metaKey),O=(u||{}).shiftKey,P=((0,k.isArray)(e)?e:[e]).map(function(kt){return(0,H.getModel)(kt,I.default)}),L=this.getSelectedAll(),A=this.getConfig().multipleSelection,ot=(0,k.isArray)(e);ot&&this.removeSelected(L.filter(function(kt){return!(0,k.contains)(P,kt)})),P.forEach(function(kt){var zt=(0,H.getModel)(kt,void 0);if(zt&&(i.trigger("component:select:before",zt,n),!zt.get("selectable")||n.abort)){if(!n.useValid)return;for(var Gt=zt.parent();Gt&&!Gt.get("selectable");)Gt=Gt.parent();zt=Gt}if(m&&A)return i.toggleSelected(zt);if(O&&A){i.clearSelection(i.get("Canvas").getWindow());var _e,Ee,Se=zt.collection,or=zt.index();if(i.getSelectedAll().forEach(function(yr){var Qr=yr.collection,en=yr.index();Qr===Se&&(en<or?_e=(0,k.isUndefined)(_e)?en:Math.max(_e,en):en>or&&(Ee=(0,k.isUndefined)(Ee)?en:Math.min(Ee,en)))}),!(0,k.isUndefined)(_e))for(;_e!==or;)i.addSelected(Se.at(_e)),_e++;if(!(0,k.isUndefined)(Ee))for(;Ee!==or;)i.addSelected(Se.at(Ee)),Ee--;return i.addSelected(zt)}!ot&&i.removeSelected(L.filter(function(yr){return yr!==zt})),i.addSelected(zt,n)})},s.prototype.addSelected=function(e,n){var i=this;n===void 0&&(n={});var u=(0,H.getModel)(e,I.default);((0,k.isArray)(u)?u:[u]).forEach(function(m){var O=i.selected;m&&m.get("selectable")&&!m.parents().some(function(P){return O.hasComponent(P)})&&(n.forceChange&&i.removeSelected(m,n),O.allComponents().filter(function(P){return(0,k.contains)(P.parents(),m)}).forEach(function(P){return i.removeSelected(P,n)}),O.addComponent(m,n),m&&i.trigger("component:select",m,n))})},s.prototype.removeSelected=function(e,n){n===void 0&&(n={}),this.selected.removeComponent((0,H.getModel)(e,I.default),n)},s.prototype.toggleSelected=function(e,n){var i=this;n===void 0&&(n={});var u=(0,H.getModel)(e,I.default);((0,k.isArray)(u)?u:[u]).forEach(function(m){i.selected.hasComponent(m)?i.removeSelected(m,n):i.addSelected(m,n)})},s.prototype.setHovered=function(e,n){if(n===void 0&&(n={}),!e)return this.set("componentHovered","");var i="component:hover",u=(0,H.getModel)(e,void 0);if(u){if(n.forceChange&&this.set("componentHovered",""),this.trigger("".concat(i,":before"),u,n),!u.get("hoverable")){if(!n.useValid||n.abort)return;for(var m=u&&u.parent();m&&!m.get("hoverable");)m=m.parent();u=m}n.abort||(this.set("componentHovered",u,n),this.trigger(i,u,n))}},s.prototype.getHovered=function(){return this.get("componentHovered")},s.prototype.setComponents=function(e,n){return n===void 0&&(n={}),this.Components.setComponents(e,n)},s.prototype.getComponents=function(){var e=this.Components,n=this.CodeManager;if(e&&n){var i=e.getComponents();return n.getCode(i,"json")}},s.prototype.setStyle=function(e,n){n===void 0&&(n={});var i=this.Css;return i.clear(n),i.getAll().add(e,n),this},s.prototype.addStyle=function(e,n){n===void 0&&(n={});var i=this.getStyle().add(e,n);return(0,k.isArray)(i)?i:[i]},s.prototype.getStyle=function(){return this.Css.getAll()},s.prototype.setState=function(e){return this.set("state",e),this},s.prototype.getState=function(){return this.get("state")||""},s.prototype.getHtml=function(e){e===void 0&&(e={});var n=this.config,i=n.optsHtml,u=n.jsInHtml?this.getJs(e):"",m=e.component||this.Components.getComponent();return(m?this.CodeManager.getCode(m,"html",Is(Is({},i),e)):"")+(u?"<script>".concat(u,"<\/script>"):"")},s.prototype.getCss=function(e){e===void 0&&(e={});var n=this.config,i=n.optsCss,u=e.avoidProtected,m=(0,k.isUndefined)(e.keepUnusedStyles)?n.keepUnusedStyles:e.keepUnusedStyles,O=this.Css,P=e.component||this.Components.getComponent(),L=u?"":n.protectedCss,A=P&&this.CodeManager.getCode(P,"css",Is(Is({cssc:O,keepUnusedStyles:m},i),e));return P?e.json?A:L+A:""},s.prototype.getJs=function(e){e===void 0&&(e={});var n=e.component||this.Components.getWrapper();return n?this.CodeManager.getCode(n,"js").trim():""},s.prototype.store=function(e){return Wh(this,void 0,void 0,function(){var n;return $h(this,function(i){switch(i.label){case 0:return n=this.storeData(),[4,this.Storage.store(n,e)];case 1:return i.sent(),this.clearDirtyCount(),[2,n]}})})},s.prototype.load=function(e){return Wh(this,void 0,void 0,function(){var n;return $h(this,function(i){switch(i.label){case 0:return[4,this.Storage.load(e)];case 1:return n=i.sent(),this.loadData(n),[2,n]}})})},s.prototype.storeData=function(){var e={},n=this.getEditing();return n&&n.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(i){e=Is(Is({},e),i.store(1))}),JSON.parse(JSON.stringify(e))},s.prototype.loadData=function(e){return e===void 0&&(e={}),(0,H.isEmptyObj)(e)||(this.storables.forEach(function(n){return n.clear()}),this.storables.forEach(function(n){return n.load(e)})),e},s.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},s.prototype.runDefault=function(e){e===void 0&&(e={});var n=this.get("Commands").get(this.config.defaultCommand);n&&!this.defaultRunning&&(n.stop(this,this,e),n.run(this,this,e),this.defaultRunning=!0)},s.prototype.stopDefault=function(e){e===void 0&&(e={});var n=this.get("Commands").get(this.config.defaultCommand);n&&this.defaultRunning&&(n.stop(this,this,e),this.defaultRunning=!1)},s.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.set("canvasOffset",null),this.set("canvasOffset",this.Canvas.getOffset()),e.tools&&this.trigger("canvas:updateTools")},s.prototype.clearSelection=function(e){var n;(n=(e||window).getSelection())===null||n===void 0||n.removeAllRanges()},s.prototype.getCurrentMedia=function(){var e=this.config,n=this.getDeviceModel(),i=e.mediaCondition,u=e.devicePreviewMode,m=n&&n.get("widthMedia");return n&&m&&!u?"(".concat(i,": ").concat(m,")"):""},s.prototype.getWrapper=function(){return this.Components.getWrapper()},s.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},s.prototype.getCurrentFrame=function(){return this.get("currentFrame")},s.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},s.prototype.getIcon=function(e){return(this.config.icons||{})[e]||""},s.prototype.getDirtyCount=function(){return this.get("changesCount")},s.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},s.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},s.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},s.prototype.setDragMode=function(e){return this.set("dmode",e)},s.prototype.getDragMode=function(e){return(e==null?void 0:e.getDragMode())||this.get("dmode")||""},s.prototype.t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.get("I18n");return i==null?void 0:i.t.apply(i,e)},s.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},s.prototype.destroyAll=function(){var e=this,n=this.config,i=this.view,u=this.getEditor(),m=(n.grapesjs||{}).editors,O=m===void 0?[]:m,P=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),P==null||P.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(L){return L.destroy()}),i&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(L){return e[L]={}}),O.splice(O.indexOf(u),1),(0,H.hasWin)()&&(0,I.default)(n.el).empty().attr(this.attrsOrig)},s.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},s.prototype.setEditing=function(e){return this.set("editing",e),this},s.prototype.isEditing=function(){return!!this.get("editing")},s.prototype.log=function(e,n){n===void 0&&(n={});var i=n.ns,u=n.level,m=u===void 0?"debug":u;if(this.trigger("log",e,n),m&&this.trigger("log:".concat(m),e,n),i){var O="log-".concat(i);this.trigger(O,e,n),m&&this.trigger("".concat(O,":").concat(m),e,n)}},s.prototype.logInfo=function(e,n){this.log(e,Is(Is({},n),{level:"info"}))},s.prototype.logWarning=function(e,n){this.log(e,Is(Is({},n),{level:"warning"}))},s.prototype.logError=function(e,n){this.log(e,Is(Is({},n),{level:"error"}))},s.prototype.initBaseColorPicker=function(e,n){n===void 0&&(n={});var i=this.config,u=i.colorPicker,m=u===void 0?{}:u,O=i.el,P=i.stylePrefix;return(0,I.default)(e).spectrum(Is(Is({containerClassName:"".concat(P,"one-bg ").concat(P,"two-color"),appendTo:O||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},n),m))},s.prototype.skip=function(e){this.__skip=!0;var n=this.UndoManager;n?n.skip(e):e(),this.__skip=!1},s.prototype.data=function(e,n,i){var u="_gjs-data";if(e[u]||(e[u]={}),(0,k.isUndefined)(i))return e[u][n];e[u][n]=i},s}(N.Hn);const Ku=My;var Ly=function(){var h=function(s,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])},h(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=s}h(s,e),s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jy=function(h){function s(e){var n=h.call(this,{model:e})||this,i=e.attributes,u=i.Panels,m=i.UndoManager;return e.view=n,e.once("change:ready",function(){u.active(),u.disableButtons(),m.clear(),setTimeout(function(){e.trigger("load",e.get("Editor")),e.clearDirtyCount()})}),n}return Ly(s,h),s.prototype.render=function(){var e=this,n=this.$el,i=this.model,u=i.attributes,m=u.Panels,O=u.Canvas,P=i.config,L=i.modules,A=P.stylePrefix,ot=["".concat(A,"editor")];!P.customUI&&ot.push("".concat(A,"one-bg ").concat(A,"two-color"));var kt=(0,I.default)(P.el||"body ".concat(P.container));P.cssIcons&&(0,H.appendStyles)(P.cssIcons,{unique:!0,prepand:!0}),n.empty(),P.width&&kt.css("width",P.width),P.height&&kt.css("height",P.height),n.append(O.render()),n.append(m.render());var zt=i.get("shallow").get("Canvas").render();return zt.style.display="none",n.append(zt),n.attr("class",ot.join(" ")),kt.addClass("".concat(A,"editor-cont")).empty().append(n),L.forEach(function(Gt){return Gt.postRender&&Gt.postRender(e)}),this},s}(N.G7);const Gh=jy;var cd=function(){return cd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},cd.apply(this,arguments)},ud=function(h,s,e,n){return new(e||(e=Promise))(function(i,u){function m(L){try{P(n.next(L))}catch(A){u(A)}}function O(L){try{P(n.throw(L))}catch(A){u(A)}}function P(L){var A;L.done?i(L.value):(A=L.value,A instanceof e?A:new e(function(ot){ot(A)})).then(m,O)}P((n=n.apply(h,s||[])).next())})},ev=function(h,s){var e,n,i,u,m={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function O(P){return function(L){return function(A){if(e)throw new TypeError("Generator is already executing.");for(;u&&(u=0,A[0]&&(m=0)),m;)try{if(e=1,n&&(i=2&A[0]?n.return:A[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,A[1])).done)return i;switch(n=0,i&&(A=[2&A[0],i.value]),A[0]){case 0:case 1:i=A;break;case 4:return m.label++,{value:A[1],done:!1};case 5:m.label++,n=A[1],A=[0];continue;case 7:A=m.ops.pop(),m.trys.pop();continue;default:if(!((i=(i=m.trys).length>0&&i[i.length-1])||A[0]!==6&&A[0]!==2)){m=0;continue}if(A[0]===3&&(!i||A[1]>i[0]&&A[1]<i[3])){m.label=A[1];break}if(A[0]===6&&m.label<i[1]){m.label=i[1],i=A;break}if(i&&m.label<i[2]){m.label=i[2],m.ops.push(A);break}i[2]&&m.ops.pop(),m.trys.pop();continue}A=s.call(h,m)}catch(ot){A=[6,ot],n=0}finally{e=i=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([P,L])}}},fd=function(h,s,e){if(e||arguments.length===2)for(var n,i=0,u=s.length;i<u;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return h.concat(n||Array.prototype.slice.call(s))},Dy=function(){function h(s,e){var n;s===void 0&&(s={}),e===void 0&&(e={}),this.html=ft,this.config=cd(cd(cd({},ht),s),{pStylePrefix:(n=s.stylePrefix)!==null&&n!==void 0?n:ht.stylePrefix}),this.em=new Ku(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(h.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),h.prototype.getConfig=function(s){return this.em.getConfig(s)},h.prototype.getHtml=function(s){return this.em.getHtml(s)},h.prototype.getCss=function(s){return this.em.getCss(s)},h.prototype.getJs=function(s){return this.em.getJs(s)},h.prototype.getComponents=function(){return this.Components.getComponents()},h.prototype.getWrapper=function(){return this.Components.getWrapper()},h.prototype.setComponents=function(s,e){return e===void 0&&(e={}),this.em.setComponents(s,e),this},h.prototype.addComponents=function(s,e){return this.getWrapper().append(s,e)},h.prototype.getStyle=function(){return this.em.Css.getAll()},h.prototype.setStyle=function(s,e){return e===void 0&&(e={}),this.em.setStyle(s,e),this},h.prototype.addStyle=function(s,e){return e===void 0&&(e={}),this.em.addStyle(s,e)},h.prototype.getSelected=function(){return this.em.getSelected()},h.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},h.prototype.getSelectedToStyle=function(){var s=this.em.getSelected();if(s)return this.StyleManager.getModelToStyle(s)},h.prototype.select=function(s,e){return this.em.setSelected(s,e),this},h.prototype.selectAdd=function(s){return this.em.addSelected(s),this},h.prototype.selectRemove=function(s){return this.em.removeSelected(s),this},h.prototype.selectToggle=function(s){return this.em.toggleSelected(s),this},h.prototype.getEditing=function(){return this.em.getEditing()},h.prototype.setDevice=function(s){return this.em.set("device",s),this},h.prototype.getDevice=function(){return this.em.get("device")},h.prototype.runCommand=function(s,e){return e===void 0&&(e={}),this.Commands.run(s,e)},h.prototype.stopCommand=function(s,e){return e===void 0&&(e={}),this.Commands.stop(s,e)},h.prototype.store=function(s){return ud(this,void 0,void 0,function(){return ev(this,function(e){switch(e.label){case 0:return[4,this.em.store(s)];case 1:return[2,e.sent()]}})})},h.prototype.load=function(s){return ud(this,void 0,void 0,function(){return ev(this,function(e){switch(e.label){case 0:return[4,this.em.load(s)];case 1:return[2,e.sent()]}})})},h.prototype.getProjectData=function(){return this.em.storeData()},h.prototype.loadProjectData=function(s){return this.em.loadData(s)},h.prototype.storeData=function(){return this.em.storeData()},h.prototype.loadData=function(s){return this.em.loadData(s)},h.prototype.getContainer=function(){return this.config.el},h.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},h.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},h.prototype.refresh=function(s){this.em.refreshCanvas(s)},h.prototype.setCustomRte=function(s){this.RichTextEditor.customRte=s},h.prototype.setCustomParserCss=function(s){return this.Parser.getConfig().parserCss=s,this},h.prototype.setDragMode=function(s){return this.em.setDragMode(s),this},h.prototype.log=function(s,e){return e===void 0&&(e={}),this.em.log(s,e),this},h.prototype.t=function(){for(var s,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(s=this.em).t.apply(s,e)},h.prototype.on=function(s,e){return this.em.on(s,e),this},h.prototype.once=function(s,e){return this.em.once(s,e),this},h.prototype.off=function(s,e){return this.em.off(s,e),this},h.prototype.trigger=function(s){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.em.trigger.apply(this.em,fd([s],e,!0)),this},h.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},h.prototype.getEl=function(){var s;return(s=this.editorView)===null||s===void 0?void 0:s.el},h.prototype.getModel=function(){return this.em},h.prototype.render=function(){var s;return(s=this.editorView)===null||s===void 0||s.remove(),this.editorView=new Gh(this.em),this.editorView.render().el},h.prototype.onReady=function(s){this.em.get("ready")?s(this):this.em.on("load",s)},h}();const Iy=Dy;var rv=function(h,s){return(0,k.isString)(h)?function(e,n){var i=n.get(e);if(!i){var u=(0,H.getGlobal)()[e];i=(u==null?void 0:u.default)||u}return i}(h,s):h},nv=function(h,s){h.getModel().logWarning("Plugin ".concat(s," not found"),{context:"plugins",plugin:s})};const Ny=function(){function h(){this.plugins={}}return h.prototype.add=function(s,e){return this.get(s)||(this.plugins[s]=e,e)},h.prototype.get=function(s){return this.plugins[s]},h.prototype.getAll=function(){return this.plugins},h}();var Jd=function(){return Jd=Object.assign||function(h){for(var s,e=1,n=arguments.length;e<n;e++)for(var i in s=arguments[e])Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i]);return h},Jd.apply(this,arguments)};(function(){if((0,H.hasWin)()&&function(){for(var s,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length&&!(s=n[i][1].exec(e));i++);return!!s}()){var h=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(s){return s||(s=""),h.apply(document.implementation,[s])}}})();var qh=new Ny,sp=[],ov=function(h,s){var e=rv(h,qh);return function(n){e?e(n,s||{}):nv(n,h)}},iv={$:I.default,editors:sp,plugins:qh,usePlugin:ov,version:"0.21.3",init:function(h){h===void 0&&(h={});var s=h.headless,e=h.container;if(!e&&!s)throw new Error("'container' is required");var n=Jd(Jd({autorender:!0,plugins:[],pluginsOpts:{}},h),{grapesjs:this,el:s?void 0:(0,k.isElement)(e)?e:document.querySelector(e)}),i=new Iy(n,{$:I.default}),u=i.getModel();return n.plugins.forEach(function(m){var O=rv(m,qh),P=n.pluginsOpts[m]||{};O?O(i,P):nv(i,m)}),u.loadOnStart(),n.autorender&&!s&&i.render(),sp.push(i),i}};const Fy=iv})(),st})())}},Oe={};function Re(Kt){var ut=Oe[Kt];if(ut!==void 0)return ut.exports;var Ct=Oe[Kt]={exports:{}};return Pe[Kt].call(Ct.exports,Ct,Ct.exports,Re),Ct.exports}Re.n=Kt=>{var ut=Kt&&Kt.__esModule?()=>Kt.default:()=>Kt;return Re.d(ut,{a:ut}),ut},Re.d=(Kt,ut)=>{for(var Ct in ut)Re.o(ut,Ct)&&!Re.o(Kt,Ct)&&Object.defineProperty(Kt,Ct,{enumerable:!0,get:ut[Ct]})},Re.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Re.o=(Kt,ut)=>Object.prototype.hasOwnProperty.call(Kt,ut),Re.r=Kt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Kt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Kt,"__esModule",{value:!0})};var le={};return(()=>{function Kt(B,V){(V==null||V>B.length)&&(V=B.length);for(var I=0,N=new Array(V);I<V;I++)N[I]=B[I];return N}function ut(B){return function(V){if(Array.isArray(V))return Kt(V)}(B)||function(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(B)||function(V,I){if(V){if(typeof V=="string")return Kt(V,I);var N=Object.prototype.toString.call(V).slice(8,-1);return N==="Object"&&V.constructor&&(N=V.constructor.name),N==="Map"||N==="Set"?Array.from(V):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Kt(V,I):void 0}}(B)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ct(B){return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},Ct(B)}function q(B){var V=function(I,N){if(Ct(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var R=W.call(I,N||"default");if(Ct(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(I)}(B,"string");return Ct(V)==="symbol"?V:String(V)}function yt(B,V,I){return(V=q(V))in B?Object.defineProperty(B,V,{value:I,enumerable:!0,configurable:!0,writable:!0}):B[V]=I,B}Re.r(le),Re.d(le,{default:()=>dt});var Y=Re(531);const st={"grapesjs-advance-components":{}};function k(B,V){var I=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!I){if(Array.isArray(B)||(I=function($,Q){if($){if(typeof $=="string")return H($,Q);var J=Object.prototype.toString.call($).slice(8,-1);if(J==="Object"&&$.constructor&&(J=$.constructor.name),J==="Map"||J==="Set")return Array.from($);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return H($,Q)}}(B))||V&&B&&typeof B.length=="number"){I&&(B=I);var N=0,W=function(){};return{s:W,n:function(){return N>=B.length?{done:!0}:{done:!1,value:B[N++]}},e:function($){throw $},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,F=!0,U=!1;return{s:function(){I=I.call(B)},n:function(){var $=I.next();return F=$.done,$},e:function($){U=!0,R=$},f:function(){try{F||I.return==null||I.return()}finally{if(U)throw R}}}}function H(B,V){(V==null||V>B.length)&&(V=B.length);for(var I=0,N=new Array(V);I<V;I++)N[I]=B[I];return N}function ft(B,V){var I=Object.keys(B);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(B);V&&(N=N.filter(function(W){return Object.getOwnPropertyDescriptor(B,W).enumerable})),I.push.apply(I,N)}return I}function ht(B){for(var V=1;V<arguments.length;V++){var I=arguments[V]!=null?arguments[V]:{};V%2?ft(Object(I),!0).forEach(function(N){yt(B,N,I[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(I)):ft(Object(I)).forEach(function(N){Object.defineProperty(B,N,Object.getOwnPropertyDescriptor(I,N))})}return B}const dt=Re.n(Y)().plugins.add("AdvancedComponents",function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=ht(ht({},{components:[{visible:!0,label:"Faq",name:"faq",category:"Text",type:"text",componentType:"faq"},{visible:!0,label:"Heading",name:"heading",category:"Text",type:"text",componentType:"heading"},{visible:!0,label:"Paragraph",name:"paragraph",category:"Text",type:"text",componentType:"paragraph"},{visible:!0,label:"List",name:"list",category:"Text",type:"list",componentType:"list"},{visible:!0,label:"Divider",name:"divider",category:"Custom",type:"divider",componentType:"divider"},{visible:!0,label:"Map",name:"map",category:"Custom",type:"map",componentType:"map"},{visible:!0,label:"Countdown",name:"countdown",category:"Custom",type:"countdown",componentType:"countdown"},{visible:!0,label:"Image",name:"image",category:"Media",type:"image",componentType:"image"},{visible:!0,label:"Video",name:"video",category:"Media",type:"video",componentType:"video"},{visible:!0,label:"Button",name:"button",category:"Custom",type:"button",componentType:"button"},{visible:!0,label:"Image Feature",name:"Image Feature",category:"Custom",type:"imageFeature",componentType:"imageFeature"},{visible:!0,label:"Tab",name:"tab",category:"Custom",type:"tab",componentType:"tab"},{visible:!0,label:"Form",name:"form",category:"Custom",type:"form",componentType:"form"},{visible:!0,label:"Checkout",name:"checkout",category:"Custom",type:"checkout",componentType:"checkout"},{visible:!0,label:"Slider",name:"slider",category:"Custom",type:"slider",componentType:"slider"},{visible:!0,label:"Header",name:"header",category:"Custom",type:"header",componentType:"header"},{visible:!0,label:"Footer",name:"footer",category:"Custom",type:"footer",componentType:"footer"},{visible:!0,label:"Quote",name:"quote",category:"Custom",type:"text",componentType:"quote"},{visible:!0,label:"Progress Bar",name:"Progress Bar",category:"Custom",type:"progress-bar",componentType:"progress-bar"},{visible:!0,label:"Link",name:"link",category:"Custom",type:"link",componentType:"link"},{visible:!0,label:"Icon",name:"icon",category:"Custom",type:"icon",componentType:"icon"},{visible:!0,label:"Checkbox",name:"Checkbox",category:"Form",type:"input",componentType:"inputElement",formElement:{type:"checkbox",name:"checkbox1",label:"Checkbox",placeholder:"Pick the correct option"}},{visible:!0,label:"Radio",name:"Radio",category:"Form",type:"input",componentType:"inputElement",formElement:{type:"radio",name:"radio1",label:"Radio",placeholder:"Pick the correct option"}},{visible:!0,label:"Input",name:"Input",category:"Form",type:"input",componentType:"inputElement",formElement:{type:"text",name:"input1",label:"Textfield",placeholder:"Enter your text..."}},{visible:!0,label:"Select",name:"Dropdown",category:"Form",type:"dropdown",componentType:"dropdown",formElement:{type:"text",name:"select1",label:"Dropdown",options:[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}]}},{visible:!0,label:"Textarea",name:"Textarea",category:"Form",type:"textarea",componentType:"textarea",formElement:{type:"text",name:"textarea",label:"Textarea",placeholder:"Enter your text..."}}],i18n:{}}),V);if(V.components){var N,W=k(I.components);try{var R=function(){var F=N.value,U=F.name;V.components.find(function($){return $.name===U})||V.components.push(F)};for(W.s();!(N=W.n()).done;)R()}catch(F){W.e(F)}finally{W.f()}}else V.components=ut(I.components);(function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=F.DomComponents,Q=$.getType("default").view;Array.isArray(U.components)&&U.components.forEach(function(J){switch((J==null?void 0:J.componentType)||"Text"){case"faq":$.addType("faq-block",{model:{defaults:{traits:[],script:function(){console.log("faq")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("faq"))return{type:J.name}},view:{}});break;case"heading":var Tt,et=(Tt=["h1","h2","h3","h4","h5","h6"])!==null&&Tt!==void 0&&Tt.includes(J==null?void 0:J.headingType)?J==null?void 0:J.headingType:"h1";$.addType("heading-".concat(et,"-block"),{model:{defaults:{traits:[],script:function(){console.log("heading block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("heading"))return{type:J.name}},view:{}});break;case"paragraph":$.addType("paragraph-block",{model:{defaults:{traits:[],script:function(){console.log("paragraph block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("paragraph"))return{type:J.name}},view:{}});break;case"list":$.addType("list-block",{model:{defaults:{traits:[],script:function(){console.log("list block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("list"))return{type:J.name}},view:{}});break;case"link":$.addType("link-block",{model:{defaults:{traits:[],script:function(){console.log("link block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("link"))return{type:J.name}},view:{}});break;case"image":$.addType("image-block",{model:{defaults:{traits:[],script:function(){console.log("image block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("image"))return{type:J.name}},view:{}});break;case"video":$.addType("video-block",{model:{defaults:{traits:[],script:function(){console.log("video block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("video"))return{type:J.name}},view:{}});break;case"divider":$.addType("divider-block",{model:{defaults:{traits:[],script:function(){console.log("divider block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("divider"))return{type:J.name}},view:{}});break;case"inputElement":var _t,G,Ft,$t=(_t=["color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week","checkbox"])!==null&&_t!==void 0&&_t.includes(J==null||(G=J.formElement)===null||G===void 0?void 0:G.type)?J==null||(Ft=J.formElement)===null||Ft===void 0?void 0:Ft.type:"text";$.addType("input-element-".concat($t,"-block"),{model:{defaults:{traits:[],script:function(){console.log("form Element block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("inputElement"))return{type:J.name}},view:{}});break;case"dropdown":$.addType("dropdown-block",{model:{defaults:{traits:[],script:function(){console.log("dropdown block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("dropdown"))return{type:J.name}},view:{}});break;case"textarea":$.addType("textarea-block",{model:{defaults:{traits:[],script:function(){console.log("textarea block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("textarea"))return{type:J.name}},view:{}});break;case"map":$.addType("map-block",{model:{defaults:{traits:[],script:function(){console.log("map block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("map"))return{type:J.name}},view:{}});break;case"progress-bar":$.addType("progress-bar-block",{model:{defaults:{traits:[{type:"text",name:"progressPercentage",label:"Progress Percentage",changeProp:1},{type:"color",name:"progressColor",label:"Progress Color",changeProp:1}]}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("progress-bar"))return{type:J.name}},view:Q.extend({init:function(Lt){var ve=Lt.model;this.listenTo(ve,"change:progressPercentage",this.updateScript),this.listenTo(ve,"change:progressColor",this.updateScript)}})});break;case"button":$.addType("button-block",{model:{defaults:{traits:[],script:function(){console.log("button block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("button"))return{type:J.name}},view:{}});break;case"slider":$.addType("slider-block",{model:{defaults:{traits:[],script:function(){console.log("slider block")}}},isComponent:function(Lt){if(Lt.className&&Lt.className.includes("slider"))return{type:J.name}},view:{}});break;default:return}})})(B,I),function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=F.BlockManager,Q=F.TraitManager;U.components.forEach(function(J){switch((J==null?void 0:J.componentType)||"Text"){case"faq":$.add("faq-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"text",content:`
          <style>
            .faq-section {
              font-family: Arial, sans-serif;
              border: 1px solid #ccc;
              padding: 10px;
              background-color: #f7f7f7;
            }
            .faq-question {
              font-weight: bold;
              color: #333;
              cursor: pointer;
              padding: 5px;
            }
            .faq-answer {
              display: none;
              padding: 10px;
            }
            .faq-item.open .faq-answer {
              display: block;
            }
          </style>
          <div class="faq-section">
            <div class="faq-item">
              <div class="faq-question">Question 1: What is [Company/Product/Service Name]?</div>
              <div class="faq-answer">[Answer goes here]</div>
            </div>
          </div>
        `}});break;case"heading":var Tt,et=(Tt=["h1","h2","h3","h4","h5","h6"])!==null&&Tt!==void 0&&Tt.includes(J==null?void 0:J.headingType)?J==null?void 0:J.headingType:"h1";$.add("heading-".concat(et,"-block"),{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{tagName:et,type:"text",content:"This ia a heading ".concat(et," block")}});break;case"paragraph":$.add("paragraph-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{tagName:"p",type:"text",content:`
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
        `}});break;case"list":$.add("list-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{tagName:"ul",type:"text",components:[{type:"text",tagName:"li",content:"List Item 1"},{type:"text",tagName:"li",content:"List Item 2"},{type:"text",tagName:"li",content:"List Item 3"},{type:"text",tagName:"li",content:"List Item 4"}]}});break;case"link":$.add("link-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"link",components:[{tagName:"a",content:"Link"}]}});break;case"image":$.add("image-block",{label:`
          <i class="fa fa-image"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"image",src:""}});break;case"video":$.add("video-block",{label:`
          <i class="fa fa-file-video-o"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"video",traits:[{label:"Video Url",type:"text",name:"src",changeProp:1},{label:"Title",type:"text",name:"title",changeProp:1}]}});break;case"divider":$.add("divider-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"divider",content:`<style>.dividerClass {
              height:1px;
              border-top:1px solid;
              border-bottom-width:0px;
              border-left-width:0px;
              border-right-width:0px;
            }</style><div name="divider" class="dividerClass"></div>`}});break;case"inputElement":var _t,G,Ft,$t=(_t=["color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week","checkbox"])!==null&&_t!==void 0&&_t.includes(J==null||(G=J.formElement)===null||G===void 0?void 0:G.type)?J==null||(Ft=J.formElement)===null||Ft===void 0?void 0:Ft.type:"text",Lt=(J==null?void 0:J.formElement)||{},ve=Lt.name,bt=Lt.placeholder,jt=Lt.label,Rt=Lt.id;$.add("input-element-".concat($t,"-block"),{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"text",content:`
            <div class="input-block">
              <label for="input-block-field">`.concat(jt||"Label :",`</label>
              <input id="input-block-field" type="`).concat($t,'" id="').concat(Rt||jt,'" name="').concat(ve||"",'" placeholder="').concat(bt||"Enter your text here",`">
            </div>
          `)}});break;case"dropdown":var Xt=J.formElement||{},Ht=Xt.label,It=Xt.id,St=Xt.name,Bt=Xt.placeholder,Me=Xt.options,pe=Me?Me.map(function(me){return'<option value="'.concat(me.value,'">').concat(me.label,"</option>")}).join(""):"";$.add("dropdown-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"text",content:`
                <div class="input-block">
                  <label for="input-block-field">`.concat(Ht||"Label :",`</label>
                  <select id="input-block-field" id="`).concat(It||Ht,'" name="').concat(St||"",'" placeholder="').concat(Bt||"Enter your text here",`">
                    `).concat(pe,`
                  </select>
                </div>
              `)}});break;case"textarea":var Ae=(J==null?void 0:J.formElement)||{},ir=Ae.name,Or=Ae.placeholder,Nr=Ae.label,Dr=Ae.id;$.add("textarea-block",{label:`
          <i class="fa fa-arrows-h"></i>
          <div class="gjs-block-label">
            `.concat(J.label,`
          </div> 
          `),category:J.category,content:{type:"text",content:`
            <div class="input-block">
              <label for="input-block-field">`.concat(Nr||"Label :",`</label>
              <textarea id="input-block-field" id="`).concat(Dr||Nr,'" name="').concat(ir||"",'" placeholder="').concat(Or||"Enter your text here",`"></textarea>
            </div>
          `)}});break;case"map":$.add("map-block",{label:`
        <i class="fa fa-arrows-h"></i>
        <div class="gjs-block-label">
          `.concat(J.label,`
        </div> 
        `),category:J.category,content:{type:"map",name:"Map"}});break;case"progress-bar":var Vr=`<style>
        .progressContainer {
          width: 100%;
          height: 70px;
          background-color: #ededed;
          overflow: hidden;
          position: relative;
          margin: 0px auto;
      }
      .progressInner {
          display: flex;
          align-items: center;
          padding: 0px 8px;
          height: 100%;
          text-wrap:nowrap;
          position: absolute;
      }</style>`;Q.addType("progressColor",{createInput:function(me){me.trait;var Le=document.createElement("div");return Le.innerHTML='<input type="color" name="progress_color"/></div>',Le},onEvent:function(me){me.elInput;var Le=me.component,lt=me.event,ue=Le.get("progressPercentage"),se=Le.get("progressColor"),nr="#000000";lt.target.value&&(nr=lt.target.value);var vr="".concat(Vr,`
            <div class="progressContainer">
              <div class="progressInner" style="width: `).concat(ue||65,"%; background-color: ").concat(nr||se||"#f1c40f",`;">
              </div>
            </div>
          `);console.log("process",vr),Le.view.el.querySelector(".progressInner").style["background-color"]=se||nr,Le.view.model.set("progressColor",nr),Le.set("content",vr)},onUpdate:function(me){me.elInput;var Le=me.component;Le.listenTo(Le,"change:progressPercentage",function(lt,ue){var se,nr;console.log("cmp",lt);var vr=lt.get("progressPercentage")||ue,Qe=lt.get("progressColor")||((se=lt.attributes)===null||se===void 0?void 0:se.progressColor)||((nr=lt.getTrait("progressColor"))===null||nr===void 0?void 0:nr.value),Ir="".concat(Vr,`
              <div class="progressContainer">
                <div class="progressInner" style="width: `).concat(vr||65,"%; background-color: ").concat(Qe||"#f1c40f",`;">
                </div>
              </div>
            `);lt.view.el.querySelector(".progressInner").style.width="".concat(vr,"%"),lt.set("content",Ir)})}}),$.add("progress-bar-block",{label:`
        <i class="fa fa-arrows-h"></i>
        <div class="gjs-block-label">
          `.concat(J.label,`
        </div> 
        `),category:J.category,content:{content:"".concat(Vr,`<div class="progressContainer">
          <div class="progressInner"
          style="width:65%;background-color:#f1c40f;"></div>
      </div>`),traits:[{type:"text",name:"progressPercentage",label:"Progress Percentage",changeProp:1},{type:"progressColor",name:"progressColor",label:"Progress Color",changeProp:1}]}});break;case"button":var Je=J.buttonElement||{},nt=Je.buttonText,Et=nt===void 0?"Click Here":nt,qt=Je.handleClick;console.log("handle",qt),$.add("button-block",{label:`
        <i class="fa fa-arrows-h"></i>
        <div class="gjs-block-label">
          `.concat(J.label,`
        </div> 
        `),category:J.category,content:{script:function(me){this.addEventListener("click",function(){console.log("clicked")})},tagName:"button",content:"".concat(Et)}});break;case"slider":$.add("slider-block",{label:`
        <i class="fa fa-arrows-h"></i>
        <div class="gjs-block-label">
          `.concat(J.label,`
        </div> 
        `),category:J.category,content:{type:"text",content:`
          <style>
          .content-slider {
            width: 100%;
            height: 360px;
          }
          .slider {
            height: 320px;
            width: 680px;
            margin: 40px auto 0;
            overflow: visible;
            position: relative;
          }
          .mask {
            overflow: hidden;
            height: 320px;
            width: 680px;
          }
          .slider ul {
            margin: 0;
            padding: 0;
            position: relative;
            width: 3400px; /* 680px * number of slides */
          }
          .slider li {
            width: 680px;
            height: 320px;
            position: absolute;
            left: 680px;
            list-style: none;
          }
          .slider .quote {
            font-size: 40px;
            font-style: italic;
          }
          .slider .source {
            font-size: 20px;
            text-align: right;
          }
          .slider li:hover {
            -webkit-animation-play-state: paused;
            animation-play-state: paused;}
          .slider ul:hover {
              -webkit-animation-play-state: paused;
              animation-play-state: paused;
          }
          .slider li.anim1 {
            -webkit-animation: cycle1 45s linear infinite;
            animation: cycle1 45s linear infinite;
          }
          .slider li.anim2 {
            -webkit-animation: cycle2 45s linear infinite;
            animation: cycle2 45s linear infinite;
          }
          .slider li.anim3 {
            -webkit-animation: cycle3 45s linear infinite;
            animation: cycle3 45s linear infinite;
          }
          .slider li.anim4 {
            -webkit-animation: cycle4 45s linear infinite;
            animation: cycle4 45s linear infinite;
          }
          .slider li.anim5 {
            -webkit-animation: cycle5 45s linear infinite;
            animation: cycle5 45s linear infinite;
          }
          @keyframes cycle1 {
            0%, 20% {
              left: 0px;
              opacity: 1;
            }
            24%, 100% {
              left: -680px;
              opacity: 0;
            }
          }
          @keyframes cycle2 {
            0%, 20% {
              left: 680px;
              opacity: 0;
            }
            24%, 40% {
              left: 0px;
              opacity: 1;
            }
            44%, 100% {
              left: -680px;
              opacity: 0;
            }
          }
          @keyframes cycle3 {
            0%, 40% {
              left: 680px;
              opacity: 0;
            }
            44%, 60% {
              left: 0px;
              opacity: 1;
            }
            64%, 100% {
              left: -680px;
              opacity: 0;
            }
          }
          @keyframes cycle4 {
            0%, 60% {
              left: 680px;
              opacity: 0;
            }
            64%, 80% {
              left: 0px;
              opacity: 1;
            }
            84%, 100% {
              left: -680px;
              opacity: 0;
            }
          }
          @keyframes cycle5 {
            0%, 80% {
              left: 680px;
              opacity: 0;
            }
            84%, 100% {
              left: 0px;
              opacity: 1;
            }
          }          
          </style>
          <div class="content-slider">
          <div class="slider">
            <div class="mask">
              <ul>
                <li class="anim1">
                <img src="" />
                  <div class="quote">This is another quote from another person.</div>
                  <div class="source">- Another Person</div>
                </li>
                <li class="anim2">
                  <div class="quote">This is another quote from another person.</div>
                  <div class="source">- Another Person</div>
                </li>
                <li class="anim3">
                  <div class="quote">Yet another quote from yet another person.</div>
                  <div class="source">- Yet Another Person</div>
                </li>
                <li class="anim4">
                  <div class="quote">This is a fourth quote from a fourth person.</div>
                  <div class="source">- Fourth Person</div>
                </li>
                <li class="anim5">
                  <div class="quote">This is a fifth quote from a fifth person.</div>
                  <div class="source">- Fifth Person</div>
                </li>
              </ul>
            </div>
          </div>
        </div>`}});default:return}})}(B,I),B.I18n&&B.I18n.addMessages(ht({en:st},I.i18n))})})(),le})())})(L0);var db=L0.exports;const kb=Tv(db);var j0={exports:{}};(function(wt,he){var Pe={};/*! grapesjs-parser-postcss - 1.0.3 */(function(Oe,Re){wt.exports=Re()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Ov,()=>(()=>{var Oe={241:ut=>{var Ct=String,q=function(){return{isColorSupported:!1,reset:Ct,bold:Ct,dim:Ct,italic:Ct,underline:Ct,inverse:Ct,hidden:Ct,strikethrough:Ct,black:Ct,red:Ct,green:Ct,yellow:Ct,blue:Ct,magenta:Ct,cyan:Ct,white:Ct,gray:Ct,bgBlack:Ct,bgRed:Ct,bgGreen:Ct,bgYellow:Ct,bgBlue:Ct,bgMagenta:Ct,bgCyan:Ct,bgWhite:Ct}};ut.exports=q(),ut.exports.createColors=q},353:(ut,Ct,q)=>{let yt=q(19);class Y extends yt{constructor(k){super(k),this.type="atrule"}append(...k){return this.proxyOf.nodes||(this.nodes=[]),super.append(...k)}prepend(...k){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...k)}}ut.exports=Y,Y.default=Y,yt.registerAtRule(Y)},932:(ut,Ct,q)=>{let yt=q(631);class Y extends yt{constructor(k){super(k),this.type="comment"}}ut.exports=Y,Y.default=Y},19:(ut,Ct,q)=>{let yt,Y,st,k,{isClean:H,my:ft}=q(513),ht=q(258),dt=q(932),B=q(631);function V(W){return W.map(R=>(R.nodes&&(R.nodes=V(R.nodes)),delete R.source,R))}function I(W){if(W[H]=!1,W.proxyOf.nodes)for(let R of W.proxyOf.nodes)I(R)}class N extends B{append(...R){for(let F of R){let U=this.normalize(F,this.last);for(let $ of U)this.proxyOf.nodes.push($)}return this.markDirty(),this}cleanRaws(R){if(super.cleanRaws(R),this.nodes)for(let F of this.nodes)F.cleanRaws(R)}each(R){if(!this.proxyOf.nodes)return;let F,U,$=this.getIterator();for(;this.indexes[$]<this.proxyOf.nodes.length&&(F=this.indexes[$],U=R(this.proxyOf.nodes[F],F),U!==!1);)this.indexes[$]+=1;return delete this.indexes[$],U}every(R){return this.nodes.every(R)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let R=this.lastEach;return this.indexes[R]=0,R}getProxyProcessor(){return{get:(R,F)=>F==="proxyOf"?R:R[F]?F==="each"||typeof F=="string"&&F.startsWith("walk")?(...U)=>R[F](...U.map($=>typeof $=="function"?(Q,J)=>$(Q.toProxy(),J):$)):F==="every"||F==="some"?U=>R[F](($,...Q)=>U($.toProxy(),...Q)):F==="root"?()=>R.root().toProxy():F==="nodes"?R.nodes.map(U=>U.toProxy()):F==="first"||F==="last"?R[F].toProxy():R[F]:R[F],set:(R,F,U)=>(R[F]===U||(R[F]=U,F!=="name"&&F!=="params"&&F!=="selector"||R.markDirty()),!0)}}index(R){return typeof R=="number"?R:(R.proxyOf&&(R=R.proxyOf),this.proxyOf.nodes.indexOf(R))}insertAfter(R,F){let U,$=this.index(R),Q=this.normalize(F,this.proxyOf.nodes[$]).reverse();$=this.index(R);for(let J of Q)this.proxyOf.nodes.splice($+1,0,J);for(let J in this.indexes)U=this.indexes[J],$<U&&(this.indexes[J]=U+Q.length);return this.markDirty(),this}insertBefore(R,F){let U,$=this.index(R),Q=$===0&&"prepend",J=this.normalize(F,this.proxyOf.nodes[$],Q).reverse();$=this.index(R);for(let Tt of J)this.proxyOf.nodes.splice($,0,Tt);for(let Tt in this.indexes)U=this.indexes[Tt],$<=U&&(this.indexes[Tt]=U+J.length);return this.markDirty(),this}normalize(R,F){if(typeof R=="string")R=V(yt(R).nodes);else if(Array.isArray(R)){R=R.slice(0);for(let U of R)U.parent&&U.parent.removeChild(U,"ignore")}else if(R.type==="root"&&this.type!=="document"){R=R.nodes.slice(0);for(let U of R)U.parent&&U.parent.removeChild(U,"ignore")}else if(R.type)R=[R];else if(R.prop){if(R.value===void 0)throw new Error("Value field is missed in node creation");typeof R.value!="string"&&(R.value=String(R.value)),R=[new ht(R)]}else if(R.selector)R=[new Y(R)];else if(R.name)R=[new st(R)];else{if(!R.text)throw new Error("Unknown node type in node creation");R=[new dt(R)]}return R.map(U=>(U[ft]||N.rebuild(U),(U=U.proxyOf).parent&&U.parent.removeChild(U),U[H]&&I(U),U.raws.before===void 0&&F&&F.raws.before!==void 0&&(U.raws.before=F.raws.before.replace(/\S/g,"")),U.parent=this.proxyOf,U))}prepend(...R){R=R.reverse();for(let F of R){let U=this.normalize(F,this.first,"prepend").reverse();for(let $ of U)this.proxyOf.nodes.unshift($);for(let $ in this.indexes)this.indexes[$]=this.indexes[$]+U.length}return this.markDirty(),this}push(R){return R.parent=this,this.proxyOf.nodes.push(R),this}removeAll(){for(let R of this.proxyOf.nodes)R.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(R){let F;R=this.index(R),this.proxyOf.nodes[R].parent=void 0,this.proxyOf.nodes.splice(R,1);for(let U in this.indexes)F=this.indexes[U],F>=R&&(this.indexes[U]=F-1);return this.markDirty(),this}replaceValues(R,F,U){return U||(U=F,F={}),this.walkDecls($=>{F.props&&!F.props.includes($.prop)||F.fast&&!$.value.includes(F.fast)||($.value=$.value.replace(R,U))}),this.markDirty(),this}some(R){return this.nodes.some(R)}walk(R){return this.each((F,U)=>{let $;try{$=R(F,U)}catch(Q){throw F.addToError(Q)}return $!==!1&&F.walk&&($=F.walk(R)),$})}walkAtRules(R,F){return F?R instanceof RegExp?this.walk((U,$)=>{if(U.type==="atrule"&&R.test(U.name))return F(U,$)}):this.walk((U,$)=>{if(U.type==="atrule"&&U.name===R)return F(U,$)}):(F=R,this.walk((U,$)=>{if(U.type==="atrule")return F(U,$)}))}walkComments(R){return this.walk((F,U)=>{if(F.type==="comment")return R(F,U)})}walkDecls(R,F){return F?R instanceof RegExp?this.walk((U,$)=>{if(U.type==="decl"&&R.test(U.prop))return F(U,$)}):this.walk((U,$)=>{if(U.type==="decl"&&U.prop===R)return F(U,$)}):(F=R,this.walk((U,$)=>{if(U.type==="decl")return F(U,$)}))}walkRules(R,F){return F?R instanceof RegExp?this.walk((U,$)=>{if(U.type==="rule"&&R.test(U.selector))return F(U,$)}):this.walk((U,$)=>{if(U.type==="rule"&&U.selector===R)return F(U,$)}):(F=R,this.walk((U,$)=>{if(U.type==="rule")return F(U,$)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}N.registerParse=W=>{yt=W},N.registerRule=W=>{Y=W},N.registerAtRule=W=>{st=W},N.registerRoot=W=>{k=W},ut.exports=N,N.default=N,N.rebuild=W=>{W.type==="atrule"?Object.setPrototypeOf(W,st.prototype):W.type==="rule"?Object.setPrototypeOf(W,Y.prototype):W.type==="decl"?Object.setPrototypeOf(W,ht.prototype):W.type==="comment"?Object.setPrototypeOf(W,dt.prototype):W.type==="root"&&Object.setPrototypeOf(W,k.prototype),W[ft]=!0,W.nodes&&W.nodes.forEach(R=>{N.rebuild(R)})}},671:(ut,Ct,q)=>{let yt=q(241),Y=q(868);class st extends Error{constructor(H,ft,ht,dt,B,V){super(H),this.name="CssSyntaxError",this.reason=H,B&&(this.file=B),dt&&(this.source=dt),V&&(this.plugin=V),ft!==void 0&&ht!==void 0&&(typeof ft=="number"?(this.line=ft,this.column=ht):(this.line=ft.line,this.column=ft.column,this.endLine=ht.line,this.endColumn=ht.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,st)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(H){if(!this.source)return"";let ft=this.source;H==null&&(H=yt.isColorSupported),Y&&H&&(ft=Y(ft));let ht,dt,B=ft.split(/\r?\n/),V=Math.max(this.line-3,0),I=Math.min(this.line+2,B.length),N=String(I).length;if(H){let{bold:W,gray:R,red:F}=yt.createColors(!0);ht=U=>W(F(U)),dt=U=>R(U)}else ht=dt=W=>W;return B.slice(V,I).map((W,R)=>{let F=V+1+R,U=" "+(" "+F).slice(-N)+" | ";if(F===this.line){let $=dt(U.replace(/\d/g," "))+W.slice(0,this.column-1).replace(/[^\t]/g," ");return ht(">")+dt(U)+W+`
 `+$+ht("^")}return" "+dt(U)+W}).join(`
`)}toString(){let H=this.showSourceCode();return H&&(H=`

`+H+`
`),this.name+": "+this.message+H}}ut.exports=st,st.default=st},258:(ut,Ct,q)=>{let yt=q(631);class Y extends yt{constructor(k){k&&k.value!==void 0&&typeof k.value!="string"&&(k={...k,value:String(k.value)}),super(k),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}ut.exports=Y,Y.default=Y},461:(ut,Ct,q)=>{let yt,Y,st=q(19);class k extends st{constructor(ft){super({type:"document",...ft}),this.nodes||(this.nodes=[])}toResult(ft={}){return new yt(new Y,this,ft).stringify()}}k.registerLazyResult=H=>{yt=H},k.registerProcessor=H=>{Y=H},ut.exports=k,k.default=k},250:(ut,Ct,q)=>{let yt=q(258),Y=q(981),st=q(932),k=q(353),H=q(995),ft=q(25),ht=q(675);function dt(B,V){if(Array.isArray(B))return B.map(W=>dt(W));let{inputs:I,...N}=B;if(I){V=[];for(let W of I){let R={...W,__proto__:H.prototype};R.map&&(R.map={...R.map,__proto__:Y.prototype}),V.push(R)}}if(N.nodes&&(N.nodes=B.nodes.map(W=>dt(W,V))),N.source){let{inputId:W,...R}=N.source;N.source=R,W!=null&&(N.source.input=V[W])}if(N.type==="root")return new ft(N);if(N.type==="decl")return new yt(N);if(N.type==="rule")return new ht(N);if(N.type==="comment")return new st(N);if(N.type==="atrule")return new k(N);throw new Error("Unknown node type: "+B.type)}ut.exports=dt,dt.default=dt},995:(ut,Ct,q)=>{let{SourceMapConsumer:yt,SourceMapGenerator:Y}=q(209),{fileURLToPath:st,pathToFileURL:k}=q(414),{isAbsolute:H,resolve:ft}=q(830),{nanoid:ht}=q(961),dt=q(868),B=q(671),V=q(981),I=Symbol("fromOffsetCache"),N=!!(yt&&Y),W=!!(ft&&H);class R{constructor(U,$={}){if(U==null||typeof U=="object"&&!U.toString)throw new Error(`PostCSS received ${U} instead of CSS string`);if(this.css=U.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,$.from&&(!W||/^\w+:\/\//.test($.from)||H($.from)?this.file=$.from:this.file=ft($.from)),W&&N){let Q=new V(this.css,$);if(Q.text){this.map=Q;let J=Q.consumer().file;!this.file&&J&&(this.file=this.mapResolve(J))}}this.file||(this.id="<input css "+ht(6)+">"),this.map&&(this.map.file=this.from)}error(U,$,Q,J={}){let Tt,et,_t;if($&&typeof $=="object"){let Ft=$,$t=Q;if(typeof Ft.offset=="number"){let Lt=this.fromOffset(Ft.offset);$=Lt.line,Q=Lt.col}else $=Ft.line,Q=Ft.column;if(typeof $t.offset=="number"){let Lt=this.fromOffset($t.offset);et=Lt.line,_t=Lt.col}else et=$t.line,_t=$t.column}else if(!Q){let Ft=this.fromOffset($);$=Ft.line,Q=Ft.col}let G=this.origin($,Q,et,_t);return Tt=G?new B(U,G.endLine===void 0?G.line:{column:G.column,line:G.line},G.endLine===void 0?G.column:{column:G.endColumn,line:G.endLine},G.source,G.file,J.plugin):new B(U,et===void 0?$:{column:Q,line:$},et===void 0?Q:{column:_t,line:et},this.css,this.file,J.plugin),Tt.input={column:Q,endColumn:_t,endLine:et,line:$,source:this.css},this.file&&(k&&(Tt.input.url=k(this.file).toString()),Tt.input.file=this.file),Tt}fromOffset(U){let $,Q;if(this[I])Q=this[I];else{let Tt=this.css.split(`
`);Q=new Array(Tt.length);let et=0;for(let _t=0,G=Tt.length;_t<G;_t++)Q[_t]=et,et+=Tt[_t].length+1;this[I]=Q}$=Q[Q.length-1];let J=0;if(U>=$)J=Q.length-1;else{let Tt,et=Q.length-2;for(;J<et;)if(Tt=J+(et-J>>1),U<Q[Tt])et=Tt-1;else{if(!(U>=Q[Tt+1])){J=Tt;break}J=Tt+1}}return{col:U-Q[J]+1,line:J+1}}mapResolve(U){return/^\w+:\/\//.test(U)?U:ft(this.map.consumer().sourceRoot||this.map.root||".",U)}origin(U,$,Q,J){if(!this.map)return!1;let Tt,et,_t=this.map.consumer(),G=_t.originalPositionFor({column:$,line:U});if(!G.source)return!1;typeof Q=="number"&&(Tt=_t.originalPositionFor({column:J,line:Q})),et=H(G.source)?k(G.source):new URL(G.source,this.map.consumer().sourceRoot||k(this.map.mapFile));let Ft={column:G.column,endColumn:Tt&&Tt.column,endLine:Tt&&Tt.line,line:G.line,url:et.toString()};if(et.protocol==="file:"){if(!st)throw new Error("file: protocol is not available in this PostCSS build");Ft.file=st(et)}let $t=_t.sourceContentFor(G.source);return $t&&(Ft.source=$t),Ft}toJSON(){let U={};for(let $ of["hasBOM","css","file","id"])this[$]!=null&&(U[$]=this[$]);return this.map&&(U.map={...this.map},U.map.consumerCache&&(U.map.consumerCache=void 0)),U}get from(){return this.file||this.id}}ut.exports=R,R.default=R,dt&&dt.registerInput&&dt.registerInput(R)},939:(ut,Ct,q)=>{let{isClean:yt,my:Y}=q(513),st=q(505),k=q(88),H=q(19),ft=q(461),ht=(q(448),q(632)),dt=q(964),B=q(25);const V={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},I={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},N={Once:!0,postcssPlugin:!0,prepare:!0},W=0;function R(Tt){return typeof Tt=="object"&&typeof Tt.then=="function"}function F(Tt){let et=!1,_t=V[Tt.type];return Tt.type==="decl"?et=Tt.prop.toLowerCase():Tt.type==="atrule"&&(et=Tt.name.toLowerCase()),et&&Tt.append?[_t,_t+"-"+et,W,_t+"Exit",_t+"Exit-"+et]:et?[_t,_t+"-"+et,_t+"Exit",_t+"Exit-"+et]:Tt.append?[_t,W,_t+"Exit"]:[_t,_t+"Exit"]}function U(Tt){let et;return et=Tt.type==="document"?["Document",W,"DocumentExit"]:Tt.type==="root"?["Root",W,"RootExit"]:F(Tt),{eventIndex:0,events:et,iterator:0,node:Tt,visitorIndex:0,visitors:[]}}function $(Tt){return Tt[yt]=!1,Tt.nodes&&Tt.nodes.forEach(et=>$(et)),Tt}let Q={};class J{constructor(et,_t,G){let Ft;if(this.stringified=!1,this.processed=!1,typeof _t!="object"||_t===null||_t.type!=="root"&&_t.type!=="document")if(_t instanceof J||_t instanceof ht)Ft=$(_t.root),_t.map&&(G.map===void 0&&(G.map={}),G.map.inline||(G.map.inline=!1),G.map.prev=_t.map);else{let $t=dt;G.syntax&&($t=G.syntax.parse),G.parser&&($t=G.parser),$t.parse&&($t=$t.parse);try{Ft=$t(_t,G)}catch(Lt){this.processed=!0,this.error=Lt}Ft&&!Ft[Y]&&H.rebuild(Ft)}else Ft=$(_t);this.result=new ht(et,Ft,G),this.helpers={...Q,postcss:Q,result:this.result},this.plugins=this.processor.plugins.map($t=>typeof $t=="object"&&$t.prepare?{...$t,...$t.prepare(this.result)}:$t)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(et){return this.async().catch(et)}finally(et){return this.async().then(et,et)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(et,_t){let G=this.result.lastPlugin;try{_t&&_t.addToError(et),this.error=et,et.name!=="CssSyntaxError"||et.plugin?G.postcssVersion:(et.plugin=G.postcssPlugin,et.setMessage())}catch(Ft){console&&console.error&&console.error(Ft)}return et}prepareVisitors(){this.listeners={};let et=(_t,G,Ft)=>{this.listeners[G]||(this.listeners[G]=[]),this.listeners[G].push([_t,Ft])};for(let _t of this.plugins)if(typeof _t=="object")for(let G in _t){if(!I[G]&&/^[A-Z]/.test(G))throw new Error(`Unknown event ${G} in ${_t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!N[G])if(typeof _t[G]=="object")for(let Ft in _t[G])et(_t,Ft==="*"?G:G+"-"+Ft.toLowerCase(),_t[G][Ft]);else typeof _t[G]=="function"&&et(_t,G,_t[G])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let et=0;et<this.plugins.length;et++){let _t=this.plugins[et],G=this.runOnRoot(_t);if(R(G))try{await G}catch(Ft){throw this.handleError(Ft)}}if(this.prepareVisitors(),this.hasListener){let et=this.result.root;for(;!et[yt];){et[yt]=!0;let _t=[U(et)];for(;_t.length>0;){let G=this.visitTick(_t);if(R(G))try{await G}catch(Ft){let $t=_t[_t.length-1].node;throw this.handleError(Ft,$t)}}}if(this.listeners.OnceExit)for(let[_t,G]of this.listeners.OnceExit){this.result.lastPlugin=_t;try{if(et.type==="document"){let Ft=et.nodes.map($t=>G($t,this.helpers));await Promise.all(Ft)}else await G(et,this.helpers)}catch(Ft){throw this.handleError(Ft)}}}return this.processed=!0,this.stringify()}runOnRoot(et){this.result.lastPlugin=et;try{if(typeof et=="object"&&et.Once){if(this.result.root.type==="document"){let _t=this.result.root.nodes.map(G=>et.Once(G,this.helpers));return R(_t[0])?Promise.all(_t):_t}return et.Once(this.result.root,this.helpers)}if(typeof et=="function")return et(this.result.root,this.result)}catch(_t){throw this.handleError(_t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let et=this.result.opts,_t=k;et.syntax&&(_t=et.syntax.stringify),et.stringifier&&(_t=et.stringifier),_t.stringify&&(_t=_t.stringify);let G=new st(_t,this.result.root,this.result.opts).generate();return this.result.css=G[0],this.result.map=G[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let et of this.plugins)if(R(this.runOnRoot(et)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let et=this.result.root;for(;!et[yt];)et[yt]=!0,this.walkSync(et);if(this.listeners.OnceExit)if(et.type==="document")for(let _t of et.nodes)this.visitSync(this.listeners.OnceExit,_t);else this.visitSync(this.listeners.OnceExit,et)}return this.result}then(et,_t){return this.async().then(et,_t)}toString(){return this.css}visitSync(et,_t){for(let[G,Ft]of et){let $t;this.result.lastPlugin=G;try{$t=Ft(_t,this.helpers)}catch(Lt){throw this.handleError(Lt,_t.proxyOf)}if(_t.type!=="root"&&_t.type!=="document"&&!_t.parent)return!0;if(R($t))throw this.getAsyncError()}}visitTick(et){let _t=et[et.length-1],{node:G,visitors:Ft}=_t;if(G.type!=="root"&&G.type!=="document"&&!G.parent)return void et.pop();if(Ft.length>0&&_t.visitorIndex<Ft.length){let[Lt,ve]=Ft[_t.visitorIndex];_t.visitorIndex+=1,_t.visitorIndex===Ft.length&&(_t.visitors=[],_t.visitorIndex=0),this.result.lastPlugin=Lt;try{return ve(G.toProxy(),this.helpers)}catch(bt){throw this.handleError(bt,G)}}if(_t.iterator!==0){let Lt,ve=_t.iterator;for(;Lt=G.nodes[G.indexes[ve]];)if(G.indexes[ve]+=1,!Lt[yt])return Lt[yt]=!0,void et.push(U(Lt));_t.iterator=0,delete G.indexes[ve]}let $t=_t.events;for(;_t.eventIndex<$t.length;){let Lt=$t[_t.eventIndex];if(_t.eventIndex+=1,Lt===W)return void(G.nodes&&G.nodes.length&&(G[yt]=!0,_t.iterator=G.getIterator()));if(this.listeners[Lt])return void(_t.visitors=this.listeners[Lt])}et.pop()}walkSync(et){et[yt]=!0;let _t=F(et);for(let G of _t)if(G===W)et.nodes&&et.each(Ft=>{Ft[yt]||this.walkSync(Ft)});else{let Ft=this.listeners[G];if(Ft&&this.visitSync(Ft,et.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}J.registerPostcss=Tt=>{Q=Tt},ut.exports=J,J.default=J,B.registerLazyResult(J),ft.registerLazyResult(J)},715:ut=>{let Ct={comma:q=>Ct.split(q,[","],!0),space:q=>Ct.split(q,[" ",`
`,"	"]),split(q,yt,Y){let st=[],k="",H=!1,ft=0,ht=!1,dt="",B=!1;for(let V of q)B?B=!1:V==="\\"?B=!0:ht?V===dt&&(ht=!1):V==='"'||V==="'"?(ht=!0,dt=V):V==="("?ft+=1:V===")"?ft>0&&(ft-=1):ft===0&&yt.includes(V)&&(H=!0),H?(k!==""&&st.push(k.trim()),k="",H=!1):k+=V;return(Y||k!=="")&&st.push(k.trim()),st}};ut.exports=Ct,Ct.default=Ct},505:(ut,Ct,q)=>{let{SourceMapConsumer:yt,SourceMapGenerator:Y}=q(209),{dirname:st,relative:k,resolve:H,sep:ft}=q(830),{pathToFileURL:ht}=q(414),dt=q(995),B=!!(yt&&Y),V=!!(st&&H&&k&&ft);ut.exports=class{constructor(I,N,W,R){this.stringify=I,this.mapOpts=W.map||{},this.root=N,this.opts=W,this.css=R,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let I;I=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let N=`
`;this.css.includes(`\r
`)&&(N=`\r
`),this.css+=N+"/*# sourceMappingURL="+I+" */"}applyPrevMaps(){for(let I of this.previous()){let N,W=this.toUrl(this.path(I.file)),R=I.root||st(I.file);this.mapOpts.sourcesContent===!1?(N=new yt(I.text),N.sourcesContent&&(N.sourcesContent=N.sourcesContent.map(()=>null))):N=I.consumer(),this.map.applySourceMap(N,W,this.toUrl(this.path(R)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let I;for(let N=this.root.nodes.length-1;N>=0;N--)I=this.root.nodes[N],I.type==="comment"&&I.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(N)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),V&&B&&this.isMap())return this.generateMap();{let I="";return this.stringify(this.root,N=>{I+=N}),[I]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let I=this.previous()[0].consumer();I.file=this.outputFile(),this.map=Y.fromSourceMap(I)}else this.map=new Y({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Y({file:this.outputFile()});let I,N,W=1,R=1,F="<no source>",U={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,($,Q,J)=>{if(this.css+=$,Q&&J!=="end"&&(U.generated.line=W,U.generated.column=R-1,Q.source&&Q.source.start?(U.source=this.sourcePath(Q),U.original.line=Q.source.start.line,U.original.column=Q.source.start.column-1,this.map.addMapping(U)):(U.source=F,U.original.line=1,U.original.column=0,this.map.addMapping(U))),I=$.match(/\n/g),I?(W+=I.length,N=$.lastIndexOf(`
`),R=$.length-N):R+=$.length,Q&&J!=="start"){let Tt=Q.parent||{raws:{}};(Q.type==="decl"||Q.type==="atrule"&&!Q.nodes)&&Q===Tt.last&&!Tt.raws.semicolon||(Q.source&&Q.source.end?(U.source=this.sourcePath(Q),U.original.line=Q.source.end.line,U.original.column=Q.source.end.column-1,U.generated.line=W,U.generated.column=R-2,this.map.addMapping(U)):(U.source=F,U.original.line=1,U.original.column=0,U.generated.line=W,U.generated.column=R-1,this.map.addMapping(U)))}})}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some(I=>I.annotation))}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let I=this.mapOpts.annotation;return(I===void 0||I===!0)&&(!this.previous().length||this.previous().some(N=>N.inline))}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(I=>I.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(I){if(this.mapOpts.absolute||I.charCodeAt(0)===60||/^\w+:\/\//.test(I))return I;let N=this.memoizedPaths.get(I);if(N)return N;let W=this.opts.to?st(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(W=st(H(W,this.mapOpts.annotation)));let R=k(W,I);return this.memoizedPaths.set(I,R),R}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(I=>{if(I.source&&I.source.input.map){let N=I.source.input.map;this.previousMaps.includes(N)||this.previousMaps.push(N)}});else{let I=new dt(this.css,this.opts);I.map&&this.previousMaps.push(I.map)}return this.previousMaps}setSourcesContent(){let I={};if(this.root)this.root.walk(N=>{if(N.source){let W=N.source.input.from;if(W&&!I[W]){I[W]=!0;let R=this.usesFileUrls?this.toFileUrl(W):this.toUrl(this.path(W));this.map.setSourceContent(R,N.source.input.css)}}});else if(this.css){let N=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(N,this.css)}}sourcePath(I){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(I.source.input.from):this.toUrl(this.path(I.source.input.from))}toBase64(I){return Buffer?Buffer.from(I).toString("base64"):window.btoa(unescape(encodeURIComponent(I)))}toFileUrl(I){let N=this.memoizedFileURLs.get(I);if(N)return N;if(ht){let W=ht(I).toString();return this.memoizedFileURLs.set(I,W),W}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(I){let N=this.memoizedURLs.get(I);if(N)return N;ft==="\\"&&(I=I.replace(/\\/g,"/"));let W=encodeURI(I).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(I,W),W}}},647:(ut,Ct,q)=>{let yt=q(505),Y=q(88),st=(q(448),q(964));const k=q(632);class H{constructor(ht,dt,B){let V;dt=dt.toString(),this.stringified=!1,this._processor=ht,this._css=dt,this._opts=B,this._map=void 0;let I=Y;this.result=new k(this._processor,V,this._opts),this.result.css=dt;let N=this;Object.defineProperty(this.result,"root",{get:()=>N.root});let W=new yt(I,V,this._opts,dt);if(W.isMap()){let[R,F]=W.generate();R&&(this.result.css=R),F&&(this.result.map=F)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(ht){return this.async().catch(ht)}finally(ht){return this.async().then(ht,ht)}sync(){if(this.error)throw this.error;return this.result}then(ht,dt){return this.async().then(ht,dt)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let ht,dt=st;try{ht=dt(this._css,this._opts)}catch(B){this.error=B}if(this.error)throw this.error;return this._root=ht,ht}get[Symbol.toStringTag](){return"NoWorkResult"}}ut.exports=H,H.default=H},631:(ut,Ct,q)=>{let{isClean:yt,my:Y}=q(513),st=q(671),k=q(62),H=q(88);function ft(dt,B){let V=new dt.constructor;for(let I in dt){if(!Object.prototype.hasOwnProperty.call(dt,I)||I==="proxyCache")continue;let N=dt[I],W=typeof N;I==="parent"&&W==="object"?B&&(V[I]=B):I==="source"?V[I]=N:Array.isArray(N)?V[I]=N.map(R=>ft(R,V)):(W==="object"&&N!==null&&(N=ft(N)),V[I]=N)}return V}class ht{constructor(B={}){this.raws={},this[yt]=!1,this[Y]=!0;for(let V in B)if(V==="nodes"){this.nodes=[];for(let I of B[V])typeof I.clone=="function"?this.append(I.clone()):this.append(I)}else this[V]=B[V]}addToError(B){if(B.postcssNode=this,B.stack&&this.source&&/\n\s{4}at /.test(B.stack)){let V=this.source;B.stack=B.stack.replace(/\n\s{4}at /,`$&${V.input.from}:${V.start.line}:${V.start.column}$&`)}return B}after(B){return this.parent.insertAfter(this,B),this}assign(B={}){for(let V in B)this[V]=B[V];return this}before(B){return this.parent.insertBefore(this,B),this}cleanRaws(B){delete this.raws.before,delete this.raws.after,B||delete this.raws.between}clone(B={}){let V=ft(this);for(let I in B)V[I]=B[I];return V}cloneAfter(B={}){let V=this.clone(B);return this.parent.insertAfter(this,V),V}cloneBefore(B={}){let V=this.clone(B);return this.parent.insertBefore(this,V),V}error(B,V={}){if(this.source){let{end:I,start:N}=this.rangeBy(V);return this.source.input.error(B,{column:N.column,line:N.line},{column:I.column,line:I.line},V)}return new st(B)}getProxyProcessor(){return{get:(B,V)=>V==="proxyOf"?B:V==="root"?()=>B.root().toProxy():B[V],set:(B,V,I)=>(B[V]===I||(B[V]=I,V!=="prop"&&V!=="value"&&V!=="name"&&V!=="params"&&V!=="important"&&V!=="text"||B.markDirty()),!0)}}markDirty(){if(this[yt]){this[yt]=!1;let B=this;for(;B=B.parent;)B[yt]=!1}}next(){if(!this.parent)return;let B=this.parent.index(this);return this.parent.nodes[B+1]}positionBy(B,V){let I=this.source.start;if(B.index)I=this.positionInside(B.index,V);else if(B.word){let N=(V=this.toString()).indexOf(B.word);N!==-1&&(I=this.positionInside(N,V))}return I}positionInside(B,V){let I=V||this.toString(),N=this.source.start.column,W=this.source.start.line;for(let R=0;R<B;R++)I[R]===`
`?(N=1,W+=1):N+=1;return{column:N,line:W}}prev(){if(!this.parent)return;let B=this.parent.index(this);return this.parent.nodes[B-1]}rangeBy(B){let V={column:this.source.start.column,line:this.source.start.line},I=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:V.column+1,line:V.line};if(B.word){let N=this.toString(),W=N.indexOf(B.word);W!==-1&&(V=this.positionInside(W,N),I=this.positionInside(W+B.word.length,N))}else B.start?V={column:B.start.column,line:B.start.line}:B.index&&(V=this.positionInside(B.index)),B.end?I={column:B.end.column,line:B.end.line}:B.endIndex?I=this.positionInside(B.endIndex):B.index&&(I=this.positionInside(B.index+1));return(I.line<V.line||I.line===V.line&&I.column<=V.column)&&(I={column:V.column+1,line:V.line}),{end:I,start:V}}raw(B,V){return new k().raw(this,B,V)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...B){if(this.parent){let V=this,I=!1;for(let N of B)N===this?I=!0:I?(this.parent.insertAfter(V,N),V=N):this.parent.insertBefore(V,N);I||this.remove()}return this}root(){let B=this;for(;B.parent&&B.parent.type!=="document";)B=B.parent;return B}toJSON(B,V){let I={},N=V==null;V=V||new Map;let W=0;for(let R in this){if(!Object.prototype.hasOwnProperty.call(this,R)||R==="parent"||R==="proxyCache")continue;let F=this[R];if(Array.isArray(F))I[R]=F.map(U=>typeof U=="object"&&U.toJSON?U.toJSON(null,V):U);else if(typeof F=="object"&&F.toJSON)I[R]=F.toJSON(null,V);else if(R==="source"){let U=V.get(F.input);U==null&&(U=W,V.set(F.input,W),W++),I[R]={end:F.end,inputId:U,start:F.start}}else I[R]=F}return N&&(I.inputs=[...V.keys()].map(R=>R.toJSON())),I}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(B=H){B.stringify&&(B=B.stringify);let V="";return B(this,I=>{V+=I}),V}warn(B,V,I){let N={node:this};for(let W in I)N[W]=I[W];return B.warn(V,N)}get proxyOf(){return this}}ut.exports=ht,ht.default=ht},964:(ut,Ct,q)=>{let yt=q(19),Y=q(867),st=q(995);function k(H,ft){let ht=new st(H,ft),dt=new Y(ht);try{dt.parse()}catch(B){throw B}return dt.root}ut.exports=k,k.default=k,yt.registerParse(k)},867:(ut,Ct,q)=>{let yt=q(258),Y=q(852),st=q(932),k=q(353),H=q(25),ft=q(675);const ht={empty:!0,space:!0};ut.exports=class{constructor(dt){this.input=dt,this.root=new H,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:dt,start:{column:1,line:1,offset:0}}}atrule(dt){let B,V,I,N=new k;N.name=dt[1].slice(1),N.name===""&&this.unnamedAtrule(N,dt),this.init(N,dt[2]);let W=!1,R=!1,F=[],U=[];for(;!this.tokenizer.endOfFile();){if(B=(dt=this.tokenizer.nextToken())[0],B==="("||B==="["?U.push(B==="("?")":"]"):B==="{"&&U.length>0?U.push("}"):B===U[U.length-1]&&U.pop(),U.length===0){if(B===";"){N.source.end=this.getPosition(dt[2]),N.source.end.offset++,this.semicolon=!0;break}if(B==="{"){R=!0;break}if(B==="}"){if(F.length>0){for(I=F.length-1,V=F[I];V&&V[0]==="space";)V=F[--I];V&&(N.source.end=this.getPosition(V[3]||V[2]),N.source.end.offset++)}this.end(dt);break}F.push(dt)}else F.push(dt);if(this.tokenizer.endOfFile()){W=!0;break}}N.raws.between=this.spacesAndCommentsFromEnd(F),F.length?(N.raws.afterName=this.spacesAndCommentsFromStart(F),this.raw(N,"params",F),W&&(dt=F[F.length-1],N.source.end=this.getPosition(dt[3]||dt[2]),N.source.end.offset++,this.spaces=N.raws.between,N.raws.between="")):(N.raws.afterName="",N.params=""),R&&(N.nodes=[],this.current=N)}checkMissedSemicolon(dt){let B=this.colon(dt);if(B===!1)return;let V,I=0;for(let N=B-1;N>=0&&(V=dt[N],V[0]==="space"||(I+=1,I!==2));N--);throw this.input.error("Missed semicolon",V[0]==="word"?V[3]+1:V[2])}colon(dt){let B,V,I,N=0;for(let[W,R]of dt.entries()){if(B=R,V=B[0],V==="("&&(N+=1),V===")"&&(N-=1),N===0&&V===":"){if(I){if(I[0]==="word"&&I[1]==="progid")continue;return W}this.doubleColon(B)}I=B}return!1}comment(dt){let B=new st;this.init(B,dt[2]),B.source.end=this.getPosition(dt[3]||dt[2]),B.source.end.offset++;let V=dt[1].slice(2,-2);if(/^\s*$/.test(V))B.text="",B.raws.left=V,B.raws.right="";else{let I=V.match(/^(\s*)([^]*\S)(\s*)$/);B.text=I[2],B.raws.left=I[1],B.raws.right=I[3]}}createTokenizer(){this.tokenizer=Y(this.input)}decl(dt,B){let V=new yt;this.init(V,dt[0][2]);let I,N=dt[dt.length-1];for(N[0]===";"&&(this.semicolon=!0,dt.pop()),V.source.end=this.getPosition(N[3]||N[2]||function(F){for(let U=F.length-1;U>=0;U--){let $=F[U],Q=$[3]||$[2];if(Q)return Q}}(dt)),V.source.end.offset++;dt[0][0]!=="word";)dt.length===1&&this.unknownWord(dt),V.raws.before+=dt.shift()[1];for(V.source.start=this.getPosition(dt[0][2]),V.prop="";dt.length;){let F=dt[0][0];if(F===":"||F==="space"||F==="comment")break;V.prop+=dt.shift()[1]}for(V.raws.between="";dt.length;){if(I=dt.shift(),I[0]===":"){V.raws.between+=I[1];break}I[0]==="word"&&/\w/.test(I[1])&&this.unknownWord([I]),V.raws.between+=I[1]}V.prop[0]!=="_"&&V.prop[0]!=="*"||(V.raws.before+=V.prop[0],V.prop=V.prop.slice(1));let W,R=[];for(;dt.length&&(W=dt[0][0],W==="space"||W==="comment");)R.push(dt.shift());this.precheckMissedSemicolon(dt);for(let F=dt.length-1;F>=0;F--){if(I=dt[F],I[1].toLowerCase()==="!important"){V.important=!0;let U=this.stringFrom(dt,F);U=this.spacesFromEnd(dt)+U,U!==" !important"&&(V.raws.important=U);break}if(I[1].toLowerCase()==="important"){let U=dt.slice(0),$="";for(let Q=F;Q>0;Q--){let J=U[Q][0];if($.trim().indexOf("!")===0&&J!=="space")break;$=U.pop()[1]+$}$.trim().indexOf("!")===0&&(V.important=!0,V.raws.important=$,dt=U)}if(I[0]!=="space"&&I[0]!=="comment")break}dt.some(F=>F[0]!=="space"&&F[0]!=="comment")&&(V.raws.between+=R.map(F=>F[1]).join(""),R=[]),this.raw(V,"value",R.concat(dt),B),V.value.includes(":")&&!B&&this.checkMissedSemicolon(dt)}doubleColon(dt){throw this.input.error("Double colon",{offset:dt[2]},{offset:dt[2]+dt[1].length})}emptyRule(dt){let B=new ft;this.init(B,dt[2]),B.selector="",B.raws.between="",this.current=B}end(dt){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(dt[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(dt)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(dt){if(this.spaces+=dt[1],this.current.nodes){let B=this.current.nodes[this.current.nodes.length-1];B&&B.type==="rule"&&!B.raws.ownSemicolon&&(B.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(dt){let B=this.input.fromOffset(dt);return{column:B.col,line:B.line,offset:dt}}init(dt,B){this.current.push(dt),dt.source={input:this.input,start:this.getPosition(B)},dt.raws.before=this.spaces,this.spaces="",dt.type!=="comment"&&(this.semicolon=!1)}other(dt){let B=!1,V=null,I=!1,N=null,W=[],R=dt[1].startsWith("--"),F=[],U=dt;for(;U;){if(V=U[0],F.push(U),V==="("||V==="[")N||(N=U),W.push(V==="("?")":"]");else if(R&&I&&V==="{")N||(N=U),W.push("}");else if(W.length===0){if(V===";"){if(I)return void this.decl(F,R);break}if(V==="{")return void this.rule(F);if(V==="}"){this.tokenizer.back(F.pop()),B=!0;break}V===":"&&(I=!0)}else V===W[W.length-1]&&(W.pop(),W.length===0&&(N=null));U=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(B=!0),W.length>0&&this.unclosedBracket(N),B&&I){if(!R)for(;F.length&&(U=F[F.length-1][0],U==="space"||U==="comment");)this.tokenizer.back(F.pop());this.decl(F,R)}else this.unknownWord(F)}parse(){let dt;for(;!this.tokenizer.endOfFile();)switch(dt=this.tokenizer.nextToken(),dt[0]){case"space":this.spaces+=dt[1];break;case";":this.freeSemicolon(dt);break;case"}":this.end(dt);break;case"comment":this.comment(dt);break;case"at-word":this.atrule(dt);break;case"{":this.emptyRule(dt);break;default:this.other(dt)}this.endFile()}precheckMissedSemicolon(){}raw(dt,B,V,I){let N,W,R,F,U=V.length,$="",Q=!0;for(let J=0;J<U;J+=1)N=V[J],W=N[0],W!=="space"||J!==U-1||I?W==="comment"?(F=V[J-1]?V[J-1][0]:"empty",R=V[J+1]?V[J+1][0]:"empty",ht[F]||ht[R]||$.slice(-1)===","?Q=!1:$+=N[1]):$+=N[1]:Q=!1;if(!Q){let J=V.reduce((Tt,et)=>Tt+et[1],"");dt.raws[B]={raw:J,value:$}}dt[B]=$}rule(dt){dt.pop();let B=new ft;this.init(B,dt[0][2]),B.raws.between=this.spacesAndCommentsFromEnd(dt),this.raw(B,"selector",dt),this.current=B}spacesAndCommentsFromEnd(dt){let B,V="";for(;dt.length&&(B=dt[dt.length-1][0],B==="space"||B==="comment");)V=dt.pop()[1]+V;return V}spacesAndCommentsFromStart(dt){let B,V="";for(;dt.length&&(B=dt[0][0],B==="space"||B==="comment");)V+=dt.shift()[1];return V}spacesFromEnd(dt){let B,V="";for(;dt.length&&(B=dt[dt.length-1][0],B==="space");)V=dt.pop()[1]+V;return V}stringFrom(dt,B){let V="";for(let I=B;I<dt.length;I++)V+=dt[I][1];return dt.splice(B,dt.length-B),V}unclosedBlock(){let dt=this.current.source.start;throw this.input.error("Unclosed block",dt.line,dt.column)}unclosedBracket(dt){throw this.input.error("Unclosed bracket",{offset:dt[2]},{offset:dt[2]+1})}unexpectedClose(dt){throw this.input.error("Unexpected }",{offset:dt[2]},{offset:dt[2]+1})}unknownWord(dt){throw this.input.error("Unknown word",{offset:dt[0][2]},{offset:dt[0][2]+dt[0][1].length})}unnamedAtrule(dt,B){throw this.input.error("At-rule without name",{offset:B[2]},{offset:B[2]+B[1].length})}}},20:(ut,Ct,q)=>{let yt=q(671),Y=q(258),st=q(939),k=q(19),H=q(723),ft=q(88),ht=q(250),dt=q(461),B=q(728),V=q(932),I=q(353),N=q(632),W=q(995),R=q(964),F=q(715),U=q(675),$=q(25),Q=q(631);function J(...Tt){return Tt.length===1&&Array.isArray(Tt[0])&&(Tt=Tt[0]),new H(Tt)}J.plugin=function(Tt,et){let _t,G=!1;function Ft(...$t){console&&console.warn&&!G&&(G=!0,console.warn(Tt+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Pe.LANG&&Pe.LANG.startsWith("cn")&&console.warn(Tt+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let Lt=et(...$t);return Lt.postcssPlugin=Tt,Lt.postcssVersion=new H().version,Lt}return Object.defineProperty(Ft,"postcss",{get:()=>(_t||(_t=Ft()),_t)}),Ft.process=function($t,Lt,ve){return J([Ft(ve)]).process($t,Lt)},Ft},J.stringify=ft,J.parse=R,J.fromJSON=ht,J.list=F,J.comment=Tt=>new V(Tt),J.atRule=Tt=>new I(Tt),J.decl=Tt=>new Y(Tt),J.rule=Tt=>new U(Tt),J.root=Tt=>new $(Tt),J.document=Tt=>new dt(Tt),J.CssSyntaxError=yt,J.Declaration=Y,J.Container=k,J.Processor=H,J.Document=dt,J.Comment=V,J.Warning=B,J.AtRule=I,J.Result=N,J.Input=W,J.Rule=U,J.Root=$,J.Node=Q,st.registerPostcss(J),ut.exports=J,J.default=J},981:(ut,Ct,q)=>{let{SourceMapConsumer:yt,SourceMapGenerator:Y}=q(209),{existsSync:st,readFileSync:k}=q(777),{dirname:H,join:ft}=q(830);class ht{constructor(B,V){if(V.map===!1)return;this.loadAnnotation(B),this.inline=this.startWith(this.annotation,"data:");let I=V.map?V.map.prev:void 0,N=this.loadMap(V.from,I);!this.mapFile&&V.from&&(this.mapFile=V.from),this.mapFile&&(this.root=H(this.mapFile)),N&&(this.text=N)}consumer(){return this.consumerCache||(this.consumerCache=new yt(this.text)),this.consumerCache}decodeInline(B){if(/^data:application\/json;charset=utf-?8,/.test(B)||/^data:application\/json,/.test(B))return decodeURIComponent(B.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(B)||/^data:application\/json;base64,/.test(B))return V=B.substr(RegExp.lastMatch.length),Buffer?Buffer.from(V,"base64").toString():window.atob(V);var V;let I=B.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+I)}getAnnotationURL(B){return B.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(B){return typeof B=="object"&&(typeof B.mappings=="string"||typeof B._mappings=="string"||Array.isArray(B.sections))}loadAnnotation(B){let V=B.match(/\/\*\s*# sourceMappingURL=/gm);if(!V)return;let I=B.lastIndexOf(V.pop()),N=B.indexOf("*/",I);I>-1&&N>-1&&(this.annotation=this.getAnnotationURL(B.substring(I,N)))}loadFile(B){if(this.root=H(B),st(B))return this.mapFile=B,k(B,"utf-8").toString().trim()}loadMap(B,V){if(V===!1)return!1;if(V){if(typeof V=="string")return V;if(typeof V!="function"){if(V instanceof yt)return Y.fromSourceMap(V).toString();if(V instanceof Y)return V.toString();if(this.isMap(V))return JSON.stringify(V);throw new Error("Unsupported previous source map format: "+V.toString())}{let I=V(B);if(I){let N=this.loadFile(I);if(!N)throw new Error("Unable to load previous source map: "+I.toString());return N}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let I=this.annotation;return B&&(I=ft(H(B),I)),this.loadFile(I)}}}startWith(B,V){return!!B&&B.substr(0,V.length)===V}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}ut.exports=ht,ht.default=ht},723:(ut,Ct,q)=>{let yt=q(647),Y=q(939),st=q(461),k=q(25);class H{constructor(ht=[]){this.version="8.4.31",this.plugins=this.normalize(ht)}normalize(ht){let dt=[];for(let B of ht)if(B.postcss===!0?B=B():B.postcss&&(B=B.postcss),typeof B=="object"&&Array.isArray(B.plugins))dt=dt.concat(B.plugins);else if(typeof B=="object"&&B.postcssPlugin)dt.push(B);else if(typeof B=="function")dt.push(B);else if(typeof B!="object"||!B.parse&&!B.stringify)throw new Error(B+" is not a PostCSS plugin");return dt}process(ht,dt={}){return this.plugins.length===0&&dt.parser===void 0&&dt.stringifier===void 0&&dt.syntax===void 0?new yt(this,ht,dt):new Y(this,ht,dt)}use(ht){return this.plugins=this.plugins.concat(this.normalize([ht])),this}}ut.exports=H,H.default=H,k.registerProcessor(H),st.registerProcessor(H)},632:(ut,Ct,q)=>{let yt=q(728);class Y{constructor(k,H,ft){this.processor=k,this.messages=[],this.root=H,this.opts=ft,this.css=void 0,this.map=void 0}toString(){return this.css}warn(k,H={}){H.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(H.plugin=this.lastPlugin.postcssPlugin);let ft=new yt(k,H);return this.messages.push(ft),ft}warnings(){return this.messages.filter(k=>k.type==="warning")}get content(){return this.css}}ut.exports=Y,Y.default=Y},25:(ut,Ct,q)=>{let yt,Y,st=q(19);class k extends st{constructor(ft){super(ft),this.type="root",this.nodes||(this.nodes=[])}normalize(ft,ht,dt){let B=super.normalize(ft);if(ht){if(dt==="prepend")this.nodes.length>1?ht.raws.before=this.nodes[1].raws.before:delete ht.raws.before;else if(this.first!==ht)for(let V of B)V.raws.before=ht.raws.before}return B}removeChild(ft,ht){let dt=this.index(ft);return!ht&&dt===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[dt].raws.before),super.removeChild(ft)}toResult(ft={}){return new yt(new Y,this,ft).stringify()}}k.registerLazyResult=H=>{yt=H},k.registerProcessor=H=>{Y=H},ut.exports=k,k.default=k,st.registerRoot(k)},675:(ut,Ct,q)=>{let yt=q(19),Y=q(715);class st extends yt{constructor(H){super(H),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Y.comma(this.selector)}set selectors(H){let ft=this.selector?this.selector.match(/,\s*/):null,ht=ft?ft[0]:","+this.raw("between","beforeOpen");this.selector=H.join(ht)}}ut.exports=st,st.default=st,yt.registerRule(st)},62:ut=>{const Ct={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class q{constructor(Y){this.builder=Y}atrule(Y,st){let k="@"+Y.name,H=Y.params?this.rawValue(Y,"params"):"";if(Y.raws.afterName!==void 0?k+=Y.raws.afterName:H&&(k+=" "),Y.nodes)this.block(Y,k+H);else{let ft=(Y.raws.between||"")+(st?";":"");this.builder(k+H+ft,Y)}}beforeAfter(Y,st){let k;k=Y.type==="decl"?this.raw(Y,null,"beforeDecl"):Y.type==="comment"?this.raw(Y,null,"beforeComment"):st==="before"?this.raw(Y,null,"beforeRule"):this.raw(Y,null,"beforeClose");let H=Y.parent,ft=0;for(;H&&H.type!=="root";)ft+=1,H=H.parent;if(k.includes(`
`)){let ht=this.raw(Y,null,"indent");if(ht.length)for(let dt=0;dt<ft;dt++)k+=ht}return k}block(Y,st){let k,H=this.raw(Y,"between","beforeOpen");this.builder(st+H+"{",Y,"start"),Y.nodes&&Y.nodes.length?(this.body(Y),k=this.raw(Y,"after")):k=this.raw(Y,"after","emptyBody"),k&&this.builder(k),this.builder("}",Y,"end")}body(Y){let st=Y.nodes.length-1;for(;st>0&&Y.nodes[st].type==="comment";)st-=1;let k=this.raw(Y,"semicolon");for(let H=0;H<Y.nodes.length;H++){let ft=Y.nodes[H],ht=this.raw(ft,"before");ht&&this.builder(ht),this.stringify(ft,st!==H||k)}}comment(Y){let st=this.raw(Y,"left","commentLeft"),k=this.raw(Y,"right","commentRight");this.builder("/*"+st+Y.text+k+"*/",Y)}decl(Y,st){let k=this.raw(Y,"between","colon"),H=Y.prop+k+this.rawValue(Y,"value");Y.important&&(H+=Y.raws.important||" !important"),st&&(H+=";"),this.builder(H,Y)}document(Y){this.body(Y)}raw(Y,st,k){let H;if(k||(k=st),st&&(H=Y.raws[st],H!==void 0))return H;let ft=Y.parent;if(k==="before"&&(!ft||ft.type==="root"&&ft.first===Y||ft&&ft.type==="document"))return"";if(!ft)return Ct[k];let ht=Y.root();if(ht.rawCache||(ht.rawCache={}),ht.rawCache[k]!==void 0)return ht.rawCache[k];if(k==="before"||k==="after")return this.beforeAfter(Y,k);{let B="raw"+((dt=k)[0].toUpperCase()+dt.slice(1));this[B]?H=this[B](ht,Y):ht.walk(V=>{if(H=V.raws[st],H!==void 0)return!1})}var dt;return H===void 0&&(H=Ct[k]),ht.rawCache[k]=H,H}rawBeforeClose(Y){let st;return Y.walk(k=>{if(k.nodes&&k.nodes.length>0&&k.raws.after!==void 0)return st=k.raws.after,st.includes(`
`)&&(st=st.replace(/[^\n]+$/,"")),!1}),st&&(st=st.replace(/\S/g,"")),st}rawBeforeComment(Y,st){let k;return Y.walkComments(H=>{if(H.raws.before!==void 0)return k=H.raws.before,k.includes(`
`)&&(k=k.replace(/[^\n]+$/,"")),!1}),k===void 0?k=this.raw(st,null,"beforeDecl"):k&&(k=k.replace(/\S/g,"")),k}rawBeforeDecl(Y,st){let k;return Y.walkDecls(H=>{if(H.raws.before!==void 0)return k=H.raws.before,k.includes(`
`)&&(k=k.replace(/[^\n]+$/,"")),!1}),k===void 0?k=this.raw(st,null,"beforeRule"):k&&(k=k.replace(/\S/g,"")),k}rawBeforeOpen(Y){let st;return Y.walk(k=>{if(k.type!=="decl"&&(st=k.raws.between,st!==void 0))return!1}),st}rawBeforeRule(Y){let st;return Y.walk(k=>{if(k.nodes&&(k.parent!==Y||Y.first!==k)&&k.raws.before!==void 0)return st=k.raws.before,st.includes(`
`)&&(st=st.replace(/[^\n]+$/,"")),!1}),st&&(st=st.replace(/\S/g,"")),st}rawColon(Y){let st;return Y.walkDecls(k=>{if(k.raws.between!==void 0)return st=k.raws.between.replace(/[^\s:]/g,""),!1}),st}rawEmptyBody(Y){let st;return Y.walk(k=>{if(k.nodes&&k.nodes.length===0&&(st=k.raws.after,st!==void 0))return!1}),st}rawIndent(Y){if(Y.raws.indent)return Y.raws.indent;let st;return Y.walk(k=>{let H=k.parent;if(H&&H!==Y&&H.parent&&H.parent===Y&&k.raws.before!==void 0){let ft=k.raws.before.split(`
`);return st=ft[ft.length-1],st=st.replace(/\S/g,""),!1}}),st}rawSemicolon(Y){let st;return Y.walk(k=>{if(k.nodes&&k.nodes.length&&k.last.type==="decl"&&(st=k.raws.semicolon,st!==void 0))return!1}),st}rawValue(Y,st){let k=Y[st],H=Y.raws[st];return H&&H.value===k?H.raw:k}root(Y){this.body(Y),Y.raws.after&&this.builder(Y.raws.after)}rule(Y){this.block(Y,this.rawValue(Y,"selector")),Y.raws.ownSemicolon&&this.builder(Y.raws.ownSemicolon,Y,"end")}stringify(Y,st){if(!this[Y.type])throw new Error("Unknown AST node type "+Y.type+". Maybe you need to change PostCSS stringifier.");this[Y.type](Y,st)}}ut.exports=q,q.default=q},88:(ut,Ct,q)=>{let yt=q(62);function Y(st,k){new yt(k).stringify(st)}ut.exports=Y,Y.default=Y},513:ut=>{ut.exports.isClean=Symbol("isClean"),ut.exports.my=Symbol("my")},852:ut=>{const Q=/[\t\n\f\r "#'()/;[\\\]{}]/g,J=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Tt=/.[\r\n"'(/\\]/,et=/[\da-f]/i;ut.exports=function(_t,G={}){let Ft,$t,Lt,ve,bt,jt,Rt,Xt,Ht,It,St=_t.css.valueOf(),Bt=G.ignoreErrors,Me=St.length,pe=0,Ae=[],ir=[];function Or(Nr){throw _t.error("Unclosed "+Nr,pe)}return{back:function(Nr){ir.push(Nr)},endOfFile:function(){return ir.length===0&&pe>=Me},nextToken:function(Nr){if(ir.length)return ir.pop();if(pe>=Me)return;let Dr=!!Nr&&Nr.ignoreUnclosed;switch(Ft=St.charCodeAt(pe),Ft){case 10:case 32:case 9:case 13:case 12:$t=pe;do $t+=1,Ft=St.charCodeAt($t);while(Ft===32||Ft===10||Ft===9||Ft===13||Ft===12);It=["space",St.slice(pe,$t)],pe=$t-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let Vr=String.fromCharCode(Ft);It=[Vr,Vr,pe];break}case 40:if(Xt=Ae.length?Ae.pop()[1]:"",Ht=St.charCodeAt(pe+1),Xt==="url"&&Ht!==39&&Ht!==34&&Ht!==32&&Ht!==10&&Ht!==9&&Ht!==12&&Ht!==13){$t=pe;do{if(jt=!1,$t=St.indexOf(")",$t+1),$t===-1){if(Bt||Dr){$t=pe;break}Or("bracket")}for(Rt=$t;St.charCodeAt(Rt-1)===92;)Rt-=1,jt=!jt}while(jt);It=["brackets",St.slice(pe,$t+1),pe,$t],pe=$t}else $t=St.indexOf(")",pe+1),ve=St.slice(pe,$t+1),$t===-1||Tt.test(ve)?It=["(","(",pe]:(It=["brackets",ve,pe,$t],pe=$t);break;case 39:case 34:Lt=Ft===39?"'":'"',$t=pe;do{if(jt=!1,$t=St.indexOf(Lt,$t+1),$t===-1){if(Bt||Dr){$t=pe+1;break}Or("string")}for(Rt=$t;St.charCodeAt(Rt-1)===92;)Rt-=1,jt=!jt}while(jt);It=["string",St.slice(pe,$t+1),pe,$t],pe=$t;break;case 64:Q.lastIndex=pe+1,Q.test(St),$t=Q.lastIndex===0?St.length-1:Q.lastIndex-2,It=["at-word",St.slice(pe,$t+1),pe,$t],pe=$t;break;case 92:for($t=pe,bt=!0;St.charCodeAt($t+1)===92;)$t+=1,bt=!bt;if(Ft=St.charCodeAt($t+1),bt&&Ft!==47&&Ft!==32&&Ft!==10&&Ft!==9&&Ft!==13&&Ft!==12&&($t+=1,et.test(St.charAt($t)))){for(;et.test(St.charAt($t+1));)$t+=1;St.charCodeAt($t+1)===32&&($t+=1)}It=["word",St.slice(pe,$t+1),pe,$t],pe=$t;break;default:Ft===47&&St.charCodeAt(pe+1)===42?($t=St.indexOf("*/",pe+2)+1,$t===0&&(Bt||Dr?$t=St.length:Or("comment")),It=["comment",St.slice(pe,$t+1),pe,$t],pe=$t):(J.lastIndex=pe+1,J.test(St),$t=J.lastIndex===0?St.length-1:J.lastIndex-2,It=["word",St.slice(pe,$t+1),pe,$t],Ae.push(It),pe=$t)}return pe++,It},position:function(){return pe}}}},448:ut=>{let Ct={};ut.exports=function(q){Ct[q]||(Ct[q]=!0,typeof console<"u"&&console.warn&&console.warn(q))}},728:ut=>{class Ct{constructor(yt,Y={}){if(this.type="warning",this.text=yt,Y.node&&Y.node.source){let st=Y.node.rangeBy(Y);this.line=st.start.line,this.column=st.start.column,this.endLine=st.end.line,this.endColumn=st.end.column}for(let st in Y)this[st]=Y[st]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}ut.exports=Ct,Ct.default=Ct},868:()=>{},777:()=>{},830:()=>{},209:()=>{},414:()=>{},961:ut=>{let Ct="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";ut.exports={nanoid:(q=21)=>{let yt="",Y=q;for(;Y--;)yt+=Ct[64*Math.random()|0];return yt},customAlphabet:(q,yt=21)=>(Y=yt)=>{let st="",k=Y;for(;k--;)st+=q[Math.random()*q.length|0];return st}}}},Re={};function le(ut){var Ct=Re[ut];if(Ct!==void 0)return Ct.exports;var q=Re[ut]={exports:{}};return Oe[ut](q,q.exports,le),q.exports}le.d=(ut,Ct)=>{for(var q in Ct)le.o(Ct,q)&&!le.o(ut,q)&&Object.defineProperty(ut,q,{enumerable:!0,get:Ct[q]})},le.o=(ut,Ct)=>Object.prototype.hasOwnProperty.call(ut,Ct),le.r=ut=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ut,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ut,"__esModule",{value:!0})};var Kt={};return(()=>{le.r(Kt),le.d(Kt,{default:()=>k});var ut=le(20);const Ct=ut;ut.stringify,ut.fromJSON,ut.plugin,ut.parse,ut.list,ut.document,ut.comment,ut.atRule,ut.rule,ut.decl,ut.root,ut.CssSyntaxError,ut.Declaration,ut.Container,ut.Processor,ut.Document,ut.Comment,ut.Warning,ut.AtRule,ut.Result,ut.Input,ut.Rule,ut.Root,ut.Node;var q=function(){return q=Object.assign||function(H){for(var ft,ht=1,dt=arguments.length;ht<dt;ht++)for(var B in ft=arguments[ht])Object.prototype.hasOwnProperty.call(ft,B)&&(H[B]=ft[B]);return H},q.apply(this,arguments)},yt=function(H,ft){return H&&H.log(ft,{ns:"parser-poscss"})},Y=function(H){var ft=H.nodes||[],ht={};return ft.forEach(function(dt){var B=dt.prop,V=dt.value,I=dt.important;ht[B]=V+(I?" !important":"")}),{selectors:H.selector||"",style:ht}};const st=function(H,ft){var ht=[];yt(ft,["Input CSS",H]);var dt=Ct().process(H).sync().root;return yt(ft,["PostCSS AST",dt]),dt.nodes.forEach(function(B){switch(B.type){case"rule":ht.push(Y(B));break;case"atrule":(function(V,I){var N=V.name,W=V.params;["media","keyframes"].indexOf(N)>=0?V.nodes.forEach(function(R){I.push(q(q({},Y(R)),{atRule:N,params:W}))}):I.push(q(q({},Y(V)),{atRule:N}))})(B,ht)}}),yt(ft,["Output",ht]),ht},k=function(H){H.setCustomParserCss(st)}})(),Kt})())})(j0);var hb=j0.exports;const Ab=Tv(hb);var u0={};Object.defineProperty(u0,"__esModule",{value:!0});var gb=u0.default=void 0,l0={placeholder:"例子. 输入文字"},vb={assetManager:{addButton:"添加图片",inputPlh:"http://path/to/the/image.jpg",modalTitle:"选择图片",uploadTitle:"点击或者拖拽图片上传"},domComponents:{names:{"":"Box",wrapper:"Body",text:"文字",comment:"评论",image:"图片",video:"视频",label:"文本",link:"超链接",map:"地图",tfoot:"表格末尾",tbody:"表格主体",thead:"表头",table:"表格",row:"行",cell:"单元格"}},deviceManager:{device:"设备",devices:{desktop:"桌面",tablet:"平板",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"预览",fullscreen:"全屏","sw-visibility":"查看组件","export-template":"查看代码","open-sm":"打开样式管理器","open-tm":"设置","open-layers":"打开布局管理器","open-blocks":"打开块"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"设置样式前选择请一个元素",layer:"层级",fileButton:"图片",sectors:{general:"常规",layout:"布局",typography:"版式",decorations:"装饰",extra:"扩展",flex:"盒子模型",dimension:"尺寸"},properties:{}},traitManager:{empty:"用设置项前选择一个组件",label:"组件设置",traits:{attributes:{id:l0,alt:l0,title:l0,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"本窗口",_blank:"新窗口"}}}}};gb=u0.default=vb;const c0={attributes:{"Link Block":"链接块",Quote:"引用","Text section":"文本部分","1 Column":"一列","2 Columns":"两列","3 Columns":"三列","2 Columns 3/7":"两列 3/7",Text:"文本",Link:"链接",Image:"图片",Video:"视频",Map:"地图",Faq:"常见问题",Heading:"标题",Paragraph:"段落",List:"列表",Divider:"分隔线",Button:"按钮",Slider:"滑块","Progress Bar":"进度条",Checkbox:"复选框",Radio:"单选框",Input:"输入框",Select:"下拉框",Textarea:"文本区域"},changed:{Basic:"基础",Text:"文本",Custom:"自定义",Media:"媒体",Form:"表单"}},Mb=wt=>{wt.forEach(he=>{var Pe,Oe,Re,le,Kt,ut,Ct;if((Pe=he.attributes.label)!=null&&Pe.includes("gjs-block-label")){const q=(Oe=he.attributes.label)==null?void 0:Oe.match(/<div class="gjs-block-label">\s*(.*?)\s*<\/div>/);he.attributes.label=(Re=he.attributes.label)==null?void 0:Re.replace(new RegExp(q[1],"g"),c0.attributes[q[1]])}else he.attributes.label=c0.attributes[he.attributes.label]??he.attributes.label;(ut=(Kt=(le=he.changed)==null?void 0:le.category)==null?void 0:Kt.attributes)!=null&&ut.label&&(he.changed.category.attributes.label=((Ct=c0.changed)==null?void 0:Ct[he.changed.category.attributes.label])??he.changed.category.attributes.label)})},mb=`<body>
 <style type="text/css">
 * {

  margin: 0;
  padding: 0;
}

.flex-col {
  display: flex;
  flex-direction: column;
}
.flex-row {
  display: flex;
  flex-direction: row;
}

.justify-between {
  display: flex;
  justify-content: space-around;
}
.page {
  margin-bottom: 7.5rem;
}
.group_5 {

  width: 100%;

  background-image: linear-gradient(
    180deg,
    rgba(237, 244, 255, 1) 0,
    rgba(255, 255, 255, 1) 100%
  );
}

.block_4 {

  margin-top: 198px;
    margin-left: 11.25rem;
}

.box_10 {
  height: 5.494rem;
  margin-top: 1.92rem;
}

.text_36 {

  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Bold;
  font-weight: 700;

  white-space: nowrap;

}

.text_37 {
  width: 21.227rem;

    color: rgba(119, 119, 119, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;

    margin-top: 1rem;
}
.text-click {
  cursor: pointer;
}


.text_38 {
  background-color: rgba(32, 141, 255, 1);
  border-radius: 4px;

  margin-top: 2rem;
  overflow-wrap: break-word;
  color: rgba(255, 255, 255, 1);
  font-size: 1.125rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  white-space: nowrap;
  display: inline-block;
    width: 128px;
    padding: 10px;
    text-align: center;
}

.image_11 {
  width: 32.5rem;
  height: 32.5rem;
}




    </style>
     <div class="page flex-col">
      <div class="group_5 flex-col">
        <div class="block_4 flex-row justify-between">
          <div class="box_10 flex-col">
            <span class="text_36">有偿问卷在家远程办公也能</span>
            <span class="text_36">轻松赚钱</span>
            <span class="text_37">做完问卷即得奖励</span>



          </div>
         <img
         class="image_11"
         referrerpolicy="no-referrer"
         src=
         />
        </div>
      </div>
    </div>







</body>
`,yb=`<body>
 <style type="text/css">
  * {

    margin: 0;
    padding: 0;

  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .justify-between {
    display: flex;
    justify-content: space-between;
  }

.text-group-1 {
  padding-top: 4rem;
  margin-bottom: 4rem;
}


  .block_1 {
    width: 100%;
  }

  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }
  .box-5-margin {
    margin-bottom: 7.5rem;
  }

 .group_2 {
  display: flex;
  justify-content: center;
 }

  .text_7 {


    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.75rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }

  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
     width: 21.25rem;
    height: 23.75rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }
.box-margin {
  margin: 0 2rem;
}
  .image_5 {
    width: 7.5rem;
    height:  7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }

  .text-wrapper_2 {
    border: 1px solid rgba(68, 157, 250, 1);
    width: 6rem;
    height: 2.125rem;
    border-radius: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;

    margin: 0 auto;
    margin-top: 2.5rem;
  }

  .text_11 {

    overflow-wrap: break-word;
    color: rgba(68, 157, 250, 1);
    font-weight: 500;
    font-family: PingFang SC-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
    line-height: 0.427rem;
  }


  .group_5 {
    position: absolute;
    left: 0;
    top: -0.533rem;
    width: 51.2rem;
    height: 21.334rem;
  }




    </style>
 <div class="box-5-margin">
  <div class="box_5 ">
    <div class="text-group_4 text-group-1">
      <span class="text_8">简单三步即可填问卷赚钱</span>

    </div>

    <div class="group_2">
      <div class="box_6">

        <img class="image_5" referrerpolicy="no-referrer"

           src=
          />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">注册</span>
          <span class="text_10">
            任何人都可以参加，注册步骤简单只需要30秒
          </span>

        </div>

      </div>
      <div class="box_6 box-margin">
        <img class="image_5" referrerpolicy="no-referrer"
             src= />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">问卷</span>
          <span class="text_10">
            将在问卷列表中收到问卷，请如实认真回答，并且您所回答内容是匿名的，请放心
          </span>

        </div>

      </div>
      <div class="box_6">
        <img class="image_5" referrerpolicy="no-referrer"      src=
         />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">佣金</span>
          <span class="text_10">
            将在问卷列表中收到问卷，请如实认真回答，操作完成，佣金会在第一时间进入账号明细并且您所回答内容是匿名的，请放心
          </span>

        </div>
      </div>
    </div>

  </div>
</div>







</body>
`,bb=`<body>
 <style type="text/css">
   * {

margin: 0;
padding: 0;

}

.flex-col {
  display: flex;
  flex-direction: column;
}
.flex-row {
  display: flex;
  flex-direction: row;
}

.justify-between {
  display: flex;
  justify-content: space-between;
}




.group_1 {
  width: 100%;
  background-color: white;
}

.block_1 {
  background-color: white;
}

.box_1 {
margin: 11.25rem 11.25rem 0 11.25rem;
}

.image_1 {
  width: 41.125rem;
  height: 27.375rem;
}

.text-group_1 {
  margin-top: 5.375rem;
  margin-left: 5rem;
}

.text_1 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;

}

.paragraph_1 {

  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}

.box_2 {

  margin: 7.5rem 11.25rem;
}

.text-group_2 {
  margin-top: 5.375rem;
  margin-right: 5rem;
}

.text_2 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;
}

.paragraph_2 {
  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}

.image_2 {
  width: 41.125rem;
  height: 27.375rem;
}

.box_3 {
  margin: 0 11.25rem 7.5rem 11.25rem;
}

.image_3 {
  width: 41.125rem;
  height: 27.375rem;
}

.text-group_3 {
  margin-top: 5.375rem;
  margin-left: 5rem;
}

.text_3 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;
}

.text_4 {
  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}






.group_2 {
  width: 28.907rem;
  height: 10.134rem;
  margin: 1.707rem 0 0 11.147rem;
}


    </style>
  <div class="group_1 flex-row">
        <div class="block_1 flex-col">
          <div class="box_1 flex-row justify-between">
            <img
            class="image_1"
            referrerpolicy="no-referrer"
            src=
            />
               <div class="text-group_1 flex-col">
              <span class="text_3">在线赚钱</span>
              <span class="text_4">
                在该网站填写问卷就可轻松在线赚钱
                <br />
                我们已经优化系统来匹配最适配的问卷。问卷相关性越高，意味着可获奖金也更多。
                当我们为您匹配到完美问卷后，请及时进行参与，每一份问卷的配额是有限的。
                在该网站上赚钱趣味十足。公司参考您的意见来改善产品开发设计，这意味着您的意见非常宝贵。
              </span>
            </div>
          </div>
          <div class="box_2 flex-row justify-between">
            <div class="text-group_2 flex-col ">
              <span class="text_2">填问卷，在家办公</span>
              <span class="text_4">
                通过您的手机或电脑就可轻松参与问卷填写，您随时随地都可以在线填问卷，所以这是在家工作的理想选择。
                <br />
                这不需要花太多时间，您随时可以参与问卷，任何人都可以通过参与问卷的方式在家赚钱，您甚至可以在填写问卷的同时边做其他事。这是简单、有弹性的快速赚钱方法。
                <br />
                在家填写问卷是一件非常有意义的事，您的意见有助于公司设计更优质的产品和服务，问卷仅作为公司的产品调研使用。
              </span>
            </div>
            <img
            class="image_2"
            referrerpolicy="no-referrer"  src= />
          </div>
          <div class="box_3 flex-row justify-between">
            <img
              class="image_3"
              referrerpolicy="no-referrer" src= />
            <div class="text-group_3 flex-col ">
              <span class="text_3">在家工作您能赚多少?</span>
              <span class="text_4">
                您填写的每一份问卷都会获得奖金。这是一份有保障的兼职收入。让您轻松在家填问卷赚钱。我们提供最详细的市场问卷内容，您还可以在问卷邀请上查看每份问卷能赚到的奖金金额。
              </span>
            </div>
          </div>



        </div>

      </div>







</body>
`,wb=`

<body>
<style type="text/css">
 * {

    margin: 0;
    padding: 0;

  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .box_4 {
    display: flex;
  justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
  position: relative;
  }
  .box_4 img {
    position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
  }
  .text_5 {
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 700;
    white-space: nowrap;
 z-index: 9999;
  }

  .text-wrapper_1 {
    margin-top: 1.5rem;
    width: 14rem;


display: flex;
justify-content: center;
align-items: center;
 z-index: 9999;
  }

  .text_6 {

    overflow-wrap: break-word;
    font-size: 2rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 700;
    white-space: nowrap;
 z-index: 9999;
 color: #777777;
  }




    </style>



  <div class="box_4 flex-col">
   <img src="" >
    <span class="text_5">有偿问卷·轻松赚钱</span>
    <div class="text-wrapper_1 flex-col">
      <span class="text_6">邀请您的参与</span>
    </div>
  </div>




</body>`,_b=`<body>
 <style type="text/css">
 * {

  margin: 0;
  padding: 0;
}
.page1 img {
    position: absolute;
      top: 0;
      left: 0;
      width: 100%;

      height: 100%;
  }
.page {
  margin-bottom: 7.5rem;
}


.page1 {

    display: flex;
    height: 43.75rem;
    position: relative;
    padding-left: 7.5rem;
    padding-top: 14.0625rem;
}


.text_36 {

  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Bold;
  font-weight: 700;
  z-index: 9999;
  white-space: nowrap;

}
.text {
  z-index: 9999;
}








    </style>
    <div class="page flex-col">
          <div class="page1">
            <img src="" >
          <div class="text">
              <div class="text_36">海量调查项目待承接·开启</div>

            <div class="text_36">共赢新篇章</div>
            </div>
          </div>
    </div>







</body>
`,xb=`<body>
 <style type="text/css">
  * {

    margin: 0;
    padding: 0;

  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .justify-between {
    display: flex;
    justify-content: space-between;
  }

.text-group-1 {
  padding-top: 4rem;
  margin-bottom: 4rem;
}


  .block_1 {
    width: 100%;
  }

  .box_5 {
    background-color: rgba(248, 249, 251, 1);
    width: 100%;
    text-align: center;
    padding-bottom: 4rem;
  }
  .box-5-margin {
    margin-bottom: 7.5rem;
  }

 .group_2 {
  display: flex;
  justify-content: center;
 }

  .text_7 {


    overflow-wrap: break-word;
    color: rgba(119, 119, 119, 1);
    font-size: 1.75rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }

  .text_8 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;

  }



  .box_6 {
    background-color: rgba(255, 255, 255, 1);
    border-radius: 8px;
     width: 21.25rem;
    height: 23.75rem;
    padding: 2.25rem 1.5rem 2.625rem 1.5rem;
  }
.box-margin {
  margin: 0 2rem;
}
  .image_5 {
    width: 7.5rem;
    height:  7.5rem;
  }



  .text_9 {

    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1.5rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 500;
    text-align: center;
    white-space: nowrap;
    margin: 1.5rem 0 1.5rem 0;

  }

  .text_10 {

    height: 1.28rem;
    overflow-wrap: break-word;
    color: rgba(51, 51, 51, 1);
    font-size: 1rem;
    font-family: Source Han Sans CN-Regular;
    font-weight: 500;
    text-align: left;
    margin-top: 0.427rem;
  }

  .text-wrapper_2 {
    border: 1px solid rgba(68, 157, 250, 1);
    width: 6rem;
    height: 2.125rem;
    border-radius: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;

    margin: 0 auto;
    margin-top: 2.5rem;
  }

  .text_11 {

    overflow-wrap: break-word;
    color: rgba(68, 157, 250, 1);
    font-weight: 500;
    font-family: PingFang SC-Medium;
    font-weight: 500;
    text-align: left;
    white-space: nowrap;
    line-height: 0.427rem;
  }


  .group_5 {
    position: absolute;
    left: 0;
    top: -0.533rem;
    width: 51.2rem;
    height: 21.334rem;
  }




    </style>
 <div class="box-5-margin">
  <div class="box_5 ">
    <div class="text-group_4 text-group-1">
      <span class="text_8">简单三步即可成为供应商</span>

    </div>

    <div class="group_2">
      <div class="box_6">

        <img class="image_5" referrerpolicy="no-referrer"

           src=
          />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">注册</span>
          <span class="text_10">
            任何人都可以参加，注册步骤简单只需要30秒
          </span>

        </div>

      </div>
      <div class="box_6 box-margin">
        <img class="image_5" referrerpolicy="no-referrer"
             src= />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">会员</span>
          <span class="text_10">
            将您的会员进行录入系统，形成会员系统管控，会员操作尽在掌握之中
          </span>

        </div>

      </div>
      <div class="box_6">
        <img class="image_5" referrerpolicy="no-referrer"      src=
         />
        <div class="text-group_5 flex-col justify-between">
          <span class="text_9">项目</span>
          <span class="text_10">
           自动获取源源不断的调查项目，可自由分配给旗下的会员
          </span>

        </div>
      </div>
    </div>

  </div>
</div>







</body>
`,Cb=`<body>
 <style type="text/css">
   * {

margin: 0;
padding: 0;

}

.flex-col {
  display: flex;
  flex-direction: column;
}
.flex-row {
  display: flex;
  flex-direction: row;
}

.justify-between {
  display: flex;
  justify-content: space-between;
}




.group_1 {
  width: 100%;
  background-color: white;
}

.b2b3 {
  background-color: #F8F9FB;
  margin: 11.25rem;
}

.box_1 {
margin: 11.25rem 11.25rem 0 11.25rem;
}

.image_1 {
  width: 41.125rem;
  height: 27.375rem;
}

.text-group_1 {
  margin-top: 5.375rem;
  margin-left: 5rem;
}

.text_1 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;

}

.paragraph_1 {

  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}

.box_2 {

  margin: 7.5rem 11.25rem;
}

.text-group_2 {
  margin-top: 5.375rem;
  margin-right: 5rem;
}

.text_2 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;
}

.paragraph_2 {
  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}

.image_2 {
  width: 41.125rem;
  height: 27.375rem;
}

.box_3 {
  margin: 4rem 1.5rem;
}

.image_3 {
  width: 41.125rem;
  height: 27.375rem;
}

.text-group_3 {
  margin-top: 5.375rem;
  margin-left: 5rem;
}

.text_3 {

  overflow-wrap: break-word;
  color: rgba(51, 51, 51, 1);
  font-size: 3rem;
  font-family: Source Han Sans CN-Medium;
  font-weight: 500;
  text-align: left;
  white-space: nowrap;
}

.text_4 {
  overflow-wrap: break-word;
  color: rgba(119, 119, 119, 1);
  font-size: 1.5rem;
  font-family: Source Han Sans CN-Regular;
  font-weight: 400;
  text-align: left;
  margin-top: 1rem;
}






.group_2 {
  width: 28.907rem;
  height: 10.134rem;
  margin: 1.707rem 0 0 11.147rem;
}


    </style>
  <div class="group_1 flex-row">
        <div class="block_1 flex-col">
          <div class="b2b3">
          <div class="box_3 flex-row justify-between">
            <img
            class="image_1"
            referrerpolicy="no-referrer"
            src=
            />
               <div class="text-group_1 flex-col">
              <span class="text_3">项目管理</span>
              <span class="text_4">

              您不需要创建项目，我们的客户会根据系统的数据匹配，给您分配
              <br/>
              最适配的问卷项目。问卷项目关联性高，也就意味着可获得更多专
               <br/>
              属项目。您也可以在次分配项目，支持自定义分配给指定的部门，
               <br/>
              进行项目的细分，让样本的质量越来越高，赚取的佣金就会越来越多。

              </span>
            </div>
          </div>
          <div class="box_3 flex-row justify-between">
            <div class="text-group_2 flex-col ">
              <span class="text_2">会员管理&nbsp;&nbsp;提升业绩与用户忠诚度的<br/>核心驱动力</span>
              <span class="text_4">
             通过会员的专属服务通道、优先响应机制，实时查看会员完成的调<br/>
             查质量、定制的功能开关，给予指定会员的特权、会员佣金的财务<br/>
             跟踪，保证财务对账的数据确定性。促进会员与您的黏性，从而达<br/>
             成长期稳定的合作关系，提高会员数据的透明度。

              </span>
            </div>
            <img
            class="image_2"
            referrerpolicy="no-referrer"  src= />
          </div>
          <div class="box_3 flex-row justify-between">
            <img
              class="image_3"
              referrerpolicy="no-referrer" src= />
            <div class="text-group_3 flex-col ">
              <span class="text_3">数据中心</span>
              <span class="text_4">

              调查数据中心，展示多维度数据管理，支持查看您的收益以及会员<br/>
              的收益，对每个项目的成本进行管控。根据会员的排行榜，了解部 <br/>
              门与会员的绩效评估，明确工作成果和激励员工提高工作绩效

              </span>
            </div>
          </div>
          </div>



        </div>

      </div>







</body>
`,Sb=`

<body>
<style type="text/css">
 * {

    margin: 0;
    padding: 0;

  }

  .flex-col {
    display: flex;
    flex-direction: column;
  }

  .flex-row {
    display: flex;
    flex-direction: row;
  }

  .box_4 {
    display: flex;
  justify-content: center;
    align-items: center;
    width: 100%;
    height: 31.25rem;
  position: relative;
  }
  .box_4 img {
    position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
  }
  .text_5 {
    overflow-wrap: break-word;
    color: #FFFFFF;
    font-size: 3rem;
    font-family: Source Han Sans CN-Medium;
    font-weight: 700;
    white-space: nowrap;
 z-index: 9999;
  }







    </style>



  <div class="box_4 flex-col">
   <img src="" >
    <span class="text_5">诚邀供应商·开启合作新篇章</span>
  </div>




</body>`,Lb=[{id:"B2C-Html1",label:"B2C首页模板第一部分",content:mb,category:"Custom"},{id:"B2C-Html2",label:"B2C首页模板第二部分",content:yb,category:"Custom"},{id:"B2C-Html3",label:"B2C首页模板第三部分",content:bb,category:"Custom"},{id:"B2C-Html4",label:"B2C首页模板第四部分",content:wb,category:"Custom"},{id:"B2B-Html1",label:"B2B首页模板第一部分",content:_b,category:"Custom"},{id:"B2B-Html2",label:"B2B首页模板第二部分",content:xb,category:"Custom"},{id:"B2B-Html3",label:"B2B首页模板第三部分",content:Cb,category:"Custom"},{id:"B2B-Html4",label:"B2B首页模板第四部分",content:Sb,category:"Custom"}];export{Tb as _,kb as a,Pb as b,Ab as c,gb as d,Lb as e,Eb as p,Mb as u};
