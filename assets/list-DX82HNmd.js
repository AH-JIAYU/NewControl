
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{ah as d,f as U,r as f,y as k,h as s,o as E,c as T,a as e,w as l,b as L,ak as x,ap as M,e as $,_ as B}from"./index-C8ySoqZq.js";const p={getList:()=>d.post("tenant-control/getTenantConfig"),create:r=>d.post("tenant-control/insertTenantConfig",r),edit:r=>d.post("tenant-control/updateTenantConfig",r)},N=U({name:"site_setting",__name:"list",setup(r){const u=f(),n=f(!1),t=f({register:!1,registerExamine:!1,tenantUrl:""});f([]),k(()=>{m()});async function m(){try{n.value=!0;const{data:o}=await p.getList();t.value=o,n.value=!1}catch{}finally{n.value=!1}}function y(){t.value.id?u.value&&u.value.validate(o=>{if(o)try{const a={...t.value};n.value=!0,p.edit(a).then(_=>{n.value=!1,_.status===1&&(m(),x.success({message:"修改成功",center:!0}))})}catch{}finally{n.value=!1}}):u.value&&u.value.validate(o=>{if(o)try{n.value=!0,p.create(t.value).then(()=>{n.value=!1,m(),x.success({message:"新增成功",center:!0})})}catch{}finally{n.value=!1}})}return(o,a)=>{const _=M,v=s("el-switch"),c=s("el-form-item"),g=s("el-col"),V=s("el-row"),w=s("el-input"),b=s("el-button"),h=s("el-form"),C=$;return E(),T("div",null,[e(_,{title:"站点设置管理"}),e(C,null,{default:l(()=>[e(h,{ref_key:"formRef",ref:u,model:t.value,"label-width":"100px",inline:!1},{default:l(()=>[e(V,{gutter:20},{default:l(()=>[e(g,{span:3},{default:l(()=>[e(c,{label:"注册开关"},{default:l(()=>[e(v,{modelValue:t.value.register,"onUpdate:modelValue":a[0]||(a[0]=i=>t.value.register=i),"active-value":!0,"inactive-value":!1,"active-text":"开启","inline-prompt":"","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{span:6},{default:l(()=>[e(c,{label:"注册审核"},{default:l(()=>[e(v,{modelValue:t.value.registerExamine,"onUpdate:modelValue":a[1]||(a[1]=i=>t.value.registerExamine=i),"active-value":!0,"inactive-value":!1,"active-text":"开启","inline-prompt":"","inactive-text":"关闭"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{label:"租户网址"},{default:l(()=>[e(w,{modelValue:t.value.tenantUrl,"onUpdate:modelValue":a[2]||(a[2]=i=>t.value.tenantUrl=i),style:{width:"18rem"}},null,8,["modelValue"])]),_:1}),e(c,null,{default:l(()=>[e(b,{type:"primary",onClick:y},{default:l(()=>[L(" 确认 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),R=B(N,[["__scopeId","data-v-4e963480"]]);export{R as default};
