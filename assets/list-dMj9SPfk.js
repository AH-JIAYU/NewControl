
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as O}from"./index-N5KN9hNX.js";import{f as _,g as Q,r as h,B as W,Z as T,i as l,ap as X,o as m,c as Y,q as d,a as t,w as o,ai as f,j as w,D as v,aE as B,b as ee,l as g,J as te,aA as ae,aB as ne,_ as oe,d as k}from"./index-AYGfxCO1.js";import{u as ie}from"./usePagination-D_R1rB5H.js";const z={list:()=>_.get("/tenant/dict/get/getTenantDict"),getTenantCatalogueDictionary:i=>_.get(`/tenant/dict/get/getTenantDictByDictId/${i}`),getTenantDataDictionary:i=>_.get(`/tenant/dict/get/getTenantDictDataSource/${i}`),getDataDictionaryId:i=>_.get(`/tenant/dict/get/getTenantDictDataSourceByDataSourceId/${i}`)},le=i=>(ae("data-v-21f8ab00"),i=i(),ne(),i),se={class:"absolute-container"},ce={class:"page-main"},re={class:"custom-tree-node"},de=["title"],ue={class:"code"},ge={class:"dictionary-container"},pe={class:"dictionary-container"},_e=le(()=>d("div",{class:"empty"}," 请在左侧新增或选择一个字典 ",-1)),he=[_e],L=Q({name:"PagesExampleDictionary",__name:"list",setup(i){const y=h(),r=h({search:"",tree:[],currentNode:void 0,currentData:void 0,dialog:{visible:!1,parentId:"",id:""},row:"",loading:!1}),{pagination:s,onSizeChange:x,onCurrentChange:N,onSortChange:V}=ie();s.value.size=20,s.value.sizes=[20,50,100];const P=h(),a=h({loading:!1,search:{dictionaryId:"",title:""},dataList:[],selectionDataList:[],row:"",dialog:{visible:!1,id:""}});function D(){r.value.loading=!0,a.value.search.dictionaryId="",z.list().then(e=>{r.value.tree=e.data,r.value.loading=!1})}W(()=>{D()}),T(()=>r.value.search,e=>{y.value.filter(e)});function R(e,n){return e?n.label.includes(e):!0}function $(e){s.value.page=1,a.value.search.dictionaryId=e.id}T(()=>a.value.search.dictionaryId,()=>{u()});function u(){a.value.loading=!0,z.getTenantDataDictionary(a.value.search.dictionaryId).then(e=>{a.value.loading=!1,a.value.dataList=e.data,a.value.dataList.forEach(n=>{n.enableLoading=!1}),s.value.total=e.data.length})}function G(e){x(e).then(()=>u())}function U(e=1){N(e).then(()=>u())}function j({prop:e,order:n}){V(e,n).then(()=>u())}return(e,n)=>{const b=te,E=l("ElButton"),q=l("ElButtonGroup"),C=l("ElInput"),A=l("ElTree"),F=l("ElScrollbar"),J=l("ElSpace"),p=l("ElTableColumn"),M=l("ElTag"),Z=l("ElTable"),H=l("ElPagination"),K=O,I=X("loading");return m(),Y("div",se,[d("div",ce,[t(K,{"hide-left-side-toggle":""},{leftSide:o(()=>[t(q,{class:"btns"},{default:o(()=>[t(E,{class:"add",onClick:D},{icon:o(()=>[t(b,{name:"i-ep:refresh"})]),_:1})]),_:1}),t(C,{modelValue:r.value.search,"onUpdate:modelValue":n[0]||(n[0]=c=>r.value.search=c),placeholder:"请输入关键词筛选字典",clearable:"",class:"search"},null,8,["modelValue"]),t(F,{class:"tree"},{default:o(()=>[f((m(),w(A,{ref_key:"dictionaryRef",ref:y,data:r.value.tree,"filter-node-method":R,"default-expand-all":"",onNodeClick:$},{default:o(({node:c,data:S})=>[d("div",re,[d("div",{class:"label",title:c.label},v(S.chineseName),9,de),d("div",ue,v(S.englishName),1)])]),_:1},8,["data","filter-node-method"])),[[I,r.value.loading]])]),_:1})]),default:o(()=>[f(d("div",ge,[t(J,{wrap:""},{default:o(()=>[t(C,{modelValue:a.value.search.title,"onUpdate:modelValue":n[1]||(n[1]=c=>a.value.search.title=c),placeholder:"请输入关键词筛选字典项",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t(E,{onClick:u},{icon:o(()=>[t(b,{name:"i-ep:search"})]),_:1})]),_:1}),f((m(),w(Z,{ref_key:"dictionaryItemRef",ref:P,data:a.value.dataList,stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:j,onSelectionChange:n[2]||(n[2]=c=>a.value.selectionDataList=c)},{default:o(()=>[t(p,{type:"selection",align:"center",fixed:""}),t(p,{prop:"chineseName",label:"中文名称"}),t(p,{prop:"englishName",label:"英文名称"}),t(p,{label:"键值",align:"center",width:"150"},{default:o(c=>[t(M,{type:"info"},{default:o(()=>[ee(v(c.row.id),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[I,a.value.loading]]),t(H,{"current-page":g(s).page,total:g(s).total,"page-size":g(s).size,"page-sizes":g(s).sizes,layout:g(s).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:G,onCurrentChange:U},null,8,["current-page","total","page-size","page-sizes","layout"])],512),[[B,a.value.search.dictionaryId]]),f(d("div",pe,he,512),[[B,!a.value.search.dictionaryId]])]),_:1})])])}}});typeof k=="function"&&k(L);const ye=oe(L,[["__scopeId","data-v-21f8ab00"]]);export{ye as default};
