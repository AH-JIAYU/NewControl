
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as $}from"./index.vue_vue_type_script_setup_true_lang-Bz9ufO0O.js";import{g as z,v as D,N as G,x as T,$ as Z,a0 as A,r as l,cl as d,c as P,a as o,w as n,F as s,l as e,t as j,c9 as H,i as c,bG as J,bE as O,o as Q,G as w,av as W,b as x,au as X,M as Y,_ as ee,d as y}from"./index-zX-UbP25.js";import oe from"./index-C3DLT4OA.js";const te=i=>(J("data-v-61135a19"),i=i(),O(),i),se=te(()=>s("div",{class:"bg-banner"},null,-1)),ne={id:"login-box"},ae={class:"login-banner"},le=["src"],re=["src"],ce={class:"title-container"},ie={class:"title"},ue={class:"flex-bar"},S=z({name:"Login",__name:"login",setup(i){var f;const E=D(),V=G(),I=T(),C=Z(),{t:m}=A(),R=new URL(""+new URL("login-banner-ZfMZACb6.png",import.meta.url).href,import.meta.url).href,k=new URL(""+new URL("logo-CLz_KCqM.png",import.meta.url).href,import.meta.url).href,F="综合资源管理系统",U=l("login"),u=l(!1),L=l(((f=E.query.redirect)==null?void 0:f.toString())??I.settings.home.fullPath),p=l(),t=l({account:d.local.get("login_account")||"",password:"",remember:d.local.has("login_account")}),B=l({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function g(){p.value&&p.value.validate(h=>{h&&(u.value=!0,C.login(t.value).then(()=>{u.value=!1,t.value.remember?d.local.set("login_account",t.value.account):d.local.remove("login_account"),V.push(L.value)}).catch(()=>{u.value=!1}))})}return(h,a)=>{const _=Y,q=$,v=c("ElInput"),b=c("ElFormItem"),M=c("ElCheckbox"),N=c("ElButton"),K=c("ElForm");return Q(),P("div",null,[se,o(q,{placement:"bottom-end",class:"i18n-selector"},{default:n(()=>[o(_,{name:"i-ri:translate"})]),_:1}),s("div",ne,[s("div",ae,[s("img",{src:e(k),class:"logo"},null,8,le),s("img",{src:e(R),class:"banner"},null,8,re)]),j(o(K,{ref_key:"loginFormRef",ref:p,model:e(t),rules:e(B),class:"login-form"},{default:n(()=>[s("div",ce,[s("h3",ie," 欢迎来到 "+w(e(F))+" ! 👋🏻 ",1)]),s("div",null,[o(b,{prop:"account"},{default:n(()=>[o(v,{modelValue:e(t).account,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).account=r),placeholder:e(m)("app.account"),type:"text",tabindex:"1"},{prefix:n(()=>[o(_,{name:"i-ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),o(b,{prop:"password"},{default:n(()=>[o(v,{modelValue:e(t).password,"onUpdate:modelValue":a[1]||(a[1]=r=>e(t).password=r),type:"password",placeholder:e(m)("app.password"),tabindex:"2",autocomplete:"new-password","show-password":"",onKeyup:W(g,["enter"])},{prefix:n(()=>[o(_,{name:"i-ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),s("div",ue,[o(M,{modelValue:e(t).remember,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).remember=r)},{default:n(()=>[x(" 记住我 ")]),_:1},8,["modelValue"])]),o(N,{loading:e(u),type:"primary",size:"large",style:{width:"100%"},onClick:X(g,["prevent"])},{default:n(()=>[x(w(e(m)("app.login")),1)]),_:1},8,["loading"])]),_:1},8,["model","rules"]),[[H,e(U)==="login"]])]),o(oe)])}}});typeof y=="function"&&y(S);const _e=ee(S,[["__scopeId","data-v-61135a19"]]);export{_e as default};
