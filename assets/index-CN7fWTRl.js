
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as N}from"./setting_basisDictionary-DGAkcjL1.js";import{d as B,m as _,u as D,c as M,r as g,t as U,a as u,o as q,e as F,w as s,f as a,g as I,i as o,ak as E,I as R}from"./index-C0vqyojX.js";const S=B({__name:"index",props:_({dictionaryId:{default:""},id:{default:""},tree:{},row:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:_(["success"],["update:modelValue"]),setup(v,{emit:b}){const r=v,V=b,c=D(v,"modelValue"),y=M(()=>r.id===""?"新增字典项":"编辑字典项"),m=g(),e=g({id:r.id,parentId:null,catalogueId:r.dictionaryId,englishName:"",chineseName:"",code:"",remark:""}),C=g({catalogueId:[{required:!0,message:"请选择所属字典"}],chineseName:[{required:!0,message:"请输入字典项名称"}],englishName:[{required:!0,message:"请输入字典项英文名称"}],code:[{required:!0,message:"请输入字典项键值"}]});U(()=>{if(r.id!==""){const{englishName:d,chineseName:l,catalogueId:p,code:n}=JSON.parse(r.row);e.value.catalogueId=p,e.value.chineseName=l,e.value.englishName=d,e.value.code=n}});function k(){e.value.id===""?m.value&&m.value.validate(d=>{d&&N.itemCreate(e.value).then(()=>{E.success({message:"新增成功",center:!0}),V("success"),i()})}):m.value&&m.value.validate(d=>{d&&N.itemEdit(e.value).then(()=>{E.success({message:"编辑成功",center:!0}),V("success"),i()})})}function i(){c.value=!1}return(d,l)=>{const p=u("ElCascader"),n=u("ElFormItem"),f=u("ElInput"),w=u("ElForm"),h=u("ElButton"),x=u("ElDialog");return q(),F(x,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=t=>c.value=t),title:o(y),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:i},{footer:s(()=>[a(h,{size:"large",onClick:i},{default:s(()=>[I(" 取消 ")]),_:1}),a(h,{type:"primary",size:"large",onClick:k},{default:s(()=>[I(" 确定 ")]),_:1})]),default:s(()=>[a(w,{ref_key:"formRef",ref:m,model:o(e),rules:o(C),"label-width":"100px"},{default:s(()=>[a(n,{label:"所属字典"},{default:s(()=>[a(p,{modelValue:o(e).catalogueId,"onUpdate:modelValue":l[0]||(l[0]=t=>o(e).catalogueId=t),options:d.tree,props:{value:"id",label:"chineseName",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),a(n,{label:"字典项名称",prop:"chineseName"},{default:s(()=>[a(f,{modelValue:o(e).chineseName,"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).chineseName=t),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"英文名称",prop:"englishName"},{default:s(()=>[a(f,{modelValue:o(e).englishName,"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).englishName=t),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),a(n,{label:"字典项键值",prop:"code"},{default:s(()=>[a(f,{modelValue:o(e).code,"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).code=t),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}}),O=R(S,[["__scopeId","data-v-f322b7d6"]]);export{O as default};
