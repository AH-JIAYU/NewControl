
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{a as v}from"./setting_questionnaireLibrary-x4qN6qLy.js";import{a as q}from"./setting_basisDictionary-BR51vleZ.js";import{ag as z,r as c,g as I,f as L,m as V,u as $,y as J,h as s,o as f,c as b,a as o,w as a,b as E,k as l,$ as O,a0 as T,ai as w,i as j}from"./index-DANQ2mS2.js";const A=z("tenantMenu",()=>{const u=c([]),i=I(async()=>{if(u.value.length)return u.value;const{data:r}=await q.itemList(32);return r});return{country:u,getCountry:i}}),G=A,Q=L({__name:"index",props:V(["id","row"],{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:V(["success"],["update:modelValue"]),setup(u,{emit:i}){const r=u,k=i,C=G(),m=$(u,"modelValue"),y=c([]),N=c(),e=c({categoryName:"",countryId:null,status:2}),S=c({categoryName:[{required:!0,message:"请输入名称",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家",trigger:"blur"}]});J(async()=>{y.value=await C.getCountry});const x=I(()=>(e.value={},r.id&&(e.value=JSON.parse(r.row)),r.id===""?"新增":"编辑"));async function B(){if(r.id){const{status:d}=await v.edit(e.value);d===1&&w.success({message:"编辑成功",center:!0})}else{e.value.countryId=Number.parseInt(e.value.countryId);const{status:d}=await v.create(e.value);d===1&&w.success({message:"新增成功",center:!0})}g(),k("success")}function g(){m.value=!1,e.value={}}return(d,n)=>{const M=s("ElInput"),p=s("ElFormItem"),F=s("el-option"),h=s("el-select"),U=s("ElSwitch"),D=s("ElForm"),_=s("ElButton"),R=s("ElDialog");return f(),b("div",null,[o(R,{modelValue:m.value,"onUpdate:modelValue":n[3]||(n[3]=t=>m.value=t),title:l(x),width:"50%","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":""},{footer:a(()=>[o(_,{size:"large",onClick:g},{default:a(()=>[E(" 取消 ")]),_:1}),o(_,{type:"primary",size:"large",onClick:B},{default:a(()=>[E(" 确定 ")]),_:1})]),default:a(()=>[o(D,{ref_key:"formRef",ref:N,model:l(e),rules:l(S),"label-width":"120px","label-suffix":"："},{default:a(()=>[o(p,{label:"名称",prop:"categoryName"},{default:a(()=>[o(M,{modelValue:l(e).categoryName,"onUpdate:modelValue":n[0]||(n[0]=t=>l(e).categoryName=t),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(p,{label:"国家",prop:"countryId"},{default:a(()=>[o(h,{modelValue:l(e).countryId,"onUpdate:modelValue":n[1]||(n[1]=t=>l(e).countryId=t),"value-key":"",placeholder:"请选择国家",clearable:"",filterable:""},{default:a(()=>[(f(!0),b(O,null,T(l(y),t=>(f(),j(F,{key:t.id,label:t.chineseName,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"状态"},{default:a(()=>[o(U,{modelValue:l(e).status,"onUpdate:modelValue":n[2]||(n[2]=t=>l(e).status=t),"active-value":1,"inactive-value":2,placeholder:"请输入状态"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{Q as _};
