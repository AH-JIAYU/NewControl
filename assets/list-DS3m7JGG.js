
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://fantastic-admin.gitee.io
 * Github https://fantastic-admin.github.io
 */

import{_ as O}from"./index-BWJPzqMw.js";import{f as _,g as Q,r as h,A as W,Y as T,i as l,ap as X,o as m,c as Z,p as d,a as t,w as o,ai as f,j as w,C as v,aE as k,b as ee,l as g,I as te,aA as ae,aB as ne,_ as oe,d as z}from"./index-C4wi2QcV.js";import{u as ie}from"./usePagination-BivSTixP.js";const B={list:()=>_.get("/tenant/dict/get/getTenantDict"),getTenantCatalogueDictionary:i=>_.get(`/tenant/dict/get/getTenantDictByDictId/${i}`),getTenantDataDictionary:i=>_.get(`/tenant/dict/get/getTenantDictDataSource/${i}`),getDataDictionaryId:i=>_.get(`/tenant/dict/get/getTenantDictDataSourceByDataSourceId/${i}`)},le=i=>(ae("data-v-21f8ab00"),i=i(),ne(),i),se={class:"absolute-container"},ce={class:"page-main"},re={class:"custom-tree-node"},de=["title"],ue={class:"code"},ge={class:"dictionary-container"},pe={class:"dictionary-container"},_e=le(()=>d("div",{class:"empty"}," 请在左侧新增或选择一个字典 ",-1)),he=[_e],L=Q({name:"PagesExampleDictionary",__name:"list",setup(i){const y=h(),r=h({search:"",tree:[],currentNode:void 0,currentData:void 0,dialog:{visible:!1,parentId:"",id:""},row:"",loading:!1}),{pagination:s,onSizeChange:x,onCurrentChange:N,onSortChange:V}=ie();s.value.size=20,s.value.sizes=[20,50,100];const P=h(),a=h({loading:!1,search:{dictionaryId:"",title:""},dataList:[],selectionDataList:[],row:"",dialog:{visible:!1,id:""}});function b(){r.value.loading=!0,a.value.search.dictionaryId="",B.list().then(e=>{r.value.tree=e.data,r.value.loading=!1})}W(()=>{b()}),T(()=>r.value.search,e=>{y.value.filter(e)});function R(e,n){return e?n.label.includes(e):!0}function $(e){s.value.page=1,a.value.search.dictionaryId=e.id}T(()=>a.value.search.dictionaryId,()=>{u()});function u(){a.value.loading=!0,B.getTenantDataDictionary(a.value.search.dictionaryId).then(e=>{a.value.loading=!1,a.value.dataList=e.data,a.value.dataList.forEach(n=>{n.enableLoading=!1}),s.value.total=e.data.length})}function A(e){x(e).then(()=>u())}function G(e=1){N(e).then(()=>u())}function U({prop:e,order:n}){V(e,n).then(()=>u())}return(e,n)=>{const D=te,C=l("ElButton"),j=l("ElButtonGroup"),E=l("ElInput"),F=l("ElTree"),M=l("ElScrollbar"),Y=l("ElSpace"),p=l("ElTableColumn"),q=l("ElTag"),H=l("ElTable"),J=l("ElPagination"),K=O,I=X("loading");return m(),Z("div",se,[d("div",ce,[t(K,{"hide-left-side-toggle":""},{leftSide:o(()=>[t(j,{class:"btns"},{default:o(()=>[t(C,{class:"add",onClick:b},{icon:o(()=>[t(D,{name:"i-ep:refresh"})]),_:1})]),_:1}),t(E,{modelValue:r.value.search,"onUpdate:modelValue":n[0]||(n[0]=c=>r.value.search=c),placeholder:"请输入关键词筛选字典",clearable:"",class:"search"},null,8,["modelValue"]),t(M,{class:"tree"},{default:o(()=>[f((m(),w(F,{ref_key:"dictionaryRef",ref:y,data:r.value.tree,"filter-node-method":R,"default-expand-all":"",onNodeClick:$},{default:o(({node:c,data:S})=>[d("div",re,[d("div",{class:"label",title:c.label},v(S.chineseName),9,de),d("div",ue,v(S.englishName),1)])]),_:1},8,["data","filter-node-method"])),[[I,r.value.loading]])]),_:1})]),default:o(()=>[f(d("div",ge,[t(Y,{wrap:""},{default:o(()=>[t(E,{modelValue:a.value.search.title,"onUpdate:modelValue":n[1]||(n[1]=c=>a.value.search.title=c),placeholder:"请输入关键词筛选字典项",clearable:"",style:{width:"200px"}},null,8,["modelValue"]),t(C,{onClick:u},{icon:o(()=>[t(D,{name:"i-ep:search"})]),_:1})]),_:1}),f((m(),w(H,{ref_key:"dictionaryItemRef",ref:P,data:a.value.dataList,stripe:"","highlight-current-row":"",border:"",height:"100%",onSortChange:U,onSelectionChange:n[2]||(n[2]=c=>a.value.selectionDataList=c)},{default:o(()=>[t(p,{type:"selection",align:"center",fixed:""}),t(p,{prop:"chineseName",label:"中文名称"}),t(p,{prop:"englishName",label:"英文名称"}),t(p,{label:"键值",align:"center",width:"150"},{default:o(c=>[t(q,{type:"info"},{default:o(()=>[ee(v(c.row.id),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[I,a.value.loading]]),t(J,{"current-page":g(s).page,total:g(s).total,"page-size":g(s).size,"page-sizes":g(s).sizes,layout:g(s).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:A,onCurrentChange:G},null,8,["current-page","total","page-size","page-sizes","layout"])],512),[[k,a.value.search.dictionaryId]]),f(d("div",pe,he,512),[[k,!a.value.search.dictionaryId]])]),_:1})])])}}});typeof z=="function"&&z(L);const ye=oe(L,[["__scopeId","data-v-21f8ab00"]]);export{ye as default};
